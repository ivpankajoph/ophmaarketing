function qY(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var pg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Sj={exports:{}},Rf={};var qk;function zY(){if(qk)return Rf;qk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,i){var l=null;if(i!==void 0&&(l=""+i),s.key!==void 0&&(l=""+s.key),"key"in s){i={};for(var u in s)u!=="key"&&(i[u]=s[u])}else i=s;return s=i.ref,{$$typeof:e,type:r,key:l,ref:s!==void 0?s:null,props:i}}return Rf.Fragment=t,Rf.jsx=n,Rf.jsxs=n,Rf}var zk;function BY(){return zk||(zk=1,Sj.exports=zY()),Sj.exports}var a=BY(),Aj={exports:{}},Df={},Cj={exports:{}},_j={};var Bk;function FY(){return Bk||(Bk=1,(function(e){function t(k,I){var z=k.length;k.push(I);e:for(;0<z;){var V=z-1>>>1,Y=k[V];if(0<s(Y,I))k[V]=I,k[z]=Y,z=V;else break e}}function n(k){return k.length===0?null:k[0]}function r(k){if(k.length===0)return null;var I=k[0],z=k.pop();if(z!==I){k[0]=z;e:for(var V=0,Y=k.length,U=Y>>>1;V<U;){var F=2*(V+1)-1,G=k[F],Z=F+1,ge=k[Z];if(0>s(G,z))Z<Y&&0>s(ge,G)?(k[V]=ge,k[Z]=z,V=Z):(k[V]=G,k[F]=z,V=F);else if(Z<Y&&0>s(ge,z))k[V]=ge,k[Z]=z,V=Z;else break e}}return I}function s(k,I){var z=k.sortIndex-I.sortIndex;return z!==0?z:k.id-I.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,g=3,v=!1,w=!1,y=!1,j=!1,_=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;function S(k){for(var I=n(f);I!==null;){if(I.callback===null)r(f);else if(I.startTime<=k)r(f),I.sortIndex=I.expirationTime,t(d,I);else break;I=n(f)}}function O(k){if(y=!1,S(k),!w)if(n(d)!==null)w=!0,M||(M=!0,H());else{var I=n(f);I!==null&&D(O,I.startTime-k)}}var M=!1,T=-1,P=5,$=-1;function K(){return j?!0:!(e.unstable_now()-$<P)}function q(){if(j=!1,M){var k=e.unstable_now();$=k;var I=!0;try{e:{w=!1,y&&(y=!1,C(T),T=-1),v=!0;var z=g;try{t:{for(S(k),m=n(d);m!==null&&!(m.expirationTime>k&&K());){var V=m.callback;if(typeof V=="function"){m.callback=null,g=m.priorityLevel;var Y=V(m.expirationTime<=k);if(k=e.unstable_now(),typeof Y=="function"){m.callback=Y,S(k),I=!0;break t}m===n(d)&&r(d),S(k)}else r(d);m=n(d)}if(m!==null)I=!0;else{var U=n(f);U!==null&&D(O,U.startTime-k),I=!1}}break e}finally{m=null,g=z,v=!1}I=void 0}}finally{I?H():M=!1}}}var H;if(typeof N=="function")H=function(){N(q)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,L=B.port2;B.port1.onmessage=q,H=function(){L.postMessage(null)}}else H=function(){_(q,0)};function D(k,I){T=_(function(){k(e.unstable_now())},I)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_next=function(k){switch(g){case 1:case 2:case 3:var I=3;break;default:I=g}var z=g;g=I;try{return k()}finally{g=z}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(k,I){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var z=g;g=k;try{return I()}finally{g=z}},e.unstable_scheduleCallback=function(k,I,z){var V=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?V+z:V):z=V,k){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,k={id:p++,callback:I,priorityLevel:k,startTime:z,expirationTime:Y,sortIndex:-1},z>V?(k.sortIndex=z,t(f,k),n(d)===null&&k===n(f)&&(y?(C(T),T=-1):y=!0,D(O,z-V))):(k.sortIndex=Y,t(d,k),w||v||(w=!0,M||(M=!0,H()))),k},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(k){var I=g;return function(){var z=g;g=I;try{return k.apply(this,arguments)}finally{g=z}}}})(_j)),_j}var Fk;function UY(){return Fk||(Fk=1,Cj.exports=FY()),Cj.exports}var Ej={exports:{}},St={};var Uk;function HY(){if(Uk)return St;Uk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function v(U){return U===null||typeof U!="object"?null:(U=g&&U[g]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,j={};function _(U,F,G){this.props=U,this.context=F,this.refs=j,this.updater=G||w}_.prototype.isReactComponent={},_.prototype.setState=function(U,F){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,F,"setState")},_.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function C(){}C.prototype=_.prototype;function N(U,F,G){this.props=U,this.context=F,this.refs=j,this.updater=G||w}var S=N.prototype=new C;S.constructor=N,y(S,_.prototype),S.isPureReactComponent=!0;var O=Array.isArray;function M(){}var T={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function $(U,F,G){var Z=G.ref;return{$$typeof:e,type:U,key:F,ref:Z!==void 0?Z:null,props:G}}function K(U,F){return $(U.type,F,U.props)}function q(U){return typeof U=="object"&&U!==null&&U.$$typeof===e}function H(U){var F={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(G){return F[G]})}var B=/\/+/g;function L(U,F){return typeof U=="object"&&U!==null&&U.key!=null?H(""+U.key):F.toString(36)}function D(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(M,M):(U.status="pending",U.then(function(F){U.status==="pending"&&(U.status="fulfilled",U.value=F)},function(F){U.status==="pending"&&(U.status="rejected",U.reason=F)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function k(U,F,G,Z,ge){var Se=typeof U;(Se==="undefined"||Se==="boolean")&&(U=null);var Q=!1;if(U===null)Q=!0;else switch(Se){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(U.$$typeof){case e:case t:Q=!0;break;case p:return Q=U._init,k(Q(U._payload),F,G,Z,ge)}}if(Q)return ge=ge(U),Q=Z===""?"."+L(U,0):Z,O(ge)?(G="",Q!=null&&(G=Q.replace(B,"$&/")+"/"),k(ge,F,G,"",function(Ae){return Ae})):ge!=null&&(q(ge)&&(ge=K(ge,G+(ge.key==null||U&&U.key===ge.key?"":(""+ge.key).replace(B,"$&/")+"/")+Q)),F.push(ge)),1;Q=0;var pe=Z===""?".":Z+":";if(O(U))for(var ce=0;ce<U.length;ce++)Z=U[ce],Se=pe+L(Z,ce),Q+=k(Z,F,G,Se,ge);else if(ce=v(U),typeof ce=="function")for(U=ce.call(U),ce=0;!(Z=U.next()).done;)Z=Z.value,Se=pe+L(Z,ce++),Q+=k(Z,F,G,Se,ge);else if(Se==="object"){if(typeof U.then=="function")return k(D(U),F,G,Z,ge);throw F=String(U),Error("Objects are not valid as a React child (found: "+(F==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":F)+"). If you meant to render a collection of children, use an array instead.")}return Q}function I(U,F,G){if(U==null)return U;var Z=[],ge=0;return k(U,Z,"","",function(Se){return F.call(G,Se,ge++)}),Z}function z(U){if(U._status===-1){var F=U._result;F=F(),F.then(function(G){(U._status===0||U._status===-1)&&(U._status=1,U._result=G)},function(G){(U._status===0||U._status===-1)&&(U._status=2,U._result=G)}),U._status===-1&&(U._status=0,U._result=F)}if(U._status===1)return U._result.default;throw U._result}var V=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var F=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(F))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Y={map:I,forEach:function(U,F,G){I(U,function(){F.apply(this,arguments)},G)},count:function(U){var F=0;return I(U,function(){F++}),F},toArray:function(U){return I(U,function(F){return F})||[]},only:function(U){if(!q(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return St.Activity=m,St.Children=Y,St.Component=_,St.Fragment=n,St.Profiler=s,St.PureComponent=N,St.StrictMode=r,St.Suspense=d,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,St.__COMPILER_RUNTIME={__proto__:null,c:function(U){return T.H.useMemoCache(U)}},St.cache=function(U){return function(){return U.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(U,F,G){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var Z=y({},U.props),ge=U.key;if(F!=null)for(Se in F.key!==void 0&&(ge=""+F.key),F)!P.call(F,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&F.ref===void 0||(Z[Se]=F[Se]);var Se=arguments.length-2;if(Se===1)Z.children=G;else if(1<Se){for(var Q=Array(Se),pe=0;pe<Se;pe++)Q[pe]=arguments[pe+2];Z.children=Q}return $(U.type,ge,Z)},St.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:i,_context:U},U},St.createElement=function(U,F,G){var Z,ge={},Se=null;if(F!=null)for(Z in F.key!==void 0&&(Se=""+F.key),F)P.call(F,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ge[Z]=F[Z]);var Q=arguments.length-2;if(Q===1)ge.children=G;else if(1<Q){for(var pe=Array(Q),ce=0;ce<Q;ce++)pe[ce]=arguments[ce+2];ge.children=pe}if(U&&U.defaultProps)for(Z in Q=U.defaultProps,Q)ge[Z]===void 0&&(ge[Z]=Q[Z]);return $(U,Se,ge)},St.createRef=function(){return{current:null}},St.forwardRef=function(U){return{$$typeof:u,render:U}},St.isValidElement=q,St.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:z}},St.memo=function(U,F){return{$$typeof:f,type:U,compare:F===void 0?null:F}},St.startTransition=function(U){var F=T.T,G={};T.T=G;try{var Z=U(),ge=T.S;ge!==null&&ge(G,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(M,V)}catch(Se){V(Se)}finally{F!==null&&G.types!==null&&(F.types=G.types),T.T=F}},St.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},St.use=function(U){return T.H.use(U)},St.useActionState=function(U,F,G){return T.H.useActionState(U,F,G)},St.useCallback=function(U,F){return T.H.useCallback(U,F)},St.useContext=function(U){return T.H.useContext(U)},St.useDebugValue=function(){},St.useDeferredValue=function(U,F){return T.H.useDeferredValue(U,F)},St.useEffect=function(U,F){return T.H.useEffect(U,F)},St.useEffectEvent=function(U){return T.H.useEffectEvent(U)},St.useId=function(){return T.H.useId()},St.useImperativeHandle=function(U,F,G){return T.H.useImperativeHandle(U,F,G)},St.useInsertionEffect=function(U,F){return T.H.useInsertionEffect(U,F)},St.useLayoutEffect=function(U,F){return T.H.useLayoutEffect(U,F)},St.useMemo=function(U,F){return T.H.useMemo(U,F)},St.useOptimistic=function(U,F){return T.H.useOptimistic(U,F)},St.useReducer=function(U,F,G){return T.H.useReducer(U,F,G)},St.useRef=function(U){return T.H.useRef(U)},St.useState=function(U){return T.H.useState(U)},St.useSyncExternalStore=function(U,F,G){return T.H.useSyncExternalStore(U,F,G)},St.useTransition=function(){return T.H.useTransition()},St.version="19.2.0",St}var Hk;function gm(){return Hk||(Hk=1,Ej.exports=HY()),Ej.exports}var Oj={exports:{}},Ir={};var Vk;function VY(){if(Vk)return Ir;Vk=1;var e=gm();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(d,f,p){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:d,containerInfo:f,implementation:p}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Ir.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ir.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return i(d,f,null,p)},Ir.flushSync=function(d){var f=l.T,p=r.p;try{if(l.T=null,r.p=2,d)return d()}finally{l.T=f,r.p=p,r.d.f()}},Ir.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(d,f))},Ir.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Ir.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin),g=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?r.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):p==="script"&&r.d.X(d,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Ir.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);r.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(d)},Ir.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,m=u(p,f.crossOrigin);r.d.L(d,p,{crossOrigin:m,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Ir.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);r.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(d)},Ir.requestFormReset=function(d){r.d.r(d)},Ir.unstable_batchedUpdates=function(d,f){return d(f)},Ir.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Ir.useFormStatus=function(){return l.H.useHostTransitionStatus()},Ir.version="19.2.0",Ir}var Kk;function p6(){if(Kk)return Oj.exports;Kk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Oj.exports=VY(),Oj.exports}var Wk;function KY(){if(Wk)return Df;Wk=1;var e=UY(),t=gm(),n=p6();function r(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)c+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,h=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(h=c.return),o=c.return;while(o)}return c.tag===3?h:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(i(o)!==o)throw Error(r(188))}function f(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(r(188));return c!==o?null:o}for(var h=o,x=c;;){var A=h.return;if(A===null)break;var E=A.alternate;if(E===null){if(x=A.return,x!==null){h=x;continue}break}if(A.child===E.child){for(E=A.child;E;){if(E===h)return d(A),o;if(E===x)return d(A),c;E=E.sibling}throw Error(r(188))}if(h.return!==x.return)h=A,x=E;else{for(var R=!1,W=A.child;W;){if(W===h){R=!0,h=A,x=E;break}if(W===x){R=!0,x=A,h=E;break}W=W.sibling}if(!R){for(W=E.child;W;){if(W===h){R=!0,h=E,x=A;break}if(W===x){R=!0,x=E,h=A;break}W=W.sibling}if(!R)throw Error(r(189))}}if(h.alternate!==x)throw Error(r(190))}if(h.tag!==3)throw Error(r(188));return h.stateNode.current===h?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.consumer"),N=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function H(o){return o===null||typeof o!="object"?null:(o=q&&o[q]||o["@@iterator"],typeof o=="function"?o:null)}var B=Symbol.for("react.client.reference");function L(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===B?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case y:return"Fragment";case _:return"Profiler";case j:return"StrictMode";case O:return"Suspense";case M:return"SuspenseList";case $:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case w:return"Portal";case N:return o.displayName||"Context";case C:return(o._context.displayName||"Context")+".Consumer";case S:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case T:return c=o.displayName||null,c!==null?c:L(o.type)||"Memo";case P:c=o._payload,o=o._init;try{return L(o(c))}catch{}}return null}var D=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},V=[],Y=-1;function U(o){return{current:o}}function F(o){0>Y||(o.current=V[Y],V[Y]=null,Y--)}function G(o,c){Y++,V[Y]=o.current,o.current=c}var Z=U(null),ge=U(null),Se=U(null),Q=U(null);function pe(o,c){switch(G(Se,c),G(ge,o),G(Z,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?lk(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=lk(c),o=ck(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}F(Z),G(Z,o)}function ce(){F(Z),F(ge),F(Se)}function Ae(o){o.memoizedState!==null&&G(Q,o);var c=Z.current,h=ck(c,o.type);c!==h&&(G(ge,o),G(Z,h))}function _e(o){ge.current===o&&(F(Z),F(ge)),Q.current===o&&(F(Q),Tf._currentValue=z)}var le,$e;function re(o){if(le===void 0)try{throw Error()}catch(h){var c=h.stack.trim().match(/\n( *(at )?)/);le=c&&c[1]||"",$e=-1<h.stack.indexOf(`
    at`)?" (<anonymous>)":-1<h.stack.indexOf("@")?"@unknown:0:0":""}return`
`+le+o+$e}var Oe=!1;function Ue(o,c){if(!o||Oe)return"";Oe=!0;var h=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(c){var Me=function(){throw Error()};if(Object.defineProperty(Me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Me,[])}catch(Ne){var je=Ne}Reflect.construct(o,[],Me)}else{try{Me.call()}catch(Ne){je=Ne}o.call(Me.prototype)}}else{try{throw Error()}catch(Ne){je=Ne}(Me=o())&&typeof Me.catch=="function"&&Me.catch(function(){})}}catch(Ne){if(Ne&&je&&typeof Ne.stack=="string")return[Ne.stack,je.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var E=x.DetermineComponentFrameRoot(),R=E[0],W=E[1];if(R&&W){var J=R.split(`
`),ve=W.split(`
`);for(A=x=0;x<J.length&&!J[x].includes("DetermineComponentFrameRoot");)x++;for(;A<ve.length&&!ve[A].includes("DetermineComponentFrameRoot");)A++;if(x===J.length||A===ve.length)for(x=J.length-1,A=ve.length-1;1<=x&&0<=A&&J[x]!==ve[A];)A--;for(;1<=x&&0<=A;x--,A--)if(J[x]!==ve[A]){if(x!==1||A!==1)do if(x--,A--,0>A||J[x]!==ve[A]){var Ce=`
`+J[x].replace(" at new "," at ");return o.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",o.displayName)),Ce}while(1<=x&&0<=A);break}}}finally{Oe=!1,Error.prepareStackTrace=h}return(h=o?o.displayName||o.name:"")?re(h):""}function rt(o,c){switch(o.tag){case 26:case 27:case 5:return re(o.type);case 16:return re("Lazy");case 13:return o.child!==c&&c!==null?re("Suspense Fallback"):re("Suspense");case 19:return re("SuspenseList");case 0:case 15:return Ue(o.type,!1);case 11:return Ue(o.type.render,!1);case 1:return Ue(o.type,!0);case 31:return re("Activity");default:return""}}function en(o){try{var c="",h=null;do c+=rt(o,h),h=o,o=o.return;while(o);return c}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var mn=Object.prototype.hasOwnProperty,Un=e.unstable_scheduleCallback,vn=e.unstable_cancelCallback,be=e.unstable_shouldYield,Re=e.unstable_requestPaint,Ze=e.unstable_now,Ot=e.unstable_getCurrentPriorityLevel,Ht=e.unstable_ImmediatePriority,he=e.unstable_UserBlockingPriority,qe=e.unstable_NormalPriority,at=e.unstable_LowPriority,Ye=e.unstable_IdlePriority,Yt=e.log,Hn=e.unstable_setDisableYieldValue,bn=null,jn=null;function hr(o){if(typeof Yt=="function"&&Hn(o),jn&&typeof jn.setStrictMode=="function")try{jn.setStrictMode(bn,o)}catch{}}var mr=Math.clz32?Math.clz32:zd,qd=Math.log,vc=Math.LN2;function zd(o){return o>>>=0,o===0?32:31-(qd(o)/vc|0)|0}var Ui=256,oe=262144,ze=4194304;function st(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function ot(o,c,h){var x=o.pendingLanes;if(x===0)return 0;var A=0,E=o.suspendedLanes,R=o.pingedLanes;o=o.warmLanes;var W=x&134217727;return W!==0?(x=W&~E,x!==0?A=st(x):(R&=W,R!==0?A=st(R):h||(h=W&~o,h!==0&&(A=st(h))))):(W=x&~E,W!==0?A=st(W):R!==0?A=st(R):h||(h=x&~o,h!==0&&(A=st(h)))),A===0?0:c!==0&&c!==A&&(c&E)===0&&(E=A&-A,h=c&-c,E>=h||E===32&&(h&4194048)!==0)?c:A}function It(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function Pr(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nr(){var o=ze;return ze<<=1,(ze&62914560)===0&&(ze=4194304),o}function Ta(o){for(var c=[],h=0;31>h;h++)c.push(o);return c}function el(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function mb(o,c,h,x,A,E){var R=o.pendingLanes;o.pendingLanes=h,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=h,o.entangledLanes&=h,o.errorRecoveryDisabledLanes&=h,o.shellSuspendCounter=0;var W=o.entanglements,J=o.expirationTimes,ve=o.hiddenUpdates;for(h=R&~h;0<h;){var Ce=31-mr(h),Me=1<<Ce;W[Ce]=0,J[Ce]=-1;var je=ve[Ce];if(je!==null)for(ve[Ce]=null,Ce=0;Ce<je.length;Ce++){var Ne=je[Ce];Ne!==null&&(Ne.lane&=-536870913)}h&=~Me}x!==0&&Wm(o,x,0),E!==0&&A===0&&o.tag!==0&&(o.suspendedLanes|=E&~(R&~c))}function Wm(o,c,h){o.pendingLanes|=c,o.suspendedLanes&=~c;var x=31-mr(c);o.entangledLanes|=c,o.entanglements[x]=o.entanglements[x]|1073741824|h&261930}function Ym(o,c){var h=o.entangledLanes|=c;for(o=o.entanglements;h;){var x=31-mr(h),A=1<<x;A&c|o[x]&c&&(o[x]|=c),h&=~A}}function Gm(o,c){var h=c&-c;return h=(h&42)!==0?1:Bd(h),(h&(o.suspendedLanes|c))!==0?0:h}function Bd(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function Fd(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Xm(){var o=I.p;return o!==0?o:(o=window.event,o===void 0?32:kk(o.type))}function Qm(o,c){var h=I.p;try{return I.p=o,c()}finally{I.p=h}}var Cs=Math.random().toString(36).slice(2),rr="__reactFiber$"+Cs,Rr="__reactProps$"+Cs,Ys="__reactContainer$"+Cs,bc="__reactEvents$"+Cs,Zm="__reactListeners$"+Cs,pb="__reactHandles$"+Cs,Jm="__reactResources$"+Cs,tl="__reactMarker$"+Cs;function Ud(o){delete o[rr],delete o[Rr],delete o[bc],delete o[Zm],delete o[pb]}function Hi(o){var c=o[rr];if(c)return c;for(var h=o.parentNode;h;){if(c=h[Ys]||h[rr]){if(h=c.alternate,c.child!==null||h!==null&&h.child!==null)for(o=gk(o);o!==null;){if(h=o[rr])return h;o=gk(o)}return c}o=h,h=o.parentNode}return null}function Vi(o){if(o=o[rr]||o[Ys]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Ki(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(r(33))}function Wi(o){var c=o[Jm];return c||(c=o[Jm]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Wn(o){o[tl]=!0}var ep=new Set,tp={};function Gs(o,c){Yi(o,c),Yi(o+"Capture",c)}function Yi(o,c){for(tp[o]=c,o=0;o<c.length;o++)ep.add(c[o])}var gb=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hd={},np={};function xb(o){return mn.call(np,o)?!0:mn.call(Hd,o)?!1:gb.test(o)?np[o]=!0:(Hd[o]=!0,!1)}function jc(o,c,h){if(xb(c))if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var x=c.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+h)}}function wc(o,c,h){if(h===null)o.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+h)}}function rs(o,c,h,x){if(x===null)o.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(h);return}o.setAttributeNS(c,h,""+x)}}function ea(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function rp(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function yb(o,c,h){var x=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,E=x.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return A.call(this)},set:function(R){h=""+R,E.call(this,R)}}),Object.defineProperty(o,c,{enumerable:x.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Nc(o){if(!o._valueTracker){var c=rp(o)?"checked":"value";o._valueTracker=yb(o,c,""+o[c])}}function ap(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var h=c.getValue(),x="";return o&&(x=rp(o)?o.checked?"true":"false":o.value),o=x,o!==h?(c.setValue(o),!0):!1}function Sc(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var vb=/[\n"\\]/g;function Dr(o){return o.replace(vb,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Vd(o,c,h,x,A,E,R,W){o.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?o.type=R:o.removeAttribute("type"),c!=null?R==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+ea(c)):o.value!==""+ea(c)&&(o.value=""+ea(c)):R!=="submit"&&R!=="reset"||o.removeAttribute("value"),c!=null?Ac(o,R,ea(c)):h!=null?Ac(o,R,ea(h)):x!=null&&o.removeAttribute("value"),A==null&&E!=null&&(o.defaultChecked=!!E),A!=null&&(o.checked=A&&typeof A!="function"&&typeof A!="symbol"),W!=null&&typeof W!="function"&&typeof W!="symbol"&&typeof W!="boolean"?o.name=""+ea(W):o.removeAttribute("name")}function sp(o,c,h,x,A,E,R,W){if(E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(o.type=E),c!=null||h!=null){if(!(E!=="submit"&&E!=="reset"||c!=null)){Nc(o);return}h=h!=null?""+ea(h):"",c=c!=null?""+ea(c):h,W||c===o.value||(o.value=c),o.defaultValue=c}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,o.checked=W?o.checked:!!x,o.defaultChecked=!!x,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(o.name=R),Nc(o)}function Ac(o,c,h){c==="number"&&Sc(o.ownerDocument)===o||o.defaultValue===""+h||(o.defaultValue=""+h)}function Cc(o,c,h,x){if(o=o.options,c){c={};for(var A=0;A<h.length;A++)c["$"+h[A]]=!0;for(h=0;h<o.length;h++)A=c.hasOwnProperty("$"+o[h].value),o[h].selected!==A&&(o[h].selected=A),A&&x&&(o[h].defaultSelected=!0)}else{for(h=""+ea(h),c=null,A=0;A<o.length;A++){if(o[A].value===h){o[A].selected=!0,x&&(o[A].defaultSelected=!0);return}c!==null||o[A].disabled||(c=o[A])}c!==null&&(c.selected=!0)}}function rO(o,c,h){if(c!=null&&(c=""+ea(c),c!==o.value&&(o.value=c),h==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=h!=null?""+ea(h):""}function aO(o,c,h,x){if(c==null){if(x!=null){if(h!=null)throw Error(r(92));if(D(x)){if(1<x.length)throw Error(r(93));x=x[0]}h=x}h==null&&(h=""),c=h}h=ea(c),o.defaultValue=h,x=o.textContent,x===h&&x!==""&&x!==null&&(o.value=x),Nc(o)}function _c(o,c){if(c){var h=o.firstChild;if(h&&h===o.lastChild&&h.nodeType===3){h.nodeValue=c;return}}o.textContent=c}var RK=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sO(o,c,h){var x=c.indexOf("--")===0;h==null||typeof h=="boolean"||h===""?x?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":x?o.setProperty(c,h):typeof h!="number"||h===0||RK.has(c)?c==="float"?o.cssFloat=h:o[c]=(""+h).trim():o[c]=h+"px"}function iO(o,c,h){if(c!=null&&typeof c!="object")throw Error(r(62));if(o=o.style,h!=null){for(var x in h)!h.hasOwnProperty(x)||c!=null&&c.hasOwnProperty(x)||(x.indexOf("--")===0?o.setProperty(x,""):x==="float"?o.cssFloat="":o[x]="");for(var A in c)x=c[A],c.hasOwnProperty(A)&&h[A]!==x&&sO(o,A,x)}else for(var E in c)c.hasOwnProperty(E)&&sO(o,E,c[E])}function bb(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var DK=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),IK=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ip(o){return IK.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function Xs(){}var jb=null;function wb(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Ec=null,Oc=null;function oO(o){var c=Vi(o);if(c&&(o=c.stateNode)){var h=o[Rr]||null;e:switch(o=c.stateNode,c.type){case"input":if(Vd(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name),c=h.name,h.type==="radio"&&c!=null){for(h=o;h.parentNode;)h=h.parentNode;for(h=h.querySelectorAll('input[name="'+Dr(""+c)+'"][type="radio"]'),c=0;c<h.length;c++){var x=h[c];if(x!==o&&x.form===o.form){var A=x[Rr]||null;if(!A)throw Error(r(90));Vd(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(c=0;c<h.length;c++)x=h[c],x.form===o.form&&ap(x)}break e;case"textarea":rO(o,h.value,h.defaultValue);break e;case"select":c=h.value,c!=null&&Cc(o,!!h.multiple,c,!1)}}}var Nb=!1;function lO(o,c,h){if(Nb)return o(c,h);Nb=!0;try{var x=o(c);return x}finally{if(Nb=!1,(Ec!==null||Oc!==null)&&(Wp(),Ec&&(c=Ec,o=Oc,Oc=Ec=null,oO(c),o)))for(c=0;c<o.length;c++)oO(o[c])}}function Kd(o,c){var h=o.stateNode;if(h===null)return null;var x=h[Rr]||null;if(x===null)return null;h=x[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(o=o.type,x=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!x;break e;default:o=!1}if(o)return null;if(h&&typeof h!="function")throw Error(r(231,c,typeof h));return h}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sb=!1;if(Qs)try{var Wd={};Object.defineProperty(Wd,"passive",{get:function(){Sb=!0}}),window.addEventListener("test",Wd,Wd),window.removeEventListener("test",Wd,Wd)}catch{Sb=!1}var Gi=null,Ab=null,op=null;function cO(){if(op)return op;var o,c=Ab,h=c.length,x,A="value"in Gi?Gi.value:Gi.textContent,E=A.length;for(o=0;o<h&&c[o]===A[o];o++);var R=h-o;for(x=1;x<=R&&c[h-x]===A[E-x];x++);return op=A.slice(o,1<x?1-x:void 0)}function lp(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function cp(){return!0}function uO(){return!1}function ta(o){function c(h,x,A,E,R){this._reactName=h,this._targetInst=A,this.type=x,this.nativeEvent=E,this.target=R,this.currentTarget=null;for(var W in o)o.hasOwnProperty(W)&&(h=o[W],this[W]=h?h(E):E[W]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?cp:uO,this.isPropagationStopped=uO,this}return m(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var h=this.nativeEvent;h&&(h.preventDefault?h.preventDefault():typeof h.returnValue!="unknown"&&(h.returnValue=!1),this.isDefaultPrevented=cp)},stopPropagation:function(){var h=this.nativeEvent;h&&(h.stopPropagation?h.stopPropagation():typeof h.cancelBubble!="unknown"&&(h.cancelBubble=!0),this.isPropagationStopped=cp)},persist:function(){},isPersistent:cp}),c}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},up=ta(nl),Yd=m({},nl,{view:0,detail:0}),LK=ta(Yd),Cb,_b,Gd,dp=m({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ob,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Gd&&(Gd&&o.type==="mousemove"?(Cb=o.screenX-Gd.screenX,_b=o.screenY-Gd.screenY):_b=Cb=0,Gd=o),Cb)},movementY:function(o){return"movementY"in o?o.movementY:_b}}),dO=ta(dp),$K=m({},dp,{dataTransfer:0}),qK=ta($K),zK=m({},Yd,{relatedTarget:0}),Eb=ta(zK),BK=m({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),FK=ta(BK),UK=m({},nl,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),HK=ta(UK),VK=m({},nl,{data:0}),fO=ta(VK),KK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},WK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},YK={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GK(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=YK[o])?!!c[o]:!1}function Ob(){return GK}var XK=m({},Yd,{key:function(o){if(o.key){var c=KK[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=lp(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?WK[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ob,charCode:function(o){return o.type==="keypress"?lp(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?lp(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),QK=ta(XK),ZK=m({},dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hO=ta(ZK),JK=m({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ob}),eW=ta(JK),tW=m({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),nW=ta(tW),rW=m({},dp,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),aW=ta(rW),sW=m({},nl,{newState:0,oldState:0}),iW=ta(sW),oW=[9,13,27,32],Tb=Qs&&"CompositionEvent"in window,Xd=null;Qs&&"documentMode"in document&&(Xd=document.documentMode);var lW=Qs&&"TextEvent"in window&&!Xd,mO=Qs&&(!Tb||Xd&&8<Xd&&11>=Xd),pO=" ",gO=!1;function xO(o,c){switch(o){case"keyup":return oW.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yO(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Tc=!1;function cW(o,c){switch(o){case"compositionend":return yO(c);case"keypress":return c.which!==32?null:(gO=!0,pO);case"textInput":return o=c.data,o===pO&&gO?null:o;default:return null}}function uW(o,c){if(Tc)return o==="compositionend"||!Tb&&xO(o,c)?(o=cO(),op=Ab=Gi=null,Tc=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return mO&&c.locale!=="ko"?null:c.data;default:return null}}var dW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vO(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!dW[o.type]:c==="textarea"}function bO(o,c,h,x){Ec?Oc?Oc.push(x):Oc=[x]:Ec=x,c=eg(c,"onChange"),0<c.length&&(h=new up("onChange","change",null,h,x),o.push({event:h,listeners:c}))}var Qd=null,Zd=null;function fW(o){nk(o,0)}function fp(o){var c=Ki(o);if(ap(c))return o}function jO(o,c){if(o==="change")return c}var wO=!1;if(Qs){var Mb;if(Qs){var kb="oninput"in document;if(!kb){var NO=document.createElement("div");NO.setAttribute("oninput","return;"),kb=typeof NO.oninput=="function"}Mb=kb}else Mb=!1;wO=Mb&&(!document.documentMode||9<document.documentMode)}function SO(){Qd&&(Qd.detachEvent("onpropertychange",AO),Zd=Qd=null)}function AO(o){if(o.propertyName==="value"&&fp(Zd)){var c=[];bO(c,Zd,o,wb(o)),lO(fW,c)}}function hW(o,c,h){o==="focusin"?(SO(),Qd=c,Zd=h,Qd.attachEvent("onpropertychange",AO)):o==="focusout"&&SO()}function mW(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return fp(Zd)}function pW(o,c){if(o==="click")return fp(c)}function gW(o,c){if(o==="input"||o==="change")return fp(c)}function xW(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var da=typeof Object.is=="function"?Object.is:xW;function Jd(o,c){if(da(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var h=Object.keys(o),x=Object.keys(c);if(h.length!==x.length)return!1;for(x=0;x<h.length;x++){var A=h[x];if(!mn.call(c,A)||!da(o[A],c[A]))return!1}return!0}function CO(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function _O(o,c){var h=CO(o);o=0;for(var x;h;){if(h.nodeType===3){if(x=o+h.textContent.length,o<=c&&x>=c)return{node:h,offset:c-o};o=x}e:{for(;h;){if(h.nextSibling){h=h.nextSibling;break e}h=h.parentNode}h=void 0}h=CO(h)}}function EO(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?EO(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function OO(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Sc(o.document);c instanceof o.HTMLIFrameElement;){try{var h=typeof c.contentWindow.location.href=="string"}catch{h=!1}if(h)o=c.contentWindow;else break;c=Sc(o.document)}return c}function Pb(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var yW=Qs&&"documentMode"in document&&11>=document.documentMode,Mc=null,Rb=null,ef=null,Db=!1;function TO(o,c,h){var x=h.window===h?h.document:h.nodeType===9?h:h.ownerDocument;Db||Mc==null||Mc!==Sc(x)||(x=Mc,"selectionStart"in x&&Pb(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),ef&&Jd(ef,x)||(ef=x,x=eg(Rb,"onSelect"),0<x.length&&(c=new up("onSelect","select",null,c,h),o.push({event:c,listeners:x}),c.target=Mc)))}function rl(o,c){var h={};return h[o.toLowerCase()]=c.toLowerCase(),h["Webkit"+o]="webkit"+c,h["Moz"+o]="moz"+c,h}var kc={animationend:rl("Animation","AnimationEnd"),animationiteration:rl("Animation","AnimationIteration"),animationstart:rl("Animation","AnimationStart"),transitionrun:rl("Transition","TransitionRun"),transitionstart:rl("Transition","TransitionStart"),transitioncancel:rl("Transition","TransitionCancel"),transitionend:rl("Transition","TransitionEnd")},Ib={},MO={};Qs&&(MO=document.createElement("div").style,"AnimationEvent"in window||(delete kc.animationend.animation,delete kc.animationiteration.animation,delete kc.animationstart.animation),"TransitionEvent"in window||delete kc.transitionend.transition);function al(o){if(Ib[o])return Ib[o];if(!kc[o])return o;var c=kc[o],h;for(h in c)if(c.hasOwnProperty(h)&&h in MO)return Ib[o]=c[h];return o}var kO=al("animationend"),PO=al("animationiteration"),RO=al("animationstart"),vW=al("transitionrun"),bW=al("transitionstart"),jW=al("transitioncancel"),DO=al("transitionend"),IO=new Map,Lb="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lb.push("scrollEnd");function as(o,c){IO.set(o,c),Gs(c,[o])}var hp=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},Ma=[],Pc=0,$b=0;function mp(){for(var o=Pc,c=$b=Pc=0;c<o;){var h=Ma[c];Ma[c++]=null;var x=Ma[c];Ma[c++]=null;var A=Ma[c];Ma[c++]=null;var E=Ma[c];if(Ma[c++]=null,x!==null&&A!==null){var R=x.pending;R===null?A.next=A:(A.next=R.next,R.next=A),x.pending=A}E!==0&&LO(h,A,E)}}function pp(o,c,h,x){Ma[Pc++]=o,Ma[Pc++]=c,Ma[Pc++]=h,Ma[Pc++]=x,$b|=x,o.lanes|=x,o=o.alternate,o!==null&&(o.lanes|=x)}function qb(o,c,h,x){return pp(o,c,h,x),gp(o)}function sl(o,c){return pp(o,null,null,c),gp(o)}function LO(o,c,h){o.lanes|=h;var x=o.alternate;x!==null&&(x.lanes|=h);for(var A=!1,E=o.return;E!==null;)E.childLanes|=h,x=E.alternate,x!==null&&(x.childLanes|=h),E.tag===22&&(o=E.stateNode,o===null||o._visibility&1||(A=!0)),o=E,E=E.return;return o.tag===3?(E=o.stateNode,A&&c!==null&&(A=31-mr(h),o=E.hiddenUpdates,x=o[A],x===null?o[A]=[c]:x.push(c),c.lane=h|536870912),E):null}function gp(o){if(50<Nf)throw Nf=0,Y0=null,Error(r(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Rc={};function wW(o,c,h,x){this.tag=o,this.key=h,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fa(o,c,h,x){return new wW(o,c,h,x)}function zb(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Zs(o,c){var h=o.alternate;return h===null?(h=fa(o.tag,c,o.key,o.mode),h.elementType=o.elementType,h.type=o.type,h.stateNode=o.stateNode,h.alternate=o,o.alternate=h):(h.pendingProps=c,h.type=o.type,h.flags=0,h.subtreeFlags=0,h.deletions=null),h.flags=o.flags&65011712,h.childLanes=o.childLanes,h.lanes=o.lanes,h.child=o.child,h.memoizedProps=o.memoizedProps,h.memoizedState=o.memoizedState,h.updateQueue=o.updateQueue,c=o.dependencies,h.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},h.sibling=o.sibling,h.index=o.index,h.ref=o.ref,h.refCleanup=o.refCleanup,h}function $O(o,c){o.flags&=65011714;var h=o.alternate;return h===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=h.childLanes,o.lanes=h.lanes,o.child=h.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=h.memoizedProps,o.memoizedState=h.memoizedState,o.updateQueue=h.updateQueue,o.type=h.type,c=h.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function xp(o,c,h,x,A,E){var R=0;if(x=o,typeof o=="function")zb(o)&&(R=1);else if(typeof o=="string")R=_Y(o,h,Z.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case $:return o=fa(31,h,c,A),o.elementType=$,o.lanes=E,o;case y:return il(h.children,A,E,c);case j:R=8,A|=24;break;case _:return o=fa(12,h,c,A|2),o.elementType=_,o.lanes=E,o;case O:return o=fa(13,h,c,A),o.elementType=O,o.lanes=E,o;case M:return o=fa(19,h,c,A),o.elementType=M,o.lanes=E,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case N:R=10;break e;case C:R=9;break e;case S:R=11;break e;case T:R=14;break e;case P:R=16,x=null;break e}R=29,h=Error(r(130,o===null?"null":typeof o,"")),x=null}return c=fa(R,h,c,A),c.elementType=o,c.type=x,c.lanes=E,c}function il(o,c,h,x){return o=fa(7,o,x,c),o.lanes=h,o}function Bb(o,c,h){return o=fa(6,o,null,c),o.lanes=h,o}function qO(o){var c=fa(18,null,null,0);return c.stateNode=o,c}function Fb(o,c,h){return c=fa(4,o.children!==null?o.children:[],o.key,c),c.lanes=h,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var zO=new WeakMap;function ka(o,c){if(typeof o=="object"&&o!==null){var h=zO.get(o);return h!==void 0?h:(c={value:o,source:c,stack:en(c)},zO.set(o,c),c)}return{value:o,source:c,stack:en(c)}}var Dc=[],Ic=0,yp=null,tf=0,Pa=[],Ra=0,Xi=null,_s=1,Es="";function Js(o,c){Dc[Ic++]=tf,Dc[Ic++]=yp,yp=o,tf=c}function BO(o,c,h){Pa[Ra++]=_s,Pa[Ra++]=Es,Pa[Ra++]=Xi,Xi=o;var x=_s;o=Es;var A=32-mr(x)-1;x&=~(1<<A),h+=1;var E=32-mr(c)+A;if(30<E){var R=A-A%5;E=(x&(1<<R)-1).toString(32),x>>=R,A-=R,_s=1<<32-mr(c)+A|h<<A|x,Es=E+o}else _s=1<<E|h<<A|x,Es=o}function Ub(o){o.return!==null&&(Js(o,1),BO(o,1,0))}function Hb(o){for(;o===yp;)yp=Dc[--Ic],Dc[Ic]=null,tf=Dc[--Ic],Dc[Ic]=null;for(;o===Xi;)Xi=Pa[--Ra],Pa[Ra]=null,Es=Pa[--Ra],Pa[Ra]=null,_s=Pa[--Ra],Pa[Ra]=null}function FO(o,c){Pa[Ra++]=_s,Pa[Ra++]=Es,Pa[Ra++]=Xi,_s=c.id,Es=c.overflow,Xi=o}var Nr=null,wn=null,Dt=!1,Qi=null,Da=!1,Vb=Error(r(519));function Zi(o){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw nf(ka(c,o)),Vb}function UO(o){var c=o.stateNode,h=o.type,x=o.memoizedProps;switch(c[rr]=o,c[Rr]=x,h){case"dialog":Mt("cancel",c),Mt("close",c);break;case"iframe":case"object":case"embed":Mt("load",c);break;case"video":case"audio":for(h=0;h<Af.length;h++)Mt(Af[h],c);break;case"source":Mt("error",c);break;case"img":case"image":case"link":Mt("error",c),Mt("load",c);break;case"details":Mt("toggle",c);break;case"input":Mt("invalid",c),sp(c,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":Mt("invalid",c);break;case"textarea":Mt("invalid",c),aO(c,x.value,x.defaultValue,x.children)}h=x.children,typeof h!="string"&&typeof h!="number"&&typeof h!="bigint"||c.textContent===""+h||x.suppressHydrationWarning===!0||ik(c.textContent,h)?(x.popover!=null&&(Mt("beforetoggle",c),Mt("toggle",c)),x.onScroll!=null&&Mt("scroll",c),x.onScrollEnd!=null&&Mt("scrollend",c),x.onClick!=null&&(c.onclick=Xs),c=!0):c=!1,c||Zi(o,!0)}function HO(o){for(Nr=o.return;Nr;)switch(Nr.tag){case 5:case 31:case 13:Da=!1;return;case 27:case 3:Da=!0;return;default:Nr=Nr.return}}function Lc(o){if(o!==Nr)return!1;if(!Dt)return HO(o),Dt=!0,!1;var c=o.tag,h;if((h=c!==3&&c!==27)&&((h=c===5)&&(h=o.type,h=!(h!=="form"&&h!=="button")||cj(o.type,o.memoizedProps)),h=!h),h&&wn&&Zi(o),HO(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));wn=pk(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));wn=pk(o)}else c===27?(c=wn,ho(o.type)?(o=mj,mj=null,wn=o):wn=c):wn=Nr?La(o.stateNode.nextSibling):null;return!0}function ol(){wn=Nr=null,Dt=!1}function Kb(){var o=Qi;return o!==null&&(sa===null?sa=o:sa.push.apply(sa,o),Qi=null),o}function nf(o){Qi===null?Qi=[o]:Qi.push(o)}var Wb=U(null),ll=null,ei=null;function Ji(o,c,h){G(Wb,c._currentValue),c._currentValue=h}function ti(o){o._currentValue=Wb.current,F(Wb)}function Yb(o,c,h){for(;o!==null;){var x=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,x!==null&&(x.childLanes|=c)):x!==null&&(x.childLanes&c)!==c&&(x.childLanes|=c),o===h)break;o=o.return}}function Gb(o,c,h,x){var A=o.child;for(A!==null&&(A.return=o);A!==null;){var E=A.dependencies;if(E!==null){var R=A.child;E=E.firstContext;e:for(;E!==null;){var W=E;E=A;for(var J=0;J<c.length;J++)if(W.context===c[J]){E.lanes|=h,W=E.alternate,W!==null&&(W.lanes|=h),Yb(E.return,h,o),x||(R=null);break e}E=W.next}}else if(A.tag===18){if(R=A.return,R===null)throw Error(r(341));R.lanes|=h,E=R.alternate,E!==null&&(E.lanes|=h),Yb(R,h,o),R=null}else R=A.child;if(R!==null)R.return=A;else for(R=A;R!==null;){if(R===o){R=null;break}if(A=R.sibling,A!==null){A.return=R.return,R=A;break}R=R.return}A=R}}function $c(o,c,h,x){o=null;for(var A=c,E=!1;A!==null;){if(!E){if((A.flags&524288)!==0)E=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var R=A.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var W=A.type;da(A.pendingProps.value,R.value)||(o!==null?o.push(W):o=[W])}}else if(A===Q.current){if(R=A.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(o!==null?o.push(Tf):o=[Tf])}A=A.return}o!==null&&Gb(c,o,h,x),c.flags|=262144}function vp(o){for(o=o.firstContext;o!==null;){if(!da(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function cl(o){ll=o,ei=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Sr(o){return VO(ll,o)}function bp(o,c){return ll===null&&cl(o),VO(o,c)}function VO(o,c){var h=c._currentValue;if(c={context:c,memoizedValue:h,next:null},ei===null){if(o===null)throw Error(r(308));ei=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else ei=ei.next=c;return h}var NW=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(h,x){o.push(x)}};this.abort=function(){c.aborted=!0,o.forEach(function(h){return h()})}},SW=e.unstable_scheduleCallback,AW=e.unstable_NormalPriority,Yn={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xb(){return{controller:new NW,data:new Map,refCount:0}}function rf(o){o.refCount--,o.refCount===0&&SW(AW,function(){o.controller.abort()})}var af=null,Qb=0,qc=0,zc=null;function CW(o,c){if(af===null){var h=af=[];Qb=0,qc=ej(),zc={status:"pending",value:void 0,then:function(x){h.push(x)}}}return Qb++,c.then(KO,KO),c}function KO(){if(--Qb===0&&af!==null){zc!==null&&(zc.status="fulfilled");var o=af;af=null,qc=0,zc=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function _W(o,c){var h=[],x={status:"pending",value:null,reason:null,then:function(A){h.push(A)}};return o.then(function(){x.status="fulfilled",x.value=c;for(var A=0;A<h.length;A++)(0,h[A])(c)},function(A){for(x.status="rejected",x.reason=A,A=0;A<h.length;A++)(0,h[A])(void 0)}),x}var WO=k.S;k.S=function(o,c){TM=Ze(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&CW(o,c),WO!==null&&WO(o,c)};var ul=U(null);function Zb(){var o=ul.current;return o!==null?o:fn.pooledCache}function jp(o,c){c===null?G(ul,ul.current):G(ul,c.pool)}function YO(){var o=Zb();return o===null?null:{parent:Yn._currentValue,pool:o}}var Bc=Error(r(460)),Jb=Error(r(474)),wp=Error(r(542)),Np={then:function(){}};function GO(o){return o=o.status,o==="fulfilled"||o==="rejected"}function XO(o,c,h){switch(h=o[h],h===void 0?o.push(c):h!==c&&(c.then(Xs,Xs),c=h),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ZO(o),o;default:if(typeof c.status=="string")c.then(Xs,Xs);else{if(o=fn,o!==null&&100<o.shellSuspendCounter)throw Error(r(482));o=c,o.status="pending",o.then(function(x){if(c.status==="pending"){var A=c;A.status="fulfilled",A.value=x}},function(x){if(c.status==="pending"){var A=c;A.status="rejected",A.reason=x}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,ZO(o),o}throw fl=c,Bc}}function dl(o){try{var c=o._init;return c(o._payload)}catch(h){throw h!==null&&typeof h=="object"&&typeof h.then=="function"?(fl=h,Bc):h}}var fl=null;function QO(){if(fl===null)throw Error(r(459));var o=fl;return fl=null,o}function ZO(o){if(o===Bc||o===wp)throw Error(r(483))}var Fc=null,sf=0;function Sp(o){var c=sf;return sf+=1,Fc===null&&(Fc=[]),XO(Fc,o,c)}function of(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function Ap(o,c){throw c.$$typeof===g?Error(r(525)):(o=Object.prototype.toString.call(c),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function JO(o){function c(me,ne){if(o){var ye=me.deletions;ye===null?(me.deletions=[ne],me.flags|=16):ye.push(ne)}}function h(me,ne){if(!o)return null;for(;ne!==null;)c(me,ne),ne=ne.sibling;return null}function x(me){for(var ne=new Map;me!==null;)me.key!==null?ne.set(me.key,me):ne.set(me.index,me),me=me.sibling;return ne}function A(me,ne){return me=Zs(me,ne),me.index=0,me.sibling=null,me}function E(me,ne,ye){return me.index=ye,o?(ye=me.alternate,ye!==null?(ye=ye.index,ye<ne?(me.flags|=67108866,ne):ye):(me.flags|=67108866,ne)):(me.flags|=1048576,ne)}function R(me){return o&&me.alternate===null&&(me.flags|=67108866),me}function W(me,ne,ye,Te){return ne===null||ne.tag!==6?(ne=Bb(ye,me.mode,Te),ne.return=me,ne):(ne=A(ne,ye),ne.return=me,ne)}function J(me,ne,ye,Te){var ut=ye.type;return ut===y?Ce(me,ne,ye.props.children,Te,ye.key):ne!==null&&(ne.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===P&&dl(ut)===ne.type)?(ne=A(ne,ye.props),of(ne,ye),ne.return=me,ne):(ne=xp(ye.type,ye.key,ye.props,null,me.mode,Te),of(ne,ye),ne.return=me,ne)}function ve(me,ne,ye,Te){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==ye.containerInfo||ne.stateNode.implementation!==ye.implementation?(ne=Fb(ye,me.mode,Te),ne.return=me,ne):(ne=A(ne,ye.children||[]),ne.return=me,ne)}function Ce(me,ne,ye,Te,ut){return ne===null||ne.tag!==7?(ne=il(ye,me.mode,Te,ut),ne.return=me,ne):(ne=A(ne,ye),ne.return=me,ne)}function Me(me,ne,ye){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Bb(""+ne,me.mode,ye),ne.return=me,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case v:return ye=xp(ne.type,ne.key,ne.props,null,me.mode,ye),of(ye,ne),ye.return=me,ye;case w:return ne=Fb(ne,me.mode,ye),ne.return=me,ne;case P:return ne=dl(ne),Me(me,ne,ye)}if(D(ne)||H(ne))return ne=il(ne,me.mode,ye,null),ne.return=me,ne;if(typeof ne.then=="function")return Me(me,Sp(ne),ye);if(ne.$$typeof===N)return Me(me,bp(me,ne),ye);Ap(me,ne)}return null}function je(me,ne,ye,Te){var ut=ne!==null?ne.key:null;if(typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint")return ut!==null?null:W(me,ne,""+ye,Te);if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:return ye.key===ut?J(me,ne,ye,Te):null;case w:return ye.key===ut?ve(me,ne,ye,Te):null;case P:return ye=dl(ye),je(me,ne,ye,Te)}if(D(ye)||H(ye))return ut!==null?null:Ce(me,ne,ye,Te,null);if(typeof ye.then=="function")return je(me,ne,Sp(ye),Te);if(ye.$$typeof===N)return je(me,ne,bp(me,ye),Te);Ap(me,ye)}return null}function Ne(me,ne,ye,Te,ut){if(typeof Te=="string"&&Te!==""||typeof Te=="number"||typeof Te=="bigint")return me=me.get(ye)||null,W(ne,me,""+Te,ut);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case v:return me=me.get(Te.key===null?ye:Te.key)||null,J(ne,me,Te,ut);case w:return me=me.get(Te.key===null?ye:Te.key)||null,ve(ne,me,Te,ut);case P:return Te=dl(Te),Ne(me,ne,ye,Te,ut)}if(D(Te)||H(Te))return me=me.get(ye)||null,Ce(ne,me,Te,ut,null);if(typeof Te.then=="function")return Ne(me,ne,ye,Sp(Te),ut);if(Te.$$typeof===N)return Ne(me,ne,ye,bp(ne,Te),ut);Ap(ne,Te)}return null}function Ge(me,ne,ye,Te){for(var ut=null,Bt=null,tt=ne,_t=ne=0,Rt=null;tt!==null&&_t<ye.length;_t++){tt.index>_t?(Rt=tt,tt=null):Rt=tt.sibling;var Ft=je(me,tt,ye[_t],Te);if(Ft===null){tt===null&&(tt=Rt);break}o&&tt&&Ft.alternate===null&&c(me,tt),ne=E(Ft,ne,_t),Bt===null?ut=Ft:Bt.sibling=Ft,Bt=Ft,tt=Rt}if(_t===ye.length)return h(me,tt),Dt&&Js(me,_t),ut;if(tt===null){for(;_t<ye.length;_t++)tt=Me(me,ye[_t],Te),tt!==null&&(ne=E(tt,ne,_t),Bt===null?ut=tt:Bt.sibling=tt,Bt=tt);return Dt&&Js(me,_t),ut}for(tt=x(tt);_t<ye.length;_t++)Rt=Ne(tt,me,_t,ye[_t],Te),Rt!==null&&(o&&Rt.alternate!==null&&tt.delete(Rt.key===null?_t:Rt.key),ne=E(Rt,ne,_t),Bt===null?ut=Rt:Bt.sibling=Rt,Bt=Rt);return o&&tt.forEach(function(yo){return c(me,yo)}),Dt&&Js(me,_t),ut}function yt(me,ne,ye,Te){if(ye==null)throw Error(r(151));for(var ut=null,Bt=null,tt=ne,_t=ne=0,Rt=null,Ft=ye.next();tt!==null&&!Ft.done;_t++,Ft=ye.next()){tt.index>_t?(Rt=tt,tt=null):Rt=tt.sibling;var yo=je(me,tt,Ft.value,Te);if(yo===null){tt===null&&(tt=Rt);break}o&&tt&&yo.alternate===null&&c(me,tt),ne=E(yo,ne,_t),Bt===null?ut=yo:Bt.sibling=yo,Bt=yo,tt=Rt}if(Ft.done)return h(me,tt),Dt&&Js(me,_t),ut;if(tt===null){for(;!Ft.done;_t++,Ft=ye.next())Ft=Me(me,Ft.value,Te),Ft!==null&&(ne=E(Ft,ne,_t),Bt===null?ut=Ft:Bt.sibling=Ft,Bt=Ft);return Dt&&Js(me,_t),ut}for(tt=x(tt);!Ft.done;_t++,Ft=ye.next())Ft=Ne(tt,me,_t,Ft.value,Te),Ft!==null&&(o&&Ft.alternate!==null&&tt.delete(Ft.key===null?_t:Ft.key),ne=E(Ft,ne,_t),Bt===null?ut=Ft:Bt.sibling=Ft,Bt=Ft);return o&&tt.forEach(function($Y){return c(me,$Y)}),Dt&&Js(me,_t),ut}function cn(me,ne,ye,Te){if(typeof ye=="object"&&ye!==null&&ye.type===y&&ye.key===null&&(ye=ye.props.children),typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case v:e:{for(var ut=ye.key;ne!==null;){if(ne.key===ut){if(ut=ye.type,ut===y){if(ne.tag===7){h(me,ne.sibling),Te=A(ne,ye.props.children),Te.return=me,me=Te;break e}}else if(ne.elementType===ut||typeof ut=="object"&&ut!==null&&ut.$$typeof===P&&dl(ut)===ne.type){h(me,ne.sibling),Te=A(ne,ye.props),of(Te,ye),Te.return=me,me=Te;break e}h(me,ne);break}else c(me,ne);ne=ne.sibling}ye.type===y?(Te=il(ye.props.children,me.mode,Te,ye.key),Te.return=me,me=Te):(Te=xp(ye.type,ye.key,ye.props,null,me.mode,Te),of(Te,ye),Te.return=me,me=Te)}return R(me);case w:e:{for(ut=ye.key;ne!==null;){if(ne.key===ut)if(ne.tag===4&&ne.stateNode.containerInfo===ye.containerInfo&&ne.stateNode.implementation===ye.implementation){h(me,ne.sibling),Te=A(ne,ye.children||[]),Te.return=me,me=Te;break e}else{h(me,ne);break}else c(me,ne);ne=ne.sibling}Te=Fb(ye,me.mode,Te),Te.return=me,me=Te}return R(me);case P:return ye=dl(ye),cn(me,ne,ye,Te)}if(D(ye))return Ge(me,ne,ye,Te);if(H(ye)){if(ut=H(ye),typeof ut!="function")throw Error(r(150));return ye=ut.call(ye),yt(me,ne,ye,Te)}if(typeof ye.then=="function")return cn(me,ne,Sp(ye),Te);if(ye.$$typeof===N)return cn(me,ne,bp(me,ye),Te);Ap(me,ye)}return typeof ye=="string"&&ye!==""||typeof ye=="number"||typeof ye=="bigint"?(ye=""+ye,ne!==null&&ne.tag===6?(h(me,ne.sibling),Te=A(ne,ye),Te.return=me,me=Te):(h(me,ne),Te=Bb(ye,me.mode,Te),Te.return=me,me=Te),R(me)):h(me,ne)}return function(me,ne,ye,Te){try{sf=0;var ut=cn(me,ne,ye,Te);return Fc=null,ut}catch(tt){if(tt===Bc||tt===wp)throw tt;var Bt=fa(29,tt,null,me.mode);return Bt.lanes=Te,Bt.return=me,Bt}finally{}}}var hl=JO(!0),eT=JO(!1),eo=!1;function e0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function t0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function to(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function no(o,c,h){var x=o.updateQueue;if(x===null)return null;if(x=x.shared,(Vt&2)!==0){var A=x.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),x.pending=c,c=gp(o),LO(o,null,h),c}return pp(o,x,c,h),gp(o)}function lf(o,c,h){if(c=c.updateQueue,c!==null&&(c=c.shared,(h&4194048)!==0)){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,Ym(o,h)}}function n0(o,c){var h=o.updateQueue,x=o.alternate;if(x!==null&&(x=x.updateQueue,h===x)){var A=null,E=null;if(h=h.firstBaseUpdate,h!==null){do{var R={lane:h.lane,tag:h.tag,payload:h.payload,callback:null,next:null};E===null?A=E=R:E=E.next=R,h=h.next}while(h!==null);E===null?A=E=c:E=E.next=c}else A=E=c;h={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:E,shared:x.shared,callbacks:x.callbacks},o.updateQueue=h;return}o=h.lastBaseUpdate,o===null?h.firstBaseUpdate=c:o.next=c,h.lastBaseUpdate=c}var r0=!1;function cf(){if(r0){var o=zc;if(o!==null)throw o}}function uf(o,c,h,x){r0=!1;var A=o.updateQueue;eo=!1;var E=A.firstBaseUpdate,R=A.lastBaseUpdate,W=A.shared.pending;if(W!==null){A.shared.pending=null;var J=W,ve=J.next;J.next=null,R===null?E=ve:R.next=ve,R=J;var Ce=o.alternate;Ce!==null&&(Ce=Ce.updateQueue,W=Ce.lastBaseUpdate,W!==R&&(W===null?Ce.firstBaseUpdate=ve:W.next=ve,Ce.lastBaseUpdate=J))}if(E!==null){var Me=A.baseState;R=0,Ce=ve=J=null,W=E;do{var je=W.lane&-536870913,Ne=je!==W.lane;if(Ne?(Pt&je)===je:(x&je)===je){je!==0&&je===qc&&(r0=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:W.tag,payload:W.payload,callback:null,next:null});e:{var Ge=o,yt=W;je=c;var cn=h;switch(yt.tag){case 1:if(Ge=yt.payload,typeof Ge=="function"){Me=Ge.call(cn,Me,je);break e}Me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=yt.payload,je=typeof Ge=="function"?Ge.call(cn,Me,je):Ge,je==null)break e;Me=m({},Me,je);break e;case 2:eo=!0}}je=W.callback,je!==null&&(o.flags|=64,Ne&&(o.flags|=8192),Ne=A.callbacks,Ne===null?A.callbacks=[je]:Ne.push(je))}else Ne={lane:je,tag:W.tag,payload:W.payload,callback:W.callback,next:null},Ce===null?(ve=Ce=Ne,J=Me):Ce=Ce.next=Ne,R|=je;if(W=W.next,W===null){if(W=A.shared.pending,W===null)break;Ne=W,W=Ne.next,Ne.next=null,A.lastBaseUpdate=Ne,A.shared.pending=null}}while(!0);Ce===null&&(J=Me),A.baseState=J,A.firstBaseUpdate=ve,A.lastBaseUpdate=Ce,E===null&&(A.shared.lanes=0),oo|=R,o.lanes=R,o.memoizedState=Me}}function tT(o,c){if(typeof o!="function")throw Error(r(191,o));o.call(c)}function nT(o,c){var h=o.callbacks;if(h!==null)for(o.callbacks=null,o=0;o<h.length;o++)tT(h[o],c)}var Uc=U(null),Cp=U(0);function rT(o,c){o=ui,G(Cp,o),G(Uc,c),ui=o|c.baseLanes}function a0(){G(Cp,ui),G(Uc,Uc.current)}function s0(){ui=Cp.current,F(Uc),F(Cp)}var ha=U(null),Ia=null;function ro(o){var c=o.alternate;G(Vn,Vn.current&1),G(ha,o),Ia===null&&(c===null||Uc.current!==null||c.memoizedState!==null)&&(Ia=o)}function i0(o){G(Vn,Vn.current),G(ha,o),Ia===null&&(Ia=o)}function aT(o){o.tag===22?(G(Vn,Vn.current),G(ha,o),Ia===null&&(Ia=o)):ao()}function ao(){G(Vn,Vn.current),G(ha,ha.current)}function ma(o){F(ha),Ia===o&&(Ia=null),F(Vn)}var Vn=U(0);function _p(o){for(var c=o;c!==null;){if(c.tag===13){var h=c.memoizedState;if(h!==null&&(h=h.dehydrated,h===null||fj(h)||hj(h)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var ni=0,At=null,on=null,Gn=null,Ep=!1,Hc=!1,ml=!1,Op=0,df=0,Vc=null,EW=0;function In(){throw Error(r(321))}function o0(o,c){if(c===null)return!1;for(var h=0;h<c.length&&h<o.length;h++)if(!da(o[h],c[h]))return!1;return!0}function l0(o,c,h,x,A,E){return ni=E,At=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,k.H=o===null||o.memoizedState===null?BT:N0,ml=!1,E=h(x,A),ml=!1,Hc&&(E=iT(c,h,x,A)),sT(o),E}function sT(o){k.H=mf;var c=on!==null&&on.next!==null;if(ni=0,Gn=on=At=null,Ep=!1,df=0,Vc=null,c)throw Error(r(300));o===null||Xn||(o=o.dependencies,o!==null&&vp(o)&&(Xn=!0))}function iT(o,c,h,x){At=o;var A=0;do{if(Hc&&(Vc=null),df=0,Hc=!1,25<=A)throw Error(r(301));if(A+=1,Gn=on=null,o.updateQueue!=null){var E=o.updateQueue;E.lastEffect=null,E.events=null,E.stores=null,E.memoCache!=null&&(E.memoCache.index=0)}k.H=FT,E=c(h,x)}while(Hc);return E}function OW(){var o=k.H,c=o.useState()[0];return c=typeof c.then=="function"?ff(c):c,o=o.useState()[0],(on!==null?on.memoizedState:null)!==o&&(At.flags|=1024),c}function c0(){var o=Op!==0;return Op=0,o}function u0(o,c,h){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~h}function d0(o){if(Ep){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Ep=!1}ni=0,Gn=on=At=null,Hc=!1,df=Op=0,Vc=null}function Ur(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gn===null?At.memoizedState=Gn=o:Gn=Gn.next=o,Gn}function Kn(){if(on===null){var o=At.alternate;o=o!==null?o.memoizedState:null}else o=on.next;var c=Gn===null?At.memoizedState:Gn.next;if(c!==null)Gn=c,on=o;else{if(o===null)throw At.alternate===null?Error(r(467)):Error(r(310));on=o,o={memoizedState:on.memoizedState,baseState:on.baseState,baseQueue:on.baseQueue,queue:on.queue,next:null},Gn===null?At.memoizedState=Gn=o:Gn=Gn.next=o}return Gn}function Tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ff(o){var c=df;return df+=1,Vc===null&&(Vc=[]),o=XO(Vc,o,c),c=At,(Gn===null?c.memoizedState:Gn.next)===null&&(c=c.alternate,k.H=c===null||c.memoizedState===null?BT:N0),o}function Mp(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return ff(o);if(o.$$typeof===N)return Sr(o)}throw Error(r(438,String(o)))}function f0(o){var c=null,h=At.updateQueue;if(h!==null&&(c=h.memoCache),c==null){var x=At.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(c={data:x.data.map(function(A){return A.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),h===null&&(h=Tp(),At.updateQueue=h),h.memoCache=c,h=c.data[c.index],h===void 0)for(h=c.data[c.index]=Array(o),x=0;x<o;x++)h[x]=K;return c.index++,h}function ri(o,c){return typeof c=="function"?c(o):c}function kp(o){var c=Kn();return h0(c,on,o)}function h0(o,c,h){var x=o.queue;if(x===null)throw Error(r(311));x.lastRenderedReducer=h;var A=o.baseQueue,E=x.pending;if(E!==null){if(A!==null){var R=A.next;A.next=E.next,E.next=R}c.baseQueue=A=E,x.pending=null}if(E=o.baseState,A===null)o.memoizedState=E;else{c=A.next;var W=R=null,J=null,ve=c,Ce=!1;do{var Me=ve.lane&-536870913;if(Me!==ve.lane?(Pt&Me)===Me:(ni&Me)===Me){var je=ve.revertLane;if(je===0)J!==null&&(J=J.next={lane:0,revertLane:0,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Me===qc&&(Ce=!0);else if((ni&je)===je){ve=ve.next,je===qc&&(Ce=!0);continue}else Me={lane:0,revertLane:ve.revertLane,gesture:null,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},J===null?(W=J=Me,R=E):J=J.next=Me,At.lanes|=je,oo|=je;Me=ve.action,ml&&h(E,Me),E=ve.hasEagerState?ve.eagerState:h(E,Me)}else je={lane:Me,revertLane:ve.revertLane,gesture:ve.gesture,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},J===null?(W=J=je,R=E):J=J.next=je,At.lanes|=Me,oo|=Me;ve=ve.next}while(ve!==null&&ve!==c);if(J===null?R=E:J.next=W,!da(E,o.memoizedState)&&(Xn=!0,Ce&&(h=zc,h!==null)))throw h;o.memoizedState=E,o.baseState=R,o.baseQueue=J,x.lastRenderedState=E}return A===null&&(x.lanes=0),[o.memoizedState,x.dispatch]}function m0(o){var c=Kn(),h=c.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var x=h.dispatch,A=h.pending,E=c.memoizedState;if(A!==null){h.pending=null;var R=A=A.next;do E=o(E,R.action),R=R.next;while(R!==A);da(E,c.memoizedState)||(Xn=!0),c.memoizedState=E,c.baseQueue===null&&(c.baseState=E),h.lastRenderedState=E}return[E,x]}function oT(o,c,h){var x=At,A=Kn(),E=Dt;if(E){if(h===void 0)throw Error(r(407));h=h()}else h=c();var R=!da((on||A).memoizedState,h);if(R&&(A.memoizedState=h,Xn=!0),A=A.queue,x0(uT.bind(null,x,A,o),[o]),A.getSnapshot!==c||R||Gn!==null&&Gn.memoizedState.tag&1){if(x.flags|=2048,Kc(9,{destroy:void 0},cT.bind(null,x,A,h,c),null),fn===null)throw Error(r(349));E||(ni&127)!==0||lT(x,c,h)}return h}function lT(o,c,h){o.flags|=16384,o={getSnapshot:c,value:h},c=At.updateQueue,c===null?(c=Tp(),At.updateQueue=c,c.stores=[o]):(h=c.stores,h===null?c.stores=[o]:h.push(o))}function cT(o,c,h,x){c.value=h,c.getSnapshot=x,dT(c)&&fT(o)}function uT(o,c,h){return h(function(){dT(c)&&fT(o)})}function dT(o){var c=o.getSnapshot;o=o.value;try{var h=c();return!da(o,h)}catch{return!0}}function fT(o){var c=sl(o,2);c!==null&&ia(c,o,2)}function p0(o){var c=Ur();if(typeof o=="function"){var h=o;if(o=h(),ml){hr(!0);try{h()}finally{hr(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},c}function hT(o,c,h,x){return o.baseState=h,h0(o,on,typeof x=="function"?x:ri)}function TW(o,c,h,x,A){if(Dp(o))throw Error(r(485));if(o=c.action,o!==null){var E={payload:A,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){E.listeners.push(R)}};k.T!==null?h(!0):E.isTransition=!1,x(E),h=c.pending,h===null?(E.next=c.pending=E,mT(c,E)):(E.next=h.next,c.pending=h.next=E)}}function mT(o,c){var h=c.action,x=c.payload,A=o.state;if(c.isTransition){var E=k.T,R={};k.T=R;try{var W=h(A,x),J=k.S;J!==null&&J(R,W),pT(o,c,W)}catch(ve){g0(o,c,ve)}finally{E!==null&&R.types!==null&&(E.types=R.types),k.T=E}}else try{E=h(A,x),pT(o,c,E)}catch(ve){g0(o,c,ve)}}function pT(o,c,h){h!==null&&typeof h=="object"&&typeof h.then=="function"?h.then(function(x){gT(o,c,x)},function(x){return g0(o,c,x)}):gT(o,c,h)}function gT(o,c,h){c.status="fulfilled",c.value=h,xT(c),o.state=h,c=o.pending,c!==null&&(h=c.next,h===c?o.pending=null:(h=h.next,c.next=h,mT(o,h)))}function g0(o,c,h){var x=o.pending;if(o.pending=null,x!==null){x=x.next;do c.status="rejected",c.reason=h,xT(c),c=c.next;while(c!==x)}o.action=null}function xT(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function yT(o,c){return c}function vT(o,c){if(Dt){var h=fn.formState;if(h!==null){e:{var x=At;if(Dt){if(wn){t:{for(var A=wn,E=Da;A.nodeType!==8;){if(!E){A=null;break t}if(A=La(A.nextSibling),A===null){A=null;break t}}E=A.data,A=E==="F!"||E==="F"?A:null}if(A){wn=La(A.nextSibling),x=A.data==="F!";break e}}Zi(x)}x=!1}x&&(c=h[0])}}return h=Ur(),h.memoizedState=h.baseState=c,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:yT,lastRenderedState:c},h.queue=x,h=$T.bind(null,At,x),x.dispatch=h,x=p0(!1),E=w0.bind(null,At,!1,x.queue),x=Ur(),A={state:c,dispatch:null,action:o,pending:null},x.queue=A,h=TW.bind(null,At,A,E,h),A.dispatch=h,x.memoizedState=o,[c,h,!1]}function bT(o){var c=Kn();return jT(c,on,o)}function jT(o,c,h){if(c=h0(o,c,yT)[0],o=kp(ri)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var x=ff(c)}catch(R){throw R===Bc?wp:R}else x=c;c=Kn();var A=c.queue,E=A.dispatch;return h!==c.memoizedState&&(At.flags|=2048,Kc(9,{destroy:void 0},MW.bind(null,A,h),null)),[x,E,o]}function MW(o,c){o.action=c}function wT(o){var c=Kn(),h=on;if(h!==null)return jT(c,h,o);Kn(),c=c.memoizedState,h=Kn();var x=h.queue.dispatch;return h.memoizedState=o,[c,x,!1]}function Kc(o,c,h,x){return o={tag:o,create:h,deps:x,inst:c,next:null},c=At.updateQueue,c===null&&(c=Tp(),At.updateQueue=c),h=c.lastEffect,h===null?c.lastEffect=o.next=o:(x=h.next,h.next=o,o.next=x,c.lastEffect=o),o}function NT(){return Kn().memoizedState}function Pp(o,c,h,x){var A=Ur();At.flags|=o,A.memoizedState=Kc(1|c,{destroy:void 0},h,x===void 0?null:x)}function Rp(o,c,h,x){var A=Kn();x=x===void 0?null:x;var E=A.memoizedState.inst;on!==null&&x!==null&&o0(x,on.memoizedState.deps)?A.memoizedState=Kc(c,E,h,x):(At.flags|=o,A.memoizedState=Kc(1|c,E,h,x))}function ST(o,c){Pp(8390656,8,o,c)}function x0(o,c){Rp(2048,8,o,c)}function kW(o){At.flags|=4;var c=At.updateQueue;if(c===null)c=Tp(),At.updateQueue=c,c.events=[o];else{var h=c.events;h===null?c.events=[o]:h.push(o)}}function AT(o){var c=Kn().memoizedState;return kW({ref:c,nextImpl:o}),function(){if((Vt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function CT(o,c){return Rp(4,2,o,c)}function _T(o,c){return Rp(4,4,o,c)}function ET(o,c){if(typeof c=="function"){o=o();var h=c(o);return function(){typeof h=="function"?h():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function OT(o,c,h){h=h!=null?h.concat([o]):null,Rp(4,4,ET.bind(null,c,o),h)}function y0(){}function TT(o,c){var h=Kn();c=c===void 0?null:c;var x=h.memoizedState;return c!==null&&o0(c,x[1])?x[0]:(h.memoizedState=[o,c],o)}function MT(o,c){var h=Kn();c=c===void 0?null:c;var x=h.memoizedState;if(c!==null&&o0(c,x[1]))return x[0];if(x=o(),ml){hr(!0);try{o()}finally{hr(!1)}}return h.memoizedState=[x,c],x}function v0(o,c,h){return h===void 0||(ni&1073741824)!==0&&(Pt&261930)===0?o.memoizedState=c:(o.memoizedState=h,o=kM(),At.lanes|=o,oo|=o,h)}function kT(o,c,h,x){return da(h,c)?h:Uc.current!==null?(o=v0(o,h,x),da(o,c)||(Xn=!0),o):(ni&42)===0||(ni&1073741824)!==0&&(Pt&261930)===0?(Xn=!0,o.memoizedState=h):(o=kM(),At.lanes|=o,oo|=o,c)}function PT(o,c,h,x,A){var E=I.p;I.p=E!==0&&8>E?E:8;var R=k.T,W={};k.T=W,w0(o,!1,c,h);try{var J=A(),ve=k.S;if(ve!==null&&ve(W,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ce=_W(J,x);hf(o,c,Ce,xa(o))}else hf(o,c,x,xa(o))}catch(Me){hf(o,c,{then:function(){},status:"rejected",reason:Me},xa())}finally{I.p=E,R!==null&&W.types!==null&&(R.types=W.types),k.T=R}}function PW(){}function b0(o,c,h,x){if(o.tag!==5)throw Error(r(476));var A=RT(o).queue;PT(o,A,c,z,h===null?PW:function(){return DT(o),h(x)})}function RT(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:z},next:null};var h={};return c.next={memoizedState:h,baseState:h,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:h},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function DT(o){var c=RT(o);c.next===null&&(c=o.alternate.memoizedState),hf(o,c.next.queue,{},xa())}function j0(){return Sr(Tf)}function IT(){return Kn().memoizedState}function LT(){return Kn().memoizedState}function RW(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var h=xa();o=to(h);var x=no(c,o,h);x!==null&&(ia(x,c,h),lf(x,c,h)),c={cache:Xb()},o.payload=c;return}c=c.return}}function DW(o,c,h){var x=xa();h={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Dp(o)?qT(c,h):(h=qb(o,c,h,x),h!==null&&(ia(h,o,x),zT(h,c,x)))}function $T(o,c,h){var x=xa();hf(o,c,h,x)}function hf(o,c,h,x){var A={lane:x,revertLane:0,gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null};if(Dp(o))qT(c,A);else{var E=o.alternate;if(o.lanes===0&&(E===null||E.lanes===0)&&(E=c.lastRenderedReducer,E!==null))try{var R=c.lastRenderedState,W=E(R,h);if(A.hasEagerState=!0,A.eagerState=W,da(W,R))return pp(o,c,A,0),fn===null&&mp(),!1}catch{}finally{}if(h=qb(o,c,A,x),h!==null)return ia(h,o,x),zT(h,c,x),!0}return!1}function w0(o,c,h,x){if(x={lane:2,revertLane:ej(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Dp(o)){if(c)throw Error(r(479))}else c=qb(o,h,x,2),c!==null&&ia(c,o,2)}function Dp(o){var c=o.alternate;return o===At||c!==null&&c===At}function qT(o,c){Hc=Ep=!0;var h=o.pending;h===null?c.next=c:(c.next=h.next,h.next=c),o.pending=c}function zT(o,c,h){if((h&4194048)!==0){var x=c.lanes;x&=o.pendingLanes,h|=x,c.lanes=h,Ym(o,h)}}var mf={readContext:Sr,use:Mp,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useLayoutEffect:In,useInsertionEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useSyncExternalStore:In,useId:In,useHostTransitionStatus:In,useFormState:In,useActionState:In,useOptimistic:In,useMemoCache:In,useCacheRefresh:In};mf.useEffectEvent=In;var BT={readContext:Sr,use:Mp,useCallback:function(o,c){return Ur().memoizedState=[o,c===void 0?null:c],o},useContext:Sr,useEffect:ST,useImperativeHandle:function(o,c,h){h=h!=null?h.concat([o]):null,Pp(4194308,4,ET.bind(null,c,o),h)},useLayoutEffect:function(o,c){return Pp(4194308,4,o,c)},useInsertionEffect:function(o,c){Pp(4,2,o,c)},useMemo:function(o,c){var h=Ur();c=c===void 0?null:c;var x=o();if(ml){hr(!0);try{o()}finally{hr(!1)}}return h.memoizedState=[x,c],x},useReducer:function(o,c,h){var x=Ur();if(h!==void 0){var A=h(c);if(ml){hr(!0);try{h(c)}finally{hr(!1)}}}else A=c;return x.memoizedState=x.baseState=A,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:A},x.queue=o,o=o.dispatch=DW.bind(null,At,o),[x.memoizedState,o]},useRef:function(o){var c=Ur();return o={current:o},c.memoizedState=o},useState:function(o){o=p0(o);var c=o.queue,h=$T.bind(null,At,c);return c.dispatch=h,[o.memoizedState,h]},useDebugValue:y0,useDeferredValue:function(o,c){var h=Ur();return v0(h,o,c)},useTransition:function(){var o=p0(!1);return o=PT.bind(null,At,o.queue,!0,!1),Ur().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,h){var x=At,A=Ur();if(Dt){if(h===void 0)throw Error(r(407));h=h()}else{if(h=c(),fn===null)throw Error(r(349));(Pt&127)!==0||lT(x,c,h)}A.memoizedState=h;var E={value:h,getSnapshot:c};return A.queue=E,ST(uT.bind(null,x,E,o),[o]),x.flags|=2048,Kc(9,{destroy:void 0},cT.bind(null,x,E,h,c),null),h},useId:function(){var o=Ur(),c=fn.identifierPrefix;if(Dt){var h=Es,x=_s;h=(x&~(1<<32-mr(x)-1)).toString(32)+h,c="_"+c+"R_"+h,h=Op++,0<h&&(c+="H"+h.toString(32)),c+="_"}else h=EW++,c="_"+c+"r_"+h.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:j0,useFormState:vT,useActionState:vT,useOptimistic:function(o){var c=Ur();c.memoizedState=c.baseState=o;var h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=h,c=w0.bind(null,At,!0,h),h.dispatch=c,[o,c]},useMemoCache:f0,useCacheRefresh:function(){return Ur().memoizedState=RW.bind(null,At)},useEffectEvent:function(o){var c=Ur(),h={impl:o};return c.memoizedState=h,function(){if((Vt&2)!==0)throw Error(r(440));return h.impl.apply(void 0,arguments)}}},N0={readContext:Sr,use:Mp,useCallback:TT,useContext:Sr,useEffect:x0,useImperativeHandle:OT,useInsertionEffect:CT,useLayoutEffect:_T,useMemo:MT,useReducer:kp,useRef:NT,useState:function(){return kp(ri)},useDebugValue:y0,useDeferredValue:function(o,c){var h=Kn();return kT(h,on.memoizedState,o,c)},useTransition:function(){var o=kp(ri)[0],c=Kn().memoizedState;return[typeof o=="boolean"?o:ff(o),c]},useSyncExternalStore:oT,useId:IT,useHostTransitionStatus:j0,useFormState:bT,useActionState:bT,useOptimistic:function(o,c){var h=Kn();return hT(h,on,o,c)},useMemoCache:f0,useCacheRefresh:LT};N0.useEffectEvent=AT;var FT={readContext:Sr,use:Mp,useCallback:TT,useContext:Sr,useEffect:x0,useImperativeHandle:OT,useInsertionEffect:CT,useLayoutEffect:_T,useMemo:MT,useReducer:m0,useRef:NT,useState:function(){return m0(ri)},useDebugValue:y0,useDeferredValue:function(o,c){var h=Kn();return on===null?v0(h,o,c):kT(h,on.memoizedState,o,c)},useTransition:function(){var o=m0(ri)[0],c=Kn().memoizedState;return[typeof o=="boolean"?o:ff(o),c]},useSyncExternalStore:oT,useId:IT,useHostTransitionStatus:j0,useFormState:wT,useActionState:wT,useOptimistic:function(o,c){var h=Kn();return on!==null?hT(h,on,o,c):(h.baseState=o,[o,h.queue.dispatch])},useMemoCache:f0,useCacheRefresh:LT};FT.useEffectEvent=AT;function S0(o,c,h,x){c=o.memoizedState,h=h(x,c),h=h==null?c:m({},c,h),o.memoizedState=h,o.lanes===0&&(o.updateQueue.baseState=h)}var A0={enqueueSetState:function(o,c,h){o=o._reactInternals;var x=xa(),A=to(x);A.payload=c,h!=null&&(A.callback=h),c=no(o,A,x),c!==null&&(ia(c,o,x),lf(c,o,x))},enqueueReplaceState:function(o,c,h){o=o._reactInternals;var x=xa(),A=to(x);A.tag=1,A.payload=c,h!=null&&(A.callback=h),c=no(o,A,x),c!==null&&(ia(c,o,x),lf(c,o,x))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var h=xa(),x=to(h);x.tag=2,c!=null&&(x.callback=c),c=no(o,x,h),c!==null&&(ia(c,o,h),lf(c,o,h))}};function UT(o,c,h,x,A,E,R){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(x,E,R):c.prototype&&c.prototype.isPureReactComponent?!Jd(h,x)||!Jd(A,E):!0}function HT(o,c,h,x){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(h,x),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(h,x),c.state!==o&&A0.enqueueReplaceState(c,c.state,null)}function pl(o,c){var h=c;if("ref"in c){h={};for(var x in c)x!=="ref"&&(h[x]=c[x])}if(o=o.defaultProps){h===c&&(h=m({},h));for(var A in o)h[A]===void 0&&(h[A]=o[A])}return h}function VT(o){hp(o)}function KT(o){console.error(o)}function WT(o){hp(o)}function Ip(o,c){try{var h=o.onUncaughtError;h(c.value,{componentStack:c.stack})}catch(x){setTimeout(function(){throw x})}}function YT(o,c,h){try{var x=o.onCaughtError;x(h.value,{componentStack:h.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function C0(o,c,h){return h=to(h),h.tag=3,h.payload={element:null},h.callback=function(){Ip(o,c)},h}function GT(o){return o=to(o),o.tag=3,o}function XT(o,c,h,x){var A=h.type.getDerivedStateFromError;if(typeof A=="function"){var E=x.value;o.payload=function(){return A(E)},o.callback=function(){YT(c,h,x)}}var R=h.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(o.callback=function(){YT(c,h,x),typeof A!="function"&&(lo===null?lo=new Set([this]):lo.add(this));var W=x.stack;this.componentDidCatch(x.value,{componentStack:W!==null?W:""})})}function IW(o,c,h,x,A){if(h.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(c=h.alternate,c!==null&&$c(c,h,A,!0),h=ha.current,h!==null){switch(h.tag){case 31:case 13:return Ia===null?Yp():h.alternate===null&&Ln===0&&(Ln=3),h.flags&=-257,h.flags|=65536,h.lanes=A,x===Np?h.flags|=16384:(c=h.updateQueue,c===null?h.updateQueue=new Set([x]):c.add(x),Q0(o,x,A)),!1;case 22:return h.flags|=65536,x===Np?h.flags|=16384:(c=h.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([x])},h.updateQueue=c):(h=c.retryQueue,h===null?c.retryQueue=new Set([x]):h.add(x)),Q0(o,x,A)),!1}throw Error(r(435,h.tag))}return Q0(o,x,A),Yp(),!1}if(Dt)return c=ha.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=A,x!==Vb&&(o=Error(r(422),{cause:x}),nf(ka(o,h)))):(x!==Vb&&(c=Error(r(423),{cause:x}),nf(ka(c,h))),o=o.current.alternate,o.flags|=65536,A&=-A,o.lanes|=A,x=ka(x,h),A=C0(o.stateNode,x,A),n0(o,A),Ln!==4&&(Ln=2)),!1;var E=Error(r(520),{cause:x});if(E=ka(E,h),wf===null?wf=[E]:wf.push(E),Ln!==4&&(Ln=2),c===null)return!0;x=ka(x,h),h=c;do{switch(h.tag){case 3:return h.flags|=65536,o=A&-A,h.lanes|=o,o=C0(h.stateNode,x,o),n0(h,o),!1;case 1:if(c=h.type,E=h.stateNode,(h.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(lo===null||!lo.has(E))))return h.flags|=65536,A&=-A,h.lanes|=A,A=GT(A),XT(A,o,h,x),n0(h,A),!1}h=h.return}while(h!==null);return!1}var _0=Error(r(461)),Xn=!1;function Ar(o,c,h,x){c.child=o===null?eT(c,null,h,x):hl(c,o.child,h,x)}function QT(o,c,h,x,A){h=h.render;var E=c.ref;if("ref"in x){var R={};for(var W in x)W!=="ref"&&(R[W]=x[W])}else R=x;return cl(c),x=l0(o,c,h,R,E,A),W=c0(),o!==null&&!Xn?(u0(o,c,A),ai(o,c,A)):(Dt&&W&&Ub(c),c.flags|=1,Ar(o,c,x,A),c.child)}function ZT(o,c,h,x,A){if(o===null){var E=h.type;return typeof E=="function"&&!zb(E)&&E.defaultProps===void 0&&h.compare===null?(c.tag=15,c.type=E,JT(o,c,E,x,A)):(o=xp(h.type,null,x,c,c.mode,A),o.ref=c.ref,o.return=c,c.child=o)}if(E=o.child,!D0(o,A)){var R=E.memoizedProps;if(h=h.compare,h=h!==null?h:Jd,h(R,x)&&o.ref===c.ref)return ai(o,c,A)}return c.flags|=1,o=Zs(E,x),o.ref=c.ref,o.return=c,c.child=o}function JT(o,c,h,x,A){if(o!==null){var E=o.memoizedProps;if(Jd(E,x)&&o.ref===c.ref)if(Xn=!1,c.pendingProps=x=E,D0(o,A))(o.flags&131072)!==0&&(Xn=!0);else return c.lanes=o.lanes,ai(o,c,A)}return E0(o,c,h,x,A)}function eM(o,c,h,x){var A=x.children,E=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((c.flags&128)!==0){if(E=E!==null?E.baseLanes|h:h,o!==null){for(x=c.child=o.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~E}else x=0,c.child=null;return tM(o,c,E,h,x)}if((h&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&jp(c,E!==null?E.cachePool:null),E!==null?rT(c,E):a0(),aT(c);else return x=c.lanes=536870912,tM(o,c,E!==null?E.baseLanes|h:h,h,x)}else E!==null?(jp(c,E.cachePool),rT(c,E),ao(),c.memoizedState=null):(o!==null&&jp(c,null),a0(),ao());return Ar(o,c,A,h),c.child}function pf(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function tM(o,c,h,x,A){var E=Zb();return E=E===null?null:{parent:Yn._currentValue,pool:E},c.memoizedState={baseLanes:h,cachePool:E},o!==null&&jp(c,null),a0(),aT(c),o!==null&&$c(o,c,x,!0),c.childLanes=A,null}function Lp(o,c){return c=qp({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function nM(o,c,h){return hl(c,o.child,null,h),o=Lp(c,c.pendingProps),o.flags|=2,ma(c),c.memoizedState=null,o}function LW(o,c,h){var x=c.pendingProps,A=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(Dt){if(x.mode==="hidden")return o=Lp(c,x),c.lanes=536870912,pf(null,o);if(i0(c),(o=wn)?(o=mk(o,Da),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Xi!==null?{id:_s,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},h=qO(o),h.return=c,c.child=h,Nr=c,wn=null)):o=null,o===null)throw Zi(c);return c.lanes=536870912,null}return Lp(c,x)}var E=o.memoizedState;if(E!==null){var R=E.dehydrated;if(i0(c),A)if(c.flags&256)c.flags&=-257,c=nM(o,c,h);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(r(558));else if(Xn||$c(o,c,h,!1),A=(h&o.childLanes)!==0,Xn||A){if(x=fn,x!==null&&(R=Gm(x,h),R!==0&&R!==E.retryLane))throw E.retryLane=R,sl(o,R),ia(x,o,R),_0;Yp(),c=nM(o,c,h)}else o=E.treeContext,wn=La(R.nextSibling),Nr=c,Dt=!0,Qi=null,Da=!1,o!==null&&FO(c,o),c=Lp(c,x),c.flags|=4096;return c}return o=Zs(o.child,{mode:x.mode,children:x.children}),o.ref=c.ref,c.child=o,o.return=c,o}function $p(o,c){var h=c.ref;if(h===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof h!="function"&&typeof h!="object")throw Error(r(284));(o===null||o.ref!==h)&&(c.flags|=4194816)}}function E0(o,c,h,x,A){return cl(c),h=l0(o,c,h,x,void 0,A),x=c0(),o!==null&&!Xn?(u0(o,c,A),ai(o,c,A)):(Dt&&x&&Ub(c),c.flags|=1,Ar(o,c,h,A),c.child)}function rM(o,c,h,x,A,E){return cl(c),c.updateQueue=null,h=iT(c,x,h,A),sT(o),x=c0(),o!==null&&!Xn?(u0(o,c,E),ai(o,c,E)):(Dt&&x&&Ub(c),c.flags|=1,Ar(o,c,h,E),c.child)}function aM(o,c,h,x,A){if(cl(c),c.stateNode===null){var E=Rc,R=h.contextType;typeof R=="object"&&R!==null&&(E=Sr(R)),E=new h(x,E),c.memoizedState=E.state!==null&&E.state!==void 0?E.state:null,E.updater=A0,c.stateNode=E,E._reactInternals=c,E=c.stateNode,E.props=x,E.state=c.memoizedState,E.refs={},e0(c),R=h.contextType,E.context=typeof R=="object"&&R!==null?Sr(R):Rc,E.state=c.memoizedState,R=h.getDerivedStateFromProps,typeof R=="function"&&(S0(c,h,R,x),E.state=c.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof E.getSnapshotBeforeUpdate=="function"||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(R=E.state,typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount(),R!==E.state&&A0.enqueueReplaceState(E,E.state,null),uf(c,x,E,A),cf(),E.state=c.memoizedState),typeof E.componentDidMount=="function"&&(c.flags|=4194308),x=!0}else if(o===null){E=c.stateNode;var W=c.memoizedProps,J=pl(h,W);E.props=J;var ve=E.context,Ce=h.contextType;R=Rc,typeof Ce=="object"&&Ce!==null&&(R=Sr(Ce));var Me=h.getDerivedStateFromProps;Ce=typeof Me=="function"||typeof E.getSnapshotBeforeUpdate=="function",W=c.pendingProps!==W,Ce||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(W||ve!==R)&&HT(c,E,x,R),eo=!1;var je=c.memoizedState;E.state=je,uf(c,x,E,A),cf(),ve=c.memoizedState,W||je!==ve||eo?(typeof Me=="function"&&(S0(c,h,Me,x),ve=c.memoizedState),(J=eo||UT(c,h,J,x,je,ve,R))?(Ce||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(c.flags|=4194308)):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=x,c.memoizedState=ve),E.props=x,E.state=ve,E.context=R,x=J):(typeof E.componentDidMount=="function"&&(c.flags|=4194308),x=!1)}else{E=c.stateNode,t0(o,c),R=c.memoizedProps,Ce=pl(h,R),E.props=Ce,Me=c.pendingProps,je=E.context,ve=h.contextType,J=Rc,typeof ve=="object"&&ve!==null&&(J=Sr(ve)),W=h.getDerivedStateFromProps,(ve=typeof W=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==Me||je!==J)&&HT(c,E,x,J),eo=!1,je=c.memoizedState,E.state=je,uf(c,x,E,A),cf();var Ne=c.memoizedState;R!==Me||je!==Ne||eo||o!==null&&o.dependencies!==null&&vp(o.dependencies)?(typeof W=="function"&&(S0(c,h,W,x),Ne=c.memoizedState),(Ce=eo||UT(c,h,Ce,x,je,Ne,J)||o!==null&&o.dependencies!==null&&vp(o.dependencies))?(ve||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(x,Ne,J),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(x,Ne,J)),typeof E.componentDidUpdate=="function"&&(c.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),c.memoizedProps=x,c.memoizedState=Ne),E.props=x,E.state=Ne,E.context=J,x=Ce):(typeof E.componentDidUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(c.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===o.memoizedProps&&je===o.memoizedState||(c.flags|=1024),x=!1)}return E=x,$p(o,c),x=(c.flags&128)!==0,E||x?(E=c.stateNode,h=x&&typeof h.getDerivedStateFromError!="function"?null:E.render(),c.flags|=1,o!==null&&x?(c.child=hl(c,o.child,null,A),c.child=hl(c,null,h,A)):Ar(o,c,h,A),c.memoizedState=E.state,o=c.child):o=ai(o,c,A),o}function sM(o,c,h,x){return ol(),c.flags|=256,Ar(o,c,h,x),c.child}var O0={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function T0(o){return{baseLanes:o,cachePool:YO()}}function M0(o,c,h){return o=o!==null?o.childLanes&~h:0,c&&(o|=ga),o}function iM(o,c,h){var x=c.pendingProps,A=!1,E=(c.flags&128)!==0,R;if((R=E)||(R=o!==null&&o.memoizedState===null?!1:(Vn.current&2)!==0),R&&(A=!0,c.flags&=-129),R=(c.flags&32)!==0,c.flags&=-33,o===null){if(Dt){if(A?ro(c):ao(),(o=wn)?(o=mk(o,Da),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Xi!==null?{id:_s,overflow:Es}:null,retryLane:536870912,hydrationErrors:null},h=qO(o),h.return=c,c.child=h,Nr=c,wn=null)):o=null,o===null)throw Zi(c);return hj(o)?c.lanes=32:c.lanes=536870912,null}var W=x.children;return x=x.fallback,A?(ao(),A=c.mode,W=qp({mode:"hidden",children:W},A),x=il(x,A,h,null),W.return=c,x.return=c,W.sibling=x,c.child=W,x=c.child,x.memoizedState=T0(h),x.childLanes=M0(o,R,h),c.memoizedState=O0,pf(null,x)):(ro(c),k0(c,W))}var J=o.memoizedState;if(J!==null&&(W=J.dehydrated,W!==null)){if(E)c.flags&256?(ro(c),c.flags&=-257,c=P0(o,c,h)):c.memoizedState!==null?(ao(),c.child=o.child,c.flags|=128,c=null):(ao(),W=x.fallback,A=c.mode,x=qp({mode:"visible",children:x.children},A),W=il(W,A,h,null),W.flags|=2,x.return=c,W.return=c,x.sibling=W,c.child=x,hl(c,o.child,null,h),x=c.child,x.memoizedState=T0(h),x.childLanes=M0(o,R,h),c.memoizedState=O0,c=pf(null,x));else if(ro(c),hj(W)){if(R=W.nextSibling&&W.nextSibling.dataset,R)var ve=R.dgst;R=ve,x=Error(r(419)),x.stack="",x.digest=R,nf({value:x,source:null,stack:null}),c=P0(o,c,h)}else if(Xn||$c(o,c,h,!1),R=(h&o.childLanes)!==0,Xn||R){if(R=fn,R!==null&&(x=Gm(R,h),x!==0&&x!==J.retryLane))throw J.retryLane=x,sl(o,x),ia(R,o,x),_0;fj(W)||Yp(),c=P0(o,c,h)}else fj(W)?(c.flags|=192,c.child=o.child,c=null):(o=J.treeContext,wn=La(W.nextSibling),Nr=c,Dt=!0,Qi=null,Da=!1,o!==null&&FO(c,o),c=k0(c,x.children),c.flags|=4096);return c}return A?(ao(),W=x.fallback,A=c.mode,J=o.child,ve=J.sibling,x=Zs(J,{mode:"hidden",children:x.children}),x.subtreeFlags=J.subtreeFlags&65011712,ve!==null?W=Zs(ve,W):(W=il(W,A,h,null),W.flags|=2),W.return=c,x.return=c,x.sibling=W,c.child=x,pf(null,x),x=c.child,W=o.child.memoizedState,W===null?W=T0(h):(A=W.cachePool,A!==null?(J=Yn._currentValue,A=A.parent!==J?{parent:J,pool:J}:A):A=YO(),W={baseLanes:W.baseLanes|h,cachePool:A}),x.memoizedState=W,x.childLanes=M0(o,R,h),c.memoizedState=O0,pf(o.child,x)):(ro(c),h=o.child,o=h.sibling,h=Zs(h,{mode:"visible",children:x.children}),h.return=c,h.sibling=null,o!==null&&(R=c.deletions,R===null?(c.deletions=[o],c.flags|=16):R.push(o)),c.child=h,c.memoizedState=null,h)}function k0(o,c){return c=qp({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function qp(o,c){return o=fa(22,o,null,c),o.lanes=0,o}function P0(o,c,h){return hl(c,o.child,null,h),o=k0(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function oM(o,c,h){o.lanes|=c;var x=o.alternate;x!==null&&(x.lanes|=c),Yb(o.return,c,h)}function R0(o,c,h,x,A,E){var R=o.memoizedState;R===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:x,tail:h,tailMode:A,treeForkCount:E}:(R.isBackwards=c,R.rendering=null,R.renderingStartTime=0,R.last=x,R.tail=h,R.tailMode=A,R.treeForkCount=E)}function lM(o,c,h){var x=c.pendingProps,A=x.revealOrder,E=x.tail;x=x.children;var R=Vn.current,W=(R&2)!==0;if(W?(R=R&1|2,c.flags|=128):R&=1,G(Vn,R),Ar(o,c,x,h),x=Dt?tf:0,!W&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&oM(o,h,c);else if(o.tag===19)oM(o,h,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(A){case"forwards":for(h=c.child,A=null;h!==null;)o=h.alternate,o!==null&&_p(o)===null&&(A=h),h=h.sibling;h=A,h===null?(A=c.child,c.child=null):(A=h.sibling,h.sibling=null),R0(c,!1,A,h,E,x);break;case"backwards":case"unstable_legacy-backwards":for(h=null,A=c.child,c.child=null;A!==null;){if(o=A.alternate,o!==null&&_p(o)===null){c.child=A;break}o=A.sibling,A.sibling=h,h=A,A=o}R0(c,!0,h,null,E,x);break;case"together":R0(c,!1,null,null,void 0,x);break;default:c.memoizedState=null}return c.child}function ai(o,c,h){if(o!==null&&(c.dependencies=o.dependencies),oo|=c.lanes,(h&c.childLanes)===0)if(o!==null){if($c(o,c,h,!1),(h&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(r(153));if(c.child!==null){for(o=c.child,h=Zs(o,o.pendingProps),c.child=h,h.return=c;o.sibling!==null;)o=o.sibling,h=h.sibling=Zs(o,o.pendingProps),h.return=c;h.sibling=null}return c.child}function D0(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&vp(o)))}function $W(o,c,h){switch(c.tag){case 3:pe(c,c.stateNode.containerInfo),Ji(c,Yn,o.memoizedState.cache),ol();break;case 27:case 5:Ae(c);break;case 4:pe(c,c.stateNode.containerInfo);break;case 10:Ji(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,i0(c),null;break;case 13:var x=c.memoizedState;if(x!==null)return x.dehydrated!==null?(ro(c),c.flags|=128,null):(h&c.child.childLanes)!==0?iM(o,c,h):(ro(c),o=ai(o,c,h),o!==null?o.sibling:null);ro(c);break;case 19:var A=(o.flags&128)!==0;if(x=(h&c.childLanes)!==0,x||($c(o,c,h,!1),x=(h&c.childLanes)!==0),A){if(x)return lM(o,c,h);c.flags|=128}if(A=c.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),G(Vn,Vn.current),x)break;return null;case 22:return c.lanes=0,eM(o,c,h,c.pendingProps);case 24:Ji(c,Yn,o.memoizedState.cache)}return ai(o,c,h)}function cM(o,c,h){if(o!==null)if(o.memoizedProps!==c.pendingProps)Xn=!0;else{if(!D0(o,h)&&(c.flags&128)===0)return Xn=!1,$W(o,c,h);Xn=(o.flags&131072)!==0}else Xn=!1,Dt&&(c.flags&1048576)!==0&&BO(c,tf,c.index);switch(c.lanes=0,c.tag){case 16:e:{var x=c.pendingProps;if(o=dl(c.elementType),c.type=o,typeof o=="function")zb(o)?(x=pl(o,x),c.tag=1,c=aM(null,c,o,x,h)):(c.tag=0,c=E0(null,c,o,x,h));else{if(o!=null){var A=o.$$typeof;if(A===S){c.tag=11,c=QT(null,c,o,x,h);break e}else if(A===T){c.tag=14,c=ZT(null,c,o,x,h);break e}}throw c=L(o)||o,Error(r(306,c,""))}}return c;case 0:return E0(o,c,c.type,c.pendingProps,h);case 1:return x=c.type,A=pl(x,c.pendingProps),aM(o,c,x,A,h);case 3:e:{if(pe(c,c.stateNode.containerInfo),o===null)throw Error(r(387));x=c.pendingProps;var E=c.memoizedState;A=E.element,t0(o,c),uf(c,x,null,h);var R=c.memoizedState;if(x=R.cache,Ji(c,Yn,x),x!==E.cache&&Gb(c,[Yn],h,!0),cf(),x=R.element,E.isDehydrated)if(E={element:x,isDehydrated:!1,cache:R.cache},c.updateQueue.baseState=E,c.memoizedState=E,c.flags&256){c=sM(o,c,x,h);break e}else if(x!==A){A=ka(Error(r(424)),c),nf(A),c=sM(o,c,x,h);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for(wn=La(o.firstChild),Nr=c,Dt=!0,Qi=null,Da=!0,h=eT(c,null,x,h),c.child=h;h;)h.flags=h.flags&-3|4096,h=h.sibling}else{if(ol(),x===A){c=ai(o,c,h);break e}Ar(o,c,x,h)}c=c.child}return c;case 26:return $p(o,c),o===null?(h=bk(c.type,null,c.pendingProps,null))?c.memoizedState=h:Dt||(h=c.type,o=c.pendingProps,x=tg(Se.current).createElement(h),x[rr]=c,x[Rr]=o,Cr(x,h,o),Wn(x),c.stateNode=x):c.memoizedState=bk(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ae(c),o===null&&Dt&&(x=c.stateNode=xk(c.type,c.pendingProps,Se.current),Nr=c,Da=!0,A=wn,ho(c.type)?(mj=A,wn=La(x.firstChild)):wn=A),Ar(o,c,c.pendingProps.children,h),$p(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&Dt&&((A=x=wn)&&(x=mY(x,c.type,c.pendingProps,Da),x!==null?(c.stateNode=x,Nr=c,wn=La(x.firstChild),Da=!1,A=!0):A=!1),A||Zi(c)),Ae(c),A=c.type,E=c.pendingProps,R=o!==null?o.memoizedProps:null,x=E.children,cj(A,E)?x=null:R!==null&&cj(A,R)&&(c.flags|=32),c.memoizedState!==null&&(A=l0(o,c,OW,null,null,h),Tf._currentValue=A),$p(o,c),Ar(o,c,x,h),c.child;case 6:return o===null&&Dt&&((o=h=wn)&&(h=pY(h,c.pendingProps,Da),h!==null?(c.stateNode=h,Nr=c,wn=null,o=!0):o=!1),o||Zi(c)),null;case 13:return iM(o,c,h);case 4:return pe(c,c.stateNode.containerInfo),x=c.pendingProps,o===null?c.child=hl(c,null,x,h):Ar(o,c,x,h),c.child;case 11:return QT(o,c,c.type,c.pendingProps,h);case 7:return Ar(o,c,c.pendingProps,h),c.child;case 8:return Ar(o,c,c.pendingProps.children,h),c.child;case 12:return Ar(o,c,c.pendingProps.children,h),c.child;case 10:return x=c.pendingProps,Ji(c,c.type,x.value),Ar(o,c,x.children,h),c.child;case 9:return A=c.type._context,x=c.pendingProps.children,cl(c),A=Sr(A),x=x(A),c.flags|=1,Ar(o,c,x,h),c.child;case 14:return ZT(o,c,c.type,c.pendingProps,h);case 15:return JT(o,c,c.type,c.pendingProps,h);case 19:return lM(o,c,h);case 31:return LW(o,c,h);case 22:return eM(o,c,h,c.pendingProps);case 24:return cl(c),x=Sr(Yn),o===null?(A=Zb(),A===null&&(A=fn,E=Xb(),A.pooledCache=E,E.refCount++,E!==null&&(A.pooledCacheLanes|=h),A=E),c.memoizedState={parent:x,cache:A},e0(c),Ji(c,Yn,A)):((o.lanes&h)!==0&&(t0(o,c),uf(c,null,null,h),cf()),A=o.memoizedState,E=c.memoizedState,A.parent!==x?(A={parent:x,cache:x},c.memoizedState=A,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=A),Ji(c,Yn,x)):(x=E.cache,Ji(c,Yn,x),x!==A.cache&&Gb(c,[Yn],h,!0))),Ar(o,c,c.pendingProps.children,h),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function si(o){o.flags|=4}function I0(o,c,h,x,A){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(A&335544128)===A)if(o.stateNode.complete)o.flags|=8192;else if(IM())o.flags|=8192;else throw fl=Np,Jb}else o.flags&=-16777217}function uM(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!Ak(c))if(IM())o.flags|=8192;else throw fl=Np,Jb}function zp(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?nr():536870912,o.lanes|=c,Xc|=c)}function gf(o,c){if(!Dt)switch(o.tailMode){case"hidden":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o.tail=null:h.sibling=null;break;case"collapsed":h=o.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:x.sibling=null}}function Nn(o){var c=o.alternate!==null&&o.alternate.child===o.child,h=0,x=0;if(c)for(var A=o.child;A!==null;)h|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=o,A=A.sibling;else for(A=o.child;A!==null;)h|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=o,A=A.sibling;return o.subtreeFlags|=x,o.childLanes=h,c}function qW(o,c,h){var x=c.pendingProps;switch(Hb(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(c),null;case 1:return Nn(c),null;case 3:return h=c.stateNode,x=null,o!==null&&(x=o.memoizedState.cache),c.memoizedState.cache!==x&&(c.flags|=2048),ti(Yn),ce(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(Lc(c)?si(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,Kb())),Nn(c),null;case 26:var A=c.type,E=c.memoizedState;return o===null?(si(c),E!==null?(Nn(c),uM(c,E)):(Nn(c),I0(c,A,null,x,h))):E?E!==o.memoizedState?(si(c),Nn(c),uM(c,E)):(Nn(c),c.flags&=-16777217):(o=o.memoizedProps,o!==x&&si(c),Nn(c),I0(c,A,o,x,h)),null;case 27:if(_e(c),h=Se.current,A=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&si(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Nn(c),null}o=Z.current,Lc(c)?UO(c):(o=xk(A,x,h),c.stateNode=o,si(c))}return Nn(c),null;case 5:if(_e(c),A=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==x&&si(c);else{if(!x){if(c.stateNode===null)throw Error(r(166));return Nn(c),null}if(E=Z.current,Lc(c))UO(c);else{var R=tg(Se.current);switch(E){case 1:E=R.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:E=R.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":E=R.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":E=R.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":E=R.createElement("div"),E.innerHTML="<script><\/script>",E=E.removeChild(E.firstChild);break;case"select":E=typeof x.is=="string"?R.createElement("select",{is:x.is}):R.createElement("select"),x.multiple?E.multiple=!0:x.size&&(E.size=x.size);break;default:E=typeof x.is=="string"?R.createElement(A,{is:x.is}):R.createElement(A)}}E[rr]=c,E[Rr]=x;e:for(R=c.child;R!==null;){if(R.tag===5||R.tag===6)E.appendChild(R.stateNode);else if(R.tag!==4&&R.tag!==27&&R.child!==null){R.child.return=R,R=R.child;continue}if(R===c)break e;for(;R.sibling===null;){if(R.return===null||R.return===c)break e;R=R.return}R.sibling.return=R.return,R=R.sibling}c.stateNode=E;e:switch(Cr(E,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&si(c)}}return Nn(c),I0(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,h),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==x&&si(c);else{if(typeof x!="string"&&c.stateNode===null)throw Error(r(166));if(o=Se.current,Lc(c)){if(o=c.stateNode,h=c.memoizedProps,x=null,A=Nr,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}o[rr]=c,o=!!(o.nodeValue===h||x!==null&&x.suppressHydrationWarning===!0||ik(o.nodeValue,h)),o||Zi(c,!0)}else o=tg(o).createTextNode(x),o[rr]=c,c.stateNode=o}return Nn(c),null;case 31:if(h=c.memoizedState,o===null||o.memoizedState!==null){if(x=Lc(c),h!==null){if(o===null){if(!x)throw Error(r(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(557));o[rr]=c}else ol(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Nn(c),o=!1}else h=Kb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=h),o=!0;if(!o)return c.flags&256?(ma(c),c):(ma(c),null);if((c.flags&128)!==0)throw Error(r(558))}return Nn(c),null;case 13:if(x=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(A=Lc(c),x!==null&&x.dehydrated!==null){if(o===null){if(!A)throw Error(r(318));if(A=c.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[rr]=c}else ol(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;Nn(c),A=!1}else A=Kb(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=A),A=!0;if(!A)return c.flags&256?(ma(c),c):(ma(c),null)}return ma(c),(c.flags&128)!==0?(c.lanes=h,c):(h=x!==null,o=o!==null&&o.memoizedState!==null,h&&(x=c.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),E=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(E=x.memoizedState.cachePool.pool),E!==A&&(x.flags|=2048)),h!==o&&h&&(c.child.flags|=8192),zp(c,c.updateQueue),Nn(c),null);case 4:return ce(),o===null&&aj(c.stateNode.containerInfo),Nn(c),null;case 10:return ti(c.type),Nn(c),null;case 19:if(F(Vn),x=c.memoizedState,x===null)return Nn(c),null;if(A=(c.flags&128)!==0,E=x.rendering,E===null)if(A)gf(x,!1);else{if(Ln!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(E=_p(o),E!==null){for(c.flags|=128,gf(x,!1),o=E.updateQueue,c.updateQueue=o,zp(c,o),c.subtreeFlags=0,o=h,h=c.child;h!==null;)$O(h,o),h=h.sibling;return G(Vn,Vn.current&1|2),Dt&&Js(c,x.treeForkCount),c.child}o=o.sibling}x.tail!==null&&Ze()>Vp&&(c.flags|=128,A=!0,gf(x,!1),c.lanes=4194304)}else{if(!A)if(o=_p(E),o!==null){if(c.flags|=128,A=!0,o=o.updateQueue,c.updateQueue=o,zp(c,o),gf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!E.alternate&&!Dt)return Nn(c),null}else 2*Ze()-x.renderingStartTime>Vp&&h!==536870912&&(c.flags|=128,A=!0,gf(x,!1),c.lanes=4194304);x.isBackwards?(E.sibling=c.child,c.child=E):(o=x.last,o!==null?o.sibling=E:c.child=E,x.last=E)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=Ze(),o.sibling=null,h=Vn.current,G(Vn,A?h&1|2:h&1),Dt&&Js(c,x.treeForkCount),o):(Nn(c),null);case 22:case 23:return ma(c),s0(),x=c.memoizedState!==null,o!==null?o.memoizedState!==null!==x&&(c.flags|=8192):x&&(c.flags|=8192),x?(h&536870912)!==0&&(c.flags&128)===0&&(Nn(c),c.subtreeFlags&6&&(c.flags|=8192)):Nn(c),h=c.updateQueue,h!==null&&zp(c,h.retryQueue),h=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),x=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(x=c.memoizedState.cachePool.pool),x!==h&&(c.flags|=2048),o!==null&&F(ul),null;case 24:return h=null,o!==null&&(h=o.memoizedState.cache),c.memoizedState.cache!==h&&(c.flags|=2048),ti(Yn),Nn(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function zW(o,c){switch(Hb(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return ti(Yn),ce(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return _e(c),null;case 31:if(c.memoizedState!==null){if(ma(c),c.alternate===null)throw Error(r(340));ol()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(ma(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(r(340));ol()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return F(Vn),null;case 4:return ce(),null;case 10:return ti(c.type),null;case 22:case 23:return ma(c),s0(),o!==null&&F(ul),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return ti(Yn),null;case 25:return null;default:return null}}function dM(o,c){switch(Hb(c),c.tag){case 3:ti(Yn),ce();break;case 26:case 27:case 5:_e(c);break;case 4:ce();break;case 31:c.memoizedState!==null&&ma(c);break;case 13:ma(c);break;case 19:F(Vn);break;case 10:ti(c.type);break;case 22:case 23:ma(c),s0(),o!==null&&F(ul);break;case 24:ti(Yn)}}function xf(o,c){try{var h=c.updateQueue,x=h!==null?h.lastEffect:null;if(x!==null){var A=x.next;h=A;do{if((h.tag&o)===o){x=void 0;var E=h.create,R=h.inst;x=E(),R.destroy=x}h=h.next}while(h!==A)}}catch(W){nn(c,c.return,W)}}function so(o,c,h){try{var x=c.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var E=A.next;x=E;do{if((x.tag&o)===o){var R=x.inst,W=R.destroy;if(W!==void 0){R.destroy=void 0,A=c;var J=h,ve=W;try{ve()}catch(Ce){nn(A,J,Ce)}}}x=x.next}while(x!==E)}}catch(Ce){nn(c,c.return,Ce)}}function fM(o){var c=o.updateQueue;if(c!==null){var h=o.stateNode;try{nT(c,h)}catch(x){nn(o,o.return,x)}}}function hM(o,c,h){h.props=pl(o.type,o.memoizedProps),h.state=o.memoizedState;try{h.componentWillUnmount()}catch(x){nn(o,c,x)}}function yf(o,c){try{var h=o.ref;if(h!==null){switch(o.tag){case 26:case 27:case 5:var x=o.stateNode;break;case 30:x=o.stateNode;break;default:x=o.stateNode}typeof h=="function"?o.refCleanup=h(x):h.current=x}}catch(A){nn(o,c,A)}}function Os(o,c){var h=o.ref,x=o.refCleanup;if(h!==null)if(typeof x=="function")try{x()}catch(A){nn(o,c,A)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof h=="function")try{h(null)}catch(A){nn(o,c,A)}else h.current=null}function mM(o){var c=o.type,h=o.memoizedProps,x=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":h.autoFocus&&x.focus();break e;case"img":h.src?x.src=h.src:h.srcSet&&(x.srcset=h.srcSet)}}catch(A){nn(o,o.return,A)}}function L0(o,c,h){try{var x=o.stateNode;lY(x,o.type,h,c),x[Rr]=c}catch(A){nn(o,o.return,A)}}function pM(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&ho(o.type)||o.tag===4}function $0(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||pM(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&ho(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function q0(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?(h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h).insertBefore(o,c):(c=h.nodeType===9?h.body:h.nodeName==="HTML"?h.ownerDocument.body:h,c.appendChild(o),h=h._reactRootContainer,h!=null||c.onclick!==null||(c.onclick=Xs));else if(x!==4&&(x===27&&ho(o.type)&&(h=o.stateNode,c=null),o=o.child,o!==null))for(q0(o,c,h),o=o.sibling;o!==null;)q0(o,c,h),o=o.sibling}function Bp(o,c,h){var x=o.tag;if(x===5||x===6)o=o.stateNode,c?h.insertBefore(o,c):h.appendChild(o);else if(x!==4&&(x===27&&ho(o.type)&&(h=o.stateNode),o=o.child,o!==null))for(Bp(o,c,h),o=o.sibling;o!==null;)Bp(o,c,h),o=o.sibling}function gM(o){var c=o.stateNode,h=o.memoizedProps;try{for(var x=o.type,A=c.attributes;A.length;)c.removeAttributeNode(A[0]);Cr(c,x,h),c[rr]=o,c[Rr]=h}catch(E){nn(o,o.return,E)}}var ii=!1,Qn=!1,z0=!1,xM=typeof WeakSet=="function"?WeakSet:Set,pr=null;function BW(o,c){if(o=o.containerInfo,oj=lg,o=OO(o),Pb(o)){if("selectionStart"in o)var h={start:o.selectionStart,end:o.selectionEnd};else e:{h=(h=o.ownerDocument)&&h.defaultView||window;var x=h.getSelection&&h.getSelection();if(x&&x.rangeCount!==0){h=x.anchorNode;var A=x.anchorOffset,E=x.focusNode;x=x.focusOffset;try{h.nodeType,E.nodeType}catch{h=null;break e}var R=0,W=-1,J=-1,ve=0,Ce=0,Me=o,je=null;t:for(;;){for(var Ne;Me!==h||A!==0&&Me.nodeType!==3||(W=R+A),Me!==E||x!==0&&Me.nodeType!==3||(J=R+x),Me.nodeType===3&&(R+=Me.nodeValue.length),(Ne=Me.firstChild)!==null;)je=Me,Me=Ne;for(;;){if(Me===o)break t;if(je===h&&++ve===A&&(W=R),je===E&&++Ce===x&&(J=R),(Ne=Me.nextSibling)!==null)break;Me=je,je=Me.parentNode}Me=Ne}h=W===-1||J===-1?null:{start:W,end:J}}else h=null}h=h||{start:0,end:0}}else h=null;for(lj={focusedElem:o,selectionRange:h},lg=!1,pr=c;pr!==null;)if(c=pr,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,pr=o;else for(;pr!==null;){switch(c=pr,E=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(h=0;h<o.length;h++)A=o[h],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&E!==null){o=void 0,h=c,A=E.memoizedProps,E=E.memoizedState,x=h.stateNode;try{var Ge=pl(h.type,A);o=x.getSnapshotBeforeUpdate(Ge,E),x.__reactInternalSnapshotBeforeUpdate=o}catch(yt){nn(h,h.return,yt)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,h=o.nodeType,h===9)dj(o);else if(h===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":dj(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(r(163))}if(o=c.sibling,o!==null){o.return=c.return,pr=o;break}pr=c.return}}function yM(o,c,h){var x=h.flags;switch(h.tag){case 0:case 11:case 15:li(o,h),x&4&&xf(5,h);break;case 1:if(li(o,h),x&4)if(o=h.stateNode,c===null)try{o.componentDidMount()}catch(R){nn(h,h.return,R)}else{var A=pl(h.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(A,c,o.__reactInternalSnapshotBeforeUpdate)}catch(R){nn(h,h.return,R)}}x&64&&fM(h),x&512&&yf(h,h.return);break;case 3:if(li(o,h),x&64&&(o=h.updateQueue,o!==null)){if(c=null,h.child!==null)switch(h.child.tag){case 27:case 5:c=h.child.stateNode;break;case 1:c=h.child.stateNode}try{nT(o,c)}catch(R){nn(h,h.return,R)}}break;case 27:c===null&&x&4&&gM(h);case 26:case 5:li(o,h),c===null&&x&4&&mM(h),x&512&&yf(h,h.return);break;case 12:li(o,h);break;case 31:li(o,h),x&4&&jM(o,h);break;case 13:li(o,h),x&4&&wM(o,h),x&64&&(o=h.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(h=XW.bind(null,h),gY(o,h))));break;case 22:if(x=h.memoizedState!==null||ii,!x){c=c!==null&&c.memoizedState!==null||Qn,A=ii;var E=Qn;ii=x,(Qn=c)&&!E?ci(o,h,(h.subtreeFlags&8772)!==0):li(o,h),ii=A,Qn=E}break;case 30:break;default:li(o,h)}}function vM(o){var c=o.alternate;c!==null&&(o.alternate=null,vM(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ud(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var Cn=null,na=!1;function oi(o,c,h){for(h=h.child;h!==null;)bM(o,c,h),h=h.sibling}function bM(o,c,h){if(jn&&typeof jn.onCommitFiberUnmount=="function")try{jn.onCommitFiberUnmount(bn,h)}catch{}switch(h.tag){case 26:Qn||Os(h,c),oi(o,c,h),h.memoizedState?h.memoizedState.count--:h.stateNode&&(h=h.stateNode,h.parentNode.removeChild(h));break;case 27:Qn||Os(h,c);var x=Cn,A=na;ho(h.type)&&(Cn=h.stateNode,na=!1),oi(o,c,h),_f(h.stateNode),Cn=x,na=A;break;case 5:Qn||Os(h,c);case 6:if(x=Cn,A=na,Cn=null,oi(o,c,h),Cn=x,na=A,Cn!==null)if(na)try{(Cn.nodeType===9?Cn.body:Cn.nodeName==="HTML"?Cn.ownerDocument.body:Cn).removeChild(h.stateNode)}catch(E){nn(h,c,E)}else try{Cn.removeChild(h.stateNode)}catch(E){nn(h,c,E)}break;case 18:Cn!==null&&(na?(o=Cn,fk(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,h.stateNode),au(o)):fk(Cn,h.stateNode));break;case 4:x=Cn,A=na,Cn=h.stateNode.containerInfo,na=!0,oi(o,c,h),Cn=x,na=A;break;case 0:case 11:case 14:case 15:so(2,h,c),Qn||so(4,h,c),oi(o,c,h);break;case 1:Qn||(Os(h,c),x=h.stateNode,typeof x.componentWillUnmount=="function"&&hM(h,c,x)),oi(o,c,h);break;case 21:oi(o,c,h);break;case 22:Qn=(x=Qn)||h.memoizedState!==null,oi(o,c,h),Qn=x;break;default:oi(o,c,h)}}function jM(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{au(o)}catch(h){nn(c,c.return,h)}}}function wM(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{au(o)}catch(h){nn(c,c.return,h)}}function FW(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new xM),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new xM),c;default:throw Error(r(435,o.tag))}}function Fp(o,c){var h=FW(o);c.forEach(function(x){if(!h.has(x)){h.add(x);var A=QW.bind(null,o,x);x.then(A,A)}})}function ra(o,c){var h=c.deletions;if(h!==null)for(var x=0;x<h.length;x++){var A=h[x],E=o,R=c,W=R;e:for(;W!==null;){switch(W.tag){case 27:if(ho(W.type)){Cn=W.stateNode,na=!1;break e}break;case 5:Cn=W.stateNode,na=!1;break e;case 3:case 4:Cn=W.stateNode.containerInfo,na=!0;break e}W=W.return}if(Cn===null)throw Error(r(160));bM(E,R,A),Cn=null,na=!1,E=A.alternate,E!==null&&(E.return=null),A.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)NM(c,o),c=c.sibling}var ss=null;function NM(o,c){var h=o.alternate,x=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:ra(c,o),aa(o),x&4&&(so(3,o,o.return),xf(3,o),so(5,o,o.return));break;case 1:ra(c,o),aa(o),x&512&&(Qn||h===null||Os(h,h.return)),x&64&&ii&&(o=o.updateQueue,o!==null&&(x=o.callbacks,x!==null&&(h=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=h===null?x:h.concat(x))));break;case 26:var A=ss;if(ra(c,o),aa(o),x&512&&(Qn||h===null||Os(h,h.return)),x&4){var E=h!==null?h.memoizedState:null;if(x=o.memoizedState,h===null)if(x===null)if(o.stateNode===null){e:{x=o.type,h=o.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":E=A.getElementsByTagName("title")[0],(!E||E[tl]||E[rr]||E.namespaceURI==="http://www.w3.org/2000/svg"||E.hasAttribute("itemprop"))&&(E=A.createElement(x),A.head.insertBefore(E,A.querySelector("head > title"))),Cr(E,x,h),E[rr]=o,Wn(E),x=E;break e;case"link":var R=Nk("link","href",A).get(x+(h.href||""));if(R){for(var W=0;W<R.length;W++)if(E=R[W],E.getAttribute("href")===(h.href==null||h.href===""?null:h.href)&&E.getAttribute("rel")===(h.rel==null?null:h.rel)&&E.getAttribute("title")===(h.title==null?null:h.title)&&E.getAttribute("crossorigin")===(h.crossOrigin==null?null:h.crossOrigin)){R.splice(W,1);break t}}E=A.createElement(x),Cr(E,x,h),A.head.appendChild(E);break;case"meta":if(R=Nk("meta","content",A).get(x+(h.content||""))){for(W=0;W<R.length;W++)if(E=R[W],E.getAttribute("content")===(h.content==null?null:""+h.content)&&E.getAttribute("name")===(h.name==null?null:h.name)&&E.getAttribute("property")===(h.property==null?null:h.property)&&E.getAttribute("http-equiv")===(h.httpEquiv==null?null:h.httpEquiv)&&E.getAttribute("charset")===(h.charSet==null?null:h.charSet)){R.splice(W,1);break t}}E=A.createElement(x),Cr(E,x,h),A.head.appendChild(E);break;default:throw Error(r(468,x))}E[rr]=o,Wn(E),x=E}o.stateNode=x}else Sk(A,o.type,o.stateNode);else o.stateNode=wk(A,x,o.memoizedProps);else E!==x?(E===null?h.stateNode!==null&&(h=h.stateNode,h.parentNode.removeChild(h)):E.count--,x===null?Sk(A,o.type,o.stateNode):wk(A,x,o.memoizedProps)):x===null&&o.stateNode!==null&&L0(o,o.memoizedProps,h.memoizedProps)}break;case 27:ra(c,o),aa(o),x&512&&(Qn||h===null||Os(h,h.return)),h!==null&&x&4&&L0(o,o.memoizedProps,h.memoizedProps);break;case 5:if(ra(c,o),aa(o),x&512&&(Qn||h===null||Os(h,h.return)),o.flags&32){A=o.stateNode;try{_c(A,"")}catch(Ge){nn(o,o.return,Ge)}}x&4&&o.stateNode!=null&&(A=o.memoizedProps,L0(o,A,h!==null?h.memoizedProps:A)),x&1024&&(z0=!0);break;case 6:if(ra(c,o),aa(o),x&4){if(o.stateNode===null)throw Error(r(162));x=o.memoizedProps,h=o.stateNode;try{h.nodeValue=x}catch(Ge){nn(o,o.return,Ge)}}break;case 3:if(ag=null,A=ss,ss=ng(c.containerInfo),ra(c,o),ss=A,aa(o),x&4&&h!==null&&h.memoizedState.isDehydrated)try{au(c.containerInfo)}catch(Ge){nn(o,o.return,Ge)}z0&&(z0=!1,SM(o));break;case 4:x=ss,ss=ng(o.stateNode.containerInfo),ra(c,o),aa(o),ss=x;break;case 12:ra(c,o),aa(o);break;case 31:ra(c,o),aa(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Fp(o,x)));break;case 13:ra(c,o),aa(o),o.child.flags&8192&&o.memoizedState!==null!=(h!==null&&h.memoizedState!==null)&&(Hp=Ze()),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Fp(o,x)));break;case 22:A=o.memoizedState!==null;var J=h!==null&&h.memoizedState!==null,ve=ii,Ce=Qn;if(ii=ve||A,Qn=Ce||J,ra(c,o),Qn=Ce,ii=ve,aa(o),x&8192)e:for(c=o.stateNode,c._visibility=A?c._visibility&-2:c._visibility|1,A&&(h===null||J||ii||Qn||gl(o)),h=null,c=o;;){if(c.tag===5||c.tag===26){if(h===null){J=h=c;try{if(E=J.stateNode,A)R=E.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{W=J.stateNode;var Me=J.memoizedProps.style,je=Me!=null&&Me.hasOwnProperty("display")?Me.display:null;W.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ge){nn(J,J.return,Ge)}}}else if(c.tag===6){if(h===null){J=c;try{J.stateNode.nodeValue=A?"":J.memoizedProps}catch(Ge){nn(J,J.return,Ge)}}}else if(c.tag===18){if(h===null){J=c;try{var Ne=J.stateNode;A?hk(Ne,!0):hk(J.stateNode,!1)}catch(Ge){nn(J,J.return,Ge)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}x&4&&(x=o.updateQueue,x!==null&&(h=x.retryQueue,h!==null&&(x.retryQueue=null,Fp(o,h))));break;case 19:ra(c,o),aa(o),x&4&&(x=o.updateQueue,x!==null&&(o.updateQueue=null,Fp(o,x)));break;case 30:break;case 21:break;default:ra(c,o),aa(o)}}function aa(o){var c=o.flags;if(c&2){try{for(var h,x=o.return;x!==null;){if(pM(x)){h=x;break}x=x.return}if(h==null)throw Error(r(160));switch(h.tag){case 27:var A=h.stateNode,E=$0(o);Bp(o,E,A);break;case 5:var R=h.stateNode;h.flags&32&&(_c(R,""),h.flags&=-33);var W=$0(o);Bp(o,W,R);break;case 3:case 4:var J=h.stateNode.containerInfo,ve=$0(o);q0(o,ve,J);break;default:throw Error(r(161))}}catch(Ce){nn(o,o.return,Ce)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function SM(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;SM(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function li(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)yM(o,c.alternate,c),c=c.sibling}function gl(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:so(4,c,c.return),gl(c);break;case 1:Os(c,c.return);var h=c.stateNode;typeof h.componentWillUnmount=="function"&&hM(c,c.return,h),gl(c);break;case 27:_f(c.stateNode);case 26:case 5:Os(c,c.return),gl(c);break;case 22:c.memoizedState===null&&gl(c);break;case 30:gl(c);break;default:gl(c)}o=o.sibling}}function ci(o,c,h){for(h=h&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var x=c.alternate,A=o,E=c,R=E.flags;switch(E.tag){case 0:case 11:case 15:ci(A,E,h),xf(4,E);break;case 1:if(ci(A,E,h),x=E,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(ve){nn(x,x.return,ve)}if(x=E,A=x.updateQueue,A!==null){var W=x.stateNode;try{var J=A.shared.hiddenCallbacks;if(J!==null)for(A.shared.hiddenCallbacks=null,A=0;A<J.length;A++)tT(J[A],W)}catch(ve){nn(x,x.return,ve)}}h&&R&64&&fM(E),yf(E,E.return);break;case 27:gM(E);case 26:case 5:ci(A,E,h),h&&x===null&&R&4&&mM(E),yf(E,E.return);break;case 12:ci(A,E,h);break;case 31:ci(A,E,h),h&&R&4&&jM(A,E);break;case 13:ci(A,E,h),h&&R&4&&wM(A,E);break;case 22:E.memoizedState===null&&ci(A,E,h),yf(E,E.return);break;case 30:break;default:ci(A,E,h)}c=c.sibling}}function B0(o,c){var h=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==h&&(o!=null&&o.refCount++,h!=null&&rf(h))}function F0(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&rf(o))}function is(o,c,h,x){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)AM(o,c,h,x),c=c.sibling}function AM(o,c,h,x){var A=c.flags;switch(c.tag){case 0:case 11:case 15:is(o,c,h,x),A&2048&&xf(9,c);break;case 1:is(o,c,h,x);break;case 3:is(o,c,h,x),A&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&rf(o)));break;case 12:if(A&2048){is(o,c,h,x),o=c.stateNode;try{var E=c.memoizedProps,R=E.id,W=E.onPostCommit;typeof W=="function"&&W(R,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(J){nn(c,c.return,J)}}else is(o,c,h,x);break;case 31:is(o,c,h,x);break;case 13:is(o,c,h,x);break;case 23:break;case 22:E=c.stateNode,R=c.alternate,c.memoizedState!==null?E._visibility&2?is(o,c,h,x):vf(o,c):E._visibility&2?is(o,c,h,x):(E._visibility|=2,Wc(o,c,h,x,(c.subtreeFlags&10256)!==0||!1)),A&2048&&B0(R,c);break;case 24:is(o,c,h,x),A&2048&&F0(c.alternate,c);break;default:is(o,c,h,x)}}function Wc(o,c,h,x,A){for(A=A&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var E=o,R=c,W=h,J=x,ve=R.flags;switch(R.tag){case 0:case 11:case 15:Wc(E,R,W,J,A),xf(8,R);break;case 23:break;case 22:var Ce=R.stateNode;R.memoizedState!==null?Ce._visibility&2?Wc(E,R,W,J,A):vf(E,R):(Ce._visibility|=2,Wc(E,R,W,J,A)),A&&ve&2048&&B0(R.alternate,R);break;case 24:Wc(E,R,W,J,A),A&&ve&2048&&F0(R.alternate,R);break;default:Wc(E,R,W,J,A)}c=c.sibling}}function vf(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var h=o,x=c,A=x.flags;switch(x.tag){case 22:vf(h,x),A&2048&&B0(x.alternate,x);break;case 24:vf(h,x),A&2048&&F0(x.alternate,x);break;default:vf(h,x)}c=c.sibling}}var bf=8192;function Yc(o,c,h){if(o.subtreeFlags&bf)for(o=o.child;o!==null;)CM(o,c,h),o=o.sibling}function CM(o,c,h){switch(o.tag){case 26:Yc(o,c,h),o.flags&bf&&o.memoizedState!==null&&EY(h,ss,o.memoizedState,o.memoizedProps);break;case 5:Yc(o,c,h);break;case 3:case 4:var x=ss;ss=ng(o.stateNode.containerInfo),Yc(o,c,h),ss=x;break;case 22:o.memoizedState===null&&(x=o.alternate,x!==null&&x.memoizedState!==null?(x=bf,bf=16777216,Yc(o,c,h),bf=x):Yc(o,c,h));break;default:Yc(o,c,h)}}function _M(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function jf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];pr=x,OM(x,o)}_M(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)EM(o),o=o.sibling}function EM(o){switch(o.tag){case 0:case 11:case 15:jf(o),o.flags&2048&&so(9,o,o.return);break;case 3:jf(o);break;case 12:jf(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Up(o)):jf(o);break;default:jf(o)}}function Up(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var h=0;h<c.length;h++){var x=c[h];pr=x,OM(x,o)}_M(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:so(8,c,c.return),Up(c);break;case 22:h=c.stateNode,h._visibility&2&&(h._visibility&=-3,Up(c));break;default:Up(c)}o=o.sibling}}function OM(o,c){for(;pr!==null;){var h=pr;switch(h.tag){case 0:case 11:case 15:so(8,h,c);break;case 23:case 22:if(h.memoizedState!==null&&h.memoizedState.cachePool!==null){var x=h.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:rf(h.memoizedState.cache)}if(x=h.child,x!==null)x.return=h,pr=x;else e:for(h=o;pr!==null;){x=pr;var A=x.sibling,E=x.return;if(vM(x),x===h){pr=null;break e}if(A!==null){A.return=E,pr=A;break e}pr=E}}}var UW={getCacheForType:function(o){var c=Sr(Yn),h=c.data.get(o);return h===void 0&&(h=o(),c.data.set(o,h)),h},cacheSignal:function(){return Sr(Yn).controller.signal}},HW=typeof WeakMap=="function"?WeakMap:Map,Vt=0,fn=null,Tt=null,Pt=0,tn=0,pa=null,io=!1,Gc=!1,U0=!1,ui=0,Ln=0,oo=0,xl=0,H0=0,ga=0,Xc=0,wf=null,sa=null,V0=!1,Hp=0,TM=0,Vp=1/0,Kp=null,lo=null,ar=0,co=null,Qc=null,di=0,K0=0,W0=null,MM=null,Nf=0,Y0=null;function xa(){return(Vt&2)!==0&&Pt!==0?Pt&-Pt:k.T!==null?ej():Xm()}function kM(){if(ga===0)if((Pt&536870912)===0||Dt){var o=oe;oe<<=1,(oe&3932160)===0&&(oe=262144),ga=o}else ga=536870912;return o=ha.current,o!==null&&(o.flags|=32),ga}function ia(o,c,h){(o===fn&&(tn===2||tn===9)||o.cancelPendingCommit!==null)&&(Zc(o,0),uo(o,Pt,ga,!1)),el(o,h),((Vt&2)===0||o!==fn)&&(o===fn&&((Vt&2)===0&&(xl|=h),Ln===4&&uo(o,Pt,ga,!1)),Ts(o))}function PM(o,c,h){if((Vt&6)!==0)throw Error(r(327));var x=!h&&(c&127)===0&&(c&o.expiredLanes)===0||It(o,c),A=x?WW(o,c):X0(o,c,!0),E=x;do{if(A===0){Gc&&!x&&uo(o,c,0,!1);break}else{if(h=o.current.alternate,E&&!VW(h)){A=X0(o,c,!1),E=!1;continue}if(A===2){if(E=c,o.errorRecoveryDisabledLanes&E)var R=0;else R=o.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){c=R;e:{var W=o;A=wf;var J=W.current.memoizedState.isDehydrated;if(J&&(Zc(W,R).flags|=256),R=X0(W,R,!1),R!==2){if(U0&&!J){W.errorRecoveryDisabledLanes|=E,xl|=E,A=4;break e}E=sa,sa=A,E!==null&&(sa===null?sa=E:sa.push.apply(sa,E))}A=R}if(E=!1,A!==2)continue}}if(A===1){Zc(o,0),uo(o,c,0,!0);break}e:{switch(x=o,E=A,E){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:uo(x,c,ga,!io);break e;case 2:sa=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(A=Hp+300-Ze(),10<A)){if(uo(x,c,ga,!io),ot(x,0,!0)!==0)break e;di=c,x.timeoutHandle=uk(RM.bind(null,x,h,sa,Kp,V0,c,ga,xl,Xc,io,E,"Throttled",-0,0),A);break e}RM(x,h,sa,Kp,V0,c,ga,xl,Xc,io,E,null,-0,0)}}break}while(!0);Ts(o)}function RM(o,c,h,x,A,E,R,W,J,ve,Ce,Me,je,Ne){if(o.timeoutHandle=-1,Me=c.subtreeFlags,Me&8192||(Me&16785408)===16785408){Me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Xs},CM(c,E,Me);var Ge=(E&62914560)===E?Hp-Ze():(E&4194048)===E?TM-Ze():0;if(Ge=OY(Me,Ge),Ge!==null){di=E,o.cancelPendingCommit=Ge(FM.bind(null,o,c,E,h,x,A,R,W,J,Ce,Me,null,je,Ne)),uo(o,E,R,!ve);return}}FM(o,c,E,h,x,A,R,W,J)}function VW(o){for(var c=o;;){var h=c.tag;if((h===0||h===11||h===15)&&c.flags&16384&&(h=c.updateQueue,h!==null&&(h=h.stores,h!==null)))for(var x=0;x<h.length;x++){var A=h[x],E=A.getSnapshot;A=A.value;try{if(!da(E(),A))return!1}catch{return!1}}if(h=c.child,c.subtreeFlags&16384&&h!==null)h.return=c,c=h;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function uo(o,c,h,x){c&=~H0,c&=~xl,o.suspendedLanes|=c,o.pingedLanes&=~c,x&&(o.warmLanes|=c),x=o.expirationTimes;for(var A=c;0<A;){var E=31-mr(A),R=1<<E;x[E]=-1,A&=~R}h!==0&&Wm(o,h,c)}function Wp(){return(Vt&6)===0?(Sf(0),!1):!0}function G0(){if(Tt!==null){if(tn===0)var o=Tt.return;else o=Tt,ei=ll=null,d0(o),Fc=null,sf=0,o=Tt;for(;o!==null;)dM(o.alternate,o),o=o.return;Tt=null}}function Zc(o,c){var h=o.timeoutHandle;h!==-1&&(o.timeoutHandle=-1,dY(h)),h=o.cancelPendingCommit,h!==null&&(o.cancelPendingCommit=null,h()),di=0,G0(),fn=o,Tt=h=Zs(o.current,null),Pt=c,tn=0,pa=null,io=!1,Gc=It(o,c),U0=!1,Xc=ga=H0=xl=oo=Ln=0,sa=wf=null,V0=!1,(c&8)!==0&&(c|=c&32);var x=o.entangledLanes;if(x!==0)for(o=o.entanglements,x&=c;0<x;){var A=31-mr(x),E=1<<A;c|=o[A],x&=~E}return ui=c,mp(),h}function DM(o,c){At=null,k.H=mf,c===Bc||c===wp?(c=QO(),tn=3):c===Jb?(c=QO(),tn=4):tn=c===_0?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,pa=c,Tt===null&&(Ln=1,Ip(o,ka(c,o.current)))}function IM(){var o=ha.current;return o===null?!0:(Pt&4194048)===Pt?Ia===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?o===Ia:!1}function LM(){var o=k.H;return k.H=mf,o===null?mf:o}function $M(){var o=k.A;return k.A=UW,o}function Yp(){Ln=4,io||(Pt&4194048)!==Pt&&ha.current!==null||(Gc=!0),(oo&134217727)===0&&(xl&134217727)===0||fn===null||uo(fn,Pt,ga,!1)}function X0(o,c,h){var x=Vt;Vt|=2;var A=LM(),E=$M();(fn!==o||Pt!==c)&&(Kp=null,Zc(o,c)),c=!1;var R=Ln;e:do try{if(tn!==0&&Tt!==null){var W=Tt,J=pa;switch(tn){case 8:G0(),R=6;break e;case 3:case 2:case 9:case 6:ha.current===null&&(c=!0);var ve=tn;if(tn=0,pa=null,Jc(o,W,J,ve),h&&Gc){R=0;break e}break;default:ve=tn,tn=0,pa=null,Jc(o,W,J,ve)}}KW(),R=Ln;break}catch(Ce){DM(o,Ce)}while(!0);return c&&o.shellSuspendCounter++,ei=ll=null,Vt=x,k.H=A,k.A=E,Tt===null&&(fn=null,Pt=0,mp()),R}function KW(){for(;Tt!==null;)qM(Tt)}function WW(o,c){var h=Vt;Vt|=2;var x=LM(),A=$M();fn!==o||Pt!==c?(Kp=null,Vp=Ze()+500,Zc(o,c)):Gc=It(o,c);e:do try{if(tn!==0&&Tt!==null){c=Tt;var E=pa;t:switch(tn){case 1:tn=0,pa=null,Jc(o,c,E,1);break;case 2:case 9:if(GO(E)){tn=0,pa=null,zM(c);break}c=function(){tn!==2&&tn!==9||fn!==o||(tn=7),Ts(o)},E.then(c,c);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:GO(E)?(tn=0,pa=null,zM(c)):(tn=0,pa=null,Jc(o,c,E,7));break;case 5:var R=null;switch(Tt.tag){case 26:R=Tt.memoizedState;case 5:case 27:var W=Tt;if(R?Ak(R):W.stateNode.complete){tn=0,pa=null;var J=W.sibling;if(J!==null)Tt=J;else{var ve=W.return;ve!==null?(Tt=ve,Gp(ve)):Tt=null}break t}}tn=0,pa=null,Jc(o,c,E,5);break;case 6:tn=0,pa=null,Jc(o,c,E,6);break;case 8:G0(),Ln=6;break e;default:throw Error(r(462))}}YW();break}catch(Ce){DM(o,Ce)}while(!0);return ei=ll=null,k.H=x,k.A=A,Vt=h,Tt!==null?0:(fn=null,Pt=0,mp(),Ln)}function YW(){for(;Tt!==null&&!be();)qM(Tt)}function qM(o){var c=cM(o.alternate,o,ui);o.memoizedProps=o.pendingProps,c===null?Gp(o):Tt=c}function zM(o){var c=o,h=c.alternate;switch(c.tag){case 15:case 0:c=rM(h,c,c.pendingProps,c.type,void 0,Pt);break;case 11:c=rM(h,c,c.pendingProps,c.type.render,c.ref,Pt);break;case 5:d0(c);default:dM(h,c),c=Tt=$O(c,ui),c=cM(h,c,ui)}o.memoizedProps=o.pendingProps,c===null?Gp(o):Tt=c}function Jc(o,c,h,x){ei=ll=null,d0(c),Fc=null,sf=0;var A=c.return;try{if(IW(o,A,c,h,Pt)){Ln=1,Ip(o,ka(h,o.current)),Tt=null;return}}catch(E){if(A!==null)throw Tt=A,E;Ln=1,Ip(o,ka(h,o.current)),Tt=null;return}c.flags&32768?(Dt||x===1?o=!0:Gc||(Pt&536870912)!==0?o=!1:(io=o=!0,(x===2||x===9||x===3||x===6)&&(x=ha.current,x!==null&&x.tag===13&&(x.flags|=16384))),BM(c,o)):Gp(c)}function Gp(o){var c=o;do{if((c.flags&32768)!==0){BM(c,io);return}o=c.return;var h=qW(c.alternate,c,ui);if(h!==null){Tt=h;return}if(c=c.sibling,c!==null){Tt=c;return}Tt=c=o}while(c!==null);Ln===0&&(Ln=5)}function BM(o,c){do{var h=zW(o.alternate,o);if(h!==null){h.flags&=32767,Tt=h;return}if(h=o.return,h!==null&&(h.flags|=32768,h.subtreeFlags=0,h.deletions=null),!c&&(o=o.sibling,o!==null)){Tt=o;return}Tt=o=h}while(o!==null);Ln=6,Tt=null}function FM(o,c,h,x,A,E,R,W,J){o.cancelPendingCommit=null;do Xp();while(ar!==0);if((Vt&6)!==0)throw Error(r(327));if(c!==null){if(c===o.current)throw Error(r(177));if(E=c.lanes|c.childLanes,E|=$b,mb(o,h,E,R,W,J),o===fn&&(Tt=fn=null,Pt=0),Qc=c,co=o,di=h,K0=E,W0=A,MM=x,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,ZW(qe,function(){return WM(),null})):(o.callbackNode=null,o.callbackPriority=0),x=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||x){x=k.T,k.T=null,A=I.p,I.p=2,R=Vt,Vt|=4;try{BW(o,c,h)}finally{Vt=R,I.p=A,k.T=x}}ar=1,UM(),HM(),VM()}}function UM(){if(ar===1){ar=0;var o=co,c=Qc,h=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||h){h=k.T,k.T=null;var x=I.p;I.p=2;var A=Vt;Vt|=4;try{NM(c,o);var E=lj,R=OO(o.containerInfo),W=E.focusedElem,J=E.selectionRange;if(R!==W&&W&&W.ownerDocument&&EO(W.ownerDocument.documentElement,W)){if(J!==null&&Pb(W)){var ve=J.start,Ce=J.end;if(Ce===void 0&&(Ce=ve),"selectionStart"in W)W.selectionStart=ve,W.selectionEnd=Math.min(Ce,W.value.length);else{var Me=W.ownerDocument||document,je=Me&&Me.defaultView||window;if(je.getSelection){var Ne=je.getSelection(),Ge=W.textContent.length,yt=Math.min(J.start,Ge),cn=J.end===void 0?yt:Math.min(J.end,Ge);!Ne.extend&&yt>cn&&(R=cn,cn=yt,yt=R);var me=_O(W,yt),ne=_O(W,cn);if(me&&ne&&(Ne.rangeCount!==1||Ne.anchorNode!==me.node||Ne.anchorOffset!==me.offset||Ne.focusNode!==ne.node||Ne.focusOffset!==ne.offset)){var ye=Me.createRange();ye.setStart(me.node,me.offset),Ne.removeAllRanges(),yt>cn?(Ne.addRange(ye),Ne.extend(ne.node,ne.offset)):(ye.setEnd(ne.node,ne.offset),Ne.addRange(ye))}}}}for(Me=[],Ne=W;Ne=Ne.parentNode;)Ne.nodeType===1&&Me.push({element:Ne,left:Ne.scrollLeft,top:Ne.scrollTop});for(typeof W.focus=="function"&&W.focus(),W=0;W<Me.length;W++){var Te=Me[W];Te.element.scrollLeft=Te.left,Te.element.scrollTop=Te.top}}lg=!!oj,lj=oj=null}finally{Vt=A,I.p=x,k.T=h}}o.current=c,ar=2}}function HM(){if(ar===2){ar=0;var o=co,c=Qc,h=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||h){h=k.T,k.T=null;var x=I.p;I.p=2;var A=Vt;Vt|=4;try{yM(o,c.alternate,c)}finally{Vt=A,I.p=x,k.T=h}}ar=3}}function VM(){if(ar===4||ar===3){ar=0,Re();var o=co,c=Qc,h=di,x=MM;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?ar=5:(ar=0,Qc=co=null,KM(o,o.pendingLanes));var A=o.pendingLanes;if(A===0&&(lo=null),Fd(h),c=c.stateNode,jn&&typeof jn.onCommitFiberRoot=="function")try{jn.onCommitFiberRoot(bn,c,void 0,(c.current.flags&128)===128)}catch{}if(x!==null){c=k.T,A=I.p,I.p=2,k.T=null;try{for(var E=o.onRecoverableError,R=0;R<x.length;R++){var W=x[R];E(W.value,{componentStack:W.stack})}}finally{k.T=c,I.p=A}}(di&3)!==0&&Xp(),Ts(o),A=o.pendingLanes,(h&261930)!==0&&(A&42)!==0?o===Y0?Nf++:(Nf=0,Y0=o):Nf=0,Sf(0)}}function KM(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,rf(c)))}function Xp(){return UM(),HM(),VM(),WM()}function WM(){if(ar!==5)return!1;var o=co,c=K0;K0=0;var h=Fd(di),x=k.T,A=I.p;try{I.p=32>h?32:h,k.T=null,h=W0,W0=null;var E=co,R=di;if(ar=0,Qc=co=null,di=0,(Vt&6)!==0)throw Error(r(331));var W=Vt;if(Vt|=4,EM(E.current),AM(E,E.current,R,h),Vt=W,Sf(0,!1),jn&&typeof jn.onPostCommitFiberRoot=="function")try{jn.onPostCommitFiberRoot(bn,E)}catch{}return!0}finally{I.p=A,k.T=x,KM(o,c)}}function YM(o,c,h){c=ka(h,c),c=C0(o.stateNode,c,2),o=no(o,c,2),o!==null&&(el(o,2),Ts(o))}function nn(o,c,h){if(o.tag===3)YM(o,o,h);else for(;c!==null;){if(c.tag===3){YM(c,o,h);break}else if(c.tag===1){var x=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(lo===null||!lo.has(x))){o=ka(h,o),h=GT(2),x=no(c,h,2),x!==null&&(XT(h,x,c,o),el(x,2),Ts(x));break}}c=c.return}}function Q0(o,c,h){var x=o.pingCache;if(x===null){x=o.pingCache=new HW;var A=new Set;x.set(c,A)}else A=x.get(c),A===void 0&&(A=new Set,x.set(c,A));A.has(h)||(U0=!0,A.add(h),o=GW.bind(null,o,c,h),c.then(o,o))}function GW(o,c,h){var x=o.pingCache;x!==null&&x.delete(c),o.pingedLanes|=o.suspendedLanes&h,o.warmLanes&=~h,fn===o&&(Pt&h)===h&&(Ln===4||Ln===3&&(Pt&62914560)===Pt&&300>Ze()-Hp?(Vt&2)===0&&Zc(o,0):H0|=h,Xc===Pt&&(Xc=0)),Ts(o)}function GM(o,c){c===0&&(c=nr()),o=sl(o,c),o!==null&&(el(o,c),Ts(o))}function XW(o){var c=o.memoizedState,h=0;c!==null&&(h=c.retryLane),GM(o,h)}function QW(o,c){var h=0;switch(o.tag){case 31:case 13:var x=o.stateNode,A=o.memoizedState;A!==null&&(h=A.retryLane);break;case 19:x=o.stateNode;break;case 22:x=o.stateNode._retryCache;break;default:throw Error(r(314))}x!==null&&x.delete(c),GM(o,h)}function ZW(o,c){return Un(o,c)}var Qp=null,eu=null,Z0=!1,Zp=!1,J0=!1,fo=0;function Ts(o){o!==eu&&o.next===null&&(eu===null?Qp=eu=o:eu=eu.next=o),Zp=!0,Z0||(Z0=!0,eY())}function Sf(o,c){if(!J0&&Zp){J0=!0;do for(var h=!1,x=Qp;x!==null;){if(o!==0){var A=x.pendingLanes;if(A===0)var E=0;else{var R=x.suspendedLanes,W=x.pingedLanes;E=(1<<31-mr(42|o)+1)-1,E&=A&~(R&~W),E=E&201326741?E&201326741|1:E?E|2:0}E!==0&&(h=!0,JM(x,E))}else E=Pt,E=ot(x,x===fn?E:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(E&3)===0||It(x,E)||(h=!0,JM(x,E));x=x.next}while(h);J0=!1}}function JW(){XM()}function XM(){Zp=Z0=!1;var o=0;fo!==0&&uY()&&(o=fo);for(var c=Ze(),h=null,x=Qp;x!==null;){var A=x.next,E=QM(x,c);E===0?(x.next=null,h===null?Qp=A:h.next=A,A===null&&(eu=h)):(h=x,(o!==0||(E&3)!==0)&&(Zp=!0)),x=A}ar!==0&&ar!==5||Sf(o),fo!==0&&(fo=0)}function QM(o,c){for(var h=o.suspendedLanes,x=o.pingedLanes,A=o.expirationTimes,E=o.pendingLanes&-62914561;0<E;){var R=31-mr(E),W=1<<R,J=A[R];J===-1?((W&h)===0||(W&x)!==0)&&(A[R]=Pr(W,c)):J<=c&&(o.expiredLanes|=W),E&=~W}if(c=fn,h=Pt,h=ot(o,o===c?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x=o.callbackNode,h===0||o===c&&(tn===2||tn===9)||o.cancelPendingCommit!==null)return x!==null&&x!==null&&vn(x),o.callbackNode=null,o.callbackPriority=0;if((h&3)===0||It(o,h)){if(c=h&-h,c===o.callbackPriority)return c;switch(x!==null&&vn(x),Fd(h)){case 2:case 8:h=he;break;case 32:h=qe;break;case 268435456:h=Ye;break;default:h=qe}return x=ZM.bind(null,o),h=Un(h,x),o.callbackPriority=c,o.callbackNode=h,c}return x!==null&&x!==null&&vn(x),o.callbackPriority=2,o.callbackNode=null,2}function ZM(o,c){if(ar!==0&&ar!==5)return o.callbackNode=null,o.callbackPriority=0,null;var h=o.callbackNode;if(Xp()&&o.callbackNode!==h)return null;var x=Pt;return x=ot(o,o===fn?x:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),x===0?null:(PM(o,x,c),QM(o,Ze()),o.callbackNode!=null&&o.callbackNode===h?ZM.bind(null,o):null)}function JM(o,c){if(Xp())return null;PM(o,c,!0)}function eY(){fY(function(){(Vt&6)!==0?Un(Ht,JW):XM()})}function ej(){if(fo===0){var o=qc;o===0&&(o=Ui,Ui<<=1,(Ui&261888)===0&&(Ui=256)),fo=o}return fo}function ek(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ip(""+o)}function tk(o,c){var h=c.ownerDocument.createElement("input");return h.name=c.name,h.value=c.value,o.id&&h.setAttribute("form",o.id),c.parentNode.insertBefore(h,c),o=new FormData(o),h.parentNode.removeChild(h),o}function tY(o,c,h,x,A){if(c==="submit"&&h&&h.stateNode===A){var E=ek((A[Rr]||null).action),R=x.submitter;R&&(c=(c=R[Rr]||null)?ek(c.formAction):R.getAttribute("formAction"),c!==null&&(E=c,R=null));var W=new up("action","action",null,x,A);o.push({event:W,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(fo!==0){var J=R?tk(A,R):new FormData(A);b0(h,{pending:!0,data:J,method:A.method,action:E},null,J)}}else typeof E=="function"&&(W.preventDefault(),J=R?tk(A,R):new FormData(A),b0(h,{pending:!0,data:J,method:A.method,action:E},E,J))},currentTarget:A}]})}}for(var tj=0;tj<Lb.length;tj++){var nj=Lb[tj],nY=nj.toLowerCase(),rY=nj[0].toUpperCase()+nj.slice(1);as(nY,"on"+rY)}as(kO,"onAnimationEnd"),as(PO,"onAnimationIteration"),as(RO,"onAnimationStart"),as("dblclick","onDoubleClick"),as("focusin","onFocus"),as("focusout","onBlur"),as(vW,"onTransitionRun"),as(bW,"onTransitionStart"),as(jW,"onTransitionCancel"),as(DO,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),Gs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Gs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Gs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Gs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Gs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Af="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aY=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Af));function nk(o,c){c=(c&4)!==0;for(var h=0;h<o.length;h++){var x=o[h],A=x.event;x=x.listeners;e:{var E=void 0;if(c)for(var R=x.length-1;0<=R;R--){var W=x[R],J=W.instance,ve=W.currentTarget;if(W=W.listener,J!==E&&A.isPropagationStopped())break e;E=W,A.currentTarget=ve;try{E(A)}catch(Ce){hp(Ce)}A.currentTarget=null,E=J}else for(R=0;R<x.length;R++){if(W=x[R],J=W.instance,ve=W.currentTarget,W=W.listener,J!==E&&A.isPropagationStopped())break e;E=W,A.currentTarget=ve;try{E(A)}catch(Ce){hp(Ce)}A.currentTarget=null,E=J}}}}function Mt(o,c){var h=c[bc];h===void 0&&(h=c[bc]=new Set);var x=o+"__bubble";h.has(x)||(rk(c,o,2,!1),h.add(x))}function rj(o,c,h){var x=0;c&&(x|=4),rk(h,o,x,c)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function aj(o){if(!o[Jp]){o[Jp]=!0,ep.forEach(function(h){h!=="selectionchange"&&(aY.has(h)||rj(h,!1,o),rj(h,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Jp]||(c[Jp]=!0,rj("selectionchange",!1,c))}}function rk(o,c,h,x){switch(kk(c)){case 2:var A=kY;break;case 8:A=PY;break;default:A=vj}h=A.bind(null,c,h,o),A=void 0,!Sb||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(A=!0),x?A!==void 0?o.addEventListener(c,h,{capture:!0,passive:A}):o.addEventListener(c,h,!0):A!==void 0?o.addEventListener(c,h,{passive:A}):o.addEventListener(c,h,!1)}function sj(o,c,h,x,A){var E=x;if((c&1)===0&&(c&2)===0&&x!==null)e:for(;;){if(x===null)return;var R=x.tag;if(R===3||R===4){var W=x.stateNode.containerInfo;if(W===A)break;if(R===4)for(R=x.return;R!==null;){var J=R.tag;if((J===3||J===4)&&R.stateNode.containerInfo===A)return;R=R.return}for(;W!==null;){if(R=Hi(W),R===null)return;if(J=R.tag,J===5||J===6||J===26||J===27){x=E=R;continue e}W=W.parentNode}}x=x.return}lO(function(){var ve=E,Ce=wb(h),Me=[];e:{var je=IO.get(o);if(je!==void 0){var Ne=up,Ge=o;switch(o){case"keypress":if(lp(h)===0)break e;case"keydown":case"keyup":Ne=QK;break;case"focusin":Ge="focus",Ne=Eb;break;case"focusout":Ge="blur",Ne=Eb;break;case"beforeblur":case"afterblur":Ne=Eb;break;case"click":if(h.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ne=dO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ne=qK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ne=eW;break;case kO:case PO:case RO:Ne=FK;break;case DO:Ne=nW;break;case"scroll":case"scrollend":Ne=LK;break;case"wheel":Ne=aW;break;case"copy":case"cut":case"paste":Ne=HK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ne=hO;break;case"toggle":case"beforetoggle":Ne=iW}var yt=(c&4)!==0,cn=!yt&&(o==="scroll"||o==="scrollend"),me=yt?je!==null?je+"Capture":null:je;yt=[];for(var ne=ve,ye;ne!==null;){var Te=ne;if(ye=Te.stateNode,Te=Te.tag,Te!==5&&Te!==26&&Te!==27||ye===null||me===null||(Te=Kd(ne,me),Te!=null&&yt.push(Cf(ne,Te,ye))),cn)break;ne=ne.return}0<yt.length&&(je=new Ne(je,Ge,null,h,Ce),Me.push({event:je,listeners:yt}))}}if((c&7)===0){e:{if(je=o==="mouseover"||o==="pointerover",Ne=o==="mouseout"||o==="pointerout",je&&h!==jb&&(Ge=h.relatedTarget||h.fromElement)&&(Hi(Ge)||Ge[Ys]))break e;if((Ne||je)&&(je=Ce.window===Ce?Ce:(je=Ce.ownerDocument)?je.defaultView||je.parentWindow:window,Ne?(Ge=h.relatedTarget||h.toElement,Ne=ve,Ge=Ge?Hi(Ge):null,Ge!==null&&(cn=i(Ge),yt=Ge.tag,Ge!==cn||yt!==5&&yt!==27&&yt!==6)&&(Ge=null)):(Ne=null,Ge=ve),Ne!==Ge)){if(yt=dO,Te="onMouseLeave",me="onMouseEnter",ne="mouse",(o==="pointerout"||o==="pointerover")&&(yt=hO,Te="onPointerLeave",me="onPointerEnter",ne="pointer"),cn=Ne==null?je:Ki(Ne),ye=Ge==null?je:Ki(Ge),je=new yt(Te,ne+"leave",Ne,h,Ce),je.target=cn,je.relatedTarget=ye,Te=null,Hi(Ce)===ve&&(yt=new yt(me,ne+"enter",Ge,h,Ce),yt.target=ye,yt.relatedTarget=cn,Te=yt),cn=Te,Ne&&Ge)t:{for(yt=sY,me=Ne,ne=Ge,ye=0,Te=me;Te;Te=yt(Te))ye++;Te=0;for(var ut=ne;ut;ut=yt(ut))Te++;for(;0<ye-Te;)me=yt(me),ye--;for(;0<Te-ye;)ne=yt(ne),Te--;for(;ye--;){if(me===ne||ne!==null&&me===ne.alternate){yt=me;break t}me=yt(me),ne=yt(ne)}yt=null}else yt=null;Ne!==null&&ak(Me,je,Ne,yt,!1),Ge!==null&&cn!==null&&ak(Me,cn,Ge,yt,!0)}}e:{if(je=ve?Ki(ve):window,Ne=je.nodeName&&je.nodeName.toLowerCase(),Ne==="select"||Ne==="input"&&je.type==="file")var Bt=jO;else if(vO(je))if(wO)Bt=gW;else{Bt=mW;var tt=hW}else Ne=je.nodeName,!Ne||Ne.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?ve&&bb(ve.elementType)&&(Bt=jO):Bt=pW;if(Bt&&(Bt=Bt(o,ve))){bO(Me,Bt,h,Ce);break e}tt&&tt(o,je,ve),o==="focusout"&&ve&&je.type==="number"&&ve.memoizedProps.value!=null&&Ac(je,"number",je.value)}switch(tt=ve?Ki(ve):window,o){case"focusin":(vO(tt)||tt.contentEditable==="true")&&(Mc=tt,Rb=ve,ef=null);break;case"focusout":ef=Rb=Mc=null;break;case"mousedown":Db=!0;break;case"contextmenu":case"mouseup":case"dragend":Db=!1,TO(Me,h,Ce);break;case"selectionchange":if(yW)break;case"keydown":case"keyup":TO(Me,h,Ce)}var _t;if(Tb)e:{switch(o){case"compositionstart":var Rt="onCompositionStart";break e;case"compositionend":Rt="onCompositionEnd";break e;case"compositionupdate":Rt="onCompositionUpdate";break e}Rt=void 0}else Tc?xO(o,h)&&(Rt="onCompositionEnd"):o==="keydown"&&h.keyCode===229&&(Rt="onCompositionStart");Rt&&(mO&&h.locale!=="ko"&&(Tc||Rt!=="onCompositionStart"?Rt==="onCompositionEnd"&&Tc&&(_t=cO()):(Gi=Ce,Ab="value"in Gi?Gi.value:Gi.textContent,Tc=!0)),tt=eg(ve,Rt),0<tt.length&&(Rt=new fO(Rt,o,null,h,Ce),Me.push({event:Rt,listeners:tt}),_t?Rt.data=_t:(_t=yO(h),_t!==null&&(Rt.data=_t)))),(_t=lW?cW(o,h):uW(o,h))&&(Rt=eg(ve,"onBeforeInput"),0<Rt.length&&(tt=new fO("onBeforeInput","beforeinput",null,h,Ce),Me.push({event:tt,listeners:Rt}),tt.data=_t)),tY(Me,o,ve,h,Ce)}nk(Me,c)})}function Cf(o,c,h){return{instance:o,listener:c,currentTarget:h}}function eg(o,c){for(var h=c+"Capture",x=[];o!==null;){var A=o,E=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||E===null||(A=Kd(o,h),A!=null&&x.unshift(Cf(o,A,E)),A=Kd(o,c),A!=null&&x.push(Cf(o,A,E))),o.tag===3)return x;o=o.return}return[]}function sY(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function ak(o,c,h,x,A){for(var E=c._reactName,R=[];h!==null&&h!==x;){var W=h,J=W.alternate,ve=W.stateNode;if(W=W.tag,J!==null&&J===x)break;W!==5&&W!==26&&W!==27||ve===null||(J=ve,A?(ve=Kd(h,E),ve!=null&&R.unshift(Cf(h,ve,J))):A||(ve=Kd(h,E),ve!=null&&R.push(Cf(h,ve,J)))),h=h.return}R.length!==0&&o.push({event:c,listeners:R})}var iY=/\r\n?/g,oY=/\u0000|\uFFFD/g;function sk(o){return(typeof o=="string"?o:""+o).replace(iY,`
`).replace(oY,"")}function ik(o,c){return c=sk(c),sk(o)===c}function ln(o,c,h,x,A,E){switch(h){case"children":typeof x=="string"?c==="body"||c==="textarea"&&x===""||_c(o,x):(typeof x=="number"||typeof x=="bigint")&&c!=="body"&&_c(o,""+x);break;case"className":wc(o,"class",x);break;case"tabIndex":wc(o,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":wc(o,h,x);break;case"style":iO(o,x,E);break;case"data":if(c!=="object"){wc(o,"data",x);break}case"src":case"href":if(x===""&&(c!=="a"||h!=="href")){o.removeAttribute(h);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(h);break}x=ip(""+x),o.setAttribute(h,x);break;case"action":case"formAction":if(typeof x=="function"){o.setAttribute(h,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof E=="function"&&(h==="formAction"?(c!=="input"&&ln(o,c,"name",A.name,A,null),ln(o,c,"formEncType",A.formEncType,A,null),ln(o,c,"formMethod",A.formMethod,A,null),ln(o,c,"formTarget",A.formTarget,A,null)):(ln(o,c,"encType",A.encType,A,null),ln(o,c,"method",A.method,A,null),ln(o,c,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){o.removeAttribute(h);break}x=ip(""+x),o.setAttribute(h,x);break;case"onClick":x!=null&&(o.onclick=Xs);break;case"onScroll":x!=null&&Mt("scroll",o);break;case"onScrollEnd":x!=null&&Mt("scrollend",o);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"multiple":o.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":o.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){o.removeAttribute("xlink:href");break}h=ip(""+x),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",h);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,""+x):o.removeAttribute(h);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,""):o.removeAttribute(h);break;case"capture":case"download":x===!0?o.setAttribute(h,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?o.setAttribute(h,x):o.removeAttribute(h);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?o.setAttribute(h,x):o.removeAttribute(h);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?o.removeAttribute(h):o.setAttribute(h,x);break;case"popover":Mt("beforetoggle",o),Mt("toggle",o),jc(o,"popover",x);break;case"xlinkActuate":rs(o,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":rs(o,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":rs(o,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":rs(o,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":rs(o,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":rs(o,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":rs(o,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":rs(o,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":rs(o,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":jc(o,"is",x);break;case"innerText":case"textContent":break;default:(!(2<h.length)||h[0]!=="o"&&h[0]!=="O"||h[1]!=="n"&&h[1]!=="N")&&(h=DK.get(h)||h,jc(o,h,x))}}function ij(o,c,h,x,A,E){switch(h){case"style":iO(o,x,E);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(r(61));if(h=x.__html,h!=null){if(A.children!=null)throw Error(r(60));o.innerHTML=h}}break;case"children":typeof x=="string"?_c(o,x):(typeof x=="number"||typeof x=="bigint")&&_c(o,""+x);break;case"onScroll":x!=null&&Mt("scroll",o);break;case"onScrollEnd":x!=null&&Mt("scrollend",o);break;case"onClick":x!=null&&(o.onclick=Xs);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tp.hasOwnProperty(h))e:{if(h[0]==="o"&&h[1]==="n"&&(A=h.endsWith("Capture"),c=h.slice(2,A?h.length-7:void 0),E=o[Rr]||null,E=E!=null?E[h]:null,typeof E=="function"&&o.removeEventListener(c,E,A),typeof x=="function")){typeof E!="function"&&E!==null&&(h in o?o[h]=null:o.hasAttribute(h)&&o.removeAttribute(h)),o.addEventListener(c,x,A);break e}h in o?o[h]=x:x===!0?o.setAttribute(h,""):jc(o,h,x)}}}function Cr(o,c,h){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",o),Mt("load",o);var x=!1,A=!1,E;for(E in h)if(h.hasOwnProperty(E)){var R=h[E];if(R!=null)switch(E){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,E,R,h,null)}}A&&ln(o,c,"srcSet",h.srcSet,h,null),x&&ln(o,c,"src",h.src,h,null);return;case"input":Mt("invalid",o);var W=E=R=A=null,J=null,ve=null;for(x in h)if(h.hasOwnProperty(x)){var Ce=h[x];if(Ce!=null)switch(x){case"name":A=Ce;break;case"type":R=Ce;break;case"checked":J=Ce;break;case"defaultChecked":ve=Ce;break;case"value":E=Ce;break;case"defaultValue":W=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,c));break;default:ln(o,c,x,Ce,h,null)}}sp(o,E,W,J,ve,R,A,!1);return;case"select":Mt("invalid",o),x=R=E=null;for(A in h)if(h.hasOwnProperty(A)&&(W=h[A],W!=null))switch(A){case"value":E=W;break;case"defaultValue":R=W;break;case"multiple":x=W;default:ln(o,c,A,W,h,null)}c=E,h=R,o.multiple=!!x,c!=null?Cc(o,!!x,c,!1):h!=null&&Cc(o,!!x,h,!0);return;case"textarea":Mt("invalid",o),E=A=x=null;for(R in h)if(h.hasOwnProperty(R)&&(W=h[R],W!=null))switch(R){case"value":x=W;break;case"defaultValue":A=W;break;case"children":E=W;break;case"dangerouslySetInnerHTML":if(W!=null)throw Error(r(91));break;default:ln(o,c,R,W,h,null)}aO(o,x,A,E);return;case"option":for(J in h)if(h.hasOwnProperty(J)&&(x=h[J],x!=null))switch(J){case"selected":o.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:ln(o,c,J,x,h,null)}return;case"dialog":Mt("beforetoggle",o),Mt("toggle",o),Mt("cancel",o),Mt("close",o);break;case"iframe":case"object":Mt("load",o);break;case"video":case"audio":for(x=0;x<Af.length;x++)Mt(Af[x],o);break;case"image":Mt("error",o),Mt("load",o);break;case"details":Mt("toggle",o);break;case"embed":case"source":case"link":Mt("error",o),Mt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in h)if(h.hasOwnProperty(ve)&&(x=h[ve],x!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:ln(o,c,ve,x,h,null)}return;default:if(bb(c)){for(Ce in h)h.hasOwnProperty(Ce)&&(x=h[Ce],x!==void 0&&ij(o,c,Ce,x,h,void 0));return}}for(W in h)h.hasOwnProperty(W)&&(x=h[W],x!=null&&ln(o,c,W,x,h,null))}function lY(o,c,h,x){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,E=null,R=null,W=null,J=null,ve=null,Ce=null;for(Ne in h){var Me=h[Ne];if(h.hasOwnProperty(Ne)&&Me!=null)switch(Ne){case"checked":break;case"value":break;case"defaultValue":J=Me;default:x.hasOwnProperty(Ne)||ln(o,c,Ne,null,x,Me)}}for(var je in x){var Ne=x[je];if(Me=h[je],x.hasOwnProperty(je)&&(Ne!=null||Me!=null))switch(je){case"type":E=Ne;break;case"name":A=Ne;break;case"checked":ve=Ne;break;case"defaultChecked":Ce=Ne;break;case"value":R=Ne;break;case"defaultValue":W=Ne;break;case"children":case"dangerouslySetInnerHTML":if(Ne!=null)throw Error(r(137,c));break;default:Ne!==Me&&ln(o,c,je,Ne,x,Me)}}Vd(o,R,W,J,ve,Ce,E,A);return;case"select":Ne=R=W=je=null;for(E in h)if(J=h[E],h.hasOwnProperty(E)&&J!=null)switch(E){case"value":break;case"multiple":Ne=J;default:x.hasOwnProperty(E)||ln(o,c,E,null,x,J)}for(A in x)if(E=x[A],J=h[A],x.hasOwnProperty(A)&&(E!=null||J!=null))switch(A){case"value":je=E;break;case"defaultValue":W=E;break;case"multiple":R=E;default:E!==J&&ln(o,c,A,E,x,J)}c=W,h=R,x=Ne,je!=null?Cc(o,!!h,je,!1):!!x!=!!h&&(c!=null?Cc(o,!!h,c,!0):Cc(o,!!h,h?[]:"",!1));return;case"textarea":Ne=je=null;for(W in h)if(A=h[W],h.hasOwnProperty(W)&&A!=null&&!x.hasOwnProperty(W))switch(W){case"value":break;case"children":break;default:ln(o,c,W,null,x,A)}for(R in x)if(A=x[R],E=h[R],x.hasOwnProperty(R)&&(A!=null||E!=null))switch(R){case"value":je=A;break;case"defaultValue":Ne=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:A!==E&&ln(o,c,R,A,x,E)}rO(o,je,Ne);return;case"option":for(var Ge in h)if(je=h[Ge],h.hasOwnProperty(Ge)&&je!=null&&!x.hasOwnProperty(Ge))switch(Ge){case"selected":o.selected=!1;break;default:ln(o,c,Ge,null,x,je)}for(J in x)if(je=x[J],Ne=h[J],x.hasOwnProperty(J)&&je!==Ne&&(je!=null||Ne!=null))switch(J){case"selected":o.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:ln(o,c,J,je,x,Ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in h)je=h[yt],h.hasOwnProperty(yt)&&je!=null&&!x.hasOwnProperty(yt)&&ln(o,c,yt,null,x,je);for(ve in x)if(je=x[ve],Ne=h[ve],x.hasOwnProperty(ve)&&je!==Ne&&(je!=null||Ne!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,c));break;default:ln(o,c,ve,je,x,Ne)}return;default:if(bb(c)){for(var cn in h)je=h[cn],h.hasOwnProperty(cn)&&je!==void 0&&!x.hasOwnProperty(cn)&&ij(o,c,cn,void 0,x,je);for(Ce in x)je=x[Ce],Ne=h[Ce],!x.hasOwnProperty(Ce)||je===Ne||je===void 0&&Ne===void 0||ij(o,c,Ce,je,x,Ne);return}}for(var me in h)je=h[me],h.hasOwnProperty(me)&&je!=null&&!x.hasOwnProperty(me)&&ln(o,c,me,null,x,je);for(Me in x)je=x[Me],Ne=h[Me],!x.hasOwnProperty(Me)||je===Ne||je==null&&Ne==null||ln(o,c,Me,je,x,Ne)}function ok(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cY(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,h=performance.getEntriesByType("resource"),x=0;x<h.length;x++){var A=h[x],E=A.transferSize,R=A.initiatorType,W=A.duration;if(E&&W&&ok(R)){for(R=0,W=A.responseEnd,x+=1;x<h.length;x++){var J=h[x],ve=J.startTime;if(ve>W)break;var Ce=J.transferSize,Me=J.initiatorType;Ce&&ok(Me)&&(J=J.responseEnd,R+=Ce*(J<W?1:(W-ve)/(J-ve)))}if(--x,c+=8*(E+R)/(A.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var oj=null,lj=null;function tg(o){return o.nodeType===9?o:o.ownerDocument}function lk(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ck(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function cj(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var uj=null;function uY(){var o=window.event;return o&&o.type==="popstate"?o===uj?!1:(uj=o,!0):(uj=null,!1)}var uk=typeof setTimeout=="function"?setTimeout:void 0,dY=typeof clearTimeout=="function"?clearTimeout:void 0,dk=typeof Promise=="function"?Promise:void 0,fY=typeof queueMicrotask=="function"?queueMicrotask:typeof dk<"u"?function(o){return dk.resolve(null).then(o).catch(hY)}:uk;function hY(o){setTimeout(function(){throw o})}function ho(o){return o==="head"}function fk(o,c){var h=c,x=0;do{var A=h.nextSibling;if(o.removeChild(h),A&&A.nodeType===8)if(h=A.data,h==="/$"||h==="/&"){if(x===0){o.removeChild(A),au(c);return}x--}else if(h==="$"||h==="$?"||h==="$~"||h==="$!"||h==="&")x++;else if(h==="html")_f(o.ownerDocument.documentElement);else if(h==="head"){h=o.ownerDocument.head,_f(h);for(var E=h.firstChild;E;){var R=E.nextSibling,W=E.nodeName;E[tl]||W==="SCRIPT"||W==="STYLE"||W==="LINK"&&E.rel.toLowerCase()==="stylesheet"||h.removeChild(E),E=R}}else h==="body"&&_f(o.ownerDocument.body);h=A}while(h);au(c)}function hk(o,c){var h=o;o=0;do{var x=h.nextSibling;if(h.nodeType===1?c?(h._stashedDisplay=h.style.display,h.style.display="none"):(h.style.display=h._stashedDisplay||"",h.getAttribute("style")===""&&h.removeAttribute("style")):h.nodeType===3&&(c?(h._stashedText=h.nodeValue,h.nodeValue=""):h.nodeValue=h._stashedText||""),x&&x.nodeType===8)if(h=x.data,h==="/$"){if(o===0)break;o--}else h!=="$"&&h!=="$?"&&h!=="$~"&&h!=="$!"||o++;h=x}while(h)}function dj(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var h=c;switch(c=c.nextSibling,h.nodeName){case"HTML":case"HEAD":case"BODY":dj(h),Ud(h);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(h.rel.toLowerCase()==="stylesheet")continue}o.removeChild(h)}}function mY(o,c,h,x){for(;o.nodeType===1;){var A=h;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!x&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(x){if(!o[tl])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(E=o.getAttribute("rel"),E==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(E!==A.rel||o.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||o.getAttribute("title")!==(A.title==null?null:A.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(E=o.getAttribute("src"),(E!==(A.src==null?null:A.src)||o.getAttribute("type")!==(A.type==null?null:A.type)||o.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&E&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var E=A.name==null?null:""+A.name;if(A.type==="hidden"&&o.getAttribute("name")===E)return o}else return o;if(o=La(o.nextSibling),o===null)break}return null}function pY(o,c,h){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!h||(o=La(o.nextSibling),o===null))return null;return o}function mk(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=La(o.nextSibling),o===null))return null;return o}function fj(o){return o.data==="$?"||o.data==="$~"}function hj(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function gY(o,c){var h=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||h.readyState!=="loading")c();else{var x=function(){c(),h.removeEventListener("DOMContentLoaded",x)};h.addEventListener("DOMContentLoaded",x),o._reactRetry=x}}function La(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var mj=null;function pk(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="/$"||h==="/&"){if(c===0)return La(o.nextSibling);c--}else h!=="$"&&h!=="$!"&&h!=="$?"&&h!=="$~"&&h!=="&"||c++}o=o.nextSibling}return null}function gk(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var h=o.data;if(h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"){if(c===0)return o;c--}else h!=="/$"&&h!=="/&"||c++}o=o.previousSibling}return null}function xk(o,c,h){switch(c=tg(h),o){case"html":if(o=c.documentElement,!o)throw Error(r(452));return o;case"head":if(o=c.head,!o)throw Error(r(453));return o;case"body":if(o=c.body,!o)throw Error(r(454));return o;default:throw Error(r(451))}}function _f(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ud(o)}var $a=new Map,yk=new Set;function ng(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var fi=I.d;I.d={f:xY,r:yY,D:vY,C:bY,L:jY,m:wY,X:SY,S:NY,M:AY};function xY(){var o=fi.f(),c=Wp();return o||c}function yY(o){var c=Vi(o);c!==null&&c.tag===5&&c.type==="form"?DT(c):fi.r(o)}var tu=typeof document>"u"?null:document;function vk(o,c,h){var x=tu;if(x&&typeof c=="string"&&c){var A=Dr(c);A='link[rel="'+o+'"][href="'+A+'"]',typeof h=="string"&&(A+='[crossorigin="'+h+'"]'),yk.has(A)||(yk.add(A),o={rel:o,crossOrigin:h,href:c},x.querySelector(A)===null&&(c=x.createElement("link"),Cr(c,"link",o),Wn(c),x.head.appendChild(c)))}}function vY(o){fi.D(o),vk("dns-prefetch",o,null)}function bY(o,c){fi.C(o,c),vk("preconnect",o,c)}function jY(o,c,h){fi.L(o,c,h);var x=tu;if(x&&o&&c){var A='link[rel="preload"][as="'+Dr(c)+'"]';c==="image"&&h&&h.imageSrcSet?(A+='[imagesrcset="'+Dr(h.imageSrcSet)+'"]',typeof h.imageSizes=="string"&&(A+='[imagesizes="'+Dr(h.imageSizes)+'"]')):A+='[href="'+Dr(o)+'"]';var E=A;switch(c){case"style":E=nu(o);break;case"script":E=ru(o)}$a.has(E)||(o=m({rel:"preload",href:c==="image"&&h&&h.imageSrcSet?void 0:o,as:c},h),$a.set(E,o),x.querySelector(A)!==null||c==="style"&&x.querySelector(Ef(E))||c==="script"&&x.querySelector(Of(E))||(c=x.createElement("link"),Cr(c,"link",o),Wn(c),x.head.appendChild(c)))}}function wY(o,c){fi.m(o,c);var h=tu;if(h&&o){var x=c&&typeof c.as=="string"?c.as:"script",A='link[rel="modulepreload"][as="'+Dr(x)+'"][href="'+Dr(o)+'"]',E=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":E=ru(o)}if(!$a.has(E)&&(o=m({rel:"modulepreload",href:o},c),$a.set(E,o),h.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(h.querySelector(Of(E)))return}x=h.createElement("link"),Cr(x,"link",o),Wn(x),h.head.appendChild(x)}}}function NY(o,c,h){fi.S(o,c,h);var x=tu;if(x&&o){var A=Wi(x).hoistableStyles,E=nu(o);c=c||"default";var R=A.get(E);if(!R){var W={loading:0,preload:null};if(R=x.querySelector(Ef(E)))W.loading=5;else{o=m({rel:"stylesheet",href:o,"data-precedence":c},h),(h=$a.get(E))&&pj(o,h);var J=R=x.createElement("link");Wn(J),Cr(J,"link",o),J._p=new Promise(function(ve,Ce){J.onload=ve,J.onerror=Ce}),J.addEventListener("load",function(){W.loading|=1}),J.addEventListener("error",function(){W.loading|=2}),W.loading|=4,rg(R,c,x)}R={type:"stylesheet",instance:R,count:1,state:W},A.set(E,R)}}}function SY(o,c){fi.X(o,c);var h=tu;if(h&&o){var x=Wi(h).hoistableScripts,A=ru(o),E=x.get(A);E||(E=h.querySelector(Of(A)),E||(o=m({src:o,async:!0},c),(c=$a.get(A))&&gj(o,c),E=h.createElement("script"),Wn(E),Cr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},x.set(A,E))}}function AY(o,c){fi.M(o,c);var h=tu;if(h&&o){var x=Wi(h).hoistableScripts,A=ru(o),E=x.get(A);E||(E=h.querySelector(Of(A)),E||(o=m({src:o,async:!0,type:"module"},c),(c=$a.get(A))&&gj(o,c),E=h.createElement("script"),Wn(E),Cr(E,"link",o),h.head.appendChild(E)),E={type:"script",instance:E,count:1,state:null},x.set(A,E))}}function bk(o,c,h,x){var A=(A=Se.current)?ng(A):null;if(!A)throw Error(r(446));switch(o){case"meta":case"title":return null;case"style":return typeof h.precedence=="string"&&typeof h.href=="string"?(c=nu(h.href),h=Wi(A).hoistableStyles,x=h.get(c),x||(x={type:"style",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(h.rel==="stylesheet"&&typeof h.href=="string"&&typeof h.precedence=="string"){o=nu(h.href);var E=Wi(A).hoistableStyles,R=E.get(o);if(R||(A=A.ownerDocument||A,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},E.set(o,R),(E=A.querySelector(Ef(o)))&&!E._p&&(R.instance=E,R.state.loading=5),$a.has(o)||(h={rel:"preload",as:"style",href:h.href,crossOrigin:h.crossOrigin,integrity:h.integrity,media:h.media,hrefLang:h.hrefLang,referrerPolicy:h.referrerPolicy},$a.set(o,h),E||CY(A,o,h,R.state))),c&&x===null)throw Error(r(528,""));return R}if(c&&x!==null)throw Error(r(529,""));return null;case"script":return c=h.async,h=h.src,typeof h=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=ru(h),h=Wi(A).hoistableScripts,x=h.get(c),x||(x={type:"script",instance:null,count:0,state:null},h.set(c,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,o))}}function nu(o){return'href="'+Dr(o)+'"'}function Ef(o){return'link[rel="stylesheet"]['+o+"]"}function jk(o){return m({},o,{"data-precedence":o.precedence,precedence:null})}function CY(o,c,h,x){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?x.loading=1:(c=o.createElement("link"),x.preload=c,c.addEventListener("load",function(){return x.loading|=1}),c.addEventListener("error",function(){return x.loading|=2}),Cr(c,"link",h),Wn(c),o.head.appendChild(c))}function ru(o){return'[src="'+Dr(o)+'"]'}function Of(o){return"script[async]"+o}function wk(o,c,h){if(c.count++,c.instance===null)switch(c.type){case"style":var x=o.querySelector('style[data-href~="'+Dr(h.href)+'"]');if(x)return c.instance=x,Wn(x),x;var A=m({},h,{"data-href":h.href,"data-precedence":h.precedence,href:null,precedence:null});return x=(o.ownerDocument||o).createElement("style"),Wn(x),Cr(x,"style",A),rg(x,h.precedence,o),c.instance=x;case"stylesheet":A=nu(h.href);var E=o.querySelector(Ef(A));if(E)return c.state.loading|=4,c.instance=E,Wn(E),E;x=jk(h),(A=$a.get(A))&&pj(x,A),E=(o.ownerDocument||o).createElement("link"),Wn(E);var R=E;return R._p=new Promise(function(W,J){R.onload=W,R.onerror=J}),Cr(E,"link",x),c.state.loading|=4,rg(E,h.precedence,o),c.instance=E;case"script":return E=ru(h.src),(A=o.querySelector(Of(E)))?(c.instance=A,Wn(A),A):(x=h,(A=$a.get(E))&&(x=m({},h),gj(x,A)),o=o.ownerDocument||o,A=o.createElement("script"),Wn(A),Cr(A,"link",x),o.head.appendChild(A),c.instance=A);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(x=c.instance,c.state.loading|=4,rg(x,h.precedence,o));return c.instance}function rg(o,c,h){for(var x=h.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,E=A,R=0;R<x.length;R++){var W=x[R];if(W.dataset.precedence===c)E=W;else if(E!==A)break}E?E.parentNode.insertBefore(o,E.nextSibling):(c=h.nodeType===9?h.head:h,c.insertBefore(o,c.firstChild))}function pj(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function gj(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ag=null;function Nk(o,c,h){if(ag===null){var x=new Map,A=ag=new Map;A.set(h,x)}else A=ag,x=A.get(h),x||(x=new Map,A.set(h,x));if(x.has(o))return x;for(x.set(o,null),h=h.getElementsByTagName(o),A=0;A<h.length;A++){var E=h[A];if(!(E[tl]||E[rr]||o==="link"&&E.getAttribute("rel")==="stylesheet")&&E.namespaceURI!=="http://www.w3.org/2000/svg"){var R=E.getAttribute(c)||"";R=o+R;var W=x.get(R);W?W.push(E):x.set(R,[E])}}return x}function Sk(o,c,h){o=o.ownerDocument||o,o.head.insertBefore(h,c==="title"?o.querySelector("head > title"):null)}function _Y(o,c,h){if(h===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function Ak(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function EY(o,c,h,x){if(h.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(h.state.loading&4)===0){if(h.instance===null){var A=nu(x.href),E=c.querySelector(Ef(A));if(E){c=E._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=sg.bind(o),c.then(o,o)),h.state.loading|=4,h.instance=E,Wn(E);return}E=c.ownerDocument||c,x=jk(x),(A=$a.get(A))&&pj(x,A),E=E.createElement("link"),Wn(E);var R=E;R._p=new Promise(function(W,J){R.onload=W,R.onerror=J}),Cr(E,"link",x),h.instance=E}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(h,c),(c=h.state.preload)&&(h.state.loading&3)===0&&(o.count++,h=sg.bind(o),c.addEventListener("load",h),c.addEventListener("error",h))}}var xj=0;function OY(o,c){return o.stylesheets&&o.count===0&&og(o,o.stylesheets),0<o.count||0<o.imgCount?function(h){var x=setTimeout(function(){if(o.stylesheets&&og(o,o.stylesheets),o.unsuspend){var E=o.unsuspend;o.unsuspend=null,E()}},6e4+c);0<o.imgBytes&&xj===0&&(xj=62500*cY());var A=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&og(o,o.stylesheets),o.unsuspend)){var E=o.unsuspend;o.unsuspend=null,E()}},(o.imgBytes>xj?50:800)+c);return o.unsuspend=h,function(){o.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function sg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)og(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var ig=null;function og(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,ig=new Map,c.forEach(TY,o),ig=null,sg.call(o))}function TY(o,c){if(!(c.state.loading&4)){var h=ig.get(o);if(h)var x=h.get(null);else{h=new Map,ig.set(o,h);for(var A=o.querySelectorAll("link[data-precedence],style[data-precedence]"),E=0;E<A.length;E++){var R=A[E];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(h.set(R.dataset.precedence,R),x=R)}x&&h.set(null,x)}A=c.instance,R=A.getAttribute("data-precedence"),E=h.get(R)||x,E===x&&h.set(null,A),h.set(R,A),this.count++,x=sg.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),E?E.parentNode.insertBefore(A,E.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(A,o.firstChild)),c.state.loading|=4}}var Tf={$$typeof:N,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function MY(o,c,h,x,A,E,R,W,J){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=E,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function Ck(o,c,h,x,A,E,R,W,J,ve,Ce,Me){return o=new MY(o,c,h,R,J,ve,Ce,Me,W),c=1,E===!0&&(c|=24),E=fa(3,null,null,c),o.current=E,E.stateNode=o,c=Xb(),c.refCount++,o.pooledCache=c,c.refCount++,E.memoizedState={element:x,isDehydrated:h,cache:c},e0(E),o}function _k(o){return o?(o=Rc,o):Rc}function Ek(o,c,h,x,A,E){A=_k(A),x.context===null?x.context=A:x.pendingContext=A,x=to(c),x.payload={element:h},E=E===void 0?null:E,E!==null&&(x.callback=E),h=no(o,x,c),h!==null&&(ia(h,o,c),lf(h,o,c))}function Ok(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var h=o.retryLane;o.retryLane=h!==0&&h<c?h:c}}function yj(o,c){Ok(o,c),(o=o.alternate)&&Ok(o,c)}function Tk(o){if(o.tag===13||o.tag===31){var c=sl(o,67108864);c!==null&&ia(c,o,67108864),yj(o,67108864)}}function Mk(o){if(o.tag===13||o.tag===31){var c=xa();c=Bd(c);var h=sl(o,c);h!==null&&ia(h,o,c),yj(o,c)}}var lg=!0;function kY(o,c,h,x){var A=k.T;k.T=null;var E=I.p;try{I.p=2,vj(o,c,h,x)}finally{I.p=E,k.T=A}}function PY(o,c,h,x){var A=k.T;k.T=null;var E=I.p;try{I.p=8,vj(o,c,h,x)}finally{I.p=E,k.T=A}}function vj(o,c,h,x){if(lg){var A=bj(x);if(A===null)sj(o,c,x,cg,h),Pk(o,x);else if(DY(A,o,c,h,x))x.stopPropagation();else if(Pk(o,x),c&4&&-1<RY.indexOf(o)){for(;A!==null;){var E=Vi(A);if(E!==null)switch(E.tag){case 3:if(E=E.stateNode,E.current.memoizedState.isDehydrated){var R=st(E.pendingLanes);if(R!==0){var W=E;for(W.pendingLanes|=2,W.entangledLanes|=2;R;){var J=1<<31-mr(R);W.entanglements[1]|=J,R&=~J}Ts(E),(Vt&6)===0&&(Vp=Ze()+500,Sf(0))}}break;case 31:case 13:W=sl(E,2),W!==null&&ia(W,E,2),Wp(),yj(E,2)}if(E=bj(x),E===null&&sj(o,c,x,cg,h),E===A)break;A=E}A!==null&&x.stopPropagation()}else sj(o,c,x,null,h)}}function bj(o){return o=wb(o),jj(o)}var cg=null;function jj(o){if(cg=null,o=Hi(o),o!==null){var c=i(o);if(c===null)o=null;else{var h=c.tag;if(h===13){if(o=l(c),o!==null)return o;o=null}else if(h===31){if(o=u(c),o!==null)return o;o=null}else if(h===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return cg=o,null}function kk(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ot()){case Ht:return 2;case he:return 8;case qe:case at:return 32;case Ye:return 268435456;default:return 32}default:return 32}}var wj=!1,mo=null,po=null,go=null,Mf=new Map,kf=new Map,xo=[],RY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Pk(o,c){switch(o){case"focusin":case"focusout":mo=null;break;case"dragenter":case"dragleave":po=null;break;case"mouseover":case"mouseout":go=null;break;case"pointerover":case"pointerout":Mf.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":kf.delete(c.pointerId)}}function Pf(o,c,h,x,A,E){return o===null||o.nativeEvent!==E?(o={blockedOn:c,domEventName:h,eventSystemFlags:x,nativeEvent:E,targetContainers:[A]},c!==null&&(c=Vi(c),c!==null&&Tk(c)),o):(o.eventSystemFlags|=x,c=o.targetContainers,A!==null&&c.indexOf(A)===-1&&c.push(A),o)}function DY(o,c,h,x,A){switch(c){case"focusin":return mo=Pf(mo,o,c,h,x,A),!0;case"dragenter":return po=Pf(po,o,c,h,x,A),!0;case"mouseover":return go=Pf(go,o,c,h,x,A),!0;case"pointerover":var E=A.pointerId;return Mf.set(E,Pf(Mf.get(E)||null,o,c,h,x,A)),!0;case"gotpointercapture":return E=A.pointerId,kf.set(E,Pf(kf.get(E)||null,o,c,h,x,A)),!0}return!1}function Rk(o){var c=Hi(o.target);if(c!==null){var h=i(c);if(h!==null){if(c=h.tag,c===13){if(c=l(h),c!==null){o.blockedOn=c,Qm(o.priority,function(){Mk(h)});return}}else if(c===31){if(c=u(h),c!==null){o.blockedOn=c,Qm(o.priority,function(){Mk(h)});return}}else if(c===3&&h.stateNode.current.memoizedState.isDehydrated){o.blockedOn=h.tag===3?h.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ug(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var h=bj(o.nativeEvent);if(h===null){h=o.nativeEvent;var x=new h.constructor(h.type,h);jb=x,h.target.dispatchEvent(x),jb=null}else return c=Vi(h),c!==null&&Tk(c),o.blockedOn=h,!1;c.shift()}return!0}function Dk(o,c,h){ug(o)&&h.delete(c)}function IY(){wj=!1,mo!==null&&ug(mo)&&(mo=null),po!==null&&ug(po)&&(po=null),go!==null&&ug(go)&&(go=null),Mf.forEach(Dk),kf.forEach(Dk)}function dg(o,c){o.blockedOn===c&&(o.blockedOn=null,wj||(wj=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,IY)))}var fg=null;function Ik(o){fg!==o&&(fg=o,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){fg===o&&(fg=null);for(var c=0;c<o.length;c+=3){var h=o[c],x=o[c+1],A=o[c+2];if(typeof x!="function"){if(jj(x||h)===null)continue;break}var E=Vi(h);E!==null&&(o.splice(c,3),c-=3,b0(E,{pending:!0,data:A,method:h.method,action:x},x,A))}}))}function au(o){function c(J){return dg(J,o)}mo!==null&&dg(mo,o),po!==null&&dg(po,o),go!==null&&dg(go,o),Mf.forEach(c),kf.forEach(c);for(var h=0;h<xo.length;h++){var x=xo[h];x.blockedOn===o&&(x.blockedOn=null)}for(;0<xo.length&&(h=xo[0],h.blockedOn===null);)Rk(h),h.blockedOn===null&&xo.shift();if(h=(o.ownerDocument||o).$$reactFormReplay,h!=null)for(x=0;x<h.length;x+=3){var A=h[x],E=h[x+1],R=A[Rr]||null;if(typeof E=="function")R||Ik(h);else if(R){var W=null;if(E&&E.hasAttribute("formAction")){if(A=E,R=E[Rr]||null)W=R.formAction;else if(jj(A)!==null)continue}else W=R.action;typeof W=="function"?h[x+1]=W:(h.splice(x,3),x-=3),Ik(h)}}}function Lk(){function o(E){E.canIntercept&&E.info==="react-transition"&&E.intercept({handler:function(){return new Promise(function(R){return A=R})},focusReset:"manual",scroll:"manual"})}function c(){A!==null&&(A(),A=null),x||setTimeout(h,20)}function h(){if(!x&&!navigation.transition){var E=navigation.currentEntry;E&&E.url!=null&&navigation.navigate(E.url,{state:E.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(h,100),function(){x=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),A!==null&&(A(),A=null)}}}function Nj(o){this._internalRoot=o}hg.prototype.render=Nj.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(r(409));var h=c.current,x=xa();Ek(h,x,o,c,null,null)},hg.prototype.unmount=Nj.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;Ek(o.current,2,null,o,null,null),Wp(),c[Ys]=null}};function hg(o){this._internalRoot=o}hg.prototype.unstable_scheduleHydration=function(o){if(o){var c=Xm();o={blockedOn:null,target:o,priority:c};for(var h=0;h<xo.length&&c!==0&&c<xo[h].priority;h++);xo.splice(h,0,o),h===0&&Rk(o)}};var $k=t.version;if($k!=="19.2.0")throw Error(r(527,$k,"19.2.0"));I.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=f(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var LY={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mg.isDisabled&&mg.supportsFiber)try{bn=mg.inject(LY),jn=mg}catch{}}return Df.createRoot=function(o,c){if(!s(o))throw Error(r(299));var h=!1,x="",A=VT,E=KT,R=WT;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(x=c.identifierPrefix),c.onUncaughtError!==void 0&&(A=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError)),c=Ck(o,1,!1,null,null,h,x,null,A,E,R,Lk),o[Ys]=c.current,aj(o),new Nj(c)},Df.hydrateRoot=function(o,c,h){if(!s(o))throw Error(r(299));var x=!1,A="",E=VT,R=KT,W=WT,J=null;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(A=h.identifierPrefix),h.onUncaughtError!==void 0&&(E=h.onUncaughtError),h.onCaughtError!==void 0&&(R=h.onCaughtError),h.onRecoverableError!==void 0&&(W=h.onRecoverableError),h.formState!==void 0&&(J=h.formState)),c=Ck(o,1,!0,c,h??null,x,A,J,E,R,W,Lk),c.context=_k(null),h=c.current,x=xa(),x=Bd(x),A=to(x),A.callback=null,no(h,A,x),h=x,c.current.lanes=h,el(c,h),Ts(c),o[Ys]=c.current,aj(o),new hg(c)},Df.version="19.2.0",Df}var Yk;function WY(){if(Yk)return Aj.exports;Yk=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Aj.exports=KY(),Aj.exports}var YY=WY();function GY(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,s,i,l=[],u="",d=e.split("/");for(d[0]||d.shift();s=d.shift();)n=s[0],n==="*"?(l.push(n),u+=s[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=s.indexOf("?",1),i=s.indexOf(".",1),l.push(s.substring(1,~r?r:~i?i:s.length)),u+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(u+=(~r?"?":"")+"\\"+s.substring(i))):u+="/"+s;return{keys:l,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var b=gm();const X=Wt(b),Iy=qY({__proto__:null,default:X},[b]);var Tj={exports:{}},Mj={};var Gk;function XY(){if(Gk)return Mj;Gk=1;var e=gm();function t(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,i=e.useLayoutEffect,l=e.useDebugValue;function u(m,g){var v=g(),w=r({inst:{value:v,getSnapshot:g}}),y=w[0].inst,j=w[1];return i(function(){y.value=v,y.getSnapshot=g,d(y)&&j({inst:y})},[m,v,g]),s(function(){return d(y)&&j({inst:y}),m(function(){d(y)&&j({inst:y})})},[m]),l(v),v}function d(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!n(m,v)}catch{return!0}}function f(m,g){return g()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Mj.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:p,Mj}var Xk;function g6(){return Xk||(Xk=1,Tj.exports=XY()),Tj.exports}var x6=g6();const QY=Iy.useInsertionEffect,ZY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y6=ZY?b.useLayoutEffect:b.useEffect,JY=QY||y6,AC=e=>{const t=b.useRef([e,(...n)=>t[0](...n)]).current;return JY(()=>{t[0]=e}),t[1]},eG="popstate",CC="pushState",_C="replaceState",tG="hashchange",Qk=[eG,CC,_C,tG],nG=e=>{for(const t of Qk)addEventListener(t,e);return()=>{for(const t of Qk)removeEventListener(t,e)}},v6=(e,t)=>x6.useSyncExternalStore(nG,e,t),Zk=()=>location.search,rG=({ssrSearch:e}={})=>v6(Zk,e!=null?()=>e:Zk),Jk=()=>location.pathname,aG=({ssrPath:e}={})=>v6(Jk,e!=null?()=>e:Jk),sG=(e,{replace:t=!1,state:n=null}={})=>history[t?_C:CC](n,"",e),iG=(e={})=>[aG(e),sG],eP=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[eP]>"u"){for(const e of[CC,_C]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,eP,{value:!0})}const oG=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",b6=(e="")=>e==="/"?"":e,lG=(e,t)=>e[0]==="~"?e.slice(1):b6(t)+e,cG=(e="",t)=>oG(tP(b6(e)),tP(t)),tP=e=>{try{return decodeURI(e)}catch{return e}},j6={hook:iG,searchHook:rG,parser:GY,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},w6=b.createContext(j6),xd=()=>b.useContext(w6),N6={},S6=b.createContext(N6),uG=()=>b.useContext(S6),xm=e=>{const[t,n]=e.hook(e);return[cG(e.base,t),AC((r,s)=>n(lG(r,e.base),s))]},cc=()=>xm(xd()),A6=(e,t,n,r)=>{const{pattern:s,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),l=s.exec(n)||[],[u,...d]=l;return u!==void 0?[!0,(()=>{const f=i!==!1?Object.fromEntries(i.map((m,g)=>[m,d[g]])):l.groups;let p={...d};return f&&Object.assign(p,f),p})(),...r?[u]:[]]:[!1,null]},dG=({children:e,...t})=>{const n=xd(),r=t.hook?j6:n;let s=r;const[i,l]=t.ssrPath?.split("?")??[];l&&(t.ssrSearch=l,t.ssrPath=i),t.hrefs=t.hrefs??t.hook?.hrefs,t.searchHook=t.searchHook??t.hook?.searchHook;let u=b.useRef({}),d=u.current,f=d;for(let p in r){const m=p==="base"?r[p]+(t[p]||""):t[p]||r[p];d===f&&m!==f[p]&&(u.current=f={...f}),f[p]=m,(m!==r[p]||m!==s[p])&&(s=f)}return b.createElement(w6.Provider,{value:s,children:e})},nP=({children:e,component:t},n)=>t?b.createElement(t,{params:n}):typeof e=="function"?e(n):e,fG=e=>{let t=b.useRef(N6);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some(([r,s])=>s!==n[r])?e:n},ht=({path:e,nest:t,match:n,...r})=>{const s=xd(),[i]=xm(s),[l,u,d]=n??A6(s.parser,e,i,t),f=fG({...uG(),...u});if(!l)return null;const p=d?b.createElement(dG,{base:d},nP(r,f)):nP(r,f);return b.createElement(S6.Provider,{value:f,children:p})},rP=b.forwardRef((e,t)=>{const n=xd(),[r,s]=xm(n),{to:i="",href:l=i,onClick:u,asChild:d,children:f,className:p,replace:m,state:g,...v}=e,w=AC(j=>{j.ctrlKey||j.metaKey||j.altKey||j.shiftKey||j.button!==0||(u?.(j),j.defaultPrevented||(j.preventDefault(),s(l,e)))}),y=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return d&&b.isValidElement(f)?b.cloneElement(f,{onClick:w,href:y}):b.createElement("a",{...v,onClick:w,href:y,className:p?.call?p(r===l):p,children:f,ref:t})}),C6=e=>Array.isArray(e)?e.flatMap(t=>C6(t&&t.type===b.Fragment?t.props.children:t)):[e],hG=({children:e,location:t})=>{const n=xd(),[r]=xm(n);for(const s of C6(e)){let i=0;if(b.isValidElement(s)&&(i=A6(n.parser,s.props.path,t||r,s.props.nest))[0])return b.cloneElement(s,{match:i})}return null},_6=e=>{const{to:t,href:n=t}=e,r=xd(),[,s]=xm(r),i=AC(()=>s(t||n,e)),{ssrContext:l}=r;return y6(()=>{i()},[]),l&&(l.redirectTo=t),null};var yd=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},mG={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},pG=class{#e=mG;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}},_l=new pG;function gG(e){setTimeout(e,0)}var ql=typeof window>"u"||"Deno"in globalThis;function Hr(){}function xG(e,t){return typeof e=="function"?e(t):e}function cA(e){return typeof e=="number"&&e>=0&&e!==1/0}function E6(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Po(e,t){return typeof e=="function"?e(t):e}function Ha(e,t){return typeof e=="function"?e(t):e}function aP(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:l,stale:u}=e;if(l){if(r){if(t.queryHash!==EC(l,t.options))return!1}else if(!vh(t.queryKey,l))return!1}if(n!=="all"){const d=t.isActive();if(n==="active"&&!d||n==="inactive"&&d)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||s&&s!==t.state.fetchStatus||i&&!i(t))}function sP(e,t){const{exact:n,status:r,predicate:s,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(zl(t.options.mutationKey)!==zl(i))return!1}else if(!vh(t.options.mutationKey,i))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function EC(e,t){return(t?.queryKeyHashFn||zl)(e)}function zl(e){return JSON.stringify(e,(t,n)=>uA(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function vh(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>vh(e[n],t[n])):!1}var yG=Object.prototype.hasOwnProperty;function O6(e,t){if(e===t)return e;const n=iP(e)&&iP(t);if(!n&&!(uA(e)&&uA(t)))return t;const s=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),l=i.length,u=n?new Array(l):{};let d=0;for(let f=0;f<l;f++){const p=n?f:i[f],m=e[p],g=t[p];if(m===g){u[p]=m,(n?f<s:yG.call(e,p))&&d++;continue}if(m===null||g===null||typeof m!="object"||typeof g!="object"){u[p]=g;continue}const v=O6(m,g);u[p]=v,v===m&&d++}return s===l&&d===s?e:u}function ax(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function iP(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function uA(e){if(!oP(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!oP(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function oP(e){return Object.prototype.toString.call(e)==="[object Object]"}function vG(e){return new Promise(t=>{_l.setTimeout(t,e)})}function dA(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?O6(e,t):t}function bG(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function jG(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var OC=Symbol();function T6(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===OC?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function M6(e,t){return typeof e=="function"?e(...t):!!e}var wG=class extends yd{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!ql&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#e=="boolean"?this.#e:globalThis.document?.visibilityState!=="hidden"}},TC=new wG;function fA(){let e,t;const n=new Promise((s,i)=>{e=s,t=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var NG=gG;function SG(){let e=[],t=0,n=u=>{u()},r=u=>{u()},s=NG;const i=u=>{t?e.push(u):s(()=>{n(u)})},l=()=>{const u=e;e=[],u.length&&s(()=>{r(()=>{u.forEach(d=>{n(d)})})})};return{batch:u=>{let d;t++;try{d=u()}finally{t--,t||l()}return d},batchCalls:u=>(...d)=>{i(()=>{u(...d)})},schedule:i,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{s=u}}}var lr=SG(),AG=class extends yd{#e=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!ql&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#e!==e&&(this.#e=e,this.listeners.forEach(n=>{n(e)}))}isOnline(){return this.#e}},sx=new AG;function CG(e){return Math.min(1e3*2**e,3e4)}function k6(e){return(e??"online")==="online"?sx.isOnline():!0}var hA=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function P6(e){let t=!1,n=0,r;const s=fA(),i=()=>s.status!=="pending",l=y=>{if(!i()){const j=new hA(y);g(j),e.onCancel?.(j)}},u=()=>{t=!0},d=()=>{t=!1},f=()=>TC.isFocused()&&(e.networkMode==="always"||sx.isOnline())&&e.canRun(),p=()=>k6(e.networkMode)&&e.canRun(),m=y=>{i()||(r?.(),s.resolve(y))},g=y=>{i()||(r?.(),s.reject(y))},v=()=>new Promise(y=>{r=j=>{(i()||f())&&y(j)},e.onPause?.()}).then(()=>{r=void 0,i()||e.onContinue?.()}),w=()=>{if(i())return;let y;const j=n===0?e.initialPromise:void 0;try{y=j??e.fn()}catch(_){y=Promise.reject(_)}Promise.resolve(y).then(m).catch(_=>{if(i())return;const C=e.retry??(ql?0:3),N=e.retryDelay??CG,S=typeof N=="function"?N(n,_):N,O=C===!0||typeof C=="number"&&n<C||typeof C=="function"&&C(n,_);if(t||!O){g(_);return}n++,e.onFail?.(n,_),vG(S).then(()=>f()?void 0:v()).then(()=>{t?g(_):w()})})};return{promise:s,status:()=>s.status,cancel:l,continue:()=>(r?.(),s),cancelRetry:u,continueRetry:d,canStart:p,start:()=>(p()?w():v().then(w),s)}}var R6=class{#e;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),cA(this.gcTime)&&(this.#e=_l.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(ql?1/0:300*1e3))}clearGcTimeout(){this.#e&&(_l.clearTimeout(this.#e),this.#e=void 0)}},_G=class extends R6{#e;#t;#n;#a;#r;#i;#o;constructor(e){super(),this.#o=!1,this.#i=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#a=e.client,this.#n=this.#a.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#e=cP(this.options),this.state=e.state??this.#e,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#r?.promise}setOptions(e){if(this.options={...this.#i,...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const t=cP(this.options);t.data!==void 0&&(this.setState(lP(t.data,t.dataUpdatedAt)),this.#e=t)}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#n.remove(this)}setData(e,t){const n=dA(this.state.data,e,this.options);return this.#s({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#r?.promise;return this.#r?.cancel(e),t?t.then(Hr).catch(Hr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#e)}isActive(){return this.observers.some(e=>Ha(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Po(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!E6(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#r?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#r?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#r&&(this.#o?this.#r.cancel({revert:!0}):this.#r.cancelRetry()),this.scheduleGc()),this.#n.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#r?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#r)return this.#r.continueRetry(),this.#r.promise}if(e&&this.setOptions(e),!this.options.queryFn){const u=this.observers.find(d=>d.options.queryFn);u&&this.setOptions(u.options)}const n=new AbortController,r=u=>{Object.defineProperty(u,"signal",{enumerable:!0,get:()=>(this.#o=!0,n.signal)})},s=()=>{const u=T6(this.options,t),f=(()=>{const p={client:this.#a,queryKey:this.queryKey,meta:this.meta};return r(p),p})();return this.#o=!1,this.options.persister?this.options.persister(u,f,this):u(f)},l=(()=>{const u={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#a,state:this.state,fetchFn:s};return r(u),u})();this.options.behavior?.onFetch(l,this),this.#t=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==l.fetchOptions?.meta)&&this.#s({type:"fetch",meta:l.fetchOptions?.meta}),this.#r=P6({initialPromise:t?.initialPromise,fn:l.fetchFn,onCancel:u=>{u instanceof hA&&u.revert&&this.setState({...this.#t,fetchStatus:"idle"}),n.abort()},onFail:(u,d)=>{this.#s({type:"failed",failureCount:u,error:d})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0});try{const u=await this.#r.start();if(u===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(u),this.#n.config.onSuccess?.(u,this),this.#n.config.onSettled?.(u,this.state.error,this),u}catch(u){if(u instanceof hA){if(u.silent)return this.#r.promise;if(u.revert){if(this.state.data===void 0)throw u;return this.state.data}}throw this.#s({type:"error",error:u}),this.#n.config.onError?.(u,this),this.#n.config.onSettled?.(this.state.data,u,this),u}finally{this.scheduleGc()}}#s(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...D6(n.data,this.options),fetchMeta:e.meta??null};case"success":const r={...n,...lP(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#t=e.manual?r:void 0,r;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),lr.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),this.#n.notify({query:this,type:"updated",action:e})})}};function D6(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k6(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function lP(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function cP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var EG=class extends yd{constructor(e,t){super(),this.options=t,this.#e=e,this.#s=null,this.#o=fA(),this.bindMethods(),this.setOptions(t)}#e;#t=void 0;#n=void 0;#a=void 0;#r;#i;#o;#s;#p;#f;#h;#c;#u;#l;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#t.addObserver(this),uP(this.#t,this.options)?this.#d():this.updateResult(),this.#v())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return mA(this.#t,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return mA(this.#t,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#j(),this.#t.removeObserver(this)}setOptions(e){const t=this.options,n=this.#t;if(this.options=this.#e.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ha(this.options.enabled,this.#t)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#w(),this.#t.setOptions(this.options),t._defaulted&&!ax(this.options,t)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#t,observer:this});const r=this.hasListeners();r&&dP(this.#t,n,this.options,t)&&this.#d(),this.updateResult(),r&&(this.#t!==n||Ha(this.options.enabled,this.#t)!==Ha(t.enabled,this.#t)||Po(this.options.staleTime,this.#t)!==Po(t.staleTime,this.#t))&&this.#g();const s=this.#x();r&&(this.#t!==n||Ha(this.options.enabled,this.#t)!==Ha(t.enabled,this.#t)||s!==this.#l)&&this.#y(s)}getOptimisticResult(e){const t=this.#e.getQueryCache().build(this.#e,e),n=this.createResult(t,e);return TG(this,n)&&(this.#a=n,this.#i=this.options,this.#r=this.#t.state),n}getCurrentResult(){return this.#a}trackResult(e,t){return new Proxy(e,{get:(n,r)=>(this.trackProp(r),t?.(r),r==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&this.#o.status==="pending"&&this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,r))})}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#t}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#e.defaultQueryOptions(e),n=this.#e.getQueryCache().build(this.#e,t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#a))}#d(e){this.#w();let t=this.#t.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Hr)),t}#g(){this.#b();const e=Po(this.options.staleTime,this.#t);if(ql||this.#a.isStale||!cA(e))return;const n=E6(this.#a.dataUpdatedAt,e)+1;this.#c=_l.setTimeout(()=>{this.#a.isStale||this.updateResult()},n)}#x(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#t):this.options.refetchInterval)??!1}#y(e){this.#j(),this.#l=e,!(ql||Ha(this.options.enabled,this.#t)===!1||!cA(this.#l)||this.#l===0)&&(this.#u=_l.setInterval(()=>{(this.options.refetchIntervalInBackground||TC.isFocused())&&this.#d()},this.#l))}#v(){this.#g(),this.#y(this.#x())}#b(){this.#c&&(_l.clearTimeout(this.#c),this.#c=void 0)}#j(){this.#u&&(_l.clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const n=this.#t,r=this.options,s=this.#a,i=this.#r,l=this.#i,d=e!==n?e.state:this.#n,{state:f}=e;let p={...f},m=!1,g;if(t._optimisticResults){const P=this.hasListeners(),$=!P&&uP(e,t),K=P&&dP(e,n,t,r);($||K)&&(p={...p,...D6(f.data,e.options)}),t._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:v,errorUpdatedAt:w,status:y}=p;g=p.data;let j=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let P;s?.isPlaceholderData&&t.placeholderData===l?.placeholderData?(P=s.data,j=!0):P=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,P!==void 0&&(y="success",g=dA(s?.data,P,t),m=!0)}if(t.select&&g!==void 0&&!j)if(s&&g===i?.data&&t.select===this.#p)g=this.#f;else try{this.#p=t.select,g=t.select(g),g=dA(s?.data,g,t),this.#f=g,this.#s=null}catch(P){this.#s=P}this.#s&&(v=this.#s,g=this.#f,w=Date.now(),y="error");const _=p.fetchStatus==="fetching",C=y==="pending",N=y==="error",S=C&&_,O=g!==void 0,T={status:y,fetchStatus:p.fetchStatus,isPending:C,isSuccess:y==="success",isError:N,isInitialLoading:S,isLoading:S,data:g,dataUpdatedAt:p.dataUpdatedAt,error:v,errorUpdatedAt:w,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>d.dataUpdateCount||p.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!C,isLoadingError:N&&!O,isPaused:p.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:N&&O,isStale:MC(e,t),refetch:this.refetch,promise:this.#o,isEnabled:Ha(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=q=>{T.status==="error"?q.reject(T.error):T.data!==void 0&&q.resolve(T.data)},$=()=>{const q=this.#o=T.promise=fA();P(q)},K=this.#o;switch(K.status){case"pending":e.queryHash===n.queryHash&&P(K);break;case"fulfilled":(T.status==="error"||T.data!==K.value)&&$();break;case"rejected":(T.status!=="error"||T.error!==K.reason)&&$();break}}return T}updateResult(){const e=this.#a,t=this.createResult(this.#t,this.options);if(this.#r=this.#t.state,this.#i=this.options,this.#r.data!==void 0&&(this.#h=this.#t),ax(t,e))return;this.#a=t;const n=()=>{if(!e)return!0;const{notifyOnChangeProps:r}=this.options,s=typeof r=="function"?r():r;if(s==="all"||!s&&!this.#m.size)return!0;const i=new Set(s??this.#m);return this.options.throwOnError&&i.add("error"),Object.keys(this.#a).some(l=>{const u=l;return this.#a[u]!==e[u]&&i.has(u)})};this.#N({listeners:n()})}#w(){const e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#t)return;const t=this.#t;this.#t=e,this.#n=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#v()}#N(e){lr.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#a)}),this.#e.getQueryCache().notify({query:this.#t,type:"observerResultsUpdated"})})}};function OG(e,t){return Ha(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function uP(e,t){return OG(e,t)||e.state.data!==void 0&&mA(e,t,t.refetchOnMount)}function mA(e,t,n){if(Ha(t.enabled,e)!==!1&&Po(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&MC(e,t)}return!1}function dP(e,t,n,r){return(e!==t||Ha(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&MC(e,n)}function MC(e,t){return Ha(t.enabled,e)!==!1&&e.isStaleByTime(Po(t.staleTime,e))}function TG(e,t){return!ax(e.getCurrentResult(),t)}function fP(e){return{onFetch:(t,n)=>{const r=t.options,s=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],l=t.state.data?.pageParams||[];let u={pages:[],pageParams:[]},d=0;const f=async()=>{let p=!1;const m=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",()=>{p=!0}),t.signal)})},g=T6(t.options,t.fetchOptions),v=async(w,y,j)=>{if(p)return Promise.reject();if(y==null&&w.pages.length)return Promise.resolve(w);const C=(()=>{const M={client:t.client,queryKey:t.queryKey,pageParam:y,direction:j?"backward":"forward",meta:t.options.meta};return m(M),M})(),N=await g(C),{maxPages:S}=t.options,O=j?jG:bG;return{pages:O(w.pages,N,S),pageParams:O(w.pageParams,y,S)}};if(s&&i.length){const w=s==="backward",y=w?MG:hP,j={pages:i,pageParams:l},_=y(r,j);u=await v(j,_,w)}else{const w=e??i.length;do{const y=d===0?l[0]??r.initialPageParam:hP(r,u);if(d>0&&y==null)break;u=await v(u,y),d++}while(d<w)}return u};t.options.persister?t.fetchFn=()=>t.options.persister?.(f,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=f}}}function hP(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function MG(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var kG=class extends R6{#e;#t;#n;#a;constructor(e){super(),this.#e=e.client,this.mutationId=e.mutationId,this.#n=e.mutationCache,this.#t=[],this.state=e.state||I6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#n.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#n.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#n.remove(this))}continue(){return this.#a?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#r({type:"continue"})},n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#a=P6({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(i,l)=>{this.#r({type:"failed",failureCount:i,error:l})},onPause:()=>{this.#r({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#n.canRun(this)});const r=this.state.status==="pending",s=!this.#a.canStart();try{if(r)t();else{this.#r({type:"pending",variables:e,isPaused:s}),await this.#n.config.onMutate?.(e,this,n);const l=await this.options.onMutate?.(e,n);l!==this.state.context&&this.#r({type:"pending",context:l,variables:e,isPaused:s})}const i=await this.#a.start();return await this.#n.config.onSuccess?.(i,e,this.state.context,this,n),await this.options.onSuccess?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(i,null,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(i,null,e,this.state.context,n),this.#r({type:"success",data:i}),i}catch(i){try{throw await this.#n.config.onError?.(i,e,this.state.context,this,n),await this.options.onError?.(i,e,this.state.context,n),await this.#n.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this,n),await this.options.onSettled?.(void 0,i,e,this.state.context,n),i}finally{this.#r({type:"error",error:i})}}finally{this.#n.runNext(this)}}#r(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),lr.batch(()=>{this.#t.forEach(n=>{n.onMutationUpdate(e)}),this.#n.notify({mutation:this,type:"updated",action:e})})}};function I6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var PG=class extends yd{constructor(e={}){super(),this.config=e,this.#e=new Set,this.#t=new Map,this.#n=0}#e;#t;#n;build(e,t,n){const r=new kG({client:e,mutationCache:this,mutationId:++this.#n,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#e.add(e);const t=gg(e);if(typeof t=="string"){const n=this.#t.get(t);n?n.push(e):this.#t.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#e.delete(e)){const t=gg(e);if(typeof t=="string"){const n=this.#t.get(t);if(n)if(n.length>1){const r=n.indexOf(e);r!==-1&&n.splice(r,1)}else n[0]===e&&this.#t.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=gg(e);if(typeof t=="string"){const r=this.#t.get(t)?.find(s=>s.state.status==="pending");return!r||r===e}else return!0}runNext(e){const t=gg(e);return typeof t=="string"?this.#t.get(t)?.find(r=>r!==e&&r.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){lr.batch(()=>{this.#e.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#e.clear(),this.#t.clear()})}getAll(){return Array.from(this.#e)}find(e){const t={exact:!0,...e};return this.getAll().find(n=>sP(t,n))}findAll(e={}){return this.getAll().filter(t=>sP(e,t))}notify(e){lr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return lr.batch(()=>Promise.all(e.map(t=>t.continue().catch(Hr))))}};function gg(e){return e.options.scope?.id}var RG=class extends yd{#e;#t=void 0;#n;#a;constructor(t,n){super(),this.#e=t,this.setOptions(n),this.bindMethods(),this.#r()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#e.defaultMutationOptions(t),ax(this.options,n)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#n,observer:this}),n?.mutationKey&&this.options.mutationKey&&zl(n.mutationKey)!==zl(this.options.mutationKey)?this.reset():this.#n?.state.status==="pending"&&this.#n.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#n?.removeObserver(this)}onMutationUpdate(t){this.#r(),this.#i(t)}getCurrentResult(){return this.#t}reset(){this.#n?.removeObserver(this),this.#n=void 0,this.#r(),this.#i()}mutate(t,n){return this.#a=n,this.#n?.removeObserver(this),this.#n=this.#e.getMutationCache().build(this.#e,this.options),this.#n.addObserver(this),this.#n.execute(t)}#r(){const t=this.#n?.state??I6();this.#t={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#i(t){lr.batch(()=>{if(this.#a&&this.hasListeners()){const n=this.#t.variables,r=this.#t.context,s={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};t?.type==="success"?(this.#a.onSuccess?.(t.data,n,r,s),this.#a.onSettled?.(t.data,null,n,r,s)):t?.type==="error"&&(this.#a.onError?.(t.error,n,r,s),this.#a.onSettled?.(void 0,t.error,n,r,s))}this.listeners.forEach(n=>{n(this.#t)})})}},DG=class extends yd{constructor(e={}){super(),this.config=e,this.#e=new Map}#e;build(e,t,n){const r=t.queryKey,s=t.queryHash??EC(r,t);let i=this.get(s);return i||(i=new _G({client:e,queryKey:r,queryHash:s,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#e.has(e.queryHash)||(this.#e.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#e.get(e.queryHash);t&&(e.destroy(),t===e&&this.#e.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lr.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#e.get(e)}getAll(){return[...this.#e.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>aP(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>aP(e,n)):t}notify(e){lr.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lr.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lr.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},IG=class{#e;#t;#n;#a;#r;#i;#o;#s;constructor(e={}){this.#e=e.queryCache||new DG,this.#t=e.mutationCache||new PG,this.#n=e.defaultOptions||{},this.#a=new Map,this.#r=new Map,this.#i=0}mount(){this.#i++,this.#i===1&&(this.#o=TC.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onFocus())}),this.#s=sx.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#e.onOnline())}))}unmount(){this.#i--,this.#i===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#e.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#t.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#e.build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(Po(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#e.findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#e.get(r.queryHash)?.state.data,l=xG(t,i);if(l!==void 0)return this.#e.build(this,r).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return lr.batch(()=>this.#e.findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#e.get(t.queryHash)?.state}removeQueries(e){const t=this.#e;lr.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=this.#e;return lr.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=lr.batch(()=>this.#e.findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Hr).catch(Hr)}invalidateQueries(e,t={}){return lr.batch(()=>(this.#e.findAll(e).forEach(n=>{n.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=lr.batch(()=>this.#e.findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Hr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Hr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=this.#e.build(this,t);return n.isStaleByTime(Po(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Hr).catch(Hr)}fetchInfiniteQuery(e){return e.behavior=fP(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Hr).catch(Hr)}ensureInfiniteQueryData(e){return e.behavior=fP(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return sx.isOnline()?this.#t.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#e}getMutationCache(){return this.#t}getDefaultOptions(){return this.#n}setDefaultOptions(e){this.#n=e}setQueryDefaults(e,t){this.#a.set(zl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#a.values()],n={};return t.forEach(r=>{vh(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){this.#r.set(zl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#r.values()],n={};return t.forEach(r=>{vh(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#n.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=EC(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===OC&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#n.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#e.clear(),this.#t.clear()}},L6=b.createContext(void 0),er=e=>{const t=b.useContext(L6);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},LG=({client:e,children:t})=>(b.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(L6.Provider,{value:e,children:t})),$6=b.createContext(!1),$G=()=>b.useContext($6);$6.Provider;function qG(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var zG=b.createContext(qG()),BG=()=>b.useContext(zG),FG=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},UG=e=>{b.useEffect(()=>{e.clearReset()},[e])},HG=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||M6(n,[e.error,r])),VG=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},KG=(e,t)=>e.isLoading&&e.isFetching&&!t,WG=(e,t)=>e?.suspense&&t.isPending,mP=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function YG(e,t,n){const r=$G(),s=BG(),i=er(),l=i.defaultQueryOptions(e);i.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=r?"isRestoring":"optimistic",VG(l),FG(l,s),UG(s);const u=!i.getQueryCache().get(l.queryHash),[d]=b.useState(()=>new t(i,l)),f=d.getOptimisticResult(l),p=!r&&e.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(m=>{const g=p?d.subscribe(lr.batchCalls(m)):Hr;return d.updateResult(),g},[d,p]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),b.useEffect(()=>{d.setOptions(l)},[l,d]),WG(l,f))throw mP(l,d,s);if(HG({result:f,errorResetBoundary:s,throwOnError:l.throwOnError,query:i.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw f.error;return i.getDefaultOptions().queries?._experimental_afterQuery?.(l,f),l.experimental_prefetchInRender&&!ql&&KG(f,r)&&(u?mP(l,d,s):i.getQueryCache().get(l.queryHash)?.promise)?.catch(Hr).finally(()=>{d.updateResult()}),l.notifyOnChangeProps?f:d.trackResult(f)}function Ve(e,t){return YG(e,EG)}function et(e,t){const n=er(),[r]=b.useState(()=>new RG(n,e));b.useEffect(()=>{r.setOptions(e)},[r,e]);const s=b.useSyncExternalStore(b.useCallback(l=>r.subscribe(lr.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),i=b.useCallback((l,u)=>{r.mutate(l,u).catch(Hr)},[r]);if(s.error&&M6(r.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}const GG="whatsapp_auth_user";function XG(){try{const e=localStorage.getItem(GG);if(!e)return{};const t=JSON.parse(e);return{"x-user-id":t.id||"","x-user-role":t.role||"user","x-user-name":t.name||"","x-user":JSON.stringify(t)}}catch{return{}}}async function QG(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}const ZG=({on401:e})=>async({queryKey:t})=>{const n=XG(),r=await fetch(t.join("/"),{headers:n});return await QG(r),await r.json()},JG=new IG({defaultOptions:{queries:{queryFn:ZG({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),eX=1,tX=1e6;let kj=0;function nX(){return kj=(kj+1)%Number.MAX_SAFE_INTEGER,kj.toString()}const Pj=new Map,pP=e=>{if(Pj.has(e))return;const t=setTimeout(()=>{Pj.delete(e),oh({type:"REMOVE_TOAST",toastId:e})},tX);Pj.set(e,t)},rX=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,eX)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?pP(n):e.toasts.forEach(r=>{pP(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Wg=[];let Yg={toasts:[]};function oh(e){Yg=rX(Yg,e),Wg.forEach(t=>{t(Yg)})}function aX({...e}){const t=nX(),n=s=>oh({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>oh({type:"DISMISS_TOAST",toastId:t});return oh({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function Uo(){const[e,t]=b.useState(Yg);return b.useEffect(()=>(Wg.push(t),()=>{const n=Wg.indexOf(t);n>-1&&Wg.splice(n,1)}),[e]),{...e,toast:aX,dismiss:n=>oh({type:"DISMISS_TOAST",toastId:n})}}var vd=p6();const sX=Wt(vd);function Le(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e?.(s),n===!1||!s.defaultPrevented)return t?.(s)}}function gP(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Di(...e){return t=>{let n=!1;const r=e.map(s=>{const i=gP(s,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():gP(e[s],null)}}}}function wt(...e){return b.useCallback(Di(...e),e)}function iX(e,t){const n=b.createContext(t),r=i=>{const{children:l,...u}=i,d=b.useMemo(()=>u,Object.values(u));return a.jsx(n.Provider,{value:d,children:l})};r.displayName=e+"Provider";function s(i){const l=b.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${i}\` must be used within \`${e}\``)}return[r,s]}function Fr(e,t=[]){let n=[];function r(i,l){const u=b.createContext(l),d=n.length;n=[...n,l];const f=m=>{const{scope:g,children:v,...w}=m,y=g?.[e]?.[d]||u,j=b.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:j,children:v})};f.displayName=i+"Provider";function p(m,g){const v=g?.[e]?.[d]||u,w=b.useContext(v);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,p]}const s=()=>{const i=n.map(l=>b.createContext(l));return function(u){const d=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,oX(s,...t)]}function oX(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function xP(e){const t=lX(e),n=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),d=u.find(uX);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function lX(e){const t=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const l=fX(s),u=dX(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Di(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cX=Symbol("radix.slottable");function uX(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cX}function dX(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function fX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ym(e){const t=e+"CollectionProvider",[n,r]=Fr(t),[s,i]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=y=>{const{scope:j,children:_}=y,C=X.useRef(null),N=X.useRef(new Map).current;return a.jsx(s,{scope:j,itemMap:N,collectionRef:C,children:_})};l.displayName=t;const u=e+"CollectionSlot",d=xP(u),f=X.forwardRef((y,j)=>{const{scope:_,children:C}=y,N=i(u,_),S=wt(j,N.collectionRef);return a.jsx(d,{ref:S,children:C})});f.displayName=u;const p=e+"CollectionItemSlot",m="data-radix-collection-item",g=xP(p),v=X.forwardRef((y,j)=>{const{scope:_,children:C,...N}=y,S=X.useRef(null),O=wt(j,S),M=i(p,_);return X.useEffect(()=>(M.itemMap.set(S,{ref:S,...N}),()=>void M.itemMap.delete(S))),a.jsx(g,{[m]:"",ref:O,children:C})});v.displayName=p;function w(y){const j=i(e+"CollectionConsumer",y);return X.useCallback(()=>{const C=j.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${m}]`));return Array.from(j.itemMap.values()).sort((M,T)=>N.indexOf(M.ref.current)-N.indexOf(T.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},w,r]}function hX(e){const t=mX(e),n=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),d=u.find(gX);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function mX(e){const t=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const l=yX(s),u=xX(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Di(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var pX=Symbol("radix.slottable");function gX(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===pX}function xX(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function yX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var vX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Je=vX.reduce((e,t)=>{const n=hX(`Primitive.${t}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function kC(e,t){e&&vd.flushSync(()=>e.dispatchEvent(t))}function qn(e){const t=b.useRef(e);return b.useEffect(()=>{t.current=e}),b.useMemo(()=>(...n)=>t.current?.(...n),[])}function bX(e,t=globalThis?.document){const n=qn(e);b.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var jX="DismissableLayer",pA="dismissableLayer.update",wX="dismissableLayer.pointerDownOutside",NX="dismissableLayer.focusOutside",yP,q6=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bd=b.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:l,onDismiss:u,...d}=e,f=b.useContext(q6),[p,m]=b.useState(null),g=p?.ownerDocument??globalThis?.document,[,v]=b.useState({}),w=wt(t,T=>m(T)),y=Array.from(f.layers),[j]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),_=y.indexOf(j),C=p?y.indexOf(p):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,S=C>=_,O=AX(T=>{const P=T.target,$=[...f.branches].some(K=>K.contains(P));!S||$||(s?.(T),l?.(T),T.defaultPrevented||u?.())},g),M=CX(T=>{const P=T.target;[...f.branches].some(K=>K.contains(P))||(i?.(T),l?.(T),T.defaultPrevented||u?.())},g);return bX(T=>{C===f.layers.size-1&&(r?.(T),!T.defaultPrevented&&u&&(T.preventDefault(),u()))},g),b.useEffect(()=>{if(p)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(yP=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(p)),f.layers.add(p),vP(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=yP)}},[p,g,n,f]),b.useEffect(()=>()=>{p&&(f.layers.delete(p),f.layersWithOutsidePointerEventsDisabled.delete(p),vP())},[p,f]),b.useEffect(()=>{const T=()=>v({});return document.addEventListener(pA,T),()=>document.removeEventListener(pA,T)},[]),a.jsx(Je.div,{...d,ref:w,style:{pointerEvents:N?S?"auto":"none":void 0,...e.style},onFocusCapture:Le(e.onFocusCapture,M.onFocusCapture),onBlurCapture:Le(e.onBlurCapture,M.onBlurCapture),onPointerDownCapture:Le(e.onPointerDownCapture,O.onPointerDownCapture)})});bd.displayName=jX;var SX="DismissableLayerBranch",z6=b.forwardRef((e,t)=>{const n=b.useContext(q6),r=b.useRef(null),s=wt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Je.div,{...e,ref:s})});z6.displayName=SX;function AX(e,t=globalThis?.document){const n=qn(e),r=b.useRef(!1),s=b.useRef(()=>{});return b.useEffect(()=>{const i=u=>{if(u.target&&!r.current){let d=function(){B6(wX,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=d,t.addEventListener("click",s.current,{once:!0})):d()}else t.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",i),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function CX(e,t=globalThis?.document){const n=qn(e),r=b.useRef(!1);return b.useEffect(()=>{const s=i=>{i.target&&!r.current&&B6(NX,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vP(){const e=new CustomEvent(pA);document.dispatchEvent(e)}function B6(e,t,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kC(s,i):s.dispatchEvent(i)}var _X=bd,EX=z6,Fn=globalThis?.document?b.useLayoutEffect:()=>{},OX="Portal",jd=b.forwardRef((e,t)=>{const{container:n,...r}=e,[s,i]=b.useState(!1);Fn(()=>i(!0),[]);const l=n||s&&globalThis?.document?.body;return l?sX.createPortal(a.jsx(Je.div,{...r,ref:t}),l):null});jd.displayName=OX;function TX(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var jr=e=>{const{present:t,children:n}=e,r=MX(t),s=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),i=wt(r.ref,kX(s));return typeof n=="function"||r.isPresent?b.cloneElement(s,{ref:i}):null};jr.displayName="Presence";function MX(e){const[t,n]=b.useState(),r=b.useRef(null),s=b.useRef(e),i=b.useRef("none"),l=e?"mounted":"unmounted",[u,d]=TX(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const f=xg(r.current);i.current=u==="mounted"?f:"none"},[u]),Fn(()=>{const f=r.current,p=s.current;if(p!==e){const g=i.current,v=xg(f);e?d("MOUNT"):v==="none"||f?.display==="none"?d("UNMOUNT"):d(p&&g!==v?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,d]),Fn(()=>{if(t){let f;const p=t.ownerDocument.defaultView??window,m=v=>{const y=xg(r.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(d("ANIMATION_END"),!s.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",f=p.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},g=v=>{v.target===t&&(i.current=xg(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{p.clearTimeout(f),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else d("ANIMATION_END")},[t,d]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:b.useCallback(f=>{r.current=f?getComputedStyle(f):null,n(f)},[])}}function xg(e){return e?.animationName||"none"}function kX(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var PX=Iy[" useInsertionEffect ".trim().toString()]||Fn;function vs({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,i,l]=RX({defaultProp:t,onChange:n}),u=e!==void 0,d=u?e:s;{const p=b.useRef(e!==void 0);b.useEffect(()=>{const m=p.current;m!==u&&console.warn(`${r} is changing from ${m?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=u},[u,r])}const f=b.useCallback(p=>{if(u){const m=DX(p)?p(e):p;m!==e&&l.current?.(m)}else i(p)},[u,e,i,l]);return[d,f]}function RX({defaultProp:e,onChange:t}){const[n,r]=b.useState(e),s=b.useRef(n),i=b.useRef(t);return PX(()=>{i.current=t},[t]),b.useEffect(()=>{s.current!==n&&(i.current?.(n),s.current=n)},[n,s]),[n,r,i]}function DX(e){return typeof e=="function"}var F6=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),IX="VisuallyHidden",Ly=b.forwardRef((e,t)=>a.jsx(Je.span,{...e,ref:t,style:{...F6,...e.style}}));Ly.displayName=IX;var LX=Ly,PC="ToastProvider",[RC,$X,qX]=ym("Toast"),[U6]=Fr("Toast",[qX]),[zX,$y]=U6(PC),H6=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:l}=e,[u,d]=b.useState(null),[f,p]=b.useState(0),m=b.useRef(!1),g=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${PC}\`. Expected non-empty \`string\`.`),a.jsx(RC.Provider,{scope:t,children:a.jsx(zX,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:f,viewport:u,onViewportChange:d,onToastAdd:b.useCallback(()=>p(v=>v+1),[]),onToastRemove:b.useCallback(()=>p(v=>v-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:g,children:l})})};H6.displayName=PC;var V6="ToastViewport",BX=["F8"],gA="toast.viewportPause",xA="toast.viewportResume",K6=b.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=BX,label:s="Notifications ({hotkey})",...i}=e,l=$y(V6,n),u=$X(n),d=b.useRef(null),f=b.useRef(null),p=b.useRef(null),m=b.useRef(null),g=wt(t,m,l.onViewportChange),v=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=l.toastCount>0;b.useEffect(()=>{const j=_=>{r.length!==0&&r.every(N=>_[N]||_.code===N)&&m.current?.focus()};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[r]),b.useEffect(()=>{const j=d.current,_=m.current;if(w&&j&&_){const C=()=>{if(!l.isClosePausedRef.current){const M=new CustomEvent(gA);_.dispatchEvent(M),l.isClosePausedRef.current=!0}},N=()=>{if(l.isClosePausedRef.current){const M=new CustomEvent(xA);_.dispatchEvent(M),l.isClosePausedRef.current=!1}},S=M=>{!j.contains(M.relatedTarget)&&N()},O=()=>{j.contains(document.activeElement)||N()};return j.addEventListener("focusin",C),j.addEventListener("focusout",S),j.addEventListener("pointermove",C),j.addEventListener("pointerleave",O),window.addEventListener("blur",C),window.addEventListener("focus",N),()=>{j.removeEventListener("focusin",C),j.removeEventListener("focusout",S),j.removeEventListener("pointermove",C),j.removeEventListener("pointerleave",O),window.removeEventListener("blur",C),window.removeEventListener("focus",N)}}},[w,l.isClosePausedRef]);const y=b.useCallback(({tabbingDirection:j})=>{const C=u().map(N=>{const S=N.ref.current,O=[S,...eQ(S)];return j==="forwards"?O:O.reverse()});return(j==="forwards"?C.reverse():C).flat()},[u]);return b.useEffect(()=>{const j=m.current;if(j){const _=C=>{const N=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!N){const O=document.activeElement,M=C.shiftKey;if(C.target===j&&M){f.current?.focus();return}const $=y({tabbingDirection:M?"backwards":"forwards"}),K=$.findIndex(q=>q===O);Rj($.slice(K+1))?C.preventDefault():M?f.current?.focus():p.current?.focus()}};return j.addEventListener("keydown",_),()=>j.removeEventListener("keydown",_)}},[u,y]),a.jsxs(EX,{ref:d,role:"region","aria-label":s.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&a.jsx(yA,{ref:f,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"forwards"});Rj(j)}}),a.jsx(RC.Slot,{scope:n,children:a.jsx(Je.ol,{tabIndex:-1,...i,ref:g})}),w&&a.jsx(yA,{ref:p,onFocusFromOutsideViewport:()=>{const j=y({tabbingDirection:"backwards"});Rj(j)}})]})});K6.displayName=V6;var W6="ToastFocusProxy",yA=b.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,i=$y(W6,n);return a.jsx(Ly,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:l=>{const u=l.relatedTarget;!i.viewport?.contains(u)&&r()}})});yA.displayName=W6;var vm="Toast",FX="toast.swipeStart",UX="toast.swipeMove",HX="toast.swipeCancel",VX="toast.swipeEnd",Y6=b.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...l}=e,[u,d]=vs({prop:r,defaultProp:s??!0,onChange:i,caller:vm});return a.jsx(jr,{present:n||u,children:a.jsx(YX,{open:u,...l,ref:t,onClose:()=>d(!1),onPause:qn(e.onPause),onResume:qn(e.onResume),onSwipeStart:Le(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Le(e.onSwipeMove,f=>{const{x:p,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Le(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Le(e.onSwipeEnd,f=>{const{x:p,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${p}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),d(!1)})})})});Y6.displayName=vm;var[KX,WX]=U6(vm,{onClose(){}}),YX=b.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:l,onEscapeKeyDown:u,onPause:d,onResume:f,onSwipeStart:p,onSwipeMove:m,onSwipeCancel:g,onSwipeEnd:v,...w}=e,y=$y(vm,n),[j,_]=b.useState(null),C=wt(t,L=>_(L)),N=b.useRef(null),S=b.useRef(null),O=s||y.duration,M=b.useRef(0),T=b.useRef(O),P=b.useRef(0),{onToastAdd:$,onToastRemove:K}=y,q=qn(()=>{j?.contains(document.activeElement)&&y.viewport?.focus(),l()}),H=b.useCallback(L=>{!L||L===1/0||(window.clearTimeout(P.current),M.current=new Date().getTime(),P.current=window.setTimeout(q,L))},[q]);b.useEffect(()=>{const L=y.viewport;if(L){const D=()=>{H(T.current),f?.()},k=()=>{const I=new Date().getTime()-M.current;T.current=T.current-I,window.clearTimeout(P.current),d?.()};return L.addEventListener(gA,k),L.addEventListener(xA,D),()=>{L.removeEventListener(gA,k),L.removeEventListener(xA,D)}}},[y.viewport,O,d,f,H]),b.useEffect(()=>{i&&!y.isClosePausedRef.current&&H(O)},[i,O,y.isClosePausedRef,H]),b.useEffect(()=>($(),()=>K()),[$,K]);const B=b.useMemo(()=>j?tq(j):null,[j]);return y.viewport?a.jsxs(a.Fragment,{children:[B&&a.jsx(GX,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:B}),a.jsx(KX,{scope:n,onClose:q,children:vd.createPortal(a.jsx(RC.ItemSlot,{scope:n,children:a.jsx(_X,{asChild:!0,onEscapeKeyDown:Le(u,()=>{y.isFocusedToastEscapeKeyDownRef.current||q(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Je.li,{tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:C,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Le(e.onKeyDown,L=>{L.key==="Escape"&&(u?.(L.nativeEvent),L.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,q()))}),onPointerDown:Le(e.onPointerDown,L=>{L.button===0&&(N.current={x:L.clientX,y:L.clientY})}),onPointerMove:Le(e.onPointerMove,L=>{if(!N.current)return;const D=L.clientX-N.current.x,k=L.clientY-N.current.y,I=!!S.current,z=["left","right"].includes(y.swipeDirection),V=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,Y=z?V(0,D):0,U=z?0:V(0,k),F=L.pointerType==="touch"?10:2,G={x:Y,y:U},Z={originalEvent:L,delta:G};I?(S.current=G,yg(UX,m,Z,{discrete:!1})):bP(G,y.swipeDirection,F)?(S.current=G,yg(FX,p,Z,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(D)>F||Math.abs(k)>F)&&(N.current=null)}),onPointerUp:Le(e.onPointerUp,L=>{const D=S.current,k=L.target;if(k.hasPointerCapture(L.pointerId)&&k.releasePointerCapture(L.pointerId),S.current=null,N.current=null,D){const I=L.currentTarget,z={originalEvent:L,delta:D};bP(D,y.swipeDirection,y.swipeThreshold)?yg(VX,v,z,{discrete:!0}):yg(HX,g,z,{discrete:!0}),I.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),GX=e=>{const{__scopeToast:t,children:n,...r}=e,s=$y(vm,t),[i,l]=b.useState(!1),[u,d]=b.useState(!1);return ZX(()=>l(!0)),b.useEffect(()=>{const f=window.setTimeout(()=>d(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:a.jsx(jd,{asChild:!0,children:a.jsx(Ly,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},XX="ToastTitle",G6=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Je.div,{...r,ref:t})});G6.displayName=XX;var QX="ToastDescription",X6=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return a.jsx(Je.div,{...r,ref:t})});X6.displayName=QX;var Q6="ToastAction",Z6=b.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?a.jsx(eq,{altText:n,asChild:!0,children:a.jsx(DC,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Q6}\`. Expected non-empty \`string\`.`),null)});Z6.displayName=Q6;var J6="ToastClose",DC=b.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=WX(J6,n);return a.jsx(eq,{asChild:!0,children:a.jsx(Je.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,s.onClose)})})});DC.displayName=J6;var eq=b.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return a.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function tq(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),JX(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...tq(r))}}),t}function yg(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?kC(s,i):s.dispatchEvent(i)}var bP=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),i=r>s;return t==="left"||t==="right"?i&&r>n:!i&&s>n};function ZX(e=()=>{}){const t=qn(e);Fn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function JX(e){return e.nodeType===e.ELEMENT_NODE}function eQ(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Rj(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var tQ=H6,nq=K6,rq=Y6,aq=G6,sq=X6,iq=Z6,oq=DC;function lq(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=lq(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Nt(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=lq(e))&&(r&&(r+=" "),r+=t);return r}const jP=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,wP=Nt,wd=(e,t)=>n=>{var r;if(t?.variants==null)return wP(e,n?.class,n?.className);const{variants:s,defaultVariants:i}=t,l=Object.keys(s).map(f=>{const p=n?.[f],m=i?.[f];if(p===null)return null;const g=jP(p)||jP(m);return s[f][g]}),u=n&&Object.entries(n).reduce((f,p)=>{let[m,g]=p;return g===void 0||(f[m]=g),f},{}),d=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,p)=>{let{class:m,className:g,...v}=p;return Object.entries(v).every(w=>{let[y,j]=w;return Array.isArray(j)?j.includes({...i,...u}[y]):{...i,...u}[y]===j})?[...f,m,g]:f},[]);return wP(e,l,d,n?.class,n?.className)};const nQ=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rQ=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),NP=e=>{const t=rQ(e);return t.charAt(0).toUpperCase()+t.slice(1)},cq=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),aQ=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var sQ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iQ=b.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:l,...u},d)=>b.createElement("svg",{ref:d,...sQ,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:cq("lucide",s),...!i&&!aQ(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>b.createElement(f,p)),...Array.isArray(i)?i:[i]]));const Pe=(e,t)=>{const n=b.forwardRef(({className:r,...s},i)=>b.createElement(iQ,{ref:i,iconNode:t,className:cq(`lucide-${nQ(NP(e))}`,`lucide-${e}`,r),...s}));return n.displayName=NP(e),n};const oQ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Co=Pe("activity",oQ);const lQ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],cQ=Pe("arrow-down-right",lQ);const uQ=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],dQ=Pe("arrow-down",uQ);const fQ=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],uq=Pe("arrow-left",fQ);const hQ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Dj=Pe("arrow-right",hQ);const mQ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],pQ=Pe("arrow-up-right",mQ);const gQ=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],xQ=Pe("arrow-up",gQ);const yQ=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],dq=Pe("at-sign",yQ);const vQ=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Oo=Pe("ban",vQ);const bQ=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jQ=Pe("bell",bQ);const wQ=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],kt=Pe("bot",wQ);const NQ=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ci=Pe("calendar",NQ);const SQ=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],bm=Pe("chart-column",SQ);const AQ=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jm=Pe("check",AQ);const CQ=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],qy=Pe("chevron-down",CQ);const _Q=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],IC=Pe("chevron-right",_Q);const EQ=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],OQ=Pe("chevron-up",EQ);const TQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bh=Pe("circle-alert",TQ);const MQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],cr=Pe("circle-check",MQ);const kQ=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Zf=Pe("circle-check-big",kQ);const PQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],RQ=Pe("circle-pause",PQ);const DQ=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],IQ=Pe("circle-play",DQ);const LQ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tu=Pe("circle-x",LQ);const $Q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],qQ=Pe("circle",$Q);const zQ=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Kt=Pe("clock",zQ);const BQ=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],FQ=Pe("coins",BQ);const UQ=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],LC=Pe("copy",UQ);const HQ=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],VQ=Pe("credit-card",HQ);const KQ=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],WQ=Pe("crown",KQ);const YQ=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],wu=Pe("dollar-sign",YQ);const GQ=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Tr=Pe("download",GQ);const XQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],zy=Pe("ellipsis-vertical",XQ);const QQ=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],$C=Pe("ellipsis",QQ);const ZQ=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],JQ=Pe("external-link",ZQ);const eZ=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],vg=Pe("eye-off",eZ);const tZ=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ka=Pe("eye",tZ);const nZ=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],wm=Pe("facebook",nZ);const rZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],By=Pe("file-spreadsheet",rZ);const aZ=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vr=Pe("file-text",aZ);const sZ=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],qC=Pe("funnel",sZ);const iZ=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],fq=Pe("git-branch",iZ);const oZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],zC=Pe("globe",oZ);const lZ=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],cZ=Pe("history",lZ);const uZ=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],dZ=Pe("image",uZ);const fZ=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],SP=Pe("inbox",fZ);const hZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vA=Pe("info",hZ);const mZ=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],hq=Pe("instagram",mZ);const pZ=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ix=Pe("key",pZ);const gZ=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ox=Pe("layout-dashboard",gZ);const xZ=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],yZ=Pe("layout-grid",xZ);const vZ=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],AP=Pe("link-2",vZ);const bZ=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],CP=Pe("link",bZ);const jZ=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Be=Pe("loader-circle",jZ);const wZ=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],NZ=Pe("log-out",wZ);const SZ=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],lx=Pe("lock",SZ);const AZ=[["path",{d:"M21.2 8.4c.5.38.8.97.8 1.6v10a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V10a2 2 0 0 1 .8-1.6l8-6a2 2 0 0 1 2.4 0l8 6Z",key:"1jhwl8"}],["path",{d:"m22 10-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 10",key:"1qfld7"}]],BC=Pe("mail-open",AZ);const CZ=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Fy=Pe("mail",CZ);const _Z=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],EZ=Pe("map-pin",_Z);const OZ=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],mq=Pe("megaphone",OZ);const TZ=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],MZ=Pe("menu",TZ);const kZ=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],bA=Pe("message-circle",kZ);const PZ=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],an=Pe("message-square",PZ);const RZ=[["path",{d:"M5 12h14",key:"1ays0h"}]],pq=Pe("minus",RZ);const DZ=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],FC=Pe("paperclip",DZ);const IZ=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],uc=Pe("phone",IZ);const LZ=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],jh=Pe("play",LZ);const $Z=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Mr=Pe("plus",$Z);const qZ=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zZ=Pe("radio",qZ);const BZ=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Or=Pe("refresh-cw",BZ);const FZ=[["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}],["path",{d:"m9 17-5-5 5-5",key:"nvlc11"}]],Ya=Pe("reply",FZ);const UZ=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],HZ=Pe("save",UZ);const VZ=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gr=Pe("search",VZ);const KZ=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],dr=Pe("send",KZ);const WZ=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],jA=Pe("settings",WZ);const YZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],GZ=Pe("shield-check",YZ);const XZ=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Bl=Pe("shield",XZ);const QZ=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],ZZ=Pe("smartphone",QZ);const JZ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],UC=Pe("smile",JZ);const eJ=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],_i=Pe("square-pen",eJ);const tJ=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],HC=Pe("star",tJ);const nJ=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Jf=Pe("target",nJ);const rJ=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],wA=Pe("thumbs-down",rJ);const aJ=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],NA=Pe("thumbs-up",aJ);const sJ=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Ea=Pe("trash-2",sJ);const iJ=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],oJ=Pe("trending-down",iJ);const lJ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],dc=Pe("trending-up",lJ);const cJ=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pl=Pe("triangle-alert",cJ);const uJ=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],Ij=Pe("trophy",uJ);const dJ=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fJ=Pe("upload",dJ);const hJ=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],VC=Pe("user-check",hJ);const mJ=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uy=Pe("user-cog",mJ);const pJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Fl=Pe("user-plus",pJ);const gJ=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],zn=Pe("users",gJ);const xJ=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ul=Pe("user",xJ);const yJ=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Hy=Pe("video",yJ);const vJ=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],bJ=Pe("webhook",vJ);const jJ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ho=Pe("x",jJ);const wJ=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],lh=Pe("zap",wJ),NJ=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},SJ=(e,t)=>({classGroupId:e,validator:t}),gq=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),cx="-",_P=[],AJ="arbitrary..",CJ=e=>{const t=EJ(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return _J(l);const u=l.split(cx),d=u[0]===""&&u.length>1?1:0;return xq(u,d,t)},getConflictingClassGroupIds:(l,u)=>{if(u){const d=r[l],f=n[l];return d?f?NJ(f,d):d:f||_P}return n[l]||_P}}},xq=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const f=xq(e,t+1,i);if(f)return f}const l=n.validators;if(l===null)return;const u=t===0?e.join(cx):e.slice(t).join(cx),d=l.length;for(let f=0;f<d;f++){const p=l[f];if(p.validator(u))return p.classGroupId}},_J=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?AJ+r:void 0})(),EJ=e=>{const{theme:t,classGroups:n}=e;return OJ(n,t)},OJ=(e,t)=>{const n=gq();for(const r in e){const s=e[r];KC(s,n,r,t)}return n},KC=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const l=e[i];TJ(l,t,n,r)}},TJ=(e,t,n,r)=>{if(typeof e=="string"){MJ(e,t,n);return}if(typeof e=="function"){kJ(e,t,n,r);return}PJ(e,t,n,r)},MJ=(e,t,n)=>{const r=e===""?t:yq(t,e);r.classGroupId=n},kJ=(e,t,n,r)=>{if(RJ(e)){KC(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(SJ(n,e))},PJ=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let l=0;l<i;l++){const[u,d]=s[l];KC(d,yq(t,u),n,r)}},yq=(e,t)=>{let n=e;const r=t.split(cx),s=r.length;for(let i=0;i<s;i++){const l=r[i];let u=n.nextPart.get(l);u||(u=gq(),n.nextPart.set(l,u)),n=u}return n},RJ=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,DJ=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(i,l)=>{n[i]=l,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let l=n[i];if(l!==void 0)return l;if((l=r[i])!==void 0)return s(i,l),l},set(i,l){i in n?n[i]=l:s(i,l)}}},SA="!",EP=":",IJ=[],OP=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),LJ=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let l=0,u=0,d=0,f;const p=s.length;for(let y=0;y<p;y++){const j=s[y];if(l===0&&u===0){if(j===EP){i.push(s.slice(d,y)),d=y+1;continue}if(j==="/"){f=y;continue}}j==="["?l++:j==="]"?l--:j==="("?u++:j===")"&&u--}const m=i.length===0?s:s.slice(d);let g=m,v=!1;m.endsWith(SA)?(g=m.slice(0,-1),v=!0):m.startsWith(SA)&&(g=m.slice(1),v=!0);const w=f&&f>d?f-d:void 0;return OP(i,v,g,w)};if(t){const s=t+EP,i=r;r=l=>l.startsWith(s)?i(l.slice(s.length)):OP(IJ,!1,l,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},$J=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const l=n[i],u=l[0]==="[",d=t.has(l);u||d?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(l)):s.push(l)}return s.length>0&&(s.sort(),r.push(...s)),r}},qJ=e=>({cache:DJ(e.cacheSize),parseClassName:LJ(e),sortModifiers:$J(e),...CJ(e)}),zJ=/\s+/,BJ=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,l=[],u=e.trim().split(zJ);let d="";for(let f=u.length-1;f>=0;f-=1){const p=u[f],{isExternal:m,modifiers:g,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:y}=n(p);if(m){d=p+(d.length>0?" "+d:d);continue}let j=!!y,_=r(j?w.substring(0,y):w);if(!_){if(!j){d=p+(d.length>0?" "+d:d);continue}if(_=r(w),!_){d=p+(d.length>0?" "+d:d);continue}j=!1}const C=g.length===0?"":g.length===1?g[0]:i(g).join(":"),N=v?C+SA:C,S=N+_;if(l.indexOf(S)>-1)continue;l.push(S);const O=s(_,j);for(let M=0;M<O.length;++M){const T=O[M];l.push(N+T)}d=p+(d.length>0?" "+d:d)}return d},FJ=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=vq(n))&&(s&&(s+=" "),s+=r);return s},vq=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=vq(e[r]))&&(n&&(n+=" "),n+=t);return n},UJ=(e,...t)=>{let n,r,s,i;const l=d=>{const f=t.reduce((p,m)=>m(p),e());return n=qJ(f),r=n.cache.get,s=n.cache.set,i=u,u(d)},u=d=>{const f=r(d);if(f)return f;const p=BJ(d,n);return s(d,p),p};return i=l,(...d)=>i(FJ(...d))},HJ=[],sr=e=>{const t=n=>n[e]||HJ;return t.isThemeGetter=!0,t},bq=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jq=/^\((?:(\w[\w-]*):)?(.+)\)$/i,VJ=/^\d+\/\d+$/,KJ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,WJ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,YJ=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,GJ=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XJ=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,su=e=>VJ.test(e),Et=e=>!!e&&!Number.isNaN(Number(e)),vo=e=>!!e&&Number.isInteger(Number(e)),Lj=e=>e.endsWith("%")&&Et(e.slice(0,-1)),hi=e=>KJ.test(e),QJ=()=>!0,ZJ=e=>WJ.test(e)&&!YJ.test(e),wq=()=>!1,JJ=e=>GJ.test(e),eee=e=>XJ.test(e),tee=e=>!Xe(e)&&!Qe(e),nee=e=>Nd(e,Aq,wq),Xe=e=>bq.test(e),yl=e=>Nd(e,Cq,ZJ),$j=e=>Nd(e,oee,Et),TP=e=>Nd(e,Nq,wq),ree=e=>Nd(e,Sq,eee),bg=e=>Nd(e,_q,JJ),Qe=e=>jq.test(e),If=e=>Sd(e,Cq),aee=e=>Sd(e,lee),MP=e=>Sd(e,Nq),see=e=>Sd(e,Aq),iee=e=>Sd(e,Sq),jg=e=>Sd(e,_q,!0),Nd=(e,t,n)=>{const r=bq.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},Sd=(e,t,n=!1)=>{const r=jq.exec(e);return r?r[1]?t(r[1]):n:!1},Nq=e=>e==="position"||e==="percentage",Sq=e=>e==="image"||e==="url",Aq=e=>e==="length"||e==="size"||e==="bg-size",Cq=e=>e==="length",oee=e=>e==="number",lee=e=>e==="family-name",_q=e=>e==="shadow",cee=()=>{const e=sr("color"),t=sr("font"),n=sr("text"),r=sr("font-weight"),s=sr("tracking"),i=sr("leading"),l=sr("breakpoint"),u=sr("container"),d=sr("spacing"),f=sr("radius"),p=sr("shadow"),m=sr("inset-shadow"),g=sr("text-shadow"),v=sr("drop-shadow"),w=sr("blur"),y=sr("perspective"),j=sr("aspect"),_=sr("ease"),C=sr("animate"),N=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...S(),Qe,Xe],M=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto","contain","none"],P=()=>[Qe,Xe,d],$=()=>[su,"full","auto",...P()],K=()=>[vo,"none","subgrid",Qe,Xe],q=()=>["auto",{span:["full",vo,Qe,Xe]},vo,Qe,Xe],H=()=>[vo,"auto",Qe,Xe],B=()=>["auto","min","max","fr",Qe,Xe],L=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],D=()=>["start","end","center","stretch","center-safe","end-safe"],k=()=>["auto",...P()],I=()=>[su,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...P()],z=()=>[e,Qe,Xe],V=()=>[...S(),MP,TP,{position:[Qe,Xe]}],Y=()=>["no-repeat",{repeat:["","x","y","space","round"]}],U=()=>["auto","cover","contain",see,nee,{size:[Qe,Xe]}],F=()=>[Lj,If,yl],G=()=>["","none","full",f,Qe,Xe],Z=()=>["",Et,If,yl],ge=()=>["solid","dashed","dotted","double"],Se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>[Et,Lj,MP,TP],pe=()=>["","none",w,Qe,Xe],ce=()=>["none",Et,Qe,Xe],Ae=()=>["none",Et,Qe,Xe],_e=()=>[Et,Qe,Xe],le=()=>[su,"full",...P()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[hi],breakpoint:[hi],color:[QJ],container:[hi],"drop-shadow":[hi],ease:["in","out","in-out"],font:[tee],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[hi],shadow:[hi],spacing:["px",Et],text:[hi],"text-shadow":[hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",su,Xe,Qe,j]}],container:["container"],columns:[{columns:[Et,Xe,Qe,u]}],"break-after":[{"break-after":N()}],"break-before":[{"break-before":N()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:M()}],"overflow-x":[{"overflow-x":M()}],"overflow-y":[{"overflow-y":M()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:$()}],"inset-x":[{"inset-x":$()}],"inset-y":[{"inset-y":$()}],start:[{start:$()}],end:[{end:$()}],top:[{top:$()}],right:[{right:$()}],bottom:[{bottom:$()}],left:[{left:$()}],visibility:["visible","invisible","collapse"],z:[{z:[vo,"auto",Qe,Xe]}],basis:[{basis:[su,"full","auto",u,...P()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Et,su,"auto","initial","none",Xe]}],grow:[{grow:["",Et,Qe,Xe]}],shrink:[{shrink:["",Et,Qe,Xe]}],order:[{order:[vo,"first","last","none",Qe,Xe]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":B()}],"auto-rows":[{"auto-rows":B()}],gap:[{gap:P()}],"gap-x":[{"gap-x":P()}],"gap-y":[{"gap-y":P()}],"justify-content":[{justify:[...L(),"normal"]}],"justify-items":[{"justify-items":[...D(),"normal"]}],"justify-self":[{"justify-self":["auto",...D()]}],"align-content":[{content:["normal",...L()]}],"align-items":[{items:[...D(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...D(),{baseline:["","last"]}]}],"place-content":[{"place-content":L()}],"place-items":[{"place-items":[...D(),"baseline"]}],"place-self":[{"place-self":["auto",...D()]}],p:[{p:P()}],px:[{px:P()}],py:[{py:P()}],ps:[{ps:P()}],pe:[{pe:P()}],pt:[{pt:P()}],pr:[{pr:P()}],pb:[{pb:P()}],pl:[{pl:P()}],m:[{m:k()}],mx:[{mx:k()}],my:[{my:k()}],ms:[{ms:k()}],me:[{me:k()}],mt:[{mt:k()}],mr:[{mr:k()}],mb:[{mb:k()}],ml:[{ml:k()}],"space-x":[{"space-x":P()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":P()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[u,"screen",...I()]}],"min-w":[{"min-w":[u,"screen","none",...I()]}],"max-w":[{"max-w":[u,"screen","none","prose",{screen:[l]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",n,If,yl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Qe,$j]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lj,Xe]}],"font-family":[{font:[aee,Xe,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,Qe,Xe]}],"line-clamp":[{"line-clamp":[Et,"none",Qe,$j]}],leading:[{leading:[i,...P()]}],"list-image":[{"list-image":["none",Qe,Xe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Qe,Xe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:z()}],"text-color":[{text:z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ge(),"wavy"]}],"text-decoration-thickness":[{decoration:[Et,"from-font","auto",Qe,yl]}],"text-decoration-color":[{decoration:z()}],"underline-offset":[{"underline-offset":[Et,"auto",Qe,Xe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe,Xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe,Xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:V()}],"bg-repeat":[{bg:Y()}],"bg-size":[{bg:U()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vo,Qe,Xe],radial:["",Qe,Xe],conic:[vo,Qe,Xe]},iee,ree]}],"bg-color":[{bg:z()}],"gradient-from-pos":[{from:F()}],"gradient-via-pos":[{via:F()}],"gradient-to-pos":[{to:F()}],"gradient-from":[{from:z()}],"gradient-via":[{via:z()}],"gradient-to":[{to:z()}],rounded:[{rounded:G()}],"rounded-s":[{"rounded-s":G()}],"rounded-e":[{"rounded-e":G()}],"rounded-t":[{"rounded-t":G()}],"rounded-r":[{"rounded-r":G()}],"rounded-b":[{"rounded-b":G()}],"rounded-l":[{"rounded-l":G()}],"rounded-ss":[{"rounded-ss":G()}],"rounded-se":[{"rounded-se":G()}],"rounded-ee":[{"rounded-ee":G()}],"rounded-es":[{"rounded-es":G()}],"rounded-tl":[{"rounded-tl":G()}],"rounded-tr":[{"rounded-tr":G()}],"rounded-br":[{"rounded-br":G()}],"rounded-bl":[{"rounded-bl":G()}],"border-w":[{border:Z()}],"border-w-x":[{"border-x":Z()}],"border-w-y":[{"border-y":Z()}],"border-w-s":[{"border-s":Z()}],"border-w-e":[{"border-e":Z()}],"border-w-t":[{"border-t":Z()}],"border-w-r":[{"border-r":Z()}],"border-w-b":[{"border-b":Z()}],"border-w-l":[{"border-l":Z()}],"divide-x":[{"divide-x":Z()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Z()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ge(),"hidden","none"]}],"divide-style":[{divide:[...ge(),"hidden","none"]}],"border-color":[{border:z()}],"border-color-x":[{"border-x":z()}],"border-color-y":[{"border-y":z()}],"border-color-s":[{"border-s":z()}],"border-color-e":[{"border-e":z()}],"border-color-t":[{"border-t":z()}],"border-color-r":[{"border-r":z()}],"border-color-b":[{"border-b":z()}],"border-color-l":[{"border-l":z()}],"divide-color":[{divide:z()}],"outline-style":[{outline:[...ge(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Et,Qe,Xe]}],"outline-w":[{outline:["",Et,If,yl]}],"outline-color":[{outline:z()}],shadow:[{shadow:["","none",p,jg,bg]}],"shadow-color":[{shadow:z()}],"inset-shadow":[{"inset-shadow":["none",m,jg,bg]}],"inset-shadow-color":[{"inset-shadow":z()}],"ring-w":[{ring:Z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:z()}],"ring-offset-w":[{"ring-offset":[Et,yl]}],"ring-offset-color":[{"ring-offset":z()}],"inset-ring-w":[{"inset-ring":Z()}],"inset-ring-color":[{"inset-ring":z()}],"text-shadow":[{"text-shadow":["none",g,jg,bg]}],"text-shadow-color":[{"text-shadow":z()}],opacity:[{opacity:[Et,Qe,Xe]}],"mix-blend":[{"mix-blend":[...Se(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Se()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Et]}],"mask-image-linear-from-pos":[{"mask-linear-from":Q()}],"mask-image-linear-to-pos":[{"mask-linear-to":Q()}],"mask-image-linear-from-color":[{"mask-linear-from":z()}],"mask-image-linear-to-color":[{"mask-linear-to":z()}],"mask-image-t-from-pos":[{"mask-t-from":Q()}],"mask-image-t-to-pos":[{"mask-t-to":Q()}],"mask-image-t-from-color":[{"mask-t-from":z()}],"mask-image-t-to-color":[{"mask-t-to":z()}],"mask-image-r-from-pos":[{"mask-r-from":Q()}],"mask-image-r-to-pos":[{"mask-r-to":Q()}],"mask-image-r-from-color":[{"mask-r-from":z()}],"mask-image-r-to-color":[{"mask-r-to":z()}],"mask-image-b-from-pos":[{"mask-b-from":Q()}],"mask-image-b-to-pos":[{"mask-b-to":Q()}],"mask-image-b-from-color":[{"mask-b-from":z()}],"mask-image-b-to-color":[{"mask-b-to":z()}],"mask-image-l-from-pos":[{"mask-l-from":Q()}],"mask-image-l-to-pos":[{"mask-l-to":Q()}],"mask-image-l-from-color":[{"mask-l-from":z()}],"mask-image-l-to-color":[{"mask-l-to":z()}],"mask-image-x-from-pos":[{"mask-x-from":Q()}],"mask-image-x-to-pos":[{"mask-x-to":Q()}],"mask-image-x-from-color":[{"mask-x-from":z()}],"mask-image-x-to-color":[{"mask-x-to":z()}],"mask-image-y-from-pos":[{"mask-y-from":Q()}],"mask-image-y-to-pos":[{"mask-y-to":Q()}],"mask-image-y-from-color":[{"mask-y-from":z()}],"mask-image-y-to-color":[{"mask-y-to":z()}],"mask-image-radial":[{"mask-radial":[Qe,Xe]}],"mask-image-radial-from-pos":[{"mask-radial-from":Q()}],"mask-image-radial-to-pos":[{"mask-radial-to":Q()}],"mask-image-radial-from-color":[{"mask-radial-from":z()}],"mask-image-radial-to-color":[{"mask-radial-to":z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[Et]}],"mask-image-conic-from-pos":[{"mask-conic-from":Q()}],"mask-image-conic-to-pos":[{"mask-conic-to":Q()}],"mask-image-conic-from-color":[{"mask-conic-from":z()}],"mask-image-conic-to-color":[{"mask-conic-to":z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:V()}],"mask-repeat":[{mask:Y()}],"mask-size":[{mask:U()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Qe,Xe]}],filter:[{filter:["","none",Qe,Xe]}],blur:[{blur:pe()}],brightness:[{brightness:[Et,Qe,Xe]}],contrast:[{contrast:[Et,Qe,Xe]}],"drop-shadow":[{"drop-shadow":["","none",v,jg,bg]}],"drop-shadow-color":[{"drop-shadow":z()}],grayscale:[{grayscale:["",Et,Qe,Xe]}],"hue-rotate":[{"hue-rotate":[Et,Qe,Xe]}],invert:[{invert:["",Et,Qe,Xe]}],saturate:[{saturate:[Et,Qe,Xe]}],sepia:[{sepia:["",Et,Qe,Xe]}],"backdrop-filter":[{"backdrop-filter":["","none",Qe,Xe]}],"backdrop-blur":[{"backdrop-blur":pe()}],"backdrop-brightness":[{"backdrop-brightness":[Et,Qe,Xe]}],"backdrop-contrast":[{"backdrop-contrast":[Et,Qe,Xe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Et,Qe,Xe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Et,Qe,Xe]}],"backdrop-invert":[{"backdrop-invert":["",Et,Qe,Xe]}],"backdrop-opacity":[{"backdrop-opacity":[Et,Qe,Xe]}],"backdrop-saturate":[{"backdrop-saturate":[Et,Qe,Xe]}],"backdrop-sepia":[{"backdrop-sepia":["",Et,Qe,Xe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":P()}],"border-spacing-x":[{"border-spacing-x":P()}],"border-spacing-y":[{"border-spacing-y":P()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Qe,Xe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Et,"initial",Qe,Xe]}],ease:[{ease:["linear","initial",_,Qe,Xe]}],delay:[{delay:[Et,Qe,Xe]}],animate:[{animate:["none",C,Qe,Xe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,Qe,Xe]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:ce()}],"rotate-x":[{"rotate-x":ce()}],"rotate-y":[{"rotate-y":ce()}],"rotate-z":[{"rotate-z":ce()}],scale:[{scale:Ae()}],"scale-x":[{"scale-x":Ae()}],"scale-y":[{"scale-y":Ae()}],"scale-z":[{"scale-z":Ae()}],"scale-3d":["scale-3d"],skew:[{skew:_e()}],"skew-x":[{"skew-x":_e()}],"skew-y":[{"skew-y":_e()}],transform:[{transform:[Qe,Xe,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:le()}],"translate-x":[{"translate-x":le()}],"translate-y":[{"translate-y":le()}],"translate-z":[{"translate-z":le()}],"translate-none":["translate-none"],accent:[{accent:z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe,Xe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe,Xe]}],fill:[{fill:["none",...z()]}],"stroke-w":[{stroke:[Et,If,yl,$j]}],stroke:[{stroke:["none",...z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},uee=UJ(cee);function Fe(...e){return uee(Nt(e))}const dee=tQ,Eq=b.forwardRef(({className:e,...t},n)=>a.jsx(nq,{ref:n,className:Fe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Eq.displayName=nq.displayName;const fee=wd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Oq=b.forwardRef(({className:e,variant:t,...n},r)=>a.jsx(rq,{ref:r,className:Fe(fee({variant:t}),e),...n}));Oq.displayName=rq.displayName;const hee=b.forwardRef(({className:e,...t},n)=>a.jsx(iq,{ref:n,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));hee.displayName=iq.displayName;const Tq=b.forwardRef(({className:e,...t},n)=>a.jsx(oq,{ref:n,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(Ho,{className:"h-4 w-4"})}));Tq.displayName=oq.displayName;const Mq=b.forwardRef(({className:e,...t},n)=>a.jsx(aq,{ref:n,className:Fe("text-sm font-semibold",e),...t}));Mq.displayName=aq.displayName;const kq=b.forwardRef(({className:e,...t},n)=>a.jsx(sq,{ref:n,className:Fe("text-sm opacity-90",e),...t}));kq.displayName=sq.displayName;function mee(){const{toasts:e}=Uo();return a.jsxs(dee,{children:[e.map(function({id:t,title:n,description:r,action:s,...i}){return a.jsxs(Oq,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(Mq,{children:n}),r&&a.jsx(kq,{children:r})]}),s,a.jsx(Tq,{})]},t)}),a.jsx(Eq,{})]})}var pee=Iy[" useId ".trim().toString()]||(()=>{}),gee=0;function gs(e){const[t,n]=b.useState(pee());return Fn(()=>{n(r=>r??String(gee++))},[e]),t?`radix-${t}`:""}const xee=["top","right","bottom","left"],Lo=Math.min,ja=Math.max,ux=Math.round,wg=Math.floor,Ds=e=>({x:e,y:e}),yee={left:"right",right:"left",bottom:"top",top:"bottom"},vee={start:"end",end:"start"};function AA(e,t,n){return ja(e,Lo(t,n))}function Ei(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function Ad(e){return e.split("-")[1]}function WC(e){return e==="x"?"y":"x"}function YC(e){return e==="y"?"height":"width"}const bee=new Set(["top","bottom"]);function ks(e){return bee.has(Oi(e))?"y":"x"}function GC(e){return WC(ks(e))}function jee(e,t,n){n===void 0&&(n=!1);const r=Ad(e),s=GC(e),i=YC(s);let l=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[i]>t.floating[i]&&(l=dx(l)),[l,dx(l)]}function wee(e){const t=dx(e);return[CA(e),t,CA(t)]}function CA(e){return e.replace(/start|end/g,t=>vee[t])}const kP=["left","right"],PP=["right","left"],Nee=["top","bottom"],See=["bottom","top"];function Aee(e,t,n){switch(e){case"top":case"bottom":return n?t?PP:kP:t?kP:PP;case"left":case"right":return t?Nee:See;default:return[]}}function Cee(e,t,n,r){const s=Ad(e);let i=Aee(Oi(e),n==="start",r);return s&&(i=i.map(l=>l+"-"+s),t&&(i=i.concat(i.map(CA)))),i}function dx(e){return e.replace(/left|right|bottom|top/g,t=>yee[t])}function _ee(e){return{top:0,right:0,bottom:0,left:0,...e}}function Pq(e){return typeof e!="number"?_ee(e):{top:e,right:e,bottom:e,left:e}}function fx(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function RP(e,t,n){let{reference:r,floating:s}=e;const i=ks(t),l=GC(t),u=YC(l),d=Oi(t),f=i==="y",p=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,g=r[u]/2-s[u]/2;let v;switch(d){case"top":v={x:p,y:r.y-s.height};break;case"bottom":v={x:p,y:r.y+r.height};break;case"right":v={x:r.x+r.width,y:m};break;case"left":v={x:r.x-s.width,y:m};break;default:v={x:r.x,y:r.y}}switch(Ad(t)){case"start":v[l]-=g*(n&&f?-1:1);break;case"end":v[l]+=g*(n&&f?-1:1);break}return v}const Eee=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:l}=n,u=i.filter(Boolean),d=await(l.isRTL==null?void 0:l.isRTL(t));let f=await l.getElementRects({reference:e,floating:t,strategy:s}),{x:p,y:m}=RP(f,r,d),g=r,v={},w=0;for(let y=0;y<u.length;y++){const{name:j,fn:_}=u[y],{x:C,y:N,data:S,reset:O}=await _({x:p,y:m,initialPlacement:r,placement:g,strategy:s,middlewareData:v,rects:f,platform:l,elements:{reference:e,floating:t}});p=C??p,m=N??m,v={...v,[j]:{...v[j],...S}},O&&w<=50&&(w++,typeof O=="object"&&(O.placement&&(g=O.placement),O.rects&&(f=O.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:s}):O.rects),{x:p,y:m}=RP(f,g,d)),y=-1)}return{x:p,y:m,placement:g,strategy:s,middlewareData:v}};async function wh(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:i,rects:l,elements:u,strategy:d}=e,{boundary:f="clippingAncestors",rootBoundary:p="viewport",elementContext:m="floating",altBoundary:g=!1,padding:v=0}=Ei(t,e),w=Pq(v),j=u[g?m==="floating"?"reference":"floating":m],_=fx(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(j)))==null||n?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(u.floating)),boundary:f,rootBoundary:p,strategy:d})),C=m==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,N=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u.floating)),S=await(i.isElement==null?void 0:i.isElement(N))?await(i.getScale==null?void 0:i.getScale(N))||{x:1,y:1}:{x:1,y:1},O=fx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:C,offsetParent:N,strategy:d}):C);return{top:(_.top-O.top+w.top)/S.y,bottom:(O.bottom-_.bottom+w.bottom)/S.y,left:(_.left-O.left+w.left)/S.x,right:(O.right-_.right+w.right)/S.x}}const Oee=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:i,platform:l,elements:u,middlewareData:d}=t,{element:f,padding:p=0}=Ei(e,t)||{};if(f==null)return{};const m=Pq(p),g={x:n,y:r},v=GC(s),w=YC(v),y=await l.getDimensions(f),j=v==="y",_=j?"top":"left",C=j?"bottom":"right",N=j?"clientHeight":"clientWidth",S=i.reference[w]+i.reference[v]-g[v]-i.floating[w],O=g[v]-i.reference[v],M=await(l.getOffsetParent==null?void 0:l.getOffsetParent(f));let T=M?M[N]:0;(!T||!await(l.isElement==null?void 0:l.isElement(M)))&&(T=u.floating[N]||i.floating[w]);const P=S/2-O/2,$=T/2-y[w]/2-1,K=Lo(m[_],$),q=Lo(m[C],$),H=K,B=T-y[w]-q,L=T/2-y[w]/2+P,D=AA(H,L,B),k=!d.arrow&&Ad(s)!=null&&L!==D&&i.reference[w]/2-(L<H?K:q)-y[w]/2<0,I=k?L<H?L-H:L-B:0;return{[v]:g[v]+I,data:{[v]:D,centerOffset:L-D-I,...k&&{alignmentOffset:I}},reset:k}}}),Tee=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:i,rects:l,initialPlacement:u,platform:d,elements:f}=t,{mainAxis:p=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...j}=Ei(e,t);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Oi(s),C=ks(u),N=Oi(u)===u,S=await(d.isRTL==null?void 0:d.isRTL(f.floating)),O=g||(N||!y?[dx(u)]:wee(u)),M=w!=="none";!g&&M&&O.push(...Cee(u,y,w,S));const T=[u,...O],P=await wh(t,j),$=[];let K=((r=i.flip)==null?void 0:r.overflows)||[];if(p&&$.push(P[_]),m){const L=jee(s,l,S);$.push(P[L[0]],P[L[1]])}if(K=[...K,{placement:s,overflows:$}],!$.every(L=>L<=0)){var q,H;const L=(((q=i.flip)==null?void 0:q.index)||0)+1,D=T[L];if(D&&(!(m==="alignment"?C!==ks(D):!1)||K.every(z=>ks(z.placement)===C?z.overflows[0]>0:!0)))return{data:{index:L,overflows:K},reset:{placement:D}};let k=(H=K.filter(I=>I.overflows[0]<=0).sort((I,z)=>I.overflows[1]-z.overflows[1])[0])==null?void 0:H.placement;if(!k)switch(v){case"bestFit":{var B;const I=(B=K.filter(z=>{if(M){const V=ks(z.placement);return V===C||V==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(V=>V>0).reduce((V,Y)=>V+Y,0)]).sort((z,V)=>z[1]-V[1])[0])==null?void 0:B[0];I&&(k=I);break}case"initialPlacement":k=u;break}if(s!==k)return{reset:{placement:k}}}return{}}}};function DP(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function IP(e){return xee.some(t=>e[t]>=0)}const Mee=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Ei(e,t);switch(r){case"referenceHidden":{const i=await wh(t,{...s,elementContext:"reference"}),l=DP(i,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:IP(l)}}}case"escaped":{const i=await wh(t,{...s,altBoundary:!0}),l=DP(i,n.floating);return{data:{escapedOffsets:l,escaped:IP(l)}}}default:return{}}}}},Rq=new Set(["left","top"]);async function kee(e,t){const{placement:n,platform:r,elements:s}=e,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=Oi(n),u=Ad(n),d=ks(n)==="y",f=Rq.has(l)?-1:1,p=i&&d?-1:1,m=Ei(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof w=="number"&&(v=u==="end"?w*-1:w),d?{x:v*p,y:g*f}:{x:g*f,y:v*p}}const Pee=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:i,placement:l,middlewareData:u}=t,d=await kee(t,e);return l===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:s+d.x,y:i+d.y,data:{...d,placement:l}}}}},Ree=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:i=!0,crossAxis:l=!1,limiter:u={fn:j=>{let{x:_,y:C}=j;return{x:_,y:C}}},...d}=Ei(e,t),f={x:n,y:r},p=await wh(t,d),m=ks(Oi(s)),g=WC(m);let v=f[g],w=f[m];if(i){const j=g==="y"?"top":"left",_=g==="y"?"bottom":"right",C=v+p[j],N=v-p[_];v=AA(C,v,N)}if(l){const j=m==="y"?"top":"left",_=m==="y"?"bottom":"right",C=w+p[j],N=w-p[_];w=AA(C,w,N)}const y=u.fn({...t,[g]:v,[m]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[g]:i,[m]:l}}}}}},Dee=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:i,middlewareData:l}=t,{offset:u=0,mainAxis:d=!0,crossAxis:f=!0}=Ei(e,t),p={x:n,y:r},m=ks(s),g=WC(m);let v=p[g],w=p[m];const y=Ei(u,t),j=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(d){const N=g==="y"?"height":"width",S=i.reference[g]-i.floating[N]+j.mainAxis,O=i.reference[g]+i.reference[N]-j.mainAxis;v<S?v=S:v>O&&(v=O)}if(f){var _,C;const N=g==="y"?"width":"height",S=Rq.has(Oi(s)),O=i.reference[m]-i.floating[N]+(S&&((_=l.offset)==null?void 0:_[m])||0)+(S?0:j.crossAxis),M=i.reference[m]+i.reference[N]+(S?0:((C=l.offset)==null?void 0:C[m])||0)-(S?j.crossAxis:0);w<O?w=O:w>M&&(w=M)}return{[g]:v,[m]:w}}}},Iee=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:i,platform:l,elements:u}=t,{apply:d=()=>{},...f}=Ei(e,t),p=await wh(t,f),m=Oi(s),g=Ad(s),v=ks(s)==="y",{width:w,height:y}=i.floating;let j,_;m==="top"||m==="bottom"?(j=m,_=g===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(_=m,j=g==="end"?"top":"bottom");const C=y-p.top-p.bottom,N=w-p.left-p.right,S=Lo(y-p[j],C),O=Lo(w-p[_],N),M=!t.middlewareData.shift;let T=S,P=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(P=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=C),M&&!g){const K=ja(p.left,0),q=ja(p.right,0),H=ja(p.top,0),B=ja(p.bottom,0);v?P=w-2*(K!==0||q!==0?K+q:ja(p.left,p.right)):T=y-2*(H!==0||B!==0?H+B:ja(p.top,p.bottom))}await d({...t,availableWidth:P,availableHeight:T});const $=await l.getDimensions(u.floating);return w!==$.width||y!==$.height?{reset:{rects:!0}}:{}}}};function Vy(){return typeof window<"u"}function Cd(e){return Dq(e)?(e.nodeName||"").toLowerCase():"#document"}function Aa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Us(e){var t;return(t=(Dq(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Dq(e){return Vy()?e instanceof Node||e instanceof Aa(e).Node:!1}function bs(e){return Vy()?e instanceof Element||e instanceof Aa(e).Element:!1}function qs(e){return Vy()?e instanceof HTMLElement||e instanceof Aa(e).HTMLElement:!1}function LP(e){return!Vy()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Aa(e).ShadowRoot}const Lee=new Set(["inline","contents"]);function Nm(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=js(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!Lee.has(s)}const $ee=new Set(["table","td","th"]);function qee(e){return $ee.has(Cd(e))}const zee=[":popover-open",":modal"];function Ky(e){return zee.some(t=>{try{return e.matches(t)}catch{return!1}})}const Bee=["transform","translate","scale","rotate","perspective"],Fee=["transform","translate","scale","rotate","perspective","filter"],Uee=["paint","layout","strict","content"];function XC(e){const t=QC(),n=bs(e)?js(e):e;return Bee.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||Fee.some(r=>(n.willChange||"").includes(r))||Uee.some(r=>(n.contain||"").includes(r))}function Hee(e){let t=$o(e);for(;qs(t)&&!Mu(t);){if(XC(t))return t;if(Ky(t))return null;t=$o(t)}return null}function QC(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Vee=new Set(["html","body","#document"]);function Mu(e){return Vee.has(Cd(e))}function js(e){return Aa(e).getComputedStyle(e)}function Wy(e){return bs(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function $o(e){if(Cd(e)==="html")return e;const t=e.assignedSlot||e.parentNode||LP(e)&&e.host||Us(e);return LP(t)?t.host:t}function Iq(e){const t=$o(e);return Mu(t)?e.ownerDocument?e.ownerDocument.body:e.body:qs(t)&&Nm(t)?t:Iq(t)}function Nh(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Iq(e),i=s===((r=e.ownerDocument)==null?void 0:r.body),l=Aa(s);if(i){const u=_A(l);return t.concat(l,l.visualViewport||[],Nm(s)?s:[],u&&n?Nh(u):[])}return t.concat(s,Nh(s,[],n))}function _A(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Lq(e){const t=js(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=qs(e),i=s?e.offsetWidth:n,l=s?e.offsetHeight:r,u=ux(n)!==i||ux(r)!==l;return u&&(n=i,r=l),{width:n,height:r,$:u}}function ZC(e){return bs(e)?e:e.contextElement}function Nu(e){const t=ZC(e);if(!qs(t))return Ds(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:i}=Lq(t);let l=(i?ux(n.width):n.width)/r,u=(i?ux(n.height):n.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const Kee=Ds(0);function $q(e){const t=Aa(e);return!QC()||!t.visualViewport?Kee:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Wee(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Aa(e)?!1:t}function Hl(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=ZC(e);let l=Ds(1);t&&(r?bs(r)&&(l=Nu(r)):l=Nu(e));const u=Wee(i,n,r)?$q(i):Ds(0);let d=(s.left+u.x)/l.x,f=(s.top+u.y)/l.y,p=s.width/l.x,m=s.height/l.y;if(i){const g=Aa(i),v=r&&bs(r)?Aa(r):r;let w=g,y=_A(w);for(;y&&r&&v!==w;){const j=Nu(y),_=y.getBoundingClientRect(),C=js(y),N=_.left+(y.clientLeft+parseFloat(C.paddingLeft))*j.x,S=_.top+(y.clientTop+parseFloat(C.paddingTop))*j.y;d*=j.x,f*=j.y,p*=j.x,m*=j.y,d+=N,f+=S,w=Aa(y),y=_A(w)}}return fx({width:p,height:m,x:d,y:f})}function Yy(e,t){const n=Wy(e).scrollLeft;return t?t.left+n:Hl(Us(e)).left+n}function qq(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Yy(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function Yee(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const i=s==="fixed",l=Us(r),u=t?Ky(t.floating):!1;if(r===l||u&&i)return n;let d={scrollLeft:0,scrollTop:0},f=Ds(1);const p=Ds(0),m=qs(r);if((m||!m&&!i)&&((Cd(r)!=="body"||Nm(l))&&(d=Wy(r)),qs(r))){const v=Hl(r);f=Nu(r),p.x=v.x+r.clientLeft,p.y=v.y+r.clientTop}const g=l&&!m&&!i?qq(l,d):Ds(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-d.scrollLeft*f.x+p.x+g.x,y:n.y*f.y-d.scrollTop*f.y+p.y+g.y}}function Gee(e){return Array.from(e.getClientRects())}function Xee(e){const t=Us(e),n=Wy(e),r=e.ownerDocument.body,s=ja(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),i=ja(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let l=-n.scrollLeft+Yy(e);const u=-n.scrollTop;return js(r).direction==="rtl"&&(l+=ja(t.clientWidth,r.clientWidth)-s),{width:s,height:i,x:l,y:u}}const $P=25;function Qee(e,t){const n=Aa(e),r=Us(e),s=n.visualViewport;let i=r.clientWidth,l=r.clientHeight,u=0,d=0;if(s){i=s.width,l=s.height;const p=QC();(!p||p&&t==="fixed")&&(u=s.offsetLeft,d=s.offsetTop)}const f=Yy(r);if(f<=0){const p=r.ownerDocument,m=p.body,g=getComputedStyle(m),v=p.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(r.clientWidth-m.clientWidth-v);w<=$P&&(i-=w)}else f<=$P&&(i+=f);return{width:i,height:l,x:u,y:d}}const Zee=new Set(["absolute","fixed"]);function Jee(e,t){const n=Hl(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,i=qs(e)?Nu(e):Ds(1),l=e.clientWidth*i.x,u=e.clientHeight*i.y,d=s*i.x,f=r*i.y;return{width:l,height:u,x:d,y:f}}function qP(e,t,n){let r;if(t==="viewport")r=Qee(e,n);else if(t==="document")r=Xee(Us(e));else if(bs(t))r=Jee(t,n);else{const s=$q(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return fx(r)}function zq(e,t){const n=$o(e);return n===t||!bs(n)||Mu(n)?!1:js(n).position==="fixed"||zq(n,t)}function ete(e,t){const n=t.get(e);if(n)return n;let r=Nh(e,[],!1).filter(u=>bs(u)&&Cd(u)!=="body"),s=null;const i=js(e).position==="fixed";let l=i?$o(e):e;for(;bs(l)&&!Mu(l);){const u=js(l),d=XC(l);!d&&u.position==="fixed"&&(s=null),(i?!d&&!s:!d&&u.position==="static"&&!!s&&Zee.has(s.position)||Nm(l)&&!d&&zq(e,l))?r=r.filter(p=>p!==l):s=u,l=$o(l)}return t.set(e,r),r}function tte(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const l=[...n==="clippingAncestors"?Ky(t)?[]:ete(t,this._c):[].concat(n),r],u=l[0],d=l.reduce((f,p)=>{const m=qP(t,p,s);return f.top=ja(m.top,f.top),f.right=Lo(m.right,f.right),f.bottom=Lo(m.bottom,f.bottom),f.left=ja(m.left,f.left),f},qP(t,u,s));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function nte(e){const{width:t,height:n}=Lq(e);return{width:t,height:n}}function rte(e,t,n){const r=qs(t),s=Us(t),i=n==="fixed",l=Hl(e,!0,i,t);let u={scrollLeft:0,scrollTop:0};const d=Ds(0);function f(){d.x=Yy(s)}if(r||!r&&!i)if((Cd(t)!=="body"||Nm(s))&&(u=Wy(t)),r){const v=Hl(t,!0,i,t);d.x=v.x+t.clientLeft,d.y=v.y+t.clientTop}else s&&f();i&&!r&&s&&f();const p=s&&!r&&!i?qq(s,u):Ds(0),m=l.left+u.scrollLeft-d.x-p.x,g=l.top+u.scrollTop-d.y-p.y;return{x:m,y:g,width:l.width,height:l.height}}function qj(e){return js(e).position==="static"}function zP(e,t){if(!qs(e)||js(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Us(e)===n&&(n=n.ownerDocument.body),n}function Bq(e,t){const n=Aa(e);if(Ky(e))return n;if(!qs(e)){let s=$o(e);for(;s&&!Mu(s);){if(bs(s)&&!qj(s))return s;s=$o(s)}return n}let r=zP(e,t);for(;r&&qee(r)&&qj(r);)r=zP(r,t);return r&&Mu(r)&&qj(r)&&!XC(r)?n:r||Hee(e)||n}const ate=async function(e){const t=this.getOffsetParent||Bq,n=this.getDimensions,r=await n(e.floating);return{reference:rte(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function ste(e){return js(e).direction==="rtl"}const ite={convertOffsetParentRelativeRectToViewportRelativeRect:Yee,getDocumentElement:Us,getClippingRect:tte,getOffsetParent:Bq,getElementRects:ate,getClientRects:Gee,getDimensions:nte,getScale:Nu,isElement:bs,isRTL:ste};function Fq(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ote(e,t){let n=null,r;const s=Us(e);function i(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function l(u,d){u===void 0&&(u=!1),d===void 0&&(d=1),i();const f=e.getBoundingClientRect(),{left:p,top:m,width:g,height:v}=f;if(u||t(),!g||!v)return;const w=wg(m),y=wg(s.clientWidth-(p+g)),j=wg(s.clientHeight-(m+v)),_=wg(p),N={rootMargin:-w+"px "+-y+"px "+-j+"px "+-_+"px",threshold:ja(0,Lo(1,d))||1};let S=!0;function O(M){const T=M[0].intersectionRatio;if(T!==d){if(!S)return l();T?l(!1,T):r=setTimeout(()=>{l(!1,1e-7)},1e3)}T===1&&!Fq(f,e.getBoundingClientRect())&&l(),S=!1}try{n=new IntersectionObserver(O,{...N,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,N)}n.observe(e)}return l(!0),i}function lte(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:d=!1}=r,f=ZC(e),p=s||i?[...f?Nh(f):[],...Nh(t)]:[];p.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const m=f&&u?ote(f,n):null;let g=-1,v=null;l&&(v=new ResizeObserver(_=>{let[C]=_;C&&C.target===f&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=v)==null||N.observe(t)})),n()}),f&&!d&&v.observe(f),v.observe(t));let w,y=d?Hl(e):null;d&&j();function j(){const _=Hl(e);y&&!Fq(y,_)&&n(),y=_,w=requestAnimationFrame(j)}return n(),()=>{var _;p.forEach(C=>{s&&C.removeEventListener("scroll",n),i&&C.removeEventListener("resize",n)}),m?.(),(_=v)==null||_.disconnect(),v=null,d&&cancelAnimationFrame(w)}}const cte=Pee,ute=Ree,dte=Tee,fte=Iee,hte=Mee,BP=Oee,mte=Dee,pte=(e,t,n)=>{const r=new Map,s={platform:ite,...n},i={...s.platform,_c:r};return Eee(e,t,{...s,platform:i})};var gte=typeof document<"u",xte=function(){},Gg=gte?b.useLayoutEffect:xte;function hx(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!hx(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&e.$$typeof)&&!hx(e[i],t[i]))return!1}return!0}return e!==e&&t!==t}function Uq(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function FP(e,t){const n=Uq(e);return Math.round(t*n)/n}function zj(e){const t=b.useRef(e);return Gg(()=>{t.current=e}),t}function yte(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:l}={},transform:u=!0,whileElementsMounted:d,open:f}=e,[p,m]=b.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=b.useState(r);hx(g,r)||v(r);const[w,y]=b.useState(null),[j,_]=b.useState(null),C=b.useCallback(z=>{z!==M.current&&(M.current=z,y(z))},[]),N=b.useCallback(z=>{z!==T.current&&(T.current=z,_(z))},[]),S=i||w,O=l||j,M=b.useRef(null),T=b.useRef(null),P=b.useRef(p),$=d!=null,K=zj(d),q=zj(s),H=zj(f),B=b.useCallback(()=>{if(!M.current||!T.current)return;const z={placement:t,strategy:n,middleware:g};q.current&&(z.platform=q.current),pte(M.current,T.current,z).then(V=>{const Y={...V,isPositioned:H.current!==!1};L.current&&!hx(P.current,Y)&&(P.current=Y,vd.flushSync(()=>{m(Y)}))})},[g,t,n,q,H]);Gg(()=>{f===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[f]);const L=b.useRef(!1);Gg(()=>(L.current=!0,()=>{L.current=!1}),[]),Gg(()=>{if(S&&(M.current=S),O&&(T.current=O),S&&O){if(K.current)return K.current(S,O,B);B()}},[S,O,B,K,$]);const D=b.useMemo(()=>({reference:M,floating:T,setReference:C,setFloating:N}),[C,N]),k=b.useMemo(()=>({reference:S,floating:O}),[S,O]),I=b.useMemo(()=>{const z={position:n,left:0,top:0};if(!k.floating)return z;const V=FP(k.floating,p.x),Y=FP(k.floating,p.y);return u?{...z,transform:"translate("+V+"px, "+Y+"px)",...Uq(k.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:Y}},[n,u,k.floating,p.x,p.y]);return b.useMemo(()=>({...p,update:B,refs:D,elements:k,floatingStyles:I}),[p,B,D,k,I])}const vte=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?BP({element:r.current,padding:s}).fn(n):{}:r?BP({element:r,padding:s}).fn(n):{}}}},bte=(e,t)=>({...cte(e),options:[e,t]}),jte=(e,t)=>({...ute(e),options:[e,t]}),wte=(e,t)=>({...mte(e),options:[e,t]}),Nte=(e,t)=>({...dte(e),options:[e,t]}),Ste=(e,t)=>({...fte(e),options:[e,t]}),Ate=(e,t)=>({...hte(e),options:[e,t]}),Cte=(e,t)=>({...vte(e),options:[e,t]});var _te="Arrow",Hq=b.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...i}=e;return a.jsx(Je.svg,{...i,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});Hq.displayName=_te;var Ete=Hq;function Gy(e){const[t,n]=b.useState(void 0);return Fn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let l,u;if("borderBoxSize"in i){const d=i.borderBoxSize,f=Array.isArray(d)?d[0]:d;l=f.inlineSize,u=f.blockSize}else l=e.offsetWidth,u=e.offsetHeight;n({width:l,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var JC="Popper",[Vq,_d]=Fr(JC),[Ote,Kq]=Vq(JC),Wq=e=>{const{__scopePopper:t,children:n}=e,[r,s]=b.useState(null);return a.jsx(Ote,{scope:t,anchor:r,onAnchorChange:s,children:n})};Wq.displayName=JC;var Yq="PopperAnchor",Gq=b.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,i=Kq(Yq,n),l=b.useRef(null),u=wt(t,l),d=b.useRef(null);return b.useEffect(()=>{const f=d.current;d.current=r?.current||l.current,f!==d.current&&i.onAnchorChange(d.current)}),r?null:a.jsx(Je.div,{...s,ref:u})});Gq.displayName=Yq;var e_="PopperContent",[Tte,Mte]=Vq(e_),Xq=b.forwardRef((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:d=!0,collisionBoundary:f=[],collisionPadding:p=0,sticky:m="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:w,...y}=e,j=Kq(e_,n),[_,C]=b.useState(null),N=wt(t,Q=>C(Q)),[S,O]=b.useState(null),M=Gy(S),T=M?.width??0,P=M?.height??0,$=r+(i!=="center"?"-"+i:""),K=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},q=Array.isArray(f)?f:[f],H=q.length>0,B={padding:K,boundary:q.filter(Pte),altBoundary:H},{refs:L,floatingStyles:D,placement:k,isPositioned:I,middlewareData:z}=yte({strategy:"fixed",placement:$,whileElementsMounted:(...Q)=>lte(...Q,{animationFrame:v==="always"}),elements:{reference:j.anchor},middleware:[bte({mainAxis:s+P,alignmentAxis:l}),d&&jte({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?wte():void 0,...B}),d&&Nte({...B}),Ste({...B,apply:({elements:Q,rects:pe,availableWidth:ce,availableHeight:Ae})=>{const{width:_e,height:le}=pe.reference,$e=Q.floating.style;$e.setProperty("--radix-popper-available-width",`${ce}px`),$e.setProperty("--radix-popper-available-height",`${Ae}px`),$e.setProperty("--radix-popper-anchor-width",`${_e}px`),$e.setProperty("--radix-popper-anchor-height",`${le}px`)}}),S&&Cte({element:S,padding:u}),Rte({arrowWidth:T,arrowHeight:P}),g&&Ate({strategy:"referenceHidden",...B})]}),[V,Y]=Jq(k),U=qn(w);Fn(()=>{I&&U?.()},[I,U]);const F=z.arrow?.x,G=z.arrow?.y,Z=z.arrow?.centerOffset!==0,[ge,Se]=b.useState();return Fn(()=>{_&&Se(window.getComputedStyle(_).zIndex)},[_]),a.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...D,transform:I?D.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ge,"--radix-popper-transform-origin":[z.transformOrigin?.x,z.transformOrigin?.y].join(" "),...z.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Tte,{scope:n,placedSide:V,onArrowChange:O,arrowX:F,arrowY:G,shouldHideArrow:Z,children:a.jsx(Je.div,{"data-side":V,"data-align":Y,...y,ref:N,style:{...y.style,animation:I?void 0:"none"}})})})});Xq.displayName=e_;var Qq="PopperArrow",kte={top:"bottom",right:"left",bottom:"top",left:"right"},Zq=b.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,i=Mte(Qq,r),l=kte[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(Ete,{...s,ref:n,style:{...s.style,display:"block"}})})});Zq.displayName=Qq;function Pte(e){return e!==null}var Rte=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:s}=t,l=s.arrow?.centerOffset!==0,u=l?0:e.arrowWidth,d=l?0:e.arrowHeight,[f,p]=Jq(n),m={start:"0%",center:"50%",end:"100%"}[p],g=(s.arrow?.x??0)+u/2,v=(s.arrow?.y??0)+d/2;let w="",y="";return f==="bottom"?(w=l?m:`${g}px`,y=`${-d}px`):f==="top"?(w=l?m:`${g}px`,y=`${r.floating.height+d}px`):f==="right"?(w=`${-d}px`,y=l?m:`${v}px`):f==="left"&&(w=`${r.floating.width+d}px`,y=l?m:`${v}px`),{data:{x:w,y}}}});function Jq(e){const[t,n="center"]=e.split("-");return[t,n]}var ez=Wq,t_=Gq,n_=Xq,r_=Zq,Dte=Symbol("radix.slottable");function Ite(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Dte,t}var[Xy]=Fr("Tooltip",[_d]),a_=_d(),tz="TooltipProvider",Lte=700,UP="tooltip.open",[$te,nz]=Xy(tz),rz=e=>{const{__scopeTooltip:t,delayDuration:n=Lte,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=e,l=b.useRef(!0),u=b.useRef(!1),d=b.useRef(0);return b.useEffect(()=>{const f=d.current;return()=>window.clearTimeout(f)},[]),a.jsx($te,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(d.current),l.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:b.useCallback(f=>{u.current=f},[]),disableHoverableContent:s,children:i})};rz.displayName=tz;var az="Tooltip",[zMe,Sm]=Xy(az),EA="TooltipTrigger",qte=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Sm(EA,n),i=nz(EA,n),l=a_(n),u=b.useRef(null),d=wt(t,u,s.onTriggerChange),f=b.useRef(!1),p=b.useRef(!1),m=b.useCallback(()=>f.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(t_,{asChild:!0,...l,children:a.jsx(Je.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:d,onPointerMove:Le(e.onPointerMove,g=>{g.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),p.current=!0)}),onPointerLeave:Le(e.onPointerLeave,()=>{s.onTriggerLeave(),p.current=!1}),onPointerDown:Le(e.onPointerDown,()=>{s.open&&s.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Le(e.onFocus,()=>{f.current||s.onOpen()}),onBlur:Le(e.onBlur,s.onClose),onClick:Le(e.onClick,s.onClose)})})});qte.displayName=EA;var s_="TooltipPortal",[zte,Bte]=Xy(s_,{forceMount:void 0}),sz=e=>{const{__scopeTooltip:t,forceMount:n,children:r,container:s}=e,i=Sm(s_,t);return a.jsx(zte,{scope:t,forceMount:n,children:a.jsx(jr,{present:n||i.open,children:a.jsx(jd,{asChild:!0,container:s,children:r})})})};sz.displayName=s_;var ku="TooltipContent",iz=b.forwardRef((e,t)=>{const n=Bte(ku,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=e,l=Sm(ku,e.__scopeTooltip);return a.jsx(jr,{present:r||l.open,children:l.disableHoverableContent?a.jsx(oz,{side:s,...i,ref:t}):a.jsx(Fte,{side:s,...i,ref:t})})}),Fte=b.forwardRef((e,t)=>{const n=Sm(ku,e.__scopeTooltip),r=nz(ku,e.__scopeTooltip),s=b.useRef(null),i=wt(t,s),[l,u]=b.useState(null),{trigger:d,onClose:f}=n,p=s.current,{onPointerInTransitChange:m}=r,g=b.useCallback(()=>{u(null),m(!1)},[m]),v=b.useCallback((w,y)=>{const j=w.currentTarget,_={x:w.clientX,y:w.clientY},C=Wte(_,j.getBoundingClientRect()),N=Yte(_,C),S=Gte(y.getBoundingClientRect()),O=Qte([...N,...S]);u(O),m(!0)},[m]);return b.useEffect(()=>()=>g(),[g]),b.useEffect(()=>{if(d&&p){const w=j=>v(j,p),y=j=>v(j,d);return d.addEventListener("pointerleave",w),p.addEventListener("pointerleave",y),()=>{d.removeEventListener("pointerleave",w),p.removeEventListener("pointerleave",y)}}},[d,p,v,g]),b.useEffect(()=>{if(l){const w=y=>{const j=y.target,_={x:y.clientX,y:y.clientY},C=d?.contains(j)||p?.contains(j),N=!Xte(_,l);C?g():N&&(g(),f())};return document.addEventListener("pointermove",w),()=>document.removeEventListener("pointermove",w)}},[d,p,l,f,g]),a.jsx(oz,{...e,ref:i})}),[Ute,Hte]=Xy(az,{isInside:!1}),Vte=Ite("TooltipContent"),oz=b.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:l,...u}=e,d=Sm(ku,n),f=a_(n),{onClose:p}=d;return b.useEffect(()=>(document.addEventListener(UP,p),()=>document.removeEventListener(UP,p)),[p]),b.useEffect(()=>{if(d.trigger){const m=g=>{g.target?.contains(d.trigger)&&p()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[d.trigger,p]),a.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:m=>m.preventDefault(),onDismiss:p,children:a.jsxs(n_,{"data-state":d.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(Vte,{children:r}),a.jsx(Ute,{scope:n,isInside:!0,children:a.jsx(LX,{id:d.contentId,role:"tooltip",children:s||r})})]})})});iz.displayName=ku;var lz="TooltipArrow",Kte=b.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=a_(n);return Hte(lz,n).isInside?null:a.jsx(r_,{...s,...r,ref:t})});Kte.displayName=lz;function Wte(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),i=Math.abs(t.left-e.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Yte(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Gte(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function Xte(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,p=u.y,m=d.x,g=d.y;p>r!=g>r&&n<(m-f)*(r-p)/(g-p)+f&&(s=!s)}return s}function Qte(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Zte(t)}function Zte(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const i=t[t.length-1],l=t[t.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const i=n[n.length-1],l=n[n.length-2];if((i.x-l.x)*(s.y-l.y)>=(i.y-l.y)*(s.x-l.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Jte=rz,ene=sz,cz=iz;const tne=Jte,nne=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(ene,{children:a.jsx(cz,{ref:r,sideOffset:t,className:Fe("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n})}));nne.displayName=cz.displayName;const OA="whatsapp_auth_user",uz=b.createContext(void 0);function dz(){try{const e=localStorage.getItem(OA);return e?JSON.parse(e):null}catch{return null}}function Lf(e){e?localStorage.setItem(OA,JSON.stringify(e)):localStorage.removeItem(OA)}function Mn(){const e=dz();return e?{"x-user-id":e.id||"","x-user-role":e.role||"user","x-user-name":e.name||"","x-user":JSON.stringify(e)}:{}}function rne({children:e}){const[t,n]=b.useState(!1),[r,s]=b.useState(!0),[i,l]=b.useState(null),u=async()=>{try{if(!dz()){n(!1),l(null),s(!1);return}const v=await(await fetch("/api/auth/check",{headers:Mn()})).json();v.authenticated&&v.user?(n(!0),l(v.user),Lf(v.user)):(n(!1),l(null),Lf(null))}catch(m){console.error("Auth check failed:",m),n(!1),l(null)}finally{s(!1)}};b.useEffect(()=>{u()},[]);const d=async(m,g)=>{try{const v=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,password:g})}),w=await v.json();return v.ok&&w.success?(n(!0),l(w.user),Lf(w.user),!0):!1}catch(v){return console.error("Login failed:",v),!1}},f=async(m,g,v,w)=>{try{const y=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,password:g,name:v,email:w})}),j=await y.json();return y.ok&&j.success?(n(!0),l(j.user),Lf(j.user),{success:!0}):{success:!1,error:j.error||"Registration failed"}}catch(y){return console.error("Registration failed:",y),{success:!1,error:"Registration failed"}}},p=async()=>{try{await fetch("/api/auth/logout",{method:"POST",headers:Mn()})}catch(m){console.error("Logout error:",m)}finally{n(!1),l(null),Lf(null)}};return a.jsx(uz.Provider,{value:{isAuthenticated:t,isLoading:r,user:i,login:d,register:f,logout:p,checkAuth:u},children:e})}function Am(){const e=b.useContext(uz);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}const te=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("rounded-xl border bg-card text-card-foreground shadow",e),...t}));te.displayName="Card";const ue=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const de=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const He=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));He.displayName="CardDescription";const ae=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("p-6 pt-0",e),...t}));ae.displayName="CardContent";const Er=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("flex items-center p-6 pt-0",e),...t}));Er.displayName="CardFooter";function ane(){return a.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:a.jsx(te,{className:"w-full max-w-md mx-4",children:a.jsxs(ae,{className:"pt-6",children:[a.jsxs("div",{className:"flex mb-4 gap-2",children:[a.jsx(bh,{className:"h-8 w-8 text-red-500"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),a.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}var sne=Symbol.for("react.lazy"),mx=Iy[" use ".trim().toString()];function ine(e){return typeof e=="object"&&e!==null&&"then"in e}function fz(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===sne&&"_payload"in e&&ine(e._payload)}function Cm(e){const t=lne(e),n=b.forwardRef((r,s)=>{let{children:i,...l}=r;fz(i)&&typeof mx=="function"&&(i=mx(i._payload));const u=b.Children.toArray(i),d=u.find(une);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}var one=Cm("Slot");function lne(e){const t=b.forwardRef((n,r)=>{let{children:s,...i}=n;if(fz(s)&&typeof mx=="function"&&(s=mx(s._payload)),b.isValidElement(s)){const l=fne(s),u=dne(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Di(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var cne=Symbol("radix.slottable");function une(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===cne}function dne(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function fne(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const i_=wd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground shadow-sm border-destructive-border",outline:" border [border-color:var(--button-outline)] shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent",link:"text-primary underline-offset-4 hover:underline"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),ee=b.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},i)=>{const l=r?one:"button";return a.jsx(l,{className:Fe(i_({variant:t,size:n,className:e})),ref:i,...s})});ee.displayName="Button";const De=b.forwardRef(({className:e,type:t,...n},r)=>a.jsx("input",{type:t,className:Fe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));De.displayName="Input";var hne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],mne=hne.reduce((e,t)=>{const n=Cm(`Primitive.${t}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),pne="Label",hz=b.forwardRef((e,t)=>a.jsx(mne.label,{...e,ref:t,onMouseDown:n=>{n.target.closest("button, input, select, textarea")||(e.onMouseDown?.(n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));hz.displayName=pne;var mz=hz;const gne=wd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),we=b.forwardRef(({className:e,...t},n)=>a.jsx(mz,{ref:n,className:Fe(gne(),e),...t}));we.displayName=mz.displayName;var xne=b.createContext(void 0);function Ed(e){const t=b.useContext(xne);return e||t||"ltr"}var Bj="rovingFocusGroup.onEntryFocus",yne={bubbles:!1,cancelable:!0},_m="RovingFocusGroup",[TA,pz,vne]=ym(_m),[bne,Qy]=Fr(_m,[vne]),[jne,wne]=bne(_m),gz=b.forwardRef((e,t)=>a.jsx(TA.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(TA.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Nne,{...e,ref:t})})}));gz.displayName=_m;var Nne=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:d,onEntryFocus:f,preventScrollOnEntryFocus:p=!1,...m}=e,g=b.useRef(null),v=wt(t,g),w=Ed(i),[y,j]=vs({prop:l,defaultProp:u??null,onChange:d,caller:_m}),[_,C]=b.useState(!1),N=qn(f),S=pz(n),O=b.useRef(!1),[M,T]=b.useState(0);return b.useEffect(()=>{const P=g.current;if(P)return P.addEventListener(Bj,N),()=>P.removeEventListener(Bj,N)},[N]),a.jsx(jne,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:b.useCallback(P=>j(P),[j]),onItemShiftTab:b.useCallback(()=>C(!0),[]),onFocusableItemAdd:b.useCallback(()=>T(P=>P+1),[]),onFocusableItemRemove:b.useCallback(()=>T(P=>P-1),[]),children:a.jsx(Je.div,{tabIndex:_||M===0?-1:0,"data-orientation":r,...m,ref:v,style:{outline:"none",...e.style},onMouseDown:Le(e.onMouseDown,()=>{O.current=!0}),onFocus:Le(e.onFocus,P=>{const $=!O.current;if(P.target===P.currentTarget&&$&&!_){const K=new CustomEvent(Bj,yne);if(P.currentTarget.dispatchEvent(K),!K.defaultPrevented){const q=S().filter(k=>k.focusable),H=q.find(k=>k.active),B=q.find(k=>k.id===y),D=[H,B,...q].filter(Boolean).map(k=>k.ref.current);vz(D,p)}}O.current=!1}),onBlur:Le(e.onBlur,()=>C(!1))})})}),xz="RovingFocusGroupItem",yz=b.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:l,...u}=e,d=gs(),f=i||d,p=wne(xz,n),m=p.currentTabStopId===f,g=pz(n),{onFocusableItemAdd:v,onFocusableItemRemove:w,currentTabStopId:y}=p;return b.useEffect(()=>{if(r)return v(),()=>w()},[r,v,w]),a.jsx(TA.ItemSlot,{scope:n,id:f,focusable:r,active:s,children:a.jsx(Je.span,{tabIndex:m?0:-1,"data-orientation":p.orientation,...u,ref:t,onMouseDown:Le(e.onMouseDown,j=>{r?p.onItemFocus(f):j.preventDefault()}),onFocus:Le(e.onFocus,()=>p.onItemFocus(f)),onKeyDown:Le(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){p.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const _=Cne(j,p.orientation,p.dir);if(_!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=g().filter(S=>S.focusable).map(S=>S.ref.current);if(_==="last")N.reverse();else if(_==="prev"||_==="next"){_==="prev"&&N.reverse();const S=N.indexOf(j.currentTarget);N=p.loop?_ne(N,S+1):N.slice(S+1)}setTimeout(()=>vz(N))}}),children:typeof l=="function"?l({isCurrentTabStop:m,hasTabStop:y!=null}):l})})});yz.displayName=xz;var Sne={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ane(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Cne(e,t,n){const r=Ane(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return Sne[r]}function vz(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function _ne(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var bz=gz,jz=yz,Zy="Tabs",[Ene]=Fr(Zy,[Qy]),wz=Qy(),[One,o_]=Ene(Zy),Nz=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:l="horizontal",dir:u,activationMode:d="automatic",...f}=e,p=Ed(u),[m,g]=vs({prop:r,onChange:s,defaultProp:i??"",caller:Zy});return a.jsx(One,{scope:n,baseId:gs(),value:m,onValueChange:g,orientation:l,dir:p,activationMode:d,children:a.jsx(Je.div,{dir:p,"data-orientation":l,...f,ref:t})})});Nz.displayName=Zy;var Sz="TabsList",Az=b.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,i=o_(Sz,n),l=wz(n);return a.jsx(bz,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:r,children:a.jsx(Je.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:t})})});Az.displayName=Sz;var Cz="TabsTrigger",_z=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=e,l=o_(Cz,n),u=wz(n),d=Tz(l.baseId,r),f=Mz(l.baseId,r),p=r===l.value;return a.jsx(jz,{asChild:!0,...u,focusable:!s,active:p,children:a.jsx(Je.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":f,"data-state":p?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:d,...i,ref:t,onMouseDown:Le(e.onMouseDown,m=>{!s&&m.button===0&&m.ctrlKey===!1?l.onValueChange(r):m.preventDefault()}),onKeyDown:Le(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&l.onValueChange(r)}),onFocus:Le(e.onFocus,()=>{const m=l.activationMode!=="manual";!p&&!s&&m&&l.onValueChange(r)})})})});_z.displayName=Cz;var Ez="TabsContent",Oz=b.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...l}=e,u=o_(Ez,n),d=Tz(u.baseId,r),f=Mz(u.baseId,r),p=r===u.value,m=b.useRef(p);return b.useEffect(()=>{const g=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(jr,{present:s||p,children:({present:g})=>a.jsx(Je.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:f,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:g&&i})})});Oz.displayName=Ez;function Tz(e,t){return`${e}-trigger-${t}`}function Mz(e,t){return`${e}-content-${t}`}var Tne=Nz,kz=Az,Pz=_z,Rz=Oz;const kr=Tne,br=b.forwardRef(({className:e,...t},n)=>a.jsx(kz,{ref:n,className:Fe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",e),...t}));br.displayName=kz.displayName;const mt=b.forwardRef(({className:e,...t},n)=>a.jsx(Pz,{ref:n,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",e),...t}));mt.displayName=Pz.displayName;const bt=b.forwardRef(({className:e,...t},n)=>a.jsx(Rz,{ref:n,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));bt.displayName=Rz.displayName;function Mne(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}Array(12).fill(0);let MA=1;class kne{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{const n=this.subscribers.indexOf(t);this.subscribers.splice(n,1)}),this.publish=t=>{this.subscribers.forEach(n=>n(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var n;const{message:r,...s}=t,i=typeof t?.id=="number"||((n=t.id)==null?void 0:n.length)>0?t.id:MA++,l=this.toasts.find(d=>d.id===i),u=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...t,id:i,title:r}),{...d,...t,id:i,dismissible:u,title:r}):d):this.addToast({title:r,...s,dismissible:u,id:i}),i},this.dismiss=t=>(t?(this.dismissedToasts.add(t),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:t,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),t),this.message=(t,n)=>this.create({...n,message:t}),this.error=(t,n)=>this.create({...n,message:t,type:"error"}),this.success=(t,n)=>this.create({...n,type:"success",message:t}),this.info=(t,n)=>this.create({...n,type:"info",message:t}),this.warning=(t,n)=>this.create({...n,type:"warning",message:t}),this.loading=(t,n)=>this.create({...n,type:"loading",message:t}),this.promise=(t,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:t,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const s=Promise.resolve(t instanceof Function?t():t);let i=r!==void 0,l;const u=s.then(async f=>{if(l=["resolve",f],X.isValidElement(f))i=!1,this.create({id:r,type:"default",message:f});else if(Rne(f)&&!f.ok){i=!1;const m=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description,w=typeof m=="object"&&!X.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...w})}else if(f instanceof Error){i=!1;const m=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!X.isValidElement(m)?m:{message:m};this.create({id:r,type:"error",description:g,...w})}else if(n.success!==void 0){i=!1;const m=typeof n.success=="function"?await n.success(f):n.success,g=typeof n.description=="function"?await n.description(f):n.description,w=typeof m=="object"&&!X.isValidElement(m)?m:{message:m};this.create({id:r,type:"success",description:g,...w})}}).catch(async f=>{if(l=["reject",f],n.error!==void 0){i=!1;const p=typeof n.error=="function"?await n.error(f):n.error,m=typeof n.description=="function"?await n.description(f):n.description,v=typeof p=="object"&&!X.isValidElement(p)?p:{message:p};this.create({id:r,type:"error",description:m,...v})}}).finally(()=>{i&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),d=()=>new Promise((f,p)=>u.then(()=>l[0]==="reject"?p(l[1]):f(l[1])).catch(p));return typeof r!="string"&&typeof r!="number"?{unwrap:d}:Object.assign(r,{unwrap:d})},this.custom=(t,n)=>{const r=n?.id||MA++;return this.create({jsx:t(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Fa=new kne,Pne=(e,t)=>{const n=t?.id||MA++;return Fa.addToast({title:e,...t,id:n}),n},Rne=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Dne=Pne,Ine=()=>Fa.toasts,Lne=()=>Fa.getActiveToasts(),fe=Object.assign(Dne,{success:Fa.success,info:Fa.info,warning:Fa.warning,error:Fa.error,custom:Fa.custom,message:Fa.message,promise:Fa.promise,dismiss:Fa.dismiss,loading:Fa.loading},{getHistory:Ine,getToasts:Lne});Mne("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function $ne(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[p,m]=b.useState(!1),[g,v]=b.useState("login"),{login:w,register:y}=Am(),[,j]=cc(),_=async N=>{N.preventDefault(),f(""),m(!0);try{await w(e,n)?(fe.success("Welcome back!"),j("/")):f("Invalid email/username or password")}catch{f("Login failed. Please try again.")}finally{m(!1)}},C=async N=>{if(N.preventDefault(),f(""),m(!0),n.length<6){f("Password must be at least 6 characters"),m(!1);return}try{const S=await y(l,n,s,l);S.success?(fe.success("Account created successfully!"),j("/")):f(S.error||"Registration failed")}catch{f("Registration failed. Please try again.")}finally{m(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-emerald-50 via-white to-teal-50",children:a.jsxs(te,{className:"w-full max-w-md mx-4 shadow-xl border-0",children:[a.jsxs(ue,{className:"text-center space-y-4 pb-2",children:[a.jsx("div",{className:"mx-auto w-16 h-16 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(an,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{children:[a.jsx(de,{className:"text-2xl font-bold text-gray-900",children:"WhatsApp Business API"}),a.jsx(He,{className:"text-gray-500 mt-1",children:g==="login"?"Sign in to your dashboard":"Create your account"})]})]}),a.jsx(ae,{className:"pt-4",children:a.jsxs(kr,{value:g,onValueChange:v,children:[a.jsxs(br,{className:"grid w-full grid-cols-2 mb-6",children:[a.jsx(mt,{value:"login",children:"Sign In"}),a.jsx(mt,{value:"register",children:"Register"})]}),a.jsxs(bt,{value:"login",children:[a.jsxs("form",{onSubmit:_,className:"space-y-4",children:[d&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[a.jsx(bh,{className:"h-4 w-4"}),d]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"login-identifier",className:"text-gray-700",children:"Email or Username"}),a.jsxs("div",{className:"relative",children:[a.jsx(dq,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(De,{id:"login-identifier",type:"text",placeholder:"Enter email or username",value:e,onChange:N=>t(N.target.value),className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"login-password",className:"text-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(De,{id:"login-password",type:"password",placeholder:"Enter your password",value:n,onChange:N=>r(N.target.value),className:"pl-10",required:!0})]})]}),a.jsx(ee,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700",disabled:p,children:p?"Signing in...":"Sign In"})]}),a.jsx("div",{className:"mt-6 p-3 bg-gray-50 rounded-lg border border-gray-100"})]}),a.jsx(bt,{value:"register",children:a.jsxs("form",{onSubmit:C,className:"space-y-4",children:[d&&a.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:[a.jsx(bh,{className:"h-4 w-4"}),d]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"register-name",className:"text-gray-700",children:"Full Name"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(De,{id:"register-name",type:"text",placeholder:"Your name",value:s,onChange:N=>i(N.target.value),className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"register-email",className:"text-gray-700",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fy,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(De,{id:"register-email",type:"email",placeholder:"you@example.com",value:l,onChange:N=>u(N.target.value),className:"pl-10",required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"register-password",className:"text-gray-700",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(lx,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),a.jsx(De,{id:"register-password",type:"password",placeholder:"Min. 6 characters",value:n,onChange:N=>r(N.target.value),className:"pl-10",required:!0,minLength:6})]})]}),a.jsx(ee,{type:"submit",className:"w-full bg-gradient-to-r from-emerald-500 to-teal-600 hover:from-emerald-600 hover:to-teal-700",disabled:p,children:p?"Creating account...":"Create Account"})]})})]})})]})})}function qne(e,t=[]){let n=[];function r(i,l){const u=b.createContext(l);u.displayName=i+"Context";const d=n.length;n=[...n,l];const f=m=>{const{scope:g,children:v,...w}=m,y=g?.[e]?.[d]||u,j=b.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:j,children:v})};f.displayName=i+"Provider";function p(m,g){const v=g?.[e]?.[d]||u,w=b.useContext(v);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,p]}const s=()=>{const i=n.map(l=>b.createContext(l));return function(u){const d=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,zne(s,...t)]}function zne(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Bne=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],l_=Bne.reduce((e,t)=>{const n=Cm(`Primitive.${t}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Fne(){return x6.useSyncExternalStore(Une,()=>!0,()=>!1)}function Une(){return()=>{}}var c_="Avatar",[Hne]=qne(c_),[Vne,Dz]=Hne(c_),Iz=b.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,i]=b.useState("idle");return a.jsx(Vne,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:a.jsx(l_.span,{...r,ref:t})})});Iz.displayName=c_;var Lz="AvatarImage",$z=b.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=e,l=Dz(Lz,n),u=Kne(r,i),d=qn(f=>{s(f),l.onImageLoadingStatusChange(f)});return Fn(()=>{u!=="idle"&&d(u)},[u,d]),u==="loaded"?a.jsx(l_.img,{...i,ref:t,src:r}):null});$z.displayName=Lz;var qz="AvatarFallback",zz=b.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,i=Dz(qz,n),[l,u]=b.useState(r===void 0);return b.useEffect(()=>{if(r!==void 0){const d=window.setTimeout(()=>u(!0),r);return()=>window.clearTimeout(d)}},[r]),l&&i.imageLoadingStatus!=="loaded"?a.jsx(l_.span,{...s,ref:t}):null});zz.displayName=qz;function HP(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Kne(e,{referrerPolicy:t,crossOrigin:n}){const r=Fne(),s=b.useRef(null),i=r?(s.current||(s.current=new window.Image),s.current):null,[l,u]=b.useState(()=>HP(i,e));return Fn(()=>{u(HP(i,e))},[i,e]),Fn(()=>{const d=m=>()=>{u(m)};if(!i)return;const f=d("loaded"),p=d("error");return i.addEventListener("load",f),i.addEventListener("error",p),t&&(i.referrerPolicy=t),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",f),i.removeEventListener("error",p)}},[i,n,t]),l}var Bz=Iz,Fz=$z,Uz=zz;const Xr=b.forwardRef(({className:e,...t},n)=>a.jsx(Bz,{ref:n,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Xr.displayName=Bz.displayName;const u_=b.forwardRef(({className:e,...t},n)=>a.jsx(Fz,{ref:n,className:Fe("aspect-square h-full w-full",e),...t}));u_.displayName=Fz.displayName;const Qr=b.forwardRef(({className:e,...t},n)=>a.jsx(Uz,{ref:n,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Qr.displayName=Uz.displayName;const Wne=wd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:"text-foreground border [border-color:var(--badge-outline)]"}},defaultVariants:{variant:"default"}});function ke({className:e,variant:t,...n}){return a.jsx("div",{className:Fe(Wne({variant:t}),e),...n})}var Fj=0;function d_(){b.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??VP()),document.body.insertAdjacentElement("beforeend",e[1]??VP()),Fj++,()=>{Fj===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Fj--}},[])}function VP(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Uj="focusScope.autoFocusOnMount",Hj="focusScope.autoFocusOnUnmount",KP={bubbles:!1,cancelable:!0},Yne="FocusScope",Jy=b.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...l}=e,[u,d]=b.useState(null),f=qn(s),p=qn(i),m=b.useRef(null),g=wt(t,y=>d(y)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(r){let y=function(N){if(v.paused||!u)return;const S=N.target;u.contains(S)?m.current=S:No(m.current,{select:!0})},j=function(N){if(v.paused||!u)return;const S=N.relatedTarget;S!==null&&(u.contains(S)||No(m.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&No(u)};document.addEventListener("focusin",y),document.addEventListener("focusout",j);const C=new MutationObserver(_);return u&&C.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",j),C.disconnect()}}},[r,u,v.paused]),b.useEffect(()=>{if(u){YP.add(v);const y=document.activeElement;if(!u.contains(y)){const _=new CustomEvent(Uj,KP);u.addEventListener(Uj,f),u.dispatchEvent(_),_.defaultPrevented||(Gne(ere(Hz(u)),{select:!0}),document.activeElement===y&&No(u))}return()=>{u.removeEventListener(Uj,f),setTimeout(()=>{const _=new CustomEvent(Hj,KP);u.addEventListener(Hj,p),u.dispatchEvent(_),_.defaultPrevented||No(y??document.body,{select:!0}),u.removeEventListener(Hj,p),YP.remove(v)},0)}}},[u,f,p,v]);const w=b.useCallback(y=>{if(!n&&!r||v.paused)return;const j=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,_=document.activeElement;if(j&&_){const C=y.currentTarget,[N,S]=Xne(C);N&&S?!y.shiftKey&&_===S?(y.preventDefault(),n&&No(N,{select:!0})):y.shiftKey&&_===N&&(y.preventDefault(),n&&No(S,{select:!0})):_===C&&y.preventDefault()}},[n,r,v.paused]);return a.jsx(Je.div,{tabIndex:-1,...l,ref:g,onKeyDown:w})});Jy.displayName=Yne;function Gne(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(No(r,{select:t}),document.activeElement!==n)return}function Xne(e){const t=Hz(e),n=WP(t,e),r=WP(t.reverse(),e);return[n,r]}function Hz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function WP(e,t){for(const n of e)if(!Qne(n,{upTo:t}))return n}function Qne(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Zne(e){return e instanceof HTMLInputElement&&"select"in e}function No(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Zne(e)&&t&&e.select()}}var YP=Jne();function Jne(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=GP(e,t),e.unshift(t)},remove(t){e=GP(e,t),e[0]?.resume()}}}function GP(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ere(e){return e.filter(t=>t.tagName!=="A")}function tre(e){const t=nre(e),n=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),d=u.find(are);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function nre(e){const t=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const l=ire(s),u=sre(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Di(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rre=Symbol("radix.slottable");function are(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rre}function sre(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function ire(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var ore=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},iu=new WeakMap,Ng=new WeakMap,Sg={},Vj=0,Vz=function(e){return e&&(e.host||Vz(e.parentNode))},lre=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Vz(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},cre=function(e,t,n,r){var s=lre(t,Array.isArray(e)?e:[e]);Sg[n]||(Sg[n]=new WeakMap);var i=Sg[n],l=[],u=new Set,d=new Set(s),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};s.forEach(f);var p=function(m){!m||d.has(m)||Array.prototype.forEach.call(m.children,function(g){if(u.has(g))p(g);else try{var v=g.getAttribute(r),w=v!==null&&v!=="false",y=(iu.get(g)||0)+1,j=(i.get(g)||0)+1;iu.set(g,y),i.set(g,j),l.push(g),y===1&&w&&Ng.set(g,!0),j===1&&g.setAttribute(n,"true"),w||g.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",g,_)}})};return p(t),u.clear(),Vj++,function(){l.forEach(function(m){var g=iu.get(m)-1,v=i.get(m)-1;iu.set(m,g),i.set(m,v),g||(Ng.has(m)||m.removeAttribute(r),Ng.delete(m)),v||m.removeAttribute(n)}),Vj--,Vj||(iu=new WeakMap,iu=new WeakMap,Ng=new WeakMap,Sg={})}},f_=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=ore(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),cre(r,s,n,"aria-hidden")):function(){return null}},Ms=function(){return Ms=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ms.apply(this,arguments)};function Kz(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function ure(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,i;r<s;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var Xg="right-scroll-bar-position",Qg="width-before-scroll-bar",dre="with-scroll-bars-hidden",fre="--removed-body-scroll-bar-size";function Kj(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function hre(e,t){var n=b.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var mre=typeof window<"u"?b.useLayoutEffect:b.useEffect,XP=new WeakMap;function pre(e,t){var n=hre(null,function(r){return e.forEach(function(s){return Kj(s,r)})});return mre(function(){var r=XP.get(n);if(r){var s=new Set(r),i=new Set(e),l=n.current;s.forEach(function(u){i.has(u)||Kj(u,null)}),i.forEach(function(u){s.has(u)||Kj(u,l)})}XP.set(n,e)},[e]),n}function gre(e){return e}function xre(e,t){t===void 0&&(t=gre);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(i){var l=t(i,r);return n.push(l),function(){n=n.filter(function(u){return u!==l})}},assignSyncMedium:function(i){for(r=!0;n.length;){var l=n;n=[],l.forEach(i)}n={push:function(u){return i(u)},filter:function(){return n}}},assignMedium:function(i){r=!0;var l=[];if(n.length){var u=n;n=[],u.forEach(i),l=n}var d=function(){var p=l;l=[],p.forEach(i)},f=function(){return Promise.resolve().then(d)};f(),n={push:function(p){l.push(p),f()},filter:function(p){return l=l.filter(p),n}}}};return s}function yre(e){e===void 0&&(e={});var t=xre(null);return t.options=Ms({async:!0,ssr:!1},e),t}var Wz=function(e){var t=e.sideCar,n=Kz(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return b.createElement(r,Ms({},n))};Wz.isSideCarExport=!0;function vre(e,t){return e.useMedium(t),Wz}var Yz=yre(),Wj=function(){},ev=b.forwardRef(function(e,t){var n=b.useRef(null),r=b.useState({onScrollCapture:Wj,onWheelCapture:Wj,onTouchMoveCapture:Wj}),s=r[0],i=r[1],l=e.forwardProps,u=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,m=e.shards,g=e.sideCar,v=e.noRelative,w=e.noIsolation,y=e.inert,j=e.allowPinchZoom,_=e.as,C=_===void 0?"div":_,N=e.gapMode,S=Kz(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=g,M=pre([n,t]),T=Ms(Ms({},S),s);return b.createElement(b.Fragment,null,p&&b.createElement(O,{sideCar:Yz,removeScrollBar:f,shards:m,noRelative:v,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!j,lockRef:n,gapMode:N}),l?b.cloneElement(b.Children.only(u),Ms(Ms({},T),{ref:M})):b.createElement(C,Ms({},T,{className:d,ref:M}),u))});ev.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ev.classNames={fullWidth:Qg,zeroRight:Xg};var bre=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jre(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=bre();return t&&e.setAttribute("nonce",t),e}function wre(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nre(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Sre=function(){var e=0,t=null;return{add:function(n){e==0&&(t=jre())&&(wre(t,n),Nre(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Are=function(){var e=Sre();return function(t,n){b.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Gz=function(){var e=Are(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},Cre={left:0,top:0,right:0,gap:0},Yj=function(e){return parseInt(e||"",10)||0},_re=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Yj(n),Yj(r),Yj(s)]},Ere=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Cre;var t=_re(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Ore=Gz(),Su="data-scroll-locked",Tre=function(e,t,n,r){var s=e.left,i=e.top,l=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(dre,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Su,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xg,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Qg,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Xg," .").concat(Xg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Qg," .").concat(Qg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Su,`] {
    `).concat(fre,": ").concat(u,`px;
  }
`)},QP=function(){var e=parseInt(document.body.getAttribute(Su)||"0",10);return isFinite(e)?e:0},Mre=function(){b.useEffect(function(){return document.body.setAttribute(Su,(QP()+1).toString()),function(){var e=QP()-1;e<=0?document.body.removeAttribute(Su):document.body.setAttribute(Su,e.toString())}},[])},kre=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Mre();var i=b.useMemo(function(){return Ere(s)},[s]);return b.createElement(Ore,{styles:Tre(i,!t,s,n?"":"!important")})},kA=!1;if(typeof window<"u")try{var Ag=Object.defineProperty({},"passive",{get:function(){return kA=!0,!0}});window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{kA=!1}var ou=kA?{passive:!1}:!1,Pre=function(e){return e.tagName==="TEXTAREA"},Xz=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Pre(e)&&n[t]==="visible")},Rre=function(e){return Xz(e,"overflowY")},Dre=function(e){return Xz(e,"overflowX")},ZP=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Qz(e,r);if(s){var i=Zz(e,r),l=i[1],u=i[2];if(l>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ire=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Lre=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Qz=function(e,t){return e==="v"?Rre(t):Dre(t)},Zz=function(e,t){return e==="v"?Ire(t):Lre(t)},$re=function(e,t){return e==="h"&&t==="rtl"?-1:1},qre=function(e,t,n,r,s){var i=$re(e,window.getComputedStyle(t).direction),l=i*r,u=n.target,d=t.contains(u),f=!1,p=l>0,m=0,g=0;do{if(!u)break;var v=Zz(e,u),w=v[0],y=v[1],j=v[2],_=y-j-i*w;(w||_)&&Qz(e,u)&&(m+=_,g+=w);var C=u.parentNode;u=C&&C.nodeType===Node.DOCUMENT_FRAGMENT_NODE?C.host:C}while(!d&&u!==document.body||d&&(t.contains(u)||t===u));return(p&&Math.abs(m)<1||!p&&Math.abs(g)<1)&&(f=!0),f},Cg=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},JP=function(e){return[e.deltaX,e.deltaY]},e4=function(e){return e&&"current"in e?e.current:e},zre=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Bre=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Fre=0,lu=[];function Ure(e){var t=b.useRef([]),n=b.useRef([0,0]),r=b.useRef(),s=b.useState(Fre++)[0],i=b.useState(Gz)[0],l=b.useRef(e);b.useEffect(function(){l.current=e},[e]),b.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=ure([e.lockRef.current],(e.shards||[]).map(e4),!0).filter(Boolean);return y.forEach(function(j){return j.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var u=b.useCallback(function(y,j){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!l.current.allowPinchZoom;var _=Cg(y),C=n.current,N="deltaX"in y?y.deltaX:C[0]-_[0],S="deltaY"in y?y.deltaY:C[1]-_[1],O,M=y.target,T=Math.abs(N)>Math.abs(S)?"h":"v";if("touches"in y&&T==="h"&&M.type==="range")return!1;var P=ZP(T,M);if(!P)return!0;if(P?O=T:(O=T==="v"?"h":"v",P=ZP(T,M)),!P)return!1;if(!r.current&&"changedTouches"in y&&(N||S)&&(r.current=O),!O)return!0;var $=r.current||O;return qre($,j,y,$==="h"?N:S)},[]),d=b.useCallback(function(y){var j=y;if(!(!lu.length||lu[lu.length-1]!==i)){var _="deltaY"in j?JP(j):Cg(j),C=t.current.filter(function(O){return O.name===j.type&&(O.target===j.target||j.target===O.shadowParent)&&zre(O.delta,_)})[0];if(C&&C.should){j.cancelable&&j.preventDefault();return}if(!C){var N=(l.current.shards||[]).map(e4).filter(Boolean).filter(function(O){return O.contains(j.target)}),S=N.length>0?u(j,N[0]):!l.current.noIsolation;S&&j.cancelable&&j.preventDefault()}}},[]),f=b.useCallback(function(y,j,_,C){var N={name:y,delta:j,target:_,should:C,shadowParent:Hre(_)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(S){return S!==N})},1)},[]),p=b.useCallback(function(y){n.current=Cg(y),r.current=void 0},[]),m=b.useCallback(function(y){f(y.type,JP(y),y.target,u(y,e.lockRef.current))},[]),g=b.useCallback(function(y){f(y.type,Cg(y),y.target,u(y,e.lockRef.current))},[]);b.useEffect(function(){return lu.push(i),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:g}),document.addEventListener("wheel",d,ou),document.addEventListener("touchmove",d,ou),document.addEventListener("touchstart",p,ou),function(){lu=lu.filter(function(y){return y!==i}),document.removeEventListener("wheel",d,ou),document.removeEventListener("touchmove",d,ou),document.removeEventListener("touchstart",p,ou)}},[]);var v=e.removeScrollBar,w=e.inert;return b.createElement(b.Fragment,null,w?b.createElement(i,{styles:Bre(s)}):null,v?b.createElement(kre,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function Hre(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Vre=vre(Yz,Ure);var tv=b.forwardRef(function(e,t){return b.createElement(ev,Ms({},e,{ref:t,sideCar:Vre}))});tv.classNames=ev.classNames;var PA=["Enter"," "],Kre=["ArrowDown","PageUp","Home"],Jz=["ArrowUp","PageDown","End"],Wre=[...Kre,...Jz],Yre={ltr:[...PA,"ArrowRight"],rtl:[...PA,"ArrowLeft"]},Gre={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Em="Menu",[Sh,Xre,Qre]=ym(Em),[fc,eB]=Fr(Em,[Qre,_d,Qy]),nv=_d(),tB=Qy(),[Zre,hc]=fc(Em),[Jre,Om]=fc(Em),nB=e=>{const{__scopeMenu:t,open:n=!1,children:r,dir:s,onOpenChange:i,modal:l=!0}=e,u=nv(t),[d,f]=b.useState(null),p=b.useRef(!1),m=qn(i),g=Ed(s);return b.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),a.jsx(ez,{...u,children:a.jsx(Zre,{scope:t,open:n,onOpenChange:m,content:d,onContentChange:f,children:a.jsx(Jre,{scope:t,onClose:b.useCallback(()=>m(!1),[m]),isUsingKeyboardRef:p,dir:g,modal:l,children:r})})})};nB.displayName=Em;var eae="MenuAnchor",h_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=nv(n);return a.jsx(t_,{...s,...r,ref:t})});h_.displayName=eae;var m_="MenuPortal",[tae,rB]=fc(m_,{forceMount:void 0}),aB=e=>{const{__scopeMenu:t,forceMount:n,children:r,container:s}=e,i=hc(m_,t);return a.jsx(tae,{scope:t,forceMount:n,children:a.jsx(jr,{present:n||i.open,children:a.jsx(jd,{asChild:!0,container:s,children:r})})})};aB.displayName=m_;var Ga="MenuContent",[nae,p_]=fc(Ga),sB=b.forwardRef((e,t)=>{const n=rB(Ga,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=hc(Ga,e.__scopeMenu),l=Om(Ga,e.__scopeMenu);return a.jsx(Sh.Provider,{scope:e.__scopeMenu,children:a.jsx(jr,{present:r||i.open,children:a.jsx(Sh.Slot,{scope:e.__scopeMenu,children:l.modal?a.jsx(rae,{...s,ref:t}):a.jsx(aae,{...s,ref:t})})})})}),rae=b.forwardRef((e,t)=>{const n=hc(Ga,e.__scopeMenu),r=b.useRef(null),s=wt(t,r);return b.useEffect(()=>{const i=r.current;if(i)return f_(i)},[]),a.jsx(g_,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:Le(e.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aae=b.forwardRef((e,t)=>{const n=hc(Ga,e.__scopeMenu);return a.jsx(g_,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),sae=tre("MenuContent.ScrollLock"),g_=b.forwardRef((e,t)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:u,onEntryFocus:d,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,onDismiss:v,disableOutsideScroll:w,...y}=e,j=hc(Ga,n),_=Om(Ga,n),C=nv(n),N=tB(n),S=Xre(n),[O,M]=b.useState(null),T=b.useRef(null),P=wt(t,T,j.onContentChange),$=b.useRef(0),K=b.useRef(""),q=b.useRef(0),H=b.useRef(null),B=b.useRef("right"),L=b.useRef(0),D=w?tv:b.Fragment,k=w?{as:sae,allowPinchZoom:!0}:void 0,I=V=>{const Y=K.current+V,U=S().filter(Q=>!Q.disabled),F=document.activeElement,G=U.find(Q=>Q.ref.current===F)?.textValue,Z=U.map(Q=>Q.textValue),ge=xae(Z,Y,G),Se=U.find(Q=>Q.textValue===ge)?.ref.current;(function Q(pe){K.current=pe,window.clearTimeout($.current),pe!==""&&($.current=window.setTimeout(()=>Q(""),1e3))})(Y),Se&&setTimeout(()=>Se.focus())};b.useEffect(()=>()=>window.clearTimeout($.current),[]),d_();const z=b.useCallback(V=>B.current===H.current?.side&&vae(V,H.current?.area),[]);return a.jsx(nae,{scope:n,searchRef:K,onItemEnter:b.useCallback(V=>{z(V)&&V.preventDefault()},[z]),onItemLeave:b.useCallback(V=>{z(V)||(T.current?.focus(),M(null))},[z]),onTriggerLeave:b.useCallback(V=>{z(V)&&V.preventDefault()},[z]),pointerGraceTimerRef:q,onPointerGraceIntentChange:b.useCallback(V=>{H.current=V},[]),children:a.jsx(D,{...k,children:a.jsx(Jy,{asChild:!0,trapped:s,onMountAutoFocus:Le(i,V=>{V.preventDefault(),T.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:a.jsx(bd,{asChild:!0,disableOutsidePointerEvents:u,onEscapeKeyDown:f,onPointerDownOutside:p,onFocusOutside:m,onInteractOutside:g,onDismiss:v,children:a.jsx(bz,{asChild:!0,...N,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:Le(d,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(n_,{role:"menu","aria-orientation":"vertical","data-state":jB(j.open),"data-radix-menu-content":"",dir:_.dir,...C,...y,ref:P,style:{outline:"none",...y.style},onKeyDown:Le(y.onKeyDown,V=>{const U=V.target.closest("[data-radix-menu-content]")===V.currentTarget,F=V.ctrlKey||V.altKey||V.metaKey,G=V.key.length===1;U&&(V.key==="Tab"&&V.preventDefault(),!F&&G&&I(V.key));const Z=T.current;if(V.target!==Z||!Wre.includes(V.key))return;V.preventDefault();const Se=S().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);Jz.includes(V.key)&&Se.reverse(),pae(Se)}),onBlur:Le(e.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout($.current),K.current="")}),onPointerMove:Le(e.onPointerMove,Ah(V=>{const Y=V.target,U=L.current!==V.clientX;if(V.currentTarget.contains(Y)&&U){const F=V.clientX>L.current?"right":"left";B.current=F,L.current=V.clientX}}))})})})})})})});sB.displayName=Ga;var iae="MenuGroup",x_=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Je.div,{role:"group",...r,ref:t})});x_.displayName=iae;var oae="MenuLabel",iB=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Je.div,{...r,ref:t})});iB.displayName=oae;var px="MenuItem",t4="menu.itemSelect",rv=b.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:r,...s}=e,i=b.useRef(null),l=Om(px,e.__scopeMenu),u=p_(px,e.__scopeMenu),d=wt(t,i),f=b.useRef(!1),p=()=>{const m=i.current;if(!n&&m){const g=new CustomEvent(t4,{bubbles:!0,cancelable:!0});m.addEventListener(t4,v=>r?.(v),{once:!0}),kC(m,g),g.defaultPrevented?f.current=!1:l.onClose()}};return a.jsx(oB,{...s,ref:d,disabled:n,onClick:Le(e.onClick,p),onPointerDown:m=>{e.onPointerDown?.(m),f.current=!0},onPointerUp:Le(e.onPointerUp,m=>{f.current||m.currentTarget?.click()}),onKeyDown:Le(e.onKeyDown,m=>{const g=u.searchRef.current!=="";n||g&&m.key===" "||PA.includes(m.key)&&(m.currentTarget.click(),m.preventDefault())})})});rv.displayName=px;var oB=b.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=e,l=p_(px,n),u=tB(n),d=b.useRef(null),f=wt(t,d),[p,m]=b.useState(!1),[g,v]=b.useState("");return b.useEffect(()=>{const w=d.current;w&&v((w.textContent??"").trim())},[i.children]),a.jsx(Sh.ItemSlot,{scope:n,disabled:r,textValue:s??g,children:a.jsx(jz,{asChild:!0,...u,focusable:!r,children:a.jsx(Je.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:f,onPointerMove:Le(e.onPointerMove,Ah(w=>{r?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Le(e.onPointerLeave,Ah(w=>l.onItemLeave(w))),onFocus:Le(e.onFocus,()=>m(!0)),onBlur:Le(e.onBlur,()=>m(!1))})})})}),lae="MenuCheckboxItem",lB=b.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:r,...s}=e;return a.jsx(hB,{scope:e.__scopeMenu,checked:n,children:a.jsx(rv,{role:"menuitemcheckbox","aria-checked":gx(n)?"mixed":n,...s,ref:t,"data-state":v_(n),onSelect:Le(s.onSelect,()=>r?.(gx(n)?!0:!n),{checkForDefaultPrevented:!1})})})});lB.displayName=lae;var cB="MenuRadioGroup",[cae,uae]=fc(cB,{value:void 0,onValueChange:()=>{}}),uB=b.forwardRef((e,t)=>{const{value:n,onValueChange:r,...s}=e,i=qn(r);return a.jsx(cae,{scope:e.__scopeMenu,value:n,onValueChange:i,children:a.jsx(x_,{...s,ref:t})})});uB.displayName=cB;var dB="MenuRadioItem",fB=b.forwardRef((e,t)=>{const{value:n,...r}=e,s=uae(dB,e.__scopeMenu),i=n===s.value;return a.jsx(hB,{scope:e.__scopeMenu,checked:i,children:a.jsx(rv,{role:"menuitemradio","aria-checked":i,...r,ref:t,"data-state":v_(i),onSelect:Le(r.onSelect,()=>s.onValueChange?.(n),{checkForDefaultPrevented:!1})})})});fB.displayName=dB;var y_="MenuItemIndicator",[hB,dae]=fc(y_,{checked:!1}),mB=b.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:r,...s}=e,i=dae(y_,n);return a.jsx(jr,{present:r||gx(i.checked)||i.checked===!0,children:a.jsx(Je.span,{...s,ref:t,"data-state":v_(i.checked)})})});mB.displayName=y_;var fae="MenuSeparator",pB=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e;return a.jsx(Je.div,{role:"separator","aria-orientation":"horizontal",...r,ref:t})});pB.displayName=fae;var hae="MenuArrow",gB=b.forwardRef((e,t)=>{const{__scopeMenu:n,...r}=e,s=nv(n);return a.jsx(r_,{...s,...r,ref:t})});gB.displayName=hae;var mae="MenuSub",[BMe,xB]=fc(mae),eh="MenuSubTrigger",yB=b.forwardRef((e,t)=>{const n=hc(eh,e.__scopeMenu),r=Om(eh,e.__scopeMenu),s=xB(eh,e.__scopeMenu),i=p_(eh,e.__scopeMenu),l=b.useRef(null),{pointerGraceTimerRef:u,onPointerGraceIntentChange:d}=i,f={__scopeMenu:e.__scopeMenu},p=b.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return b.useEffect(()=>p,[p]),b.useEffect(()=>{const m=u.current;return()=>{window.clearTimeout(m),d(null)}},[u,d]),a.jsx(h_,{asChild:!0,...f,children:a.jsx(oB,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":jB(n.open),...e,ref:Di(t,s.onTriggerChange),onClick:m=>{e.onClick?.(m),!(e.disabled||m.defaultPrevented)&&(m.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:Le(e.onPointerMove,Ah(m=>{i.onItemEnter(m),!m.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),p()},100))})),onPointerLeave:Le(e.onPointerLeave,Ah(m=>{p();const g=n.content?.getBoundingClientRect();if(g){const v=n.content?.dataset.side,w=v==="right",y=w?-5:5,j=g[w?"left":"right"],_=g[w?"right":"left"];i.onPointerGraceIntentChange({area:[{x:m.clientX+y,y:m.clientY},{x:j,y:g.top},{x:_,y:g.top},{x:_,y:g.bottom},{x:j,y:g.bottom}],side:v}),window.clearTimeout(u.current),u.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(m),m.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:Le(e.onKeyDown,m=>{const g=i.searchRef.current!=="";e.disabled||g&&m.key===" "||Yre[r.dir].includes(m.key)&&(n.onOpenChange(!0),n.content?.focus(),m.preventDefault())})})})});yB.displayName=eh;var vB="MenuSubContent",bB=b.forwardRef((e,t)=>{const n=rB(Ga,e.__scopeMenu),{forceMount:r=n.forceMount,...s}=e,i=hc(Ga,e.__scopeMenu),l=Om(Ga,e.__scopeMenu),u=xB(vB,e.__scopeMenu),d=b.useRef(null),f=wt(t,d);return a.jsx(Sh.Provider,{scope:e.__scopeMenu,children:a.jsx(jr,{present:r||i.open,children:a.jsx(Sh.Slot,{scope:e.__scopeMenu,children:a.jsx(g_,{id:u.contentId,"aria-labelledby":u.triggerId,...s,ref:f,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&d.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:Le(e.onFocusOutside,p=>{p.target!==u.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:Le(e.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:Le(e.onKeyDown,p=>{const m=p.currentTarget.contains(p.target),g=Gre[l.dir].includes(p.key);m&&g&&(i.onOpenChange(!1),u.trigger?.focus(),p.preventDefault())})})})})})});bB.displayName=vB;function jB(e){return e?"open":"closed"}function gx(e){return e==="indeterminate"}function v_(e){return gx(e)?"indeterminate":e?"checked":"unchecked"}function pae(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function gae(e,t){return e.map((n,r)=>e[(t+r)%e.length])}function xae(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=gae(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function yae(e,t){const{x:n,y:r}=e;let s=!1;for(let i=0,l=t.length-1;i<t.length;l=i++){const u=t[i],d=t[l],f=u.x,p=u.y,m=d.x,g=d.y;p>r!=g>r&&n<(m-f)*(r-p)/(g-p)+f&&(s=!s)}return s}function vae(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return yae(n,t)}function Ah(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bae=nB,jae=h_,wae=aB,Nae=sB,Sae=x_,Aae=iB,Cae=rv,_ae=lB,Eae=uB,Oae=fB,Tae=mB,Mae=pB,kae=gB,Pae=yB,Rae=bB,av="DropdownMenu",[Dae]=Fr(av,[eB]),Jr=eB(),[Iae,wB]=Dae(av),NB=e=>{const{__scopeDropdownMenu:t,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:l,modal:u=!0}=e,d=Jr(t),f=b.useRef(null),[p,m]=vs({prop:s,defaultProp:i??!1,onChange:l,caller:av});return a.jsx(Iae,{scope:t,triggerId:gs(),triggerRef:f,contentId:gs(),open:p,onOpenChange:m,onOpenToggle:b.useCallback(()=>m(g=>!g),[m]),modal:u,children:a.jsx(bae,{...d,open:p,onOpenChange:m,dir:r,modal:u,children:n})})};NB.displayName=av;var SB="DropdownMenuTrigger",AB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=e,i=wB(SB,n),l=Jr(n);return a.jsx(jae,{asChild:!0,...l,children:a.jsx(Je.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Di(t,i.triggerRef),onPointerDown:Le(e.onPointerDown,u=>{!r&&u.button===0&&u.ctrlKey===!1&&(i.onOpenToggle(),i.open||u.preventDefault())}),onKeyDown:Le(e.onKeyDown,u=>{r||(["Enter"," "].includes(u.key)&&i.onOpenToggle(),u.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(u.key)&&u.preventDefault())})})})});AB.displayName=SB;var Lae="DropdownMenuPortal",CB=e=>{const{__scopeDropdownMenu:t,...n}=e,r=Jr(t);return a.jsx(wae,{...r,...n})};CB.displayName=Lae;var _B="DropdownMenuContent",EB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=wB(_B,n),i=Jr(n),l=b.useRef(!1);return a.jsx(Nae,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:t,onCloseAutoFocus:Le(e.onCloseAutoFocus,u=>{l.current||s.triggerRef.current?.focus(),l.current=!1,u.preventDefault()}),onInteractOutside:Le(e.onInteractOutside,u=>{const d=u.detail.originalEvent,f=d.button===0&&d.ctrlKey===!0,p=d.button===2||f;(!s.modal||p)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});EB.displayName=_B;var $ae="DropdownMenuGroup",qae=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Sae,{...s,...r,ref:t})});qae.displayName=$ae;var zae="DropdownMenuLabel",OB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Aae,{...s,...r,ref:t})});OB.displayName=zae;var Bae="DropdownMenuItem",TB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Cae,{...s,...r,ref:t})});TB.displayName=Bae;var Fae="DropdownMenuCheckboxItem",MB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(_ae,{...s,...r,ref:t})});MB.displayName=Fae;var Uae="DropdownMenuRadioGroup",Hae=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Eae,{...s,...r,ref:t})});Hae.displayName=Uae;var Vae="DropdownMenuRadioItem",kB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Oae,{...s,...r,ref:t})});kB.displayName=Vae;var Kae="DropdownMenuItemIndicator",PB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Tae,{...s,...r,ref:t})});PB.displayName=Kae;var Wae="DropdownMenuSeparator",RB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Mae,{...s,...r,ref:t})});RB.displayName=Wae;var Yae="DropdownMenuArrow",Gae=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(kae,{...s,...r,ref:t})});Gae.displayName=Yae;var Xae="DropdownMenuSubTrigger",DB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Pae,{...s,...r,ref:t})});DB.displayName=Xae;var Qae="DropdownMenuSubContent",IB=b.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...r}=e,s=Jr(n);return a.jsx(Rae,{...s,...r,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});IB.displayName=Qae;var Zae=NB,Jae=AB,ese=CB,LB=EB,$B=OB,qB=TB,zB=MB,BB=kB,FB=PB,UB=RB,HB=DB,VB=IB;const Vo=Zae,Ko=Jae,tse=b.forwardRef(({className:e,inset:t,children:n,...r},s)=>a.jsxs(HB,{ref:s,className:Fe("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...r,children:[n,a.jsx(IC,{className:"ml-auto"})]}));tse.displayName=HB.displayName;const nse=b.forwardRef(({className:e,...t},n)=>a.jsx(VB,{ref:n,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));nse.displayName=VB.displayName;const Ii=b.forwardRef(({className:e,sideOffset:t=4,...n},r)=>a.jsx(ese,{children:a.jsx(LB,{ref:r,sideOffset:t,className:Fe("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));Ii.displayName=LB.displayName;const Rn=b.forwardRef(({className:e,inset:t,...n},r)=>a.jsx(qB,{ref:r,className:Fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",t&&"pl-8",e),...n}));Rn.displayName=qB.displayName;const rse=b.forwardRef(({className:e,children:t,checked:n,...r},s)=>a.jsxs(zB,{ref:s,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(FB,{children:a.jsx(jm,{className:"h-4 w-4"})})}),t]}));rse.displayName=zB.displayName;const ase=b.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(BB,{ref:r,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(FB,{children:a.jsx(qQ,{className:"h-2 w-2 fill-current"})})}),t]}));ase.displayName=BB.displayName;const KB=b.forwardRef(({className:e,inset:t,...n},r)=>a.jsx($B,{ref:r,className:Fe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));KB.displayName=$B.displayName;const RA=b.forwardRef(({className:e,...t},n)=>a.jsx(UB,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));RA.displayName=UB.displayName;function sse(e){const t=ise(e),n=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),d=u.find(lse);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function ise(e){const t=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const l=use(s),u=cse(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Di(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ose=Symbol("radix.slottable");function lse(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ose}function cse(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function use(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var sv="Dialog",[WB,YB]=Fr(sv),[dse,Ns]=WB(sv),GB=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:l=!0}=e,u=b.useRef(null),d=b.useRef(null),[f,p]=vs({prop:r,defaultProp:s??!1,onChange:i,caller:sv});return a.jsx(dse,{scope:t,triggerRef:u,contentRef:d,contentId:gs(),titleId:gs(),descriptionId:gs(),open:f,onOpenChange:p,onOpenToggle:b.useCallback(()=>p(m=>!m),[p]),modal:l,children:n})};GB.displayName=sv;var XB="DialogTrigger",QB=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ns(XB,n),i=wt(t,s.triggerRef);return a.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":w_(s.open),...r,ref:i,onClick:Le(e.onClick,s.onOpenToggle)})});QB.displayName=XB;var b_="DialogPortal",[fse,ZB]=WB(b_,{forceMount:void 0}),JB=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,i=Ns(b_,t);return a.jsx(fse,{scope:t,forceMount:n,children:b.Children.map(r,l=>a.jsx(jr,{present:n||i.open,children:a.jsx(jd,{asChild:!0,container:s,children:l})}))})};JB.displayName=b_;var xx="DialogOverlay",eF=b.forwardRef((e,t)=>{const n=ZB(xx,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ns(xx,e.__scopeDialog);return i.modal?a.jsx(jr,{present:r||i.open,children:a.jsx(mse,{...s,ref:t})}):null});eF.displayName=xx;var hse=sse("DialogOverlay.RemoveScroll"),mse=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ns(xx,n);return a.jsx(tv,{as:hse,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Je.div,{"data-state":w_(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Vl="DialogContent",tF=b.forwardRef((e,t)=>{const n=ZB(Vl,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,i=Ns(Vl,e.__scopeDialog);return a.jsx(jr,{present:r||i.open,children:i.modal?a.jsx(pse,{...s,ref:t}):a.jsx(gse,{...s,ref:t})})});tF.displayName=Vl;var pse=b.forwardRef((e,t)=>{const n=Ns(Vl,e.__scopeDialog),r=b.useRef(null),s=wt(t,n.contentRef,r);return b.useEffect(()=>{const i=r.current;if(i)return f_(i)},[]),a.jsx(nF,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Le(e.onCloseAutoFocus,i=>{i.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:Le(e.onPointerDownOutside,i=>{const l=i.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&i.preventDefault()}),onFocusOutside:Le(e.onFocusOutside,i=>i.preventDefault())})}),gse=b.forwardRef((e,t)=>{const n=Ns(Vl,e.__scopeDialog),r=b.useRef(!1),s=b.useRef(!1);return a.jsx(nF,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{e.onCloseAutoFocus?.(i),i.defaultPrevented||(r.current||n.triggerRef.current?.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{e.onInteractOutside?.(i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=i.target;n.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),nF=b.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...l}=e,u=Ns(Vl,n),d=b.useRef(null),f=wt(t,d);return d_(),a.jsxs(a.Fragment,{children:[a.jsx(Jy,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(bd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":w_(u.open),...l,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(yse,{titleId:u.titleId}),a.jsx(bse,{contentRef:d,descriptionId:u.descriptionId})]})]})}),j_="DialogTitle",rF=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ns(j_,n);return a.jsx(Je.h2,{id:s.titleId,...r,ref:t})});rF.displayName=j_;var aF="DialogDescription",sF=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ns(aF,n);return a.jsx(Je.p,{id:s.descriptionId,...r,ref:t})});sF.displayName=aF;var iF="DialogClose",oF=b.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Ns(iF,n);return a.jsx(Je.button,{type:"button",...r,ref:t,onClick:Le(e.onClick,()=>s.onOpenChange(!1))})});oF.displayName=iF;function w_(e){return e?"open":"closed"}var lF="DialogTitleWarning",[xse,cF]=iX(lF,{contentName:Vl,titleName:j_,docsSlug:"dialog"}),yse=({titleId:e})=>{const t=cF(lF),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return b.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},vse="DialogDescriptionWarning",bse=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cF(vse).contentName}}.`;return b.useEffect(()=>{const s=e.current?.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},N_=GB,S_=QB,A_=JB,Tm=eF,Mm=tF,km=rF,Pm=sF,iv=oF;const jse=N_,wse=S_,Nse=A_,uF=b.forwardRef(({className:e,...t},n)=>a.jsx(Tm,{className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));uF.displayName=Tm.displayName;const Sse=wd("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),dF=b.forwardRef(({side:e="right",className:t,children:n,...r},s)=>a.jsxs(Nse,{children:[a.jsx(uF,{}),a.jsxs(Mm,{ref:s,className:Fe(Sse({side:e}),t),...r,children:[a.jsxs(iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[a.jsx(Ho,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]}),n]})]}));dF.displayName=Mm.displayName;const Ase=b.forwardRef(({className:e,...t},n)=>a.jsx(km,{ref:n,className:Fe("text-lg font-semibold text-foreground",e),...t}));Ase.displayName=km.displayName;const Cse=b.forwardRef(({className:e,...t},n)=>a.jsx(Pm,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));Cse.displayName=Pm.displayName;var ov="Collapsible",[_se]=Fr(ov),[Ese,C_]=_se(ov),fF=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:l,...u}=e,[d,f]=vs({prop:r,defaultProp:s??!1,onChange:l,caller:ov});return a.jsx(Ese,{scope:n,disabled:i,contentId:gs(),open:d,onOpenToggle:b.useCallback(()=>f(p=>!p),[f]),children:a.jsx(Je.div,{"data-state":E_(d),"data-disabled":i?"":void 0,...u,ref:t})})});fF.displayName=ov;var hF="CollapsibleTrigger",mF=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,s=C_(hF,n);return a.jsx(Je.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":E_(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:t,onClick:Le(e.onClick,s.onOpenToggle)})});mF.displayName=hF;var __="CollapsibleContent",pF=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=C_(__,e.__scopeCollapsible);return a.jsx(jr,{present:n||s.open,children:({present:i})=>a.jsx(Ose,{...r,ref:t,present:i})})});pF.displayName=__;var Ose=b.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=e,l=C_(__,n),[u,d]=b.useState(r),f=b.useRef(null),p=wt(t,f),m=b.useRef(0),g=m.current,v=b.useRef(0),w=v.current,y=l.open||u,j=b.useRef(y),_=b.useRef(void 0);return b.useEffect(()=>{const C=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(C)},[]),Fn(()=>{const C=f.current;if(C){_.current=_.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const N=C.getBoundingClientRect();m.current=N.height,v.current=N.width,j.current||(C.style.transitionDuration=_.current.transitionDuration,C.style.animationName=_.current.animationName),d(r)}},[l.open,r]),a.jsx(Je.div,{"data-state":E_(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!y,...i,ref:p,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":w?`${w}px`:void 0,...e.style},children:y&&s})});function E_(e){return e?"open":"closed"}var Tse=fF;const Mse=Tse,kse=mF,Pse=pF;function pt({children:e}){const[t,n]=cc(),[r,s]=b.useState(!1),{user:i,logout:l}=Am(),u=()=>{l(),n("/login")},{data:d=0}=Ve({queryKey:["/api/chats","window-unread-count"],queryFn:async()=>{const y=await fetch("/api/chats");if(!y.ok)return 0;const j=await y.json(),_=new Date;let C=0;for(const N of j)if(!(N.unreadCount<=0)&&N.lastInboundMessageTime){const S=new Date(N.lastInboundMessageTime);(_.getTime()-S.getTime())/(1e3*60*60)<=24&&(C+=N.unreadCount)}return C},refetchInterval:1e4}),f=[{icon:ox,label:"Dashboard",href:"/",pageId:"dashboard"},{icon:Kt,label:"24-Hour Window",href:"/inbox/window",pageId:"window-inbox",badge:d>0?d:void 0},{icon:an,label:"Inbox",href:"/inbox",pageId:"inbox"},{icon:mq,label:"Campaigns",href:"/campaigns",pageId:"broadcast",subItems:[{label:"Broadcasts",href:"/campaigns/broadcast"},{label:"Selected Contacts",href:"/campaigns/selected-contacts"},{label:"Schedule Messages",href:"/campaigns/schedule"},{label:"Single Message",href:"/campaigns/single"},{label:"Reports",href:"/campaigns/report"}]},{icon:fq,label:"Automation",href:"/automation",pageId:"auto-reply",subItems:[{label:"Builder",href:"/automation"},{label:"Auto Leads",href:"/automation/leads"},{label:"Follow-up",href:"/automation/follow-up"},{label:"Drip Campaign",href:"/automation/drip"},{label:"New Lead Alert",href:"/automation/new-leads"}]},{icon:yZ,label:"Connect Apps",href:"/apps/connect",pageId:"flow-builder"},{icon:vr,label:"Templates",href:"/templates",pageId:"templates",subItems:[{label:"Add Template",href:"/templates/add"},{label:"Template Status",href:"/templates/status"},{label:"Manage Templates",href:"/templates/manage"}]},{icon:kt,label:"AI Agent",href:"/ai",pageId:"ai-agents",subItems:[{label:"All Agents",href:"/ai/agents"},{label:"New Agent",href:"/ai/new"},{label:"Pre-filled Text",href:"/ai/prefilled"},{label:"AI Reports",href:"/ai/reports"}]},{icon:wm,label:"Facebook",href:"/facebook",pageId:"facebook-leads",subItems:[{label:"Lead Forms",href:"/facebook/forms"},{label:"Leads",href:"/facebook/leads"}]},{icon:bm,label:"Reports",href:"/reports",pageId:"reports-campaign",subItems:[{label:"Delivery Report",href:"/reports/delivery"},{label:"Broadcast Report",href:"/reports/broadcast"},{label:"Campaign Perf.",href:"/reports/campaigns"},{label:"Replies",href:"/reports/replies"},{label:"Agent Perf.",href:"/reports/agents"},{label:"Contact Analytics",href:"/reports/contacts"},{label:"Lead Assignments",href:"/reports/lead-assignments"},{label:"User Activity",href:"/reports/user-activity"},{label:"Blocked Contacts",href:"/reports/blocked"},{label:"Spending",href:"/reports/spending"},{label:"User Engagement",href:"/reports/user-engagement"},{label:"Credits",href:"/reports/credits"}]},{icon:zn,label:"Contacts",href:"/contacts",pageId:"contacts"},{icon:jA,label:"Settings",href:"/settings",pageId:"settings",subItems:[{label:"Team Members",href:"/settings/team"},{label:"Permissions",href:"/settings/permissions"},{label:"WhatsApp Number",href:"/settings/whatsapp"},{label:"Profile Details",href:"/settings/profile"},{label:"Webhook & API",href:"/settings/api"},{label:"Billing & Credits",href:"/settings/billing"}]},{icon:Uy,label:"User Management",href:"/user-management",pageId:"user-management",adminOnly:!0}],p=i?.pageAccess&&i.pageAccess.length>0,m=i?.role==="super_admin"||i?.role==="sub_admin",g=f.filter(y=>p?y.adminOnly&&!m?!1:y.pageId?i?.pageAccess?.includes(y.pageId)??!1:!0:!0),v=({item:y})=>{const j=t===y.href||y.subItems&&y.subItems.some(N=>t===N.href),[_,C]=b.useState(j);return y.subItems?a.jsxs(Mse,{open:_,onOpenChange:C,className:"space-y-1",children:[a.jsx(kse,{asChild:!0,children:a.jsxs("div",{className:`
                flex items-center justify-between px-3 py-2.5 rounded-md text-sm font-medium transition-colors cursor-pointer select-none
                ${j?"bg-sidebar-accent/50 text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/30 hover:text-sidebar-foreground"}
              `,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(y.icon,{className:"h-4 w-4"}),y.label]}),_?a.jsx(qy,{className:"h-3 w-3 opacity-50"}):a.jsx(IC,{className:"h-3 w-3 opacity-50"})]})}),a.jsx(Pse,{className:"pl-9 space-y-1 animate-in slide-in-from-top-2 duration-200",children:y.subItems.map(N=>a.jsx(rP,{href:N.href,children:a.jsx("div",{className:`
                    block px-3 py-2 rounded-md text-xs font-medium transition-colors cursor-pointer
                    ${t===N.href?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/60 hover:bg-sidebar-accent/30 hover:text-sidebar-foreground"}
                  `,children:N.label})},N.href))})]}):a.jsx(rP,{href:y.href,children:a.jsxs("div",{className:`
            flex items-center justify-between px-3 py-2.5 rounded-md text-sm font-medium transition-colors cursor-pointer
            ${j?"bg-sidebar-accent text-sidebar-accent-foreground":"text-sidebar-foreground/70 hover:bg-sidebar-accent/50 hover:text-sidebar-foreground"}
          `,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(y.icon,{className:"h-4 w-4"}),y.label]}),y.badge&&a.jsx(ke,{className:"bg-red-500 hover:bg-red-600 text-white text-xs px-1.5 py-0.5 min-w-[20px] text-center",children:y.badge>99?"99+":y.badge})]})})},w=()=>a.jsxs("div",{className:"flex flex-col h-screen",children:[a.jsxs("div",{className:"p-6 flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary flex items-center justify-center",children:a.jsx(an,{className:"h-6 w-6 text-primary-foreground"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"font-heading font-bold text-lg leading-none tracking-tight",children:"WhatsApp"}),a.jsx("span",{className:"text-xs text-sidebar-foreground/60",children:"Business API"})]})]}),a.jsx("div",{className:"flex-1 px-3 py-4 space-y-1 overflow-y-auto",children:g.map((y,j)=>a.jsx(v,{item:y},j))}),a.jsx("div",{className:"p-4 border-t border-sidebar-border shrink-0",children:a.jsxs("div",{className:"p-4 rounded-lg bg-sidebar-accent/50",children:[a.jsx("h4",{className:"text-sm font-medium text-sidebar-foreground mb-1",children:"Need Help?"}),a.jsx("p",{className:"text-xs text-sidebar-foreground/60 mb-3",children:"Check our documentation for guides."}),a.jsx(ee,{size:"sm",variant:"secondary",className:"w-full text-xs",children:"Documentation"})]})})]});return a.jsxs("div",{className:"min-h-screen bg-gray-50/50 flex",children:[a.jsx("div",{className:"hidden md:block w-64 bg-sidebar border-r border-sidebar-border text-sidebar-foreground shrink-0",children:a.jsx(w,{})}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 h-screen overflow-hidden",children:[a.jsxs("header",{className:"h-16 border-b border-border bg-background px-6 flex items-center justify-between shrink-0 sticky top-0 z-10",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(jse,{open:r,onOpenChange:s,children:[a.jsx(wse,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",className:"md:hidden",children:a.jsx(MZ,{className:"h-5 w-5"})})}),a.jsx(dF,{side:"left",className:"p-0 w-64 bg-sidebar border-r border-sidebar-border text-sidebar-foreground",children:a.jsx(w,{})})]}),a.jsxs("div",{className:"relative hidden sm:block w-96",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search messages, contacts, campaigns...",className:"pl-9 bg-secondary/50 border-none focus-visible:ring-1"})]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(ee,{variant:"ghost",size:"icon",className:"relative",children:[a.jsx(jQ,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-destructive border-2 border-background"})]}),a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",className:"relative h-9 w-9 rounded-full",children:a.jsxs(Xr,{className:"h-9 w-9 border border-border",children:[a.jsx(u_,{src:"https://github.com/shadcn.png",alt:"@user"}),a.jsx(Qr,{children:"CN"})]})})}),a.jsxs(Ii,{className:"w-56 bg-white",align:"end",forceMount:!0,children:[a.jsx(KB,{className:"font-normal bg-white",children:a.jsxs("div",{className:"flex flex-col space-y-1",children:[a.jsx("p",{className:"text-sm font-medium leading-none",children:"WhatsApp Admin"}),a.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:i?.email||"admin@whatsapp.com"})]})}),a.jsx(RA,{}),a.jsxs(Rn,{children:[a.jsx(zn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Team Members"})]}),a.jsxs(Rn,{children:[a.jsx(jA,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Settings"})]}),a.jsx(RA,{}),a.jsxs(Rn,{onClick:u,className:"text-destructive focus:text-destructive cursor-pointer",children:[a.jsx(NZ,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Log out"})]})]})]})]})]}),a.jsx("main",{className:"flex-1 overflow-auto p-6",children:e})]})]})}function xi({title:e,value:t,description:n,icon:r,trend:s,className:i}){return a.jsxs(te,{className:i,children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:e}),a.jsx(r,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:t}),(n||s)&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[s&&a.jsxs("span",{className:s.value>0?"text-emerald-600 font-medium":"text-destructive font-medium",children:[s.value>0?"+":"",s.value,"%"]}),s&&a.jsx("span",{className:"text-muted-foreground/60",children:s.label}),!s&&n]})]})]})}var Gj,n4;function ua(){if(n4)return Gj;n4=1;var e=Array.isArray;return Gj=e,Gj}var Xj,r4;function gF(){if(r4)return Xj;r4=1;var e=typeof pg=="object"&&pg&&pg.Object===Object&&pg;return Xj=e,Xj}var Qj,a4;function Hs(){if(a4)return Qj;a4=1;var e=gF(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Qj=n,Qj}var Zj,s4;function Rm(){if(s4)return Zj;s4=1;var e=Hs(),t=e.Symbol;return Zj=t,Zj}var Jj,i4;function Rse(){if(i4)return Jj;i4=1;var e=Rm(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,s=e?e.toStringTag:void 0;function i(l){var u=n.call(l,s),d=l[s];try{l[s]=void 0;var f=!0}catch{}var p=r.call(l);return f&&(u?l[s]=d:delete l[s]),p}return Jj=i,Jj}var ew,o4;function Dse(){if(o4)return ew;o4=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return ew=n,ew}var tw,l4;function Li(){if(l4)return tw;l4=1;var e=Rm(),t=Rse(),n=Dse(),r="[object Null]",s="[object Undefined]",i=e?e.toStringTag:void 0;function l(u){return u==null?u===void 0?s:r:i&&i in Object(u)?t(u):n(u)}return tw=l,tw}var nw,c4;function $i(){if(c4)return nw;c4=1;function e(t){return t!=null&&typeof t=="object"}return nw=e,nw}var rw,u4;function Od(){if(u4)return rw;u4=1;var e=Li(),t=$i(),n="[object Symbol]";function r(s){return typeof s=="symbol"||t(s)&&e(s)==n}return rw=r,rw}var aw,d4;function O_(){if(d4)return aw;d4=1;var e=ua(),t=Od(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(i,l){if(e(i))return!1;var u=typeof i;return u=="number"||u=="symbol"||u=="boolean"||i==null||t(i)?!0:r.test(i)||!n.test(i)||l!=null&&i in Object(l)}return aw=s,aw}var sw,f4;function Wo(){if(f4)return sw;f4=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return sw=e,sw}var iw,h4;function T_(){if(h4)return iw;h4=1;var e=Li(),t=Wo(),n="[object AsyncFunction]",r="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function l(u){if(!t(u))return!1;var d=e(u);return d==r||d==s||d==n||d==i}return iw=l,iw}var ow,m4;function Ise(){if(m4)return ow;m4=1;var e=Hs(),t=e["__core-js_shared__"];return ow=t,ow}var lw,p4;function Lse(){if(p4)return lw;p4=1;var e=Ise(),t=(function(){var r=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""})();function n(r){return!!t&&t in r}return lw=n,lw}var cw,g4;function xF(){if(g4)return cw;g4=1;var e=Function.prototype,t=e.toString;function n(r){if(r!=null){try{return t.call(r)}catch{}try{return r+""}catch{}}return""}return cw=n,cw}var uw,x4;function $se(){if(x4)return uw;x4=1;var e=T_(),t=Lse(),n=Wo(),r=xF(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,d=l.toString,f=u.hasOwnProperty,p=RegExp("^"+d.call(f).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!n(g)||t(g))return!1;var v=e(g)?p:i;return v.test(r(g))}return uw=m,uw}var dw,y4;function qse(){if(y4)return dw;y4=1;function e(t,n){return t?.[n]}return dw=e,dw}var fw,v4;function mc(){if(v4)return fw;v4=1;var e=$se(),t=qse();function n(r,s){var i=t(r,s);return e(i)?i:void 0}return fw=n,fw}var hw,b4;function lv(){if(b4)return hw;b4=1;var e=mc(),t=e(Object,"create");return hw=t,hw}var mw,j4;function zse(){if(j4)return mw;j4=1;var e=lv();function t(){this.__data__=e?e(null):{},this.size=0}return mw=t,mw}var pw,w4;function Bse(){if(w4)return pw;w4=1;function e(t){var n=this.has(t)&&delete this.__data__[t];return this.size-=n?1:0,n}return pw=e,pw}var gw,N4;function Fse(){if(N4)return gw;N4=1;var e=lv(),t="__lodash_hash_undefined__",n=Object.prototype,r=n.hasOwnProperty;function s(i){var l=this.__data__;if(e){var u=l[i];return u===t?void 0:u}return r.call(l,i)?l[i]:void 0}return gw=s,gw}var xw,S4;function Use(){if(S4)return xw;S4=1;var e=lv(),t=Object.prototype,n=t.hasOwnProperty;function r(s){var i=this.__data__;return e?i[s]!==void 0:n.call(i,s)}return xw=r,xw}var yw,A4;function Hse(){if(A4)return yw;A4=1;var e=lv(),t="__lodash_hash_undefined__";function n(r,s){var i=this.__data__;return this.size+=this.has(r)?0:1,i[r]=e&&s===void 0?t:s,this}return yw=n,yw}var vw,C4;function Vse(){if(C4)return vw;C4=1;var e=zse(),t=Bse(),n=Fse(),r=Use(),s=Hse();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,vw=i,vw}var bw,_4;function Kse(){if(_4)return bw;_4=1;function e(){this.__data__=[],this.size=0}return bw=e,bw}var jw,E4;function M_(){if(E4)return jw;E4=1;function e(t,n){return t===n||t!==t&&n!==n}return jw=e,jw}var ww,O4;function cv(){if(O4)return ww;O4=1;var e=M_();function t(n,r){for(var s=n.length;s--;)if(e(n[s][0],r))return s;return-1}return ww=t,ww}var Nw,T4;function Wse(){if(T4)return Nw;T4=1;var e=cv(),t=Array.prototype,n=t.splice;function r(s){var i=this.__data__,l=e(i,s);if(l<0)return!1;var u=i.length-1;return l==u?i.pop():n.call(i,l,1),--this.size,!0}return Nw=r,Nw}var Sw,M4;function Yse(){if(M4)return Sw;M4=1;var e=cv();function t(n){var r=this.__data__,s=e(r,n);return s<0?void 0:r[s][1]}return Sw=t,Sw}var Aw,k4;function Gse(){if(k4)return Aw;k4=1;var e=cv();function t(n){return e(this.__data__,n)>-1}return Aw=t,Aw}var Cw,P4;function Xse(){if(P4)return Cw;P4=1;var e=cv();function t(n,r){var s=this.__data__,i=e(s,n);return i<0?(++this.size,s.push([n,r])):s[i][1]=r,this}return Cw=t,Cw}var _w,R4;function uv(){if(R4)return _w;R4=1;var e=Kse(),t=Wse(),n=Yse(),r=Gse(),s=Xse();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,_w=i,_w}var Ew,D4;function k_(){if(D4)return Ew;D4=1;var e=mc(),t=Hs(),n=e(t,"Map");return Ew=n,Ew}var Ow,I4;function Qse(){if(I4)return Ow;I4=1;var e=Vse(),t=uv(),n=k_();function r(){this.size=0,this.__data__={hash:new e,map:new(n||t),string:new e}}return Ow=r,Ow}var Tw,L4;function Zse(){if(L4)return Tw;L4=1;function e(t){var n=typeof t;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?t!=="__proto__":t===null}return Tw=e,Tw}var Mw,$4;function dv(){if($4)return Mw;$4=1;var e=Zse();function t(n,r){var s=n.__data__;return e(r)?s[typeof r=="string"?"string":"hash"]:s.map}return Mw=t,Mw}var kw,q4;function Jse(){if(q4)return kw;q4=1;var e=dv();function t(n){var r=e(this,n).delete(n);return this.size-=r?1:0,r}return kw=t,kw}var Pw,z4;function eie(){if(z4)return Pw;z4=1;var e=dv();function t(n){return e(this,n).get(n)}return Pw=t,Pw}var Rw,B4;function tie(){if(B4)return Rw;B4=1;var e=dv();function t(n){return e(this,n).has(n)}return Rw=t,Rw}var Dw,F4;function nie(){if(F4)return Dw;F4=1;var e=dv();function t(n,r){var s=e(this,n),i=s.size;return s.set(n,r),this.size+=s.size==i?0:1,this}return Dw=t,Dw}var Iw,U4;function P_(){if(U4)return Iw;U4=1;var e=Qse(),t=Jse(),n=eie(),r=tie(),s=nie();function i(l){var u=-1,d=l==null?0:l.length;for(this.clear();++u<d;){var f=l[u];this.set(f[0],f[1])}}return i.prototype.clear=e,i.prototype.delete=t,i.prototype.get=n,i.prototype.has=r,i.prototype.set=s,Iw=i,Iw}var Lw,H4;function yF(){if(H4)return Lw;H4=1;var e=P_(),t="Expected a function";function n(r,s){if(typeof r!="function"||s!=null&&typeof s!="function")throw new TypeError(t);var i=function(){var l=arguments,u=s?s.apply(this,l):l[0],d=i.cache;if(d.has(u))return d.get(u);var f=r.apply(this,l);return i.cache=d.set(u,f)||d,f};return i.cache=new(n.Cache||e),i}return n.Cache=e,Lw=n,Lw}var $w,V4;function rie(){if(V4)return $w;V4=1;var e=yF(),t=500;function n(r){var s=e(r,function(l){return i.size===t&&i.clear(),l}),i=s.cache;return s}return $w=n,$w}var qw,K4;function aie(){if(K4)return qw;K4=1;var e=rie(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,r=e(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(t,function(l,u,d,f){i.push(d?f.replace(n,"$1"):u||l)}),i});return qw=r,qw}var zw,W4;function R_(){if(W4)return zw;W4=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=Array(s);++r<s;)i[r]=n(t[r],r,t);return i}return zw=e,zw}var Bw,Y4;function sie(){if(Y4)return Bw;Y4=1;var e=Rm(),t=R_(),n=ua(),r=Od(),s=e?e.prototype:void 0,i=s?s.toString:void 0;function l(u){if(typeof u=="string")return u;if(n(u))return t(u,l)+"";if(r(u))return i?i.call(u):"";var d=u+"";return d=="0"&&1/u==-1/0?"-0":d}return Bw=l,Bw}var Fw,G4;function vF(){if(G4)return Fw;G4=1;var e=sie();function t(n){return n==null?"":e(n)}return Fw=t,Fw}var Uw,X4;function bF(){if(X4)return Uw;X4=1;var e=ua(),t=O_(),n=aie(),r=vF();function s(i,l){return e(i)?i:t(i,l)?[i]:n(r(i))}return Uw=s,Uw}var Hw,Q4;function fv(){if(Q4)return Hw;Q4=1;var e=Od();function t(n){if(typeof n=="string"||e(n))return n;var r=n+"";return r=="0"&&1/n==-1/0?"-0":r}return Hw=t,Hw}var Vw,Z4;function D_(){if(Z4)return Vw;Z4=1;var e=bF(),t=fv();function n(r,s){s=e(s,r);for(var i=0,l=s.length;r!=null&&i<l;)r=r[t(s[i++])];return i&&i==l?r:void 0}return Vw=n,Vw}var Kw,J4;function jF(){if(J4)return Kw;J4=1;var e=D_();function t(n,r,s){var i=n==null?void 0:e(n,r);return i===void 0?s:i}return Kw=t,Kw}var iie=jF();const Ca=Wt(iie);var Ww,eR;function oie(){if(eR)return Ww;eR=1;function e(t){return t==null}return Ww=e,Ww}var lie=oie();const xt=Wt(lie);var Yw,tR;function cie(){if(tR)return Yw;tR=1;var e=Li(),t=ua(),n=$i(),r="[object String]";function s(i){return typeof i=="string"||!t(i)&&n(i)&&e(i)==r}return Yw=s,Yw}var uie=cie();const Kl=Wt(uie);var die=T_();const vt=Wt(die);var fie=Wo();const Td=Wt(fie);var Gw={exports:{}},Gt={};var nR;function hie(){if(nR)return Gt;nR=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function y(j){if(typeof j=="object"&&j!==null){var _=j.$$typeof;switch(_){case e:switch(j=j.type,j){case n:case s:case r:case f:case p:return j;default:switch(j=j&&j.$$typeof,j){case u:case l:case d:case g:case m:case i:return j;default:return _}}case t:return _}}}return Gt.ContextConsumer=l,Gt.ContextProvider=i,Gt.Element=e,Gt.ForwardRef=d,Gt.Fragment=n,Gt.Lazy=g,Gt.Memo=m,Gt.Portal=t,Gt.Profiler=s,Gt.StrictMode=r,Gt.Suspense=f,Gt.SuspenseList=p,Gt.isAsyncMode=function(){return!1},Gt.isConcurrentMode=function(){return!1},Gt.isContextConsumer=function(j){return y(j)===l},Gt.isContextProvider=function(j){return y(j)===i},Gt.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},Gt.isForwardRef=function(j){return y(j)===d},Gt.isFragment=function(j){return y(j)===n},Gt.isLazy=function(j){return y(j)===g},Gt.isMemo=function(j){return y(j)===m},Gt.isPortal=function(j){return y(j)===t},Gt.isProfiler=function(j){return y(j)===s},Gt.isStrictMode=function(j){return y(j)===r},Gt.isSuspense=function(j){return y(j)===f},Gt.isSuspenseList=function(j){return y(j)===p},Gt.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===r||j===f||j===p||j===v||typeof j=="object"&&j!==null&&(j.$$typeof===g||j.$$typeof===m||j.$$typeof===i||j.$$typeof===l||j.$$typeof===d||j.$$typeof===w||j.getModuleId!==void 0)},Gt.typeOf=y,Gt}var rR;function mie(){return rR||(rR=1,Gw.exports=hie()),Gw.exports}var pie=mie(),Xw,aR;function wF(){if(aR)return Xw;aR=1;var e=Li(),t=$i(),n="[object Number]";function r(s){return typeof s=="number"||t(s)&&e(s)==n}return Xw=r,Xw}var Qw,sR;function gie(){if(sR)return Qw;sR=1;var e=wF();function t(n){return e(n)&&n!=+n}return Qw=t,Qw}var xie=gie();const Md=Wt(xie);var yie=wF();const vie=Wt(yie);var Vr=function(t){return t===0?0:t>0?1:-1},El=function(t){return Kl(t)&&t.indexOf("%")===t.length-1},Ie=function(t){return vie(t)&&!Md(t)},bie=function(t){return xt(t)},ur=function(t){return Ie(t)||Kl(t)},jie=0,Yo=function(t){var n=++jie;return"".concat(t||"").concat(n)},Kr=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ie(t)&&!Kl(t))return r;var i;if(El(t)){var l=t.indexOf("%");i=n*parseFloat(t.slice(0,l))/100}else i=+t;return Md(i)&&(i=r),s&&i>n&&(i=n),i},_o=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},wie=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},s=0;s<n;s++)if(!r[t[s]])r[t[s]]=!0;else return!0;return!1},Pn=function(t,n){return Ie(t)&&Ie(n)?function(r){return t+r*(n-t)}:function(){return n}};function yx(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):Ca(r,t))===n})}var Nie=function(t){if(!t||!t.length)return null;for(var n=t.length,r=0,s=0,i=0,l=0,u=1/0,d=-1/0,f=0,p=0,m=0;m<n;m++)f=t[m].cx||0,p=t[m].cy||0,r+=f,s+=p,i+=f*p,l+=f*f,u=Math.min(u,f),d=Math.max(d,f);var g=n*l!==r*r?(n*i-r*s)/(n*l-r*r):0;return{xmin:u,xmax:d,a:g,b:(s-g*r)/n}},Sie=function(t,n){return Ie(t)&&Ie(n)?t-n:Kl(t)&&Kl(n)?t.localeCompare(n):t instanceof Date&&n instanceof Date?t.getTime()-n.getTime():String(t).localeCompare(String(n))};function Au(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function DA(e){"@babel/helpers - typeof";return DA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},DA(e)}var Aie=["viewBox","children"],Cie=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],iR=["points","pathLength"],Zw={svg:Aie,polygon:iR,polyline:iR},I_=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vx=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(b.isValidElement(t)&&(r=t.props),!Td(r))return null;var s={};return Object.keys(r).forEach(function(i){I_.includes(i)&&(s[i]=n||function(l){return r[i](r,l)})}),s},_ie=function(t,n,r){return function(s){return t(n,r,s),null}},qo=function(t,n,r){if(!Td(t)||DA(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var l=t[i];I_.includes(i)&&typeof l=="function"&&(s||(s={}),s[i]=_ie(l,n,r))}),s},Eie=["children"],Oie=["children"];function oR(e,t){if(e==null)return{};var n=Tie(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Tie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function IA(e){"@babel/helpers - typeof";return IA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},IA(e)}var lR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},wi=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},cR=null,Jw=null,L_=function e(t){if(t===cR&&Array.isArray(Jw))return Jw;var n=[];return b.Children.forEach(t,function(r){xt(r)||(pie.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),Jw=n,cR=t,n};function Yr(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(s){return wi(s)}):r=[wi(t)],L_(e).forEach(function(s){var i=Ca(s,"type.displayName")||Ca(s,"type.name");r.indexOf(i)!==-1&&n.push(s)}),n}function ba(e,t){var n=Yr(e,t);return n&&n[0]}var uR=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,s=n.height;return!(!Ie(r)||r<=0||!Ie(s)||s<=0)},Mie=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],kie=function(t){return t&&t.type&&Kl(t.type)&&Mie.indexOf(t.type)>=0},NF=function(t){return t&&IA(t)==="object"&&"clipDot"in t},Pie=function(t,n,r,s){var i,l=(i=Zw?.[s])!==null&&i!==void 0?i:[];return n.startsWith("data-")||!vt(t)&&(s&&l.includes(n)||Cie.includes(n))||r&&I_.includes(n)},nt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(b.isValidElement(t)&&(s=t.props),!Td(s))return null;var i={};return Object.keys(s).forEach(function(l){var u;Pie((u=s)===null||u===void 0?void 0:u[l],l,n,r)&&(i[l]=s[l])}),i},LA=function e(t,n){if(t===n)return!0;var r=b.Children.count(t);if(r!==b.Children.count(n))return!1;if(r===0)return!0;if(r===1)return dR(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var s=0;s<r;s++){var i=t[s],l=n[s];if(Array.isArray(i)||Array.isArray(l)){if(!e(i,l))return!1}else if(!dR(i,l))return!1}return!0},dR=function(t,n){if(xt(t)&&xt(n))return!0;if(!xt(t)&&!xt(n)){var r=t.props||{},s=r.children,i=oR(r,Eie),l=n.props||{},u=l.children,d=oR(l,Oie);return s&&u?Au(i,d)&&LA(s,u):!s&&!u?Au(i,d):!1}return!1},fR=function(t,n){var r=[],s={};return L_(t).forEach(function(i,l){if(kie(i))r.push(i);else if(i){var u=wi(i.type),d=n[u]||{},f=d.handler,p=d.once;if(f&&(!p||!s[u])){var m=f(i,u,l);r.push(m),s[u]=!0}}}),r},Rie=function(t){var n=t&&t.type;return n&&lR[n]?lR[n]:null},Die=function(t,n){return L_(n).indexOf(t)},Iie=["children","width","height","viewBox","className","style","title","desc"];function $A(){return $A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$A.apply(this,arguments)}function Lie(e,t){if(e==null)return{};var n=$ie(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $ie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function qA(e){var t=e.children,n=e.width,r=e.height,s=e.viewBox,i=e.className,l=e.style,u=e.title,d=e.desc,f=Lie(e,Iie),p=s||{width:n,height:r,x:0,y:0},m=Nt("recharts-surface",i);return X.createElement("svg",$A({},nt(f,!0,"svg"),{className:m,width:n,height:r,style:l,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height)}),X.createElement("title",null,u),X.createElement("desc",null,d),t)}var qie=["children","className"];function zA(){return zA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zA.apply(this,arguments)}function zie(e,t){if(e==null)return{};var n=Bie(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Bie(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Ct=X.forwardRef(function(e,t){var n=e.children,r=e.className,s=zie(e,qie),i=Nt("recharts-layer",r);return X.createElement("g",zA({className:i},nt(s,!0),{ref:t}),n)}),xs=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i]},e1,hR;function Fie(){if(hR)return e1;hR=1;function e(t,n,r){var s=-1,i=t.length;n<0&&(n=-n>i?0:i+n),r=r>i?i:r,r<0&&(r+=i),i=n>r?0:r-n>>>0,n>>>=0;for(var l=Array(i);++s<i;)l[s]=t[s+n];return l}return e1=e,e1}var t1,mR;function Uie(){if(mR)return t1;mR=1;var e=Fie();function t(n,r,s){var i=n.length;return s=s===void 0?i:s,!r&&s>=i?n:e(n,r,s)}return t1=t,t1}var n1,pR;function SF(){if(pR)return n1;pR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=t+n+r,i="\\ufe0e\\ufe0f",l="\\u200d",u=RegExp("["+l+e+s+i+"]");function d(f){return u.test(f)}return n1=d,n1}var r1,gR;function Hie(){if(gR)return r1;gR=1;function e(t){return t.split("")}return r1=e,r1}var a1,xR;function Vie(){if(xR)return a1;xR=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",n="\\ufe20-\\ufe2f",r="\\u20d0-\\u20ff",s=t+n+r,i="\\ufe0e\\ufe0f",l="["+e+"]",u="["+s+"]",d="\\ud83c[\\udffb-\\udfff]",f="(?:"+u+"|"+d+")",p="[^"+e+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",w=f+"?",y="["+i+"]?",j="(?:"+v+"(?:"+[p,m,g].join("|")+")"+y+w+")*",_=y+w+j,C="(?:"+[p+u+"?",u,m,g,l].join("|")+")",N=RegExp(d+"(?="+d+")|"+C+_,"g");function S(O){return O.match(N)||[]}return a1=S,a1}var s1,yR;function Kie(){if(yR)return s1;yR=1;var e=Hie(),t=SF(),n=Vie();function r(s){return t(s)?n(s):e(s)}return s1=r,s1}var i1,vR;function Wie(){if(vR)return i1;vR=1;var e=Uie(),t=SF(),n=Kie(),r=vF();function s(i){return function(l){l=r(l);var u=t(l)?n(l):void 0,d=u?u[0]:l.charAt(0),f=u?e(u,1).join(""):l.slice(1);return d[i]()+f}}return i1=s,i1}var o1,bR;function Yie(){if(bR)return o1;bR=1;var e=Wie(),t=e("toUpperCase");return o1=t,o1}var Gie=Yie();const hv=Wt(Gie);function gn(e){return function(){return e}}const AF=Math.cos,bx=Math.sin,Ss=Math.sqrt,jx=Math.PI,mv=2*jx,BA=Math.PI,FA=2*BA,wl=1e-6,Xie=FA-wl;function CF(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Qie(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CF;const n=10**t;return function(r){this._+=r[0];for(let s=1,i=r.length;s<i;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class Zie{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CF:Qie(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,i,l){this._append`C${+t},${+n},${+r},${+s},${this._x1=+i},${this._y1=+l}`}arcTo(t,n,r,s,i){if(t=+t,n=+n,r=+r,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let l=this._x1,u=this._y1,d=r-t,f=s-n,p=l-t,m=u-n,g=p*p+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(g>wl)if(!(Math.abs(m*d-f*p)>wl)||!i)this._append`L${this._x1=t},${this._y1=n}`;else{let v=r-l,w=s-u,y=d*d+f*f,j=v*v+w*w,_=Math.sqrt(y),C=Math.sqrt(g),N=i*Math.tan((BA-Math.acos((y+g-j)/(2*_*C)))/2),S=N/C,O=N/_;Math.abs(S-1)>wl&&this._append`L${t+S*p},${n+S*m}`,this._append`A${i},${i},0,0,${+(m*v>p*w)},${this._x1=t+O*d},${this._y1=n+O*f}`}}arc(t,n,r,s,i,l){if(t=+t,n=+n,r=+r,l=!!l,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(s),d=r*Math.sin(s),f=t+u,p=n+d,m=1^l,g=l?s-i:i-s;this._x1===null?this._append`M${f},${p}`:(Math.abs(this._x1-f)>wl||Math.abs(this._y1-p)>wl)&&this._append`L${f},${p}`,r&&(g<0&&(g=g%FA+FA),g>Xie?this._append`A${r},${r},0,1,${m},${t-u},${n-d}A${r},${r},0,1,${m},${this._x1=f},${this._y1=p}`:g>wl&&this._append`A${r},${r},0,${+(g>=BA)},${m},${this._x1=t+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function $_(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new Zie(t)}function q_(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function _F(e){this._context=e}_F.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function pv(e){return new _F(e)}function EF(e){return e[0]}function OF(e){return e[1]}function TF(e,t){var n=gn(!0),r=null,s=pv,i=null,l=$_(u);e=typeof e=="function"?e:e===void 0?EF:gn(e),t=typeof t=="function"?t:t===void 0?OF:gn(t);function u(d){var f,p=(d=q_(d)).length,m,g=!1,v;for(r==null&&(i=s(v=l())),f=0;f<=p;++f)!(f<p&&n(m=d[f],f,d))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+e(m,f,d),+t(m,f,d));if(v)return i=null,v+""||null}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:gn(+d),u):e},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:gn(+d),u):t},u.defined=function(d){return arguments.length?(n=typeof d=="function"?d:gn(!!d),u):n},u.curve=function(d){return arguments.length?(s=d,r!=null&&(i=s(r)),u):s},u.context=function(d){return arguments.length?(d==null?r=i=null:i=s(r=d),u):r},u}function _g(e,t,n){var r=null,s=gn(!0),i=null,l=pv,u=null,d=$_(f);e=typeof e=="function"?e:e===void 0?EF:gn(+e),t=typeof t=="function"?t:gn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?OF:gn(+n);function f(m){var g,v,w,y=(m=q_(m)).length,j,_=!1,C,N=new Array(y),S=new Array(y);for(i==null&&(u=l(C=d())),g=0;g<=y;++g){if(!(g<y&&s(j=m[g],g,m))===_)if(_=!_)v=g,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=g-1;w>=v;--w)u.point(N[w],S[w]);u.lineEnd(),u.areaEnd()}_&&(N[g]=+e(j,g,m),S[g]=+t(j,g,m),u.point(r?+r(j,g,m):N[g],n?+n(j,g,m):S[g]))}if(C)return u=null,C+""||null}function p(){return TF().defined(s).curve(l).context(i)}return f.x=function(m){return arguments.length?(e=typeof m=="function"?m:gn(+m),r=null,f):e},f.x0=function(m){return arguments.length?(e=typeof m=="function"?m:gn(+m),f):e},f.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:gn(+m),f):r},f.y=function(m){return arguments.length?(t=typeof m=="function"?m:gn(+m),n=null,f):t},f.y0=function(m){return arguments.length?(t=typeof m=="function"?m:gn(+m),f):t},f.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:gn(+m),f):n},f.lineX0=f.lineY0=function(){return p().x(e).y(t)},f.lineY1=function(){return p().x(e).y(n)},f.lineX1=function(){return p().x(r).y(t)},f.defined=function(m){return arguments.length?(s=typeof m=="function"?m:gn(!!m),f):s},f.curve=function(m){return arguments.length?(l=m,i!=null&&(u=l(i)),f):l},f.context=function(m){return arguments.length?(m==null?i=u=null:u=l(i=m),f):i},f}class MF{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Jie(e){return new MF(e,!0)}function eoe(e){return new MF(e,!1)}const z_={draw(e,t){const n=Ss(t/jx);e.moveTo(n,0),e.arc(0,0,n,0,mv)}},toe={draw(e,t){const n=Ss(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},kF=Ss(1/3),noe=kF*2,roe={draw(e,t){const n=Ss(t/noe),r=n*kF;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},aoe={draw(e,t){const n=Ss(t),r=-n/2;e.rect(r,r,n,n)}},soe=.8908130915292852,PF=bx(jx/10)/bx(7*jx/10),ioe=bx(mv/10)*PF,ooe=-AF(mv/10)*PF,loe={draw(e,t){const n=Ss(t*soe),r=ioe*n,s=ooe*n;e.moveTo(0,-n),e.lineTo(r,s);for(let i=1;i<5;++i){const l=mv*i/5,u=AF(l),d=bx(l);e.lineTo(d*n,-u*n),e.lineTo(u*r-d*s,d*r+u*s)}e.closePath()}},l1=Ss(3),coe={draw(e,t){const n=-Ss(t/(l1*3));e.moveTo(0,n*2),e.lineTo(-l1*n,-n),e.lineTo(l1*n,-n),e.closePath()}},qa=-.5,za=Ss(3)/2,UA=1/Ss(12),uoe=(UA/2+1)*3,doe={draw(e,t){const n=Ss(t/uoe),r=n/2,s=n*UA,i=r,l=n*UA+n,u=-i,d=l;e.moveTo(r,s),e.lineTo(i,l),e.lineTo(u,d),e.lineTo(qa*r-za*s,za*r+qa*s),e.lineTo(qa*i-za*l,za*i+qa*l),e.lineTo(qa*u-za*d,za*u+qa*d),e.lineTo(qa*r+za*s,qa*s-za*r),e.lineTo(qa*i+za*l,qa*l-za*i),e.lineTo(qa*u+za*d,qa*d-za*u),e.closePath()}};function foe(e,t){let n=null,r=$_(s);e=typeof e=="function"?e:gn(e||z_),t=typeof t=="function"?t:gn(t===void 0?64:+t);function s(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:gn(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:gn(+i),s):t},s.context=function(i){return arguments.length?(n=i??null,s):n},s}function wx(){}function Nx(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function RF(e){this._context=e}RF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Nx(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Nx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function hoe(e){return new RF(e)}function DF(e){this._context=e}DF.prototype={areaStart:wx,areaEnd:wx,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Nx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function moe(e){return new DF(e)}function IF(e){this._context=e}IF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Nx(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function poe(e){return new IF(e)}function LF(e){this._context=e}LF.prototype={areaStart:wx,areaEnd:wx,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function goe(e){return new LF(e)}function jR(e){return e<0?-1:1}function wR(e,t,n){var r=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(r||s<0&&-0),l=(n-e._y1)/(s||r<0&&-0),u=(i*s+l*r)/(r+s);return(jR(i)+jR(l))*Math.min(Math.abs(i),Math.abs(l),.5*Math.abs(u))||0}function NR(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function c1(e,t,n){var r=e._x0,s=e._y0,i=e._x1,l=e._y1,u=(i-r)/3;e._context.bezierCurveTo(r+u,s+u*t,i-u,l-u*n,i,l)}function Sx(e){this._context=e}Sx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:c1(this,this._t0,NR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,c1(this,NR(this,n=wR(this,e,t)),n);break;default:c1(this,this._t0,n=wR(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function $F(e){this._context=new qF(e)}($F.prototype=Object.create(Sx.prototype)).point=function(e,t){Sx.prototype.point.call(this,t,e)};function qF(e){this._context=e}qF.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,i){this._context.bezierCurveTo(t,e,r,n,i,s)}};function xoe(e){return new Sx(e)}function yoe(e){return new $F(e)}function zF(e){this._context=e}zF.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=SR(e),s=SR(t),i=0,l=1;l<n;++i,++l)this._context.bezierCurveTo(r[0][i],s[0][i],r[1][i],s[1][i],e[l],t[l]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function SR(e){var t,n=e.length-1,r,s=new Array(n),i=new Array(n),l=new Array(n);for(s[0]=0,i[0]=2,l[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,i[t]=4,l[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,i[n-1]=7,l[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/i[t-1],i[t]-=r,l[t]-=r*l[t-1];for(s[n-1]=l[n-1]/i[n-1],t=n-2;t>=0;--t)s[t]=(l[t]-s[t+1])/i[t];for(i[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function voe(e){return new zF(e)}function gv(e,t){this._context=e,this._t=t}gv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function boe(e){return new gv(e,.5)}function joe(e){return new gv(e,0)}function woe(e){return new gv(e,1)}function Pu(e,t){if((l=e.length)>1)for(var n=1,r,s,i=e[t[0]],l,u=i.length;n<l;++n)for(s=i,i=e[t[n]],r=0;r<u;++r)i[r][1]+=i[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function HA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function Noe(e,t){return e[t]}function Soe(e){const t=[];return t.key=e,t}function Aoe(){var e=gn([]),t=HA,n=Pu,r=Noe;function s(i){var l=Array.from(e.apply(this,arguments),Soe),u,d=l.length,f=-1,p;for(const m of i)for(u=0,++f;u<d;++u)(l[u][f]=[0,+r(m,l[u].key,f,i)]).data=m;for(u=0,p=q_(t(l));u<d;++u)l[p[u]].index=u;return n(l,p),l}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:gn(Array.from(i)),s):e},s.value=function(i){return arguments.length?(r=typeof i=="function"?i:gn(+i),s):r},s.order=function(i){return arguments.length?(t=i==null?HA:typeof i=="function"?i:gn(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(n=i??Pu,s):n},s}function Coe(e,t){if((r=e.length)>0){for(var n,r,s=0,i=e[0].length,l;s<i;++s){for(l=n=0;n<r;++n)l+=e[n][s][1]||0;if(l)for(n=0;n<r;++n)e[n][s][1]/=l}Pu(e,t)}}function _oe(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,i=r.length;n<i;++n){for(var l=0,u=0;l<s;++l)u+=e[l][n][1]||0;r[n][1]+=r[n][0]=-u/2}Pu(e,t)}}function Eoe(e,t){if(!(!((l=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,i,l;r<i;++r){for(var u=0,d=0,f=0;u<l;++u){for(var p=e[t[u]],m=p[r][1]||0,g=p[r-1][1]||0,v=(m-g)/2,w=0;w<u;++w){var y=e[t[w]],j=y[r][1]||0,_=y[r-1][1]||0;v+=j-_}d+=m,f+=v*m}s[r-1][1]+=s[r-1][0]=n,d&&(n-=f/d)}s[r-1][1]+=s[r-1][0]=n,Pu(e,t)}}function Ch(e){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ch(e)}var Ooe=["type","size","sizeType"];function VA(){return VA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},VA.apply(this,arguments)}function AR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function CR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?AR(Object(n),!0).forEach(function(r){Toe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Toe(e,t,n){return t=Moe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Moe(e){var t=koe(e,"string");return Ch(t)=="symbol"?t:t+""}function koe(e,t){if(Ch(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Poe(e,t){if(e==null)return{};var n=Roe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Roe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var BF={symbolCircle:z_,symbolCross:toe,symbolDiamond:roe,symbolSquare:aoe,symbolStar:loe,symbolTriangle:coe,symbolWye:doe},Doe=Math.PI/180,Ioe=function(t){var n="symbol".concat(hv(t));return BF[n]||z_},Loe=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*Doe;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},$oe=function(t,n){BF["symbol".concat(hv(t))]=n},xv=function(t){var n=t.type,r=n===void 0?"circle":n,s=t.size,i=s===void 0?64:s,l=t.sizeType,u=l===void 0?"area":l,d=Poe(t,Ooe),f=CR(CR({},d),{},{type:r,size:i,sizeType:u}),p=function(){var j=Ioe(r),_=foe().type(j).size(Loe(i,u,r));return _()},m=f.className,g=f.cx,v=f.cy,w=nt(f,!0);return g===+g&&v===+v&&i===+i?X.createElement("path",VA({},w,{className:Nt("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(v,")"),d:p()})):null};xv.registerSymbol=$oe;function Ru(e){"@babel/helpers - typeof";return Ru=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ru(e)}function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KA.apply(this,arguments)}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qoe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_R(Object(n),!0).forEach(function(r){_h(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zoe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Boe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,UF(r.key),r)}}function Foe(e,t,n){return t&&Boe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Uoe(e,t,n){return t=Ax(t),Hoe(e,FF()?Reflect.construct(t,n||[],Ax(e).constructor):t.apply(e,n))}function Hoe(e,t){if(t&&(Ru(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Voe(e)}function Voe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FF=function(){return!!e})()}function Ax(e){return Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ax(e)}function Koe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WA(e,t)}function WA(e,t){return WA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},WA(e,t)}function _h(e,t,n){return t=UF(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UF(e){var t=Woe(e,"string");return Ru(t)=="symbol"?t:t+""}function Woe(e,t){if(Ru(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ru(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ba=32,B_=(function(e){function t(){return zoe(this,t),Uoe(this,t,arguments)}return Koe(t,e),Foe(t,[{key:"renderIcon",value:function(r){var s=this.props.inactiveColor,i=Ba/2,l=Ba/6,u=Ba/3,d=r.inactive?s:r.color;if(r.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:d,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:i,x2:Ba,y2:i,className:"recharts-legend-icon"});if(r.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:d,d:"M0,".concat(i,"h").concat(u,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(2*u,",").concat(i,`
            H`).concat(Ba,"M").concat(2*u,",").concat(i,`
            A`).concat(l,",").concat(l,",0,1,1,").concat(u,",").concat(i),className:"recharts-legend-icon"});if(r.type==="rect")return X.createElement("path",{stroke:"none",fill:d,d:"M0,".concat(Ba/8,"h").concat(Ba,"v").concat(Ba*3/4,"h").concat(-Ba,"z"),className:"recharts-legend-icon"});if(X.isValidElement(r.legendIcon)){var f=qoe({},r);return delete f.legendIcon,X.cloneElement(r.legendIcon,f)}return X.createElement(xv,{fill:d,cx:i,cy:i,size:Ba,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,s=this.props,i=s.payload,l=s.iconSize,u=s.layout,d=s.formatter,f=s.inactiveColor,p={x:0,y:0,width:Ba,height:Ba},m={display:u==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(v,w){var y=v.formatter||d,j=Nt(_h(_h({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",v.inactive));if(v.type==="none")return null;var _=vt(v.value)?null:v.value;xs(!vt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?f:v.color;return X.createElement("li",KA({className:j,style:m,key:"legend-item-".concat(w)},qo(r.props,v,w)),X.createElement(qA,{width:l,height:l,viewBox:p,style:g},r.renderIcon(v)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},y?y(_,v,w):_))})}},{key:"render",value:function(){var r=this.props,s=r.payload,i=r.layout,l=r.align;if(!s||!s.length)return null;var u={padding:0,margin:0,textAlign:i==="horizontal"?l:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:u},this.renderItems())}}])})(b.PureComponent);_h(B_,"displayName","Legend");_h(B_,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var u1,ER;function Yoe(){if(ER)return u1;ER=1;var e=uv();function t(){this.__data__=new e,this.size=0}return u1=t,u1}var d1,OR;function Goe(){if(OR)return d1;OR=1;function e(t){var n=this.__data__,r=n.delete(t);return this.size=n.size,r}return d1=e,d1}var f1,TR;function Xoe(){if(TR)return f1;TR=1;function e(t){return this.__data__.get(t)}return f1=e,f1}var h1,MR;function Qoe(){if(MR)return h1;MR=1;function e(t){return this.__data__.has(t)}return h1=e,h1}var m1,kR;function Zoe(){if(kR)return m1;kR=1;var e=uv(),t=k_(),n=P_(),r=200;function s(i,l){var u=this.__data__;if(u instanceof e){var d=u.__data__;if(!t||d.length<r-1)return d.push([i,l]),this.size=++u.size,this;u=this.__data__=new n(d)}return u.set(i,l),this.size=u.size,this}return m1=s,m1}var p1,PR;function HF(){if(PR)return p1;PR=1;var e=uv(),t=Yoe(),n=Goe(),r=Xoe(),s=Qoe(),i=Zoe();function l(u){var d=this.__data__=new e(u);this.size=d.size}return l.prototype.clear=t,l.prototype.delete=n,l.prototype.get=r,l.prototype.has=s,l.prototype.set=i,p1=l,p1}var g1,RR;function Joe(){if(RR)return g1;RR=1;var e="__lodash_hash_undefined__";function t(n){return this.__data__.set(n,e),this}return g1=t,g1}var x1,DR;function ele(){if(DR)return x1;DR=1;function e(t){return this.__data__.has(t)}return x1=e,x1}var y1,IR;function VF(){if(IR)return y1;IR=1;var e=P_(),t=Joe(),n=ele();function r(s){var i=-1,l=s==null?0:s.length;for(this.__data__=new e;++i<l;)this.add(s[i])}return r.prototype.add=r.prototype.push=t,r.prototype.has=n,y1=r,y1}var v1,LR;function KF(){if(LR)return v1;LR=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(n(t[r],r,t))return!0;return!1}return v1=e,v1}var b1,$R;function WF(){if($R)return b1;$R=1;function e(t,n){return t.has(n)}return b1=e,b1}var j1,qR;function YF(){if(qR)return j1;qR=1;var e=VF(),t=KF(),n=WF(),r=1,s=2;function i(l,u,d,f,p,m){var g=d&r,v=l.length,w=u.length;if(v!=w&&!(g&&w>v))return!1;var y=m.get(l),j=m.get(u);if(y&&j)return y==u&&j==l;var _=-1,C=!0,N=d&s?new e:void 0;for(m.set(l,u),m.set(u,l);++_<v;){var S=l[_],O=u[_];if(f)var M=g?f(O,S,_,u,l,m):f(S,O,_,l,u,m);if(M!==void 0){if(M)continue;C=!1;break}if(N){if(!t(u,function(T,P){if(!n(N,P)&&(S===T||p(S,T,d,f,m)))return N.push(P)})){C=!1;break}}else if(!(S===O||p(S,O,d,f,m))){C=!1;break}}return m.delete(l),m.delete(u),C}return j1=i,j1}var w1,zR;function tle(){if(zR)return w1;zR=1;var e=Hs(),t=e.Uint8Array;return w1=t,w1}var N1,BR;function nle(){if(BR)return N1;BR=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s,i){r[++n]=[i,s]}),r}return N1=e,N1}var S1,FR;function F_(){if(FR)return S1;FR=1;function e(t){var n=-1,r=Array(t.size);return t.forEach(function(s){r[++n]=s}),r}return S1=e,S1}var A1,UR;function rle(){if(UR)return A1;UR=1;var e=Rm(),t=tle(),n=M_(),r=YF(),s=nle(),i=F_(),l=1,u=2,d="[object Boolean]",f="[object Date]",p="[object Error]",m="[object Map]",g="[object Number]",v="[object RegExp]",w="[object Set]",y="[object String]",j="[object Symbol]",_="[object ArrayBuffer]",C="[object DataView]",N=e?e.prototype:void 0,S=N?N.valueOf:void 0;function O(M,T,P,$,K,q,H){switch(P){case C:if(M.byteLength!=T.byteLength||M.byteOffset!=T.byteOffset)return!1;M=M.buffer,T=T.buffer;case _:return!(M.byteLength!=T.byteLength||!q(new t(M),new t(T)));case d:case f:case g:return n(+M,+T);case p:return M.name==T.name&&M.message==T.message;case v:case y:return M==T+"";case m:var B=s;case w:var L=$&l;if(B||(B=i),M.size!=T.size&&!L)return!1;var D=H.get(M);if(D)return D==T;$|=u,H.set(M,T);var k=r(B(M),B(T),$,K,q,H);return H.delete(M),k;case j:if(S)return S.call(M)==S.call(T)}return!1}return A1=O,A1}var C1,HR;function GF(){if(HR)return C1;HR=1;function e(t,n){for(var r=-1,s=n.length,i=t.length;++r<s;)t[i+r]=n[r];return t}return C1=e,C1}var _1,VR;function ale(){if(VR)return _1;VR=1;var e=GF(),t=ua();function n(r,s,i){var l=s(r);return t(r)?l:e(l,i(r))}return _1=n,_1}var E1,KR;function sle(){if(KR)return E1;KR=1;function e(t,n){for(var r=-1,s=t==null?0:t.length,i=0,l=[];++r<s;){var u=t[r];n(u,r,t)&&(l[i++]=u)}return l}return E1=e,E1}var O1,WR;function ile(){if(WR)return O1;WR=1;function e(){return[]}return O1=e,O1}var T1,YR;function ole(){if(YR)return T1;YR=1;var e=sle(),t=ile(),n=Object.prototype,r=n.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(l){return l==null?[]:(l=Object(l),e(s(l),function(u){return r.call(l,u)}))}:t;return T1=i,T1}var M1,GR;function lle(){if(GR)return M1;GR=1;function e(t,n){for(var r=-1,s=Array(t);++r<t;)s[r]=n(r);return s}return M1=e,M1}var k1,XR;function cle(){if(XR)return k1;XR=1;var e=Li(),t=$i(),n="[object Arguments]";function r(s){return t(s)&&e(s)==n}return k1=r,k1}var P1,QR;function U_(){if(QR)return P1;QR=1;var e=cle(),t=$i(),n=Object.prototype,r=n.hasOwnProperty,s=n.propertyIsEnumerable,i=e((function(){return arguments})())?e:function(l){return t(l)&&r.call(l,"callee")&&!s.call(l,"callee")};return P1=i,P1}var th={exports:{}},R1,ZR;function ule(){if(ZR)return R1;ZR=1;function e(){return!1}return R1=e,R1}th.exports;var JR;function XF(){return JR||(JR=1,(function(e,t){var n=Hs(),r=ule(),s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,l=i&&i.exports===s,u=l?n.Buffer:void 0,d=u?u.isBuffer:void 0,f=d||r;e.exports=f})(th,th.exports)),th.exports}var D1,eD;function H_(){if(eD)return D1;eD=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function n(r,s){var i=typeof r;return s=s??e,!!s&&(i=="number"||i!="symbol"&&t.test(r))&&r>-1&&r%1==0&&r<s}return D1=n,D1}var I1,tD;function V_(){if(tD)return I1;tD=1;var e=9007199254740991;function t(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=e}return I1=t,I1}var L1,nD;function dle(){if(nD)return L1;nD=1;var e=Li(),t=V_(),n=$i(),r="[object Arguments]",s="[object Array]",i="[object Boolean]",l="[object Date]",u="[object Error]",d="[object Function]",f="[object Map]",p="[object Number]",m="[object Object]",g="[object RegExp]",v="[object Set]",w="[object String]",y="[object WeakMap]",j="[object ArrayBuffer]",_="[object DataView]",C="[object Float32Array]",N="[object Float64Array]",S="[object Int8Array]",O="[object Int16Array]",M="[object Int32Array]",T="[object Uint8Array]",P="[object Uint8ClampedArray]",$="[object Uint16Array]",K="[object Uint32Array]",q={};q[C]=q[N]=q[S]=q[O]=q[M]=q[T]=q[P]=q[$]=q[K]=!0,q[r]=q[s]=q[j]=q[i]=q[_]=q[l]=q[u]=q[d]=q[f]=q[p]=q[m]=q[g]=q[v]=q[w]=q[y]=!1;function H(B){return n(B)&&t(B.length)&&!!q[e(B)]}return L1=H,L1}var $1,rD;function QF(){if(rD)return $1;rD=1;function e(t){return function(n){return t(n)}}return $1=e,$1}var nh={exports:{}};nh.exports;var aD;function fle(){return aD||(aD=1,(function(e,t){var n=gF(),r=t&&!t.nodeType&&t,s=r&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===r,l=i&&n.process,u=(function(){try{var d=s&&s.require&&s.require("util").types;return d||l&&l.binding&&l.binding("util")}catch{}})();e.exports=u})(nh,nh.exports)),nh.exports}var q1,sD;function ZF(){if(sD)return q1;sD=1;var e=dle(),t=QF(),n=fle(),r=n&&n.isTypedArray,s=r?t(r):e;return q1=s,q1}var z1,iD;function hle(){if(iD)return z1;iD=1;var e=lle(),t=U_(),n=ua(),r=XF(),s=H_(),i=ZF(),l=Object.prototype,u=l.hasOwnProperty;function d(f,p){var m=n(f),g=!m&&t(f),v=!m&&!g&&r(f),w=!m&&!g&&!v&&i(f),y=m||g||v||w,j=y?e(f.length,String):[],_=j.length;for(var C in f)(p||u.call(f,C))&&!(y&&(C=="length"||v&&(C=="offset"||C=="parent")||w&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||s(C,_)))&&j.push(C);return j}return z1=d,z1}var B1,oD;function mle(){if(oD)return B1;oD=1;var e=Object.prototype;function t(n){var r=n&&n.constructor,s=typeof r=="function"&&r.prototype||e;return n===s}return B1=t,B1}var F1,lD;function JF(){if(lD)return F1;lD=1;function e(t,n){return function(r){return t(n(r))}}return F1=e,F1}var U1,cD;function ple(){if(cD)return U1;cD=1;var e=JF(),t=e(Object.keys,Object);return U1=t,U1}var H1,uD;function gle(){if(uD)return H1;uD=1;var e=mle(),t=ple(),n=Object.prototype,r=n.hasOwnProperty;function s(i){if(!e(i))return t(i);var l=[];for(var u in Object(i))r.call(i,u)&&u!="constructor"&&l.push(u);return l}return H1=s,H1}var V1,dD;function Dm(){if(dD)return V1;dD=1;var e=T_(),t=V_();function n(r){return r!=null&&t(r.length)&&!e(r)}return V1=n,V1}var K1,fD;function yv(){if(fD)return K1;fD=1;var e=hle(),t=gle(),n=Dm();function r(s){return n(s)?e(s):t(s)}return K1=r,K1}var W1,hD;function xle(){if(hD)return W1;hD=1;var e=ale(),t=ole(),n=yv();function r(s){return e(s,n,t)}return W1=r,W1}var Y1,mD;function yle(){if(mD)return Y1;mD=1;var e=xle(),t=1,n=Object.prototype,r=n.hasOwnProperty;function s(i,l,u,d,f,p){var m=u&t,g=e(i),v=g.length,w=e(l),y=w.length;if(v!=y&&!m)return!1;for(var j=v;j--;){var _=g[j];if(!(m?_ in l:r.call(l,_)))return!1}var C=p.get(i),N=p.get(l);if(C&&N)return C==l&&N==i;var S=!0;p.set(i,l),p.set(l,i);for(var O=m;++j<v;){_=g[j];var M=i[_],T=l[_];if(d)var P=m?d(T,M,_,l,i,p):d(M,T,_,i,l,p);if(!(P===void 0?M===T||f(M,T,u,d,p):P)){S=!1;break}O||(O=_=="constructor")}if(S&&!O){var $=i.constructor,K=l.constructor;$!=K&&"constructor"in i&&"constructor"in l&&!(typeof $=="function"&&$ instanceof $&&typeof K=="function"&&K instanceof K)&&(S=!1)}return p.delete(i),p.delete(l),S}return Y1=s,Y1}var G1,pD;function vle(){if(pD)return G1;pD=1;var e=mc(),t=Hs(),n=e(t,"DataView");return G1=n,G1}var X1,gD;function ble(){if(gD)return X1;gD=1;var e=mc(),t=Hs(),n=e(t,"Promise");return X1=n,X1}var Q1,xD;function e8(){if(xD)return Q1;xD=1;var e=mc(),t=Hs(),n=e(t,"Set");return Q1=n,Q1}var Z1,yD;function jle(){if(yD)return Z1;yD=1;var e=mc(),t=Hs(),n=e(t,"WeakMap");return Z1=n,Z1}var J1,vD;function wle(){if(vD)return J1;vD=1;var e=vle(),t=k_(),n=ble(),r=e8(),s=jle(),i=Li(),l=xF(),u="[object Map]",d="[object Object]",f="[object Promise]",p="[object Set]",m="[object WeakMap]",g="[object DataView]",v=l(e),w=l(t),y=l(n),j=l(r),_=l(s),C=i;return(e&&C(new e(new ArrayBuffer(1)))!=g||t&&C(new t)!=u||n&&C(n.resolve())!=f||r&&C(new r)!=p||s&&C(new s)!=m)&&(C=function(N){var S=i(N),O=S==d?N.constructor:void 0,M=O?l(O):"";if(M)switch(M){case v:return g;case w:return u;case y:return f;case j:return p;case _:return m}return S}),J1=C,J1}var eN,bD;function Nle(){if(bD)return eN;bD=1;var e=HF(),t=YF(),n=rle(),r=yle(),s=wle(),i=ua(),l=XF(),u=ZF(),d=1,f="[object Arguments]",p="[object Array]",m="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function w(y,j,_,C,N,S){var O=i(y),M=i(j),T=O?p:s(y),P=M?p:s(j);T=T==f?m:T,P=P==f?m:P;var $=T==m,K=P==m,q=T==P;if(q&&l(y)){if(!l(j))return!1;O=!0,$=!1}if(q&&!$)return S||(S=new e),O||u(y)?t(y,j,_,C,N,S):n(y,j,T,_,C,N,S);if(!(_&d)){var H=$&&v.call(y,"__wrapped__"),B=K&&v.call(j,"__wrapped__");if(H||B){var L=H?y.value():y,D=B?j.value():j;return S||(S=new e),N(L,D,_,C,S)}}return q?(S||(S=new e),r(y,j,_,C,N,S)):!1}return eN=w,eN}var tN,jD;function K_(){if(jD)return tN;jD=1;var e=Nle(),t=$i();function n(r,s,i,l,u){return r===s?!0:r==null||s==null||!t(r)&&!t(s)?r!==r&&s!==s:e(r,s,i,l,n,u)}return tN=n,tN}var nN,wD;function Sle(){if(wD)return nN;wD=1;var e=HF(),t=K_(),n=1,r=2;function s(i,l,u,d){var f=u.length,p=f,m=!d;if(i==null)return!p;for(i=Object(i);f--;){var g=u[f];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++f<p;){g=u[f];var v=g[0],w=i[v],y=g[1];if(m&&g[2]){if(w===void 0&&!(v in i))return!1}else{var j=new e;if(d)var _=d(w,y,v,i,l,j);if(!(_===void 0?t(y,w,n|r,d,j):_))return!1}}return!0}return nN=s,nN}var rN,ND;function t8(){if(ND)return rN;ND=1;var e=Wo();function t(n){return n===n&&!e(n)}return rN=t,rN}var aN,SD;function Ale(){if(SD)return aN;SD=1;var e=t8(),t=yv();function n(r){for(var s=t(r),i=s.length;i--;){var l=s[i],u=r[l];s[i]=[l,u,e(u)]}return s}return aN=n,aN}var sN,AD;function n8(){if(AD)return sN;AD=1;function e(t,n){return function(r){return r==null?!1:r[t]===n&&(n!==void 0||t in Object(r))}}return sN=e,sN}var iN,CD;function Cle(){if(CD)return iN;CD=1;var e=Sle(),t=Ale(),n=n8();function r(s){var i=t(s);return i.length==1&&i[0][2]?n(i[0][0],i[0][1]):function(l){return l===s||e(l,s,i)}}return iN=r,iN}var oN,_D;function _le(){if(_D)return oN;_D=1;function e(t,n){return t!=null&&n in Object(t)}return oN=e,oN}var lN,ED;function Ele(){if(ED)return lN;ED=1;var e=bF(),t=U_(),n=ua(),r=H_(),s=V_(),i=fv();function l(u,d,f){d=e(d,u);for(var p=-1,m=d.length,g=!1;++p<m;){var v=i(d[p]);if(!(g=u!=null&&f(u,v)))break;u=u[v]}return g||++p!=m?g:(m=u==null?0:u.length,!!m&&s(m)&&r(v,m)&&(n(u)||t(u)))}return lN=l,lN}var cN,OD;function Ole(){if(OD)return cN;OD=1;var e=_le(),t=Ele();function n(r,s){return r!=null&&t(r,s,e)}return cN=n,cN}var uN,TD;function Tle(){if(TD)return uN;TD=1;var e=K_(),t=jF(),n=Ole(),r=O_(),s=t8(),i=n8(),l=fv(),u=1,d=2;function f(p,m){return r(p)&&s(m)?i(l(p),m):function(g){var v=t(g,p);return v===void 0&&v===m?n(g,p):e(m,v,u|d)}}return uN=f,uN}var dN,MD;function kd(){if(MD)return dN;MD=1;function e(t){return t}return dN=e,dN}var fN,kD;function Mle(){if(kD)return fN;kD=1;function e(t){return function(n){return n?.[t]}}return fN=e,fN}var hN,PD;function kle(){if(PD)return hN;PD=1;var e=D_();function t(n){return function(r){return e(r,n)}}return hN=t,hN}var mN,RD;function Ple(){if(RD)return mN;RD=1;var e=Mle(),t=kle(),n=O_(),r=fv();function s(i){return n(i)?e(r(i)):t(i)}return mN=s,mN}var pN,DD;function Vs(){if(DD)return pN;DD=1;var e=Cle(),t=Tle(),n=kd(),r=ua(),s=Ple();function i(l){return typeof l=="function"?l:l==null?n:typeof l=="object"?r(l)?t(l[0],l[1]):e(l):s(l)}return pN=i,pN}var gN,ID;function r8(){if(ID)return gN;ID=1;function e(t,n,r,s){for(var i=t.length,l=r+(s?1:-1);s?l--:++l<i;)if(n(t[l],l,t))return l;return-1}return gN=e,gN}var xN,LD;function Rle(){if(LD)return xN;LD=1;function e(t){return t!==t}return xN=e,xN}var yN,$D;function Dle(){if($D)return yN;$D=1;function e(t,n,r){for(var s=r-1,i=t.length;++s<i;)if(t[s]===n)return s;return-1}return yN=e,yN}var vN,qD;function Ile(){if(qD)return vN;qD=1;var e=r8(),t=Rle(),n=Dle();function r(s,i,l){return i===i?n(s,i,l):e(s,t,l)}return vN=r,vN}var bN,zD;function Lle(){if(zD)return bN;zD=1;var e=Ile();function t(n,r){var s=n==null?0:n.length;return!!s&&e(n,r,0)>-1}return bN=t,bN}var jN,BD;function $le(){if(BD)return jN;BD=1;function e(t,n,r){for(var s=-1,i=t==null?0:t.length;++s<i;)if(r(n,t[s]))return!0;return!1}return jN=e,jN}var wN,FD;function qle(){if(FD)return wN;FD=1;function e(){}return wN=e,wN}var NN,UD;function zle(){if(UD)return NN;UD=1;var e=e8(),t=qle(),n=F_(),r=1/0,s=e&&1/n(new e([,-0]))[1]==r?function(i){return new e(i)}:t;return NN=s,NN}var SN,HD;function Ble(){if(HD)return SN;HD=1;var e=VF(),t=Lle(),n=$le(),r=WF(),s=zle(),i=F_(),l=200;function u(d,f,p){var m=-1,g=t,v=d.length,w=!0,y=[],j=y;if(p)w=!1,g=n;else if(v>=l){var _=f?null:s(d);if(_)return i(_);w=!1,g=r,j=new e}else j=f?[]:y;e:for(;++m<v;){var C=d[m],N=f?f(C):C;if(C=p||C!==0?C:0,w&&N===N){for(var S=j.length;S--;)if(j[S]===N)continue e;f&&j.push(N),y.push(C)}else g(j,N,p)||(j!==y&&j.push(N),y.push(C))}return y}return SN=u,SN}var AN,VD;function Fle(){if(VD)return AN;VD=1;var e=Vs(),t=Ble();function n(r,s){return r&&r.length?t(r,e(s,2)):[]}return AN=n,AN}var Ule=Fle();const KD=Wt(Ule);function a8(e,t,n){return t===!0?KD(e,n):vt(t)?KD(e,t):e}function Du(e){"@babel/helpers - typeof";return Du=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Du(e)}var Hle=["ref"];function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){vv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vle(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i8(r.key),r)}}function Kle(e,t,n){return t&&YD(e.prototype,t),n&&YD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wle(e,t,n){return t=Cx(t),Yle(e,s8()?Reflect.construct(t,n||[],Cx(e).constructor):t.apply(e,n))}function Yle(e,t){if(t&&(Du(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Gle(e)}function Gle(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s8=function(){return!!e})()}function Cx(e){return Cx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cx(e)}function Xle(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},YA(e,t)}function vv(e,t,n){return t=i8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i8(e){var t=Qle(e,"string");return Du(t)=="symbol"?t:t+""}function Qle(e,t){if(Du(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Du(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Zle(e,t){if(e==null)return{};var n=Jle(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Jle(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ece(e){return e.value}function tce(e,t){if(X.isValidElement(e))return X.cloneElement(e,t);if(typeof e=="function")return X.createElement(e,t);t.ref;var n=Zle(t,Hle);return X.createElement(B_,n)}var GD=1,qr=(function(e){function t(){var n;Vle(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=Wle(this,t,[].concat(s)),vv(n,"lastBoundingBox",{width:-1,height:-1}),n}return Xle(t,e),Kle(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>GD||Math.abs(s.height-this.lastBoundingBox.height)>GD)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,r&&r(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?mi({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var s=this.props,i=s.layout,l=s.align,u=s.verticalAlign,d=s.margin,f=s.chartWidth,p=s.chartHeight,m,g;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(l==="center"&&i==="vertical"){var v=this.getBBoxSnapshot();m={left:((f||0)-v.width)/2}}else m=l==="right"?{right:d&&d.right||0}:{left:d&&d.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(u==="middle"){var w=this.getBBoxSnapshot();g={top:((p||0)-w.height)/2}}else g=u==="bottom"?{bottom:d&&d.bottom||0}:{top:d&&d.top||0};return mi(mi({},m),g)}},{key:"render",value:function(){var r=this,s=this.props,i=s.content,l=s.width,u=s.height,d=s.wrapperStyle,f=s.payloadUniqBy,p=s.payload,m=mi(mi({position:"absolute",width:l||"auto",height:u||"auto"},this.getDefaultPosition(d)),d);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(v){r.wrapperNode=v}},tce(i,mi(mi({},this.props),{},{payload:a8(p,f,ece)})))}}],[{key:"getWithHeight",value:function(r,s){var i=mi(mi({},this.defaultProps),r.props),l=i.layout;return l==="vertical"&&Ie(r.props.height)?{height:r.props.height}:l==="horizontal"?{width:r.props.width||s}:null}}])})(b.PureComponent);vv(qr,"displayName","Legend");vv(qr,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var CN,XD;function nce(){if(XD)return CN;XD=1;var e=Rm(),t=U_(),n=ua(),r=e?e.isConcatSpreadable:void 0;function s(i){return n(i)||t(i)||!!(r&&i&&i[r])}return CN=s,CN}var _N,QD;function o8(){if(QD)return _N;QD=1;var e=GF(),t=nce();function n(r,s,i,l,u){var d=-1,f=r.length;for(i||(i=t),u||(u=[]);++d<f;){var p=r[d];s>0&&i(p)?s>1?n(p,s-1,i,l,u):e(u,p):l||(u[u.length]=p)}return u}return _N=n,_N}var EN,ZD;function rce(){if(ZD)return EN;ZD=1;function e(t){return function(n,r,s){for(var i=-1,l=Object(n),u=s(n),d=u.length;d--;){var f=u[t?d:++i];if(r(l[f],f,l)===!1)break}return n}}return EN=e,EN}var ON,JD;function ace(){if(JD)return ON;JD=1;var e=rce(),t=e();return ON=t,ON}var TN,eI;function l8(){if(eI)return TN;eI=1;var e=ace(),t=yv();function n(r,s){return r&&e(r,s,t)}return TN=n,TN}var MN,tI;function sce(){if(tI)return MN;tI=1;var e=Dm();function t(n,r){return function(s,i){if(s==null)return s;if(!e(s))return n(s,i);for(var l=s.length,u=r?l:-1,d=Object(s);(r?u--:++u<l)&&i(d[u],u,d)!==!1;);return s}}return MN=t,MN}var kN,nI;function W_(){if(nI)return kN;nI=1;var e=l8(),t=sce(),n=t(e);return kN=n,kN}var PN,rI;function c8(){if(rI)return PN;rI=1;var e=W_(),t=Dm();function n(r,s){var i=-1,l=t(r)?Array(r.length):[];return e(r,function(u,d,f){l[++i]=s(u,d,f)}),l}return PN=n,PN}var RN,aI;function ice(){if(aI)return RN;aI=1;function e(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].value;return t}return RN=e,RN}var DN,sI;function oce(){if(sI)return DN;sI=1;var e=Od();function t(n,r){if(n!==r){var s=n!==void 0,i=n===null,l=n===n,u=e(n),d=r!==void 0,f=r===null,p=r===r,m=e(r);if(!f&&!m&&!u&&n>r||u&&d&&p&&!f&&!m||i&&d&&p||!s&&p||!l)return 1;if(!i&&!u&&!m&&n<r||m&&s&&l&&!i&&!u||f&&s&&l||!d&&l||!p)return-1}return 0}return DN=t,DN}var IN,iI;function lce(){if(iI)return IN;iI=1;var e=oce();function t(n,r,s){for(var i=-1,l=n.criteria,u=r.criteria,d=l.length,f=s.length;++i<d;){var p=e(l[i],u[i]);if(p){if(i>=f)return p;var m=s[i];return p*(m=="desc"?-1:1)}}return n.index-r.index}return IN=t,IN}var LN,oI;function cce(){if(oI)return LN;oI=1;var e=R_(),t=D_(),n=Vs(),r=c8(),s=ice(),i=QF(),l=lce(),u=kd(),d=ua();function f(p,m,g){m.length?m=e(m,function(y){return d(y)?function(j){return t(j,y.length===1?y[0]:y)}:y}):m=[u];var v=-1;m=e(m,i(n));var w=r(p,function(y,j,_){var C=e(m,function(N){return N(y)});return{criteria:C,index:++v,value:y}});return s(w,function(y,j){return l(y,j,g)})}return LN=f,LN}var $N,lI;function uce(){if(lI)return $N;lI=1;function e(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}return $N=e,$N}var qN,cI;function dce(){if(cI)return qN;cI=1;var e=uce(),t=Math.max;function n(r,s,i){return s=t(s===void 0?r.length-1:s,0),function(){for(var l=arguments,u=-1,d=t(l.length-s,0),f=Array(d);++u<d;)f[u]=l[s+u];u=-1;for(var p=Array(s+1);++u<s;)p[u]=l[u];return p[s]=i(f),e(r,this,p)}}return qN=n,qN}var zN,uI;function fce(){if(uI)return zN;uI=1;function e(t){return function(){return t}}return zN=e,zN}var BN,dI;function u8(){if(dI)return BN;dI=1;var e=mc(),t=(function(){try{var n=e(Object,"defineProperty");return n({},"",{}),n}catch{}})();return BN=t,BN}var FN,fI;function hce(){if(fI)return FN;fI=1;var e=fce(),t=u8(),n=kd(),r=t?function(s,i){return t(s,"toString",{configurable:!0,enumerable:!1,value:e(i),writable:!0})}:n;return FN=r,FN}var UN,hI;function mce(){if(hI)return UN;hI=1;var e=800,t=16,n=Date.now;function r(s){var i=0,l=0;return function(){var u=n(),d=t-(u-l);if(l=u,d>0){if(++i>=e)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return UN=r,UN}var HN,mI;function pce(){if(mI)return HN;mI=1;var e=hce(),t=mce(),n=t(e);return HN=n,HN}var VN,pI;function gce(){if(pI)return VN;pI=1;var e=kd(),t=dce(),n=pce();function r(s,i){return n(t(s,i,e),s+"")}return VN=r,VN}var KN,gI;function bv(){if(gI)return KN;gI=1;var e=M_(),t=Dm(),n=H_(),r=Wo();function s(i,l,u){if(!r(u))return!1;var d=typeof l;return(d=="number"?t(u)&&n(l,u.length):d=="string"&&l in u)?e(u[l],i):!1}return KN=s,KN}var WN,xI;function xce(){if(xI)return WN;xI=1;var e=o8(),t=cce(),n=gce(),r=bv(),s=n(function(i,l){if(i==null)return[];var u=l.length;return u>1&&r(i,l[0],l[1])?l=[]:u>2&&r(l[0],l[1],l[2])&&(l=[l[0]]),t(i,e(l,1),[])});return WN=s,WN}var yce=xce();const Y_=Wt(yce);function Eh(e){"@babel/helpers - typeof";return Eh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Eh(e)}function GA(){return GA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GA.apply(this,arguments)}function vce(e,t){return Nce(e)||wce(e,t)||jce(e,t)||bce()}function bce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jce(e,t){if(e){if(typeof e=="string")return yI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yI(e,t)}}function yI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wce(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Nce(e){if(Array.isArray(e))return e}function vI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function YN(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vI(Object(n),!0).forEach(function(r){Sce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sce(e,t,n){return t=Ace(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ace(e){var t=Cce(e,"string");return Eh(t)=="symbol"?t:t+""}function Cce(e,t){if(Eh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Eh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ce(e){return Array.isArray(e)&&ur(e[0])&&ur(e[1])?e.join(" ~ "):e}var Ece=function(t){var n=t.separator,r=n===void 0?" : ":n,s=t.contentStyle,i=s===void 0?{}:s,l=t.itemStyle,u=l===void 0?{}:l,d=t.labelStyle,f=d===void 0?{}:d,p=t.payload,m=t.formatter,g=t.itemSorter,v=t.wrapperClassName,w=t.labelClassName,y=t.label,j=t.labelFormatter,_=t.accessibilityLayer,C=_===void 0?!1:_,N=function(){if(p&&p.length){var H={padding:0,margin:0},B=(g?Y_(p,g):p).map(function(L,D){if(L.type==="none")return null;var k=YN({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},u),I=L.formatter||m||_ce,z=L.value,V=L.name,Y=z,U=V;if(I&&Y!=null&&U!=null){var F=I(z,V,L,D,p);if(Array.isArray(F)){var G=vce(F,2);Y=G[0],U=G[1]}else Y=F}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:k},ur(U)?X.createElement("span",{className:"recharts-tooltip-item-name"},U):null,ur(U)?X.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,X.createElement("span",{className:"recharts-tooltip-item-value"},Y),X.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:H},B)}return null},S=YN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),O=YN({margin:0},f),M=!xt(y),T=M?y:"",P=Nt("recharts-default-tooltip",v),$=Nt("recharts-tooltip-label",w);M&&j&&p!==void 0&&p!==null&&(T=j(y,p));var K=C?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",GA({className:P,style:S},K),X.createElement("p",{className:$,style:O},X.isValidElement(T)?T:"".concat(T)),N())};function Oh(e){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oh(e)}function Eg(e,t,n){return t=Oce(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oce(e){var t=Tce(e,"string");return Oh(t)=="symbol"?t:t+""}function Tce(e,t){if(Oh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $f="recharts-tooltip-wrapper",Mce={visibility:"hidden"};function kce(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Nt($f,Eg(Eg(Eg(Eg({},"".concat($f,"-right"),Ie(n)&&t&&Ie(t.x)&&n>=t.x),"".concat($f,"-left"),Ie(n)&&t&&Ie(t.x)&&n<t.x),"".concat($f,"-bottom"),Ie(r)&&t&&Ie(t.y)&&r>=t.y),"".concat($f,"-top"),Ie(r)&&t&&Ie(t.y)&&r<t.y))}function bI(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,s=e.offsetTopLeft,i=e.position,l=e.reverseDirection,u=e.tooltipDimension,d=e.viewBox,f=e.viewBoxDimension;if(i&&Ie(i[r]))return i[r];var p=n[r]-u-s,m=n[r]+s;if(t[r])return l[r]?p:m;if(l[r]){var g=p,v=d[r];return g<v?Math.max(m,d[r]):Math.max(p,d[r])}var w=m+u,y=d[r]+f;return w>y?Math.max(p,d[r]):Math.max(m,d[r])}function Pce(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Rce(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,s=e.position,i=e.reverseDirection,l=e.tooltipBox,u=e.useTranslate3d,d=e.viewBox,f,p,m;return l.height>0&&l.width>0&&n?(p=bI({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:l.width,viewBox:d,viewBoxDimension:d.width}),m=bI({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:i,tooltipDimension:l.height,viewBox:d,viewBoxDimension:d.height}),f=Pce({translateX:p,translateY:m,useTranslate3d:u})):f=Mce,{cssProperties:f,cssClasses:kce({translateX:p,translateY:m,coordinate:n})}}function Iu(e){"@babel/helpers - typeof";return Iu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Iu(e)}function jI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function wI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?jI(Object(n),!0).forEach(function(r){QA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Dce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ice(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f8(r.key),r)}}function Lce(e,t,n){return t&&Ice(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ce(e,t,n){return t=_x(t),qce(e,d8()?Reflect.construct(t,n||[],_x(e).constructor):t.apply(e,n))}function qce(e,t){if(t&&(Iu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zce(e)}function zce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d8=function(){return!!e})()}function _x(e){return _x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_x(e)}function Bce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XA(e,t)}function XA(e,t){return XA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},XA(e,t)}function QA(e,t,n){return t=f8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f8(e){var t=Fce(e,"string");return Iu(t)=="symbol"?t:t+""}function Fce(e,t){if(Iu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Iu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var NI=1,Uce=(function(e){function t(){var n;Dce(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=$ce(this,t,[].concat(s)),QA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QA(n,"handleKeyDown",function(l){if(l.key==="Escape"){var u,d,f,p;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(u=(d=n.props.coordinate)===null||d===void 0?void 0:d.x)!==null&&u!==void 0?u:0,y:(f=(p=n.props.coordinate)===null||p===void 0?void 0:p.y)!==null&&f!==void 0?f:0}})}}),n}return Bce(t,e),Lce(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>NI||Math.abs(r.height-this.state.lastBoundingBox.height)>NI)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.children,p=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,v=s.offset,w=s.position,y=s.reverseDirection,j=s.useTranslate3d,_=s.viewBox,C=s.wrapperStyle,N=Rce({allowEscapeViewBox:l,coordinate:p,offsetTopLeft:v,position:w,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:j,viewBox:_}),S=N.cssClasses,O=N.cssProperties,M=wI(wI({transition:g&&i?"transform ".concat(u,"ms ").concat(d):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},C);return X.createElement("div",{tabIndex:-1,className:S,style:M,ref:function(P){r.wrapperNode=P}},f)}}])})(b.PureComponent),Hce=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},qi={isSsr:Hce()};function Lu(e){"@babel/helpers - typeof";return Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lu(e)}function SI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function AI(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?SI(Object(n),!0).forEach(function(r){G_(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):SI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vce(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,m8(r.key),r)}}function Wce(e,t,n){return t&&Kce(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yce(e,t,n){return t=Ex(t),Gce(e,h8()?Reflect.construct(t,n||[],Ex(e).constructor):t.apply(e,n))}function Gce(e,t){if(t&&(Lu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xce(e)}function Xce(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h8(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h8=function(){return!!e})()}function Ex(e){return Ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ex(e)}function Qce(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZA(e,t)}function ZA(e,t){return ZA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},ZA(e,t)}function G_(e,t,n){return t=m8(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m8(e){var t=Zce(e,"string");return Lu(t)=="symbol"?t:t+""}function Zce(e,t){if(Lu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Lu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Jce(e){return e.dataKey}function eue(e,t){return X.isValidElement(e)?X.cloneElement(e,t):typeof e=="function"?X.createElement(e,t):X.createElement(Ece,t)}var kn=(function(e){function t(){return Vce(this,t),Yce(this,t,arguments)}return Qce(t,e),Wce(t,[{key:"render",value:function(){var r=this,s=this.props,i=s.active,l=s.allowEscapeViewBox,u=s.animationDuration,d=s.animationEasing,f=s.content,p=s.coordinate,m=s.filterNull,g=s.isAnimationActive,v=s.offset,w=s.payload,y=s.payloadUniqBy,j=s.position,_=s.reverseDirection,C=s.useTranslate3d,N=s.viewBox,S=s.wrapperStyle,O=w??[];m&&O.length&&(O=a8(w.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),y,Jce));var M=O.length>0;return X.createElement(Uce,{allowEscapeViewBox:l,animationDuration:u,animationEasing:d,isAnimationActive:g,active:i,coordinate:p,hasPayload:M,offset:v,position:j,reverseDirection:_,useTranslate3d:C,viewBox:N,wrapperStyle:S},eue(f,AI(AI({},this.props),{},{payload:O})))}}])})(b.PureComponent);G_(kn,"displayName","Tooltip");G_(kn,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!qi.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var GN,CI;function tue(){if(CI)return GN;CI=1;var e=Hs(),t=function(){return e.Date.now()};return GN=t,GN}var XN,_I;function nue(){if(_I)return XN;_I=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return XN=t,XN}var QN,EI;function rue(){if(EI)return QN;EI=1;var e=nue(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return QN=n,QN}var ZN,OI;function p8(){if(OI)return ZN;OI=1;var e=rue(),t=Wo(),n=Od(),r=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var p=typeof f.valueOf=="function"?f.valueOf():f;f=t(p)?p+"":p}if(typeof f!="string")return f===0?f:+f;f=e(f);var m=i.test(f);return m||l.test(f)?u(f.slice(2),m?2:8):s.test(f)?r:+f}return ZN=d,ZN}var JN,TI;function aue(){if(TI)return JN;TI=1;var e=Wo(),t=tue(),n=p8(),r="Expected a function",s=Math.max,i=Math.min;function l(u,d,f){var p,m,g,v,w,y,j=0,_=!1,C=!1,N=!0;if(typeof u!="function")throw new TypeError(r);d=n(d)||0,e(f)&&(_=!!f.leading,C="maxWait"in f,g=C?s(n(f.maxWait)||0,d):g,N="trailing"in f?!!f.trailing:N);function S(B){var L=p,D=m;return p=m=void 0,j=B,v=u.apply(D,L),v}function O(B){return j=B,w=setTimeout(P,d),_?S(B):v}function M(B){var L=B-y,D=B-j,k=d-L;return C?i(k,g-D):k}function T(B){var L=B-y,D=B-j;return y===void 0||L>=d||L<0||C&&D>=g}function P(){var B=t();if(T(B))return $(B);w=setTimeout(P,M(B))}function $(B){return w=void 0,N&&p?S(B):(p=m=void 0,v)}function K(){w!==void 0&&clearTimeout(w),j=0,p=y=m=w=void 0}function q(){return w===void 0?v:$(t())}function H(){var B=t(),L=T(B);if(p=arguments,m=this,y=B,L){if(w===void 0)return O(y);if(C)return clearTimeout(w),w=setTimeout(P,d),S(y)}return w===void 0&&(w=setTimeout(P,d)),v}return H.cancel=K,H.flush=q,H}return JN=l,JN}var eS,MI;function sue(){if(MI)return eS;MI=1;var e=aue(),t=Wo(),n="Expected a function";function r(s,i,l){var u=!0,d=!0;if(typeof s!="function")throw new TypeError(n);return t(l)&&(u="leading"in l?!!l.leading:u,d="trailing"in l?!!l.trailing:d),e(s,i,{leading:u,maxWait:i,trailing:d})}return eS=r,eS}var iue=sue();const g8=Wt(iue);function Th(e){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Th(e)}function kI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Og(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kI(Object(n),!0).forEach(function(r){oue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oue(e,t,n){return t=lue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lue(e){var t=cue(e,"string");return Th(t)=="symbol"?t:t+""}function cue(e,t){if(Th(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uue(e,t){return mue(e)||hue(e,t)||fue(e,t)||due()}function due(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fue(e,t){if(e){if(typeof e=="string")return PI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PI(e,t)}}function PI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function mue(e){if(Array.isArray(e))return e}var oa=b.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,s=r===void 0?{width:-1,height:-1}:r,i=e.width,l=i===void 0?"100%":i,u=e.height,d=u===void 0?"100%":u,f=e.minWidth,p=f===void 0?0:f,m=e.minHeight,g=e.maxHeight,v=e.children,w=e.debounce,y=w===void 0?0:w,j=e.id,_=e.className,C=e.onResize,N=e.style,S=N===void 0?{}:N,O=b.useRef(null),M=b.useRef();M.current=C,b.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var T=b.useState({containerWidth:s.width,containerHeight:s.height}),P=uue(T,2),$=P[0],K=P[1],q=b.useCallback(function(B,L){K(function(D){var k=Math.round(B),I=Math.round(L);return D.containerWidth===k&&D.containerHeight===I?D:{containerWidth:k,containerHeight:I}})},[]);b.useEffect(function(){var B=function(V){var Y,U=V[0].contentRect,F=U.width,G=U.height;q(F,G),(Y=M.current)===null||Y===void 0||Y.call(M,F,G)};y>0&&(B=g8(B,y,{trailing:!0,leading:!1}));var L=new ResizeObserver(B),D=O.current.getBoundingClientRect(),k=D.width,I=D.height;return q(k,I),L.observe(O.current),function(){L.disconnect()}},[q,y]);var H=b.useMemo(function(){var B=$.containerWidth,L=$.containerHeight;if(B<0||L<0)return null;xs(El(l)||El(d),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,l,d),xs(!n||n>0,"The aspect(%s) must be greater than zero.",n);var D=El(l)?B:l,k=El(d)?L:d;n&&n>0&&(D?k=D/n:k&&(D=k*n),g&&k>g&&(k=g)),xs(D>0||k>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,k,l,d,p,m,n);var I=!Array.isArray(v)&&wi(v.type).endsWith("Chart");return X.Children.map(v,function(z){return X.isValidElement(z)?b.cloneElement(z,Og({width:D,height:k},I?{style:Og({height:"100%",width:"100%",maxHeight:k,maxWidth:D},z.props.style)}:{})):z})},[n,v,d,g,m,p,$,l]);return X.createElement("div",{id:j?"".concat(j):void 0,className:Nt("recharts-responsive-container",_),style:Og(Og({},S),{},{width:l,height:d,minWidth:p,minHeight:m,maxHeight:g}),ref:O},H)}),Ti=function(t){return null};Ti.displayName="Cell";function Mh(e){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function RI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function JA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RI(Object(n),!0).forEach(function(r){pue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RI(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pue(e,t,n){return t=gue(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gue(e){var t=xue(e,"string");return Mh(t)=="symbol"?t:t+""}function xue(e,t){if(Mh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cu={widthCache:{},cacheCount:0},yue=2e3,vue={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},DI="recharts_measurement_span";function bue(e){var t=JA({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var ch=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||qi.isSsr)return{width:0,height:0};var r=bue(n),s=JSON.stringify({text:t,copyStyle:r});if(cu.widthCache[s])return cu.widthCache[s];try{var i=document.getElementById(DI);i||(i=document.createElement("span"),i.setAttribute("id",DI),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var l=JA(JA({},vue),r);Object.assign(i.style,l),i.textContent="".concat(t);var u=i.getBoundingClientRect(),d={width:u.width,height:u.height};return cu.widthCache[s]=d,++cu.cacheCount>yue&&(cu.cacheCount=0,cu.widthCache={}),d}catch{return{width:0,height:0}}},jue=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function kh(e){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kh(e)}function Ox(e,t){return Aue(e)||Sue(e,t)||Nue(e,t)||wue()}function wue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nue(e,t){if(e){if(typeof e=="string")return II(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return II(e,t)}}function II(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Sue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Aue(e){if(Array.isArray(e))return e}function Cue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Eue(r.key),r)}}function _ue(e,t,n){return t&&LI(e.prototype,t),n&&LI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Eue(e){var t=Oue(e,"string");return kh(t)=="symbol"?t:t+""}function Oue(e,t){if(kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var $I=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qI=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Tue=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Mue=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,x8={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kue=Object.keys(x8),pu="NaN";function Pue(e,t){return e*x8[t]}var Tg=(function(){function e(t,n){Cue(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!Tue.test(n)&&(this.num=NaN,this.unit=""),kue.includes(n)&&(this.num=Pue(t,n),this.unit="px")}return _ue(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,s=(r=Mue.exec(n))!==null&&r!==void 0?r:[],i=Ox(s,3),l=i[1],u=i[2];return new e(parseFloat(l),u??"")}}])})();function y8(e){if(e.includes(pu))return pu;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=$I.exec(t))!==null&&n!==void 0?n:[],s=Ox(r,4),i=s[1],l=s[2],u=s[3],d=Tg.parse(i??""),f=Tg.parse(u??""),p=l==="*"?d.multiply(f):d.divide(f);if(p.isNaN())return pu;t=t.replace($I,p.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,g=(m=qI.exec(t))!==null&&m!==void 0?m:[],v=Ox(g,4),w=v[1],y=v[2],j=v[3],_=Tg.parse(w??""),C=Tg.parse(j??""),N=y==="+"?_.add(C):_.subtract(C);if(N.isNaN())return pu;t=t.replace(qI,N.toString())}return t}var zI=/\(([^()]*)\)/;function Rue(e){for(var t=e;t.includes("(");){var n=zI.exec(t),r=Ox(n,2),s=r[1];t=t.replace(zI,y8(s))}return t}function Due(e){var t=e.replace(/\s+/g,"");return t=Rue(t),t=y8(t),t}function Iue(e){try{return Due(e)}catch{return pu}}function tS(e){var t=Iue(e.slice(5,-1));return t===pu?"":t}var Lue=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],$ue=["dx","dy","angle","className","breakAll"];function e2(){return e2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e2.apply(this,arguments)}function BI(e,t){if(e==null)return{};var n=que(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function que(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FI(e,t){return Uue(e)||Fue(e,t)||Bue(e,t)||zue()}function zue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bue(e,t){if(e){if(typeof e=="string")return UI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(e,t)}}function UI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Fue(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;d=!1}else for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Uue(e){if(Array.isArray(e))return e}var v8=/[ \f\n\r\t\v\u2028\u2029]+/,b8=function(t){var n=t.children,r=t.breakAll,s=t.style;try{var i=[];xt(n)||(r?i=n.toString().split(""):i=n.toString().split(v8));var l=i.map(function(d){return{word:d,width:ch(d,s).width}}),u=r?0:ch("",s).width;return{wordsWithComputedWidth:l,spaceWidth:u}}catch{return null}},Hue=function(t,n,r,s,i){var l=t.maxLines,u=t.children,d=t.style,f=t.breakAll,p=Ie(l),m=u,g=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return D.reduce(function(k,I){var z=I.word,V=I.width,Y=k[k.length-1];if(Y&&(s==null||i||Y.width+V+r<Number(s)))Y.words.push(z),Y.width+=V+r;else{var U={words:[z],width:V};k.push(U)}return k},[])},v=g(n),w=function(D){return D.reduce(function(k,I){return k.width>I.width?k:I})};if(!p)return v;for(var y="",j=function(D){var k=m.slice(0,D),I=b8({breakAll:f,style:d,children:k+y}).wordsWithComputedWidth,z=g(I),V=z.length>l||w(z).width>Number(s);return[V,z]},_=0,C=m.length-1,N=0,S;_<=C&&N<=m.length-1;){var O=Math.floor((_+C)/2),M=O-1,T=j(M),P=FI(T,2),$=P[0],K=P[1],q=j(O),H=FI(q,1),B=H[0];if(!$&&!B&&(_=O+1),$&&B&&(C=O-1),!$&&B){S=K;break}N++}return S||v},HI=function(t){var n=xt(t)?[]:t.toString().split(v8);return[{words:n}]},Vue=function(t){var n=t.width,r=t.scaleToFit,s=t.children,i=t.style,l=t.breakAll,u=t.maxLines;if((n||r)&&!qi.isSsr){var d,f,p=b8({breakAll:l,children:s,style:i});if(p){var m=p.wordsWithComputedWidth,g=p.spaceWidth;d=m,f=g}else return HI(s);return Hue({breakAll:l,children:s,maxLines:u,style:i},d,f,n,r)}return HI(s)},VI="#808080",Wl=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.lineHeight,u=l===void 0?"1em":l,d=t.capHeight,f=d===void 0?"0.71em":d,p=t.scaleToFit,m=p===void 0?!1:p,g=t.textAnchor,v=g===void 0?"start":g,w=t.verticalAnchor,y=w===void 0?"end":w,j=t.fill,_=j===void 0?VI:j,C=BI(t,Lue),N=b.useMemo(function(){return Vue({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:m,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,m,C.style,C.width]),S=C.dx,O=C.dy,M=C.angle,T=C.className,P=C.breakAll,$=BI(C,$ue);if(!ur(r)||!ur(i))return null;var K=r+(Ie(S)?S:0),q=i+(Ie(O)?O:0),H;switch(y){case"start":H=tS("calc(".concat(f,")"));break;case"middle":H=tS("calc(".concat((N.length-1)/2," * -").concat(u," + (").concat(f," / 2))"));break;default:H=tS("calc(".concat(N.length-1," * -").concat(u,")"));break}var B=[];if(m){var L=N[0].width,D=C.width;B.push("scale(".concat((Ie(D)?D/L:1)/L,")"))}return M&&B.push("rotate(".concat(M,", ").concat(K,", ").concat(q,")")),B.length&&($.transform=B.join(" ")),X.createElement("text",e2({},nt($,!0),{x:K,y:q,className:Nt("recharts-text",T),textAnchor:v,fill:_.includes("url")?VI:_}),N.map(function(k,I){var z=k.words.join(P?"":" ");return X.createElement("tspan",{x:K,dy:I===0?H:u,key:"".concat(z,"-").concat(I)},z)}))};function Ro(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Kue(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function X_(e){let t,n,r;e.length!==2?(t=Ro,n=(u,d)=>Ro(e(u),d),r=(u,d)=>e(u)-d):(t=e===Ro||e===Kue?e:Wue,n=e,r=e);function s(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;n(u[m],d)<0?f=m+1:p=m}while(f<p)}return f}function i(u,d,f=0,p=u.length){if(f<p){if(t(d,d)!==0)return p;do{const m=f+p>>>1;n(u[m],d)<=0?f=m+1:p=m}while(f<p)}return f}function l(u,d,f=0,p=u.length){const m=s(u,d,f,p-1);return m>f&&r(u[m-1],d)>-r(u[m],d)?m-1:m}return{left:s,center:l,right:i}}function Wue(){return 0}function j8(e){return e===null?NaN:+e}function*Yue(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const Gue=X_(Ro),Im=Gue.right;X_(j8).center;class KI extends Map{constructor(t,n=Zue){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(WI(this,t))}has(t){return super.has(WI(this,t))}set(t,n){return super.set(Xue(this,t),n)}delete(t){return super.delete(Que(this,t))}}function WI({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Xue({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Que({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Zue(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Jue(e=Ro){if(e===Ro)return w8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function w8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const ede=Math.sqrt(50),tde=Math.sqrt(10),nde=Math.sqrt(2);function Tx(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),l=i>=ede?10:i>=tde?5:i>=nde?2:1;let u,d,f;return s<0?(f=Math.pow(10,-s)/l,u=Math.round(e*f),d=Math.round(t*f),u/f<e&&++u,d/f>t&&--d,f=-f):(f=Math.pow(10,s)*l,u=Math.round(e/f),d=Math.round(t/f),u*f<e&&++u,d*f>t&&--d),d<u&&.5<=n&&n<2?Tx(e,t,n*2):[u,d,f]}function t2(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,l]=r?Tx(t,e,n):Tx(e,t,n);if(!(i>=s))return[];const u=i-s+1,d=new Array(u);if(r)if(l<0)for(let f=0;f<u;++f)d[f]=(i-f)/-l;else for(let f=0;f<u;++f)d[f]=(i-f)*l;else if(l<0)for(let f=0;f<u;++f)d[f]=(s+f)/-l;else for(let f=0;f<u;++f)d[f]=(s+f)*l;return d}function n2(e,t,n){return t=+t,e=+e,n=+n,Tx(e,t,n)[2]}function r2(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?n2(t,e,n):n2(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function YI(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function GI(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function N8(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?w8:Jue(s);r>n;){if(r-n>600){const d=r-n+1,f=t-n+1,p=Math.log(d),m=.5*Math.exp(2*p/3),g=.5*Math.sqrt(p*m*(d-m)/d)*(f-d/2<0?-1:1),v=Math.max(n,Math.floor(t-f*m/d+g)),w=Math.min(r,Math.floor(t+(d-f)*m/d+g));N8(e,t,v,w,s)}const i=e[t];let l=n,u=r;for(qf(e,n,t),s(e[r],i)>0&&qf(e,n,r);l<u;){for(qf(e,l,u),++l,--u;s(e[l],i)<0;)++l;for(;s(e[u],i)>0;)--u}s(e[n],i)===0?qf(e,n,u):(++u,qf(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function qf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function rde(e,t,n){if(e=Float64Array.from(Yue(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return GI(e);if(t>=1)return YI(e);var r,s=(r-1)*t,i=Math.floor(s),l=YI(N8(e,i).subarray(0,i+1)),u=GI(e.subarray(i+1));return l+(u-l)*(s-i)}}function ade(e,t,n=j8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,i=Math.floor(s),l=+n(e[i],i,e),u=+n(e[i+1],i+1,e);return l+(u-l)*(s-i)}}function sde(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function es(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function zi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const a2=Symbol("implicit");function Q_(){var e=new KI,t=[],n=[],r=a2;function s(i){let l=e.get(i);if(l===void 0){if(r!==a2)return r;e.set(i,l=t.push(i)-1)}return n[l%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new KI;for(const l of i)e.has(l)||e.set(l,t.push(l)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Q_(t,n).unknown(r)},es.apply(s,arguments),s}function Ph(){var e=Q_().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,l,u=!1,d=0,f=0,p=.5;delete e.unknown;function m(){var g=t().length,v=s<r,w=v?s:r,y=v?r:s;i=(y-w)/Math.max(1,g-d+f*2),u&&(i=Math.floor(i)),w+=(y-w-i*(g-d))*p,l=i*(1-d),u&&(w=Math.round(w),l=Math.round(l));var j=sde(g).map(function(_){return w+i*_});return n(v?j.reverse():j)}return e.domain=function(g){return arguments.length?(t(g),m()):t()},e.range=function(g){return arguments.length?([r,s]=g,r=+r,s=+s,m()):[r,s]},e.rangeRound=function(g){return[r,s]=g,r=+r,s=+s,u=!0,m()},e.bandwidth=function(){return l},e.step=function(){return i},e.round=function(g){return arguments.length?(u=!!g,m()):u},e.padding=function(g){return arguments.length?(d=Math.min(1,f=+g),m()):d},e.paddingInner=function(g){return arguments.length?(d=Math.min(1,g),m()):d},e.paddingOuter=function(g){return arguments.length?(f=+g,m()):f},e.align=function(g){return arguments.length?(p=Math.max(0,Math.min(1,g)),m()):p},e.copy=function(){return Ph(t(),[r,s]).round(u).paddingInner(d).paddingOuter(f).align(p)},es.apply(m(),arguments)}function S8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return S8(t())},e}function uh(){return S8(Ph.apply(null,arguments).paddingInner(1))}function Z_(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function A8(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Lm(){}var Rh=.7,Mx=1/Rh,Cu="\\s*([+-]?\\d+)\\s*",Dh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Is="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ide=/^#([0-9a-f]{3,8})$/,ode=new RegExp(`^rgb\\(${Cu},${Cu},${Cu}\\)$`),lde=new RegExp(`^rgb\\(${Is},${Is},${Is}\\)$`),cde=new RegExp(`^rgba\\(${Cu},${Cu},${Cu},${Dh}\\)$`),ude=new RegExp(`^rgba\\(${Is},${Is},${Is},${Dh}\\)$`),dde=new RegExp(`^hsl\\(${Dh},${Is},${Is}\\)$`),fde=new RegExp(`^hsla\\(${Dh},${Is},${Is},${Dh}\\)$`),XI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Z_(Lm,Yl,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:QI,formatHex:QI,formatHex8:hde,formatHsl:mde,formatRgb:ZI,toString:ZI});function QI(){return this.rgb().formatHex()}function hde(){return this.rgb().formatHex8()}function mde(){return C8(this).formatHsl()}function ZI(){return this.rgb().formatRgb()}function Yl(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ide.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?JI(t):n===3?new la(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Mg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Mg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=ode.exec(e))?new la(t[1],t[2],t[3],1):(t=lde.exec(e))?new la(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cde.exec(e))?Mg(t[1],t[2],t[3],t[4]):(t=ude.exec(e))?Mg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dde.exec(e))?nL(t[1],t[2]/100,t[3]/100,1):(t=fde.exec(e))?nL(t[1],t[2]/100,t[3]/100,t[4]):XI.hasOwnProperty(e)?JI(XI[e]):e==="transparent"?new la(NaN,NaN,NaN,0):null}function JI(e){return new la(e>>16&255,e>>8&255,e&255,1)}function Mg(e,t,n,r){return r<=0&&(e=t=n=NaN),new la(e,t,n,r)}function pde(e){return e instanceof Lm||(e=Yl(e)),e?(e=e.rgb(),new la(e.r,e.g,e.b,e.opacity)):new la}function s2(e,t,n,r){return arguments.length===1?pde(e):new la(e,t,n,r??1)}function la(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Z_(la,s2,A8(Lm,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new la(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new la(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new la(Rl(this.r),Rl(this.g),Rl(this.b),kx(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:eL,formatHex:eL,formatHex8:gde,formatRgb:tL,toString:tL}));function eL(){return`#${Ol(this.r)}${Ol(this.g)}${Ol(this.b)}`}function gde(){return`#${Ol(this.r)}${Ol(this.g)}${Ol(this.b)}${Ol((isNaN(this.opacity)?1:this.opacity)*255)}`}function tL(){const e=kx(this.opacity);return`${e===1?"rgb(":"rgba("}${Rl(this.r)}, ${Rl(this.g)}, ${Rl(this.b)}${e===1?")":`, ${e})`}`}function kx(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Rl(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Ol(e){return e=Rl(e),(e<16?"0":"")+e.toString(16)}function nL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hs(e,t,n,r)}function C8(e){if(e instanceof hs)return new hs(e.h,e.s,e.l,e.opacity);if(e instanceof Lm||(e=Yl(e)),!e)return new hs;if(e instanceof hs)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),l=NaN,u=i-s,d=(i+s)/2;return u?(t===i?l=(n-r)/u+(n<r)*6:n===i?l=(r-t)/u+2:l=(t-n)/u+4,u/=d<.5?i+s:2-i-s,l*=60):u=d>0&&d<1?0:l,new hs(l,u,d,e.opacity)}function xde(e,t,n,r){return arguments.length===1?C8(e):new hs(e,t,n,r??1)}function hs(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Z_(hs,xde,A8(Lm,{brighter(e){return e=e==null?Mx:Math.pow(Mx,e),new hs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Rh:Math.pow(Rh,e),new hs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new la(nS(e>=240?e-240:e+120,s,r),nS(e,s,r),nS(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new hs(rL(this.h),kg(this.s),kg(this.l),kx(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=kx(this.opacity);return`${e===1?"hsl(":"hsla("}${rL(this.h)}, ${kg(this.s)*100}%, ${kg(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rL(e){return e=(e||0)%360,e<0?e+360:e}function kg(e){return Math.max(0,Math.min(1,e||0))}function nS(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const J_=e=>()=>e;function yde(e,t){return function(n){return e+n*t}}function vde(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function bde(e){return(e=+e)==1?_8:function(t,n){return n-t?vde(t,n,e):J_(isNaN(t)?n:t)}}function _8(e,t){var n=t-e;return n?yde(e,n):J_(isNaN(e)?t:e)}const Px=(function e(t){var n=bde(t);function r(s,i){var l=n((s=s2(s)).r,(i=s2(i)).r),u=n(s.g,i.g),d=n(s.b,i.b),f=_8(s.opacity,i.opacity);return function(p){return s.r=l(p),s.g=u(p),s.b=d(p),s.opacity=f(p),s+""}}return r.gamma=e,r})(1);function jde(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function wde(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Nde(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),l;for(l=0;l<r;++l)s[l]=Ni(e[l],t[l]);for(;l<n;++l)i[l]=t[l];return function(u){for(l=0;l<r;++l)i[l]=s[l](u);return i}}function Sde(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function fs(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ade(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ni(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var i2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,rS=new RegExp(i2.source,"g");function Cde(e){return function(){return e}}function _de(e){return function(t){return e(t)+""}}function E8(e,t){var n=i2.lastIndex=rS.lastIndex=0,r,s,i,l=-1,u=[],d=[];for(e=e+"",t=t+"";(r=i2.exec(e))&&(s=rS.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),u[l]?u[l]+=i:u[++l]=i),(r=r[0])===(s=s[0])?u[l]?u[l]+=s:u[++l]=s:(u[++l]=null,d.push({i:l,x:fs(r,s)})),n=rS.lastIndex;return n<t.length&&(i=t.slice(n),u[l]?u[l]+=i:u[++l]=i),u.length<2?d[0]?_de(d[0].x):Cde(t):(t=d.length,function(f){for(var p=0,m;p<t;++p)u[(m=d[p]).i]=m.x(f);return u.join("")})}function Ni(e,t){var n=typeof t,r;return t==null||n==="boolean"?J_(t):(n==="number"?fs:n==="string"?(r=Yl(t))?(t=r,Px):E8:t instanceof Yl?Px:t instanceof Date?Sde:wde(t)?jde:Array.isArray(t)?Nde:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ade:fs)(e,t)}function eE(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var aL=180/Math.PI,o2={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function O8(e,t,n,r,s,i){var l,u,d;return(l=Math.sqrt(e*e+t*t))&&(e/=l,t/=l),(d=e*n+t*r)&&(n-=e*d,r-=t*d),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,d/=u),e*r<t*n&&(e=-e,t=-t,d=-d,l=-l),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*aL,skewX:Math.atan(d)*aL,scaleX:l,scaleY:u}}var Pg;function Ede(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?o2:O8(t.a,t.b,t.c,t.d,t.e,t.f)}function Ode(e){return e==null||(Pg||(Pg=document.createElementNS("http://www.w3.org/2000/svg","g")),Pg.setAttribute("transform",e),!(e=Pg.transform.baseVal.consolidate()))?o2:(e=e.matrix,O8(e.a,e.b,e.c,e.d,e.e,e.f))}function T8(e,t,n,r){function s(f){return f.length?f.pop()+" ":""}function i(f,p,m,g,v,w){if(f!==m||p!==g){var y=v.push("translate(",null,t,null,n);w.push({i:y-4,x:fs(f,m)},{i:y-2,x:fs(p,g)})}else(m||g)&&v.push("translate("+m+t+g+n)}function l(f,p,m,g){f!==p?(f-p>180?p+=360:p-f>180&&(f+=360),g.push({i:m.push(s(m)+"rotate(",null,r)-2,x:fs(f,p)})):p&&m.push(s(m)+"rotate("+p+r)}function u(f,p,m,g){f!==p?g.push({i:m.push(s(m)+"skewX(",null,r)-2,x:fs(f,p)}):p&&m.push(s(m)+"skewX("+p+r)}function d(f,p,m,g,v,w){if(f!==m||p!==g){var y=v.push(s(v)+"scale(",null,",",null,")");w.push({i:y-4,x:fs(f,m)},{i:y-2,x:fs(p,g)})}else(m!==1||g!==1)&&v.push(s(v)+"scale("+m+","+g+")")}return function(f,p){var m=[],g=[];return f=e(f),p=e(p),i(f.translateX,f.translateY,p.translateX,p.translateY,m,g),l(f.rotate,p.rotate,m,g),u(f.skewX,p.skewX,m,g),d(f.scaleX,f.scaleY,p.scaleX,p.scaleY,m,g),f=p=null,function(v){for(var w=-1,y=g.length,j;++w<y;)m[(j=g[w]).i]=j.x(v);return m.join("")}}}var Tde=T8(Ede,"px, ","px)","deg)"),Mde=T8(Ode,", ",")",")"),kde=1e-12;function sL(e){return((e=Math.exp(e))+1/e)/2}function Pde(e){return((e=Math.exp(e))-1/e)/2}function Rde(e){return((e=Math.exp(2*e))-1)/(e+1)}const Zg=(function e(t,n,r){function s(i,l){var u=i[0],d=i[1],f=i[2],p=l[0],m=l[1],g=l[2],v=p-u,w=m-d,y=v*v+w*w,j,_;if(y<kde)_=Math.log(g/f)/t,j=function(T){return[u+T*v,d+T*w,f*Math.exp(t*T*_)]};else{var C=Math.sqrt(y),N=(g*g-f*f+r*y)/(2*f*n*C),S=(g*g-f*f-r*y)/(2*g*n*C),O=Math.log(Math.sqrt(N*N+1)-N),M=Math.log(Math.sqrt(S*S+1)-S);_=(M-O)/t,j=function(T){var P=T*_,$=sL(O),K=f/(n*C)*($*Rde(t*P+O)-Pde(O));return[u+K*v,d+K*w,f*$/sL(t*P+O)]}}return j.duration=_*1e3*t/Math.SQRT2,j}return s.rho=function(i){var l=Math.max(.001,+i),u=l*l,d=u*u;return e(l,u,d)},s})(Math.SQRT2,2,4);function Dde(e,t){t===void 0&&(t=e,e=Ni);for(var n=0,r=t.length-1,s=t[0],i=new Array(r<0?0:r);n<r;)i[n]=e(s,s=t[++n]);return function(l){var u=Math.max(0,Math.min(r-1,Math.floor(l*=r)));return i[u](l-u)}}function Ide(e){return function(){return e}}function Rx(e){return+e}var iL=[0,1];function Wr(e){return e}function l2(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ide(isNaN(t)?NaN:.5)}function Lde(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function $de(e,t,n){var r=e[0],s=e[1],i=t[0],l=t[1];return s<r?(r=l2(s,r),i=n(l,i)):(r=l2(r,s),i=n(i,l)),function(u){return i(r(u))}}function qde(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),l=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++l<r;)s[l]=l2(e[l],e[l+1]),i[l]=n(t[l],t[l+1]);return function(u){var d=Im(e,u,1,r)-1;return i[d](s[d](u))}}function $m(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jv(){var e=iL,t=iL,n=Ni,r,s,i,l=Wr,u,d,f;function p(){var g=Math.min(e.length,t.length);return l!==Wr&&(l=Lde(e[0],e[g-1])),u=g>2?qde:$de,d=f=null,m}function m(g){return g==null||isNaN(g=+g)?i:(d||(d=u(e.map(r),t,n)))(r(l(g)))}return m.invert=function(g){return l(s((f||(f=u(t,e.map(r),fs)))(g)))},m.domain=function(g){return arguments.length?(e=Array.from(g,Rx),p()):e.slice()},m.range=function(g){return arguments.length?(t=Array.from(g),p()):t.slice()},m.rangeRound=function(g){return t=Array.from(g),n=eE,p()},m.clamp=function(g){return arguments.length?(l=g?!0:Wr,p()):l!==Wr},m.interpolate=function(g){return arguments.length?(n=g,p()):n},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,v){return r=g,s=v,p()}}function tE(){return jv()(Wr,Wr)}function zde(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Dx(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function $u(e){return e=Dx(Math.abs(e)),e?e[1]:NaN}function Bde(e,t){return function(n,r){for(var s=n.length,i=[],l=0,u=e[0],d=0;s>0&&u>0&&(d+u+1>r&&(u=Math.max(1,r-d)),i.push(n.substring(s-=u,s+u)),!((d+=u+1)>r));)u=e[l=(l+1)%e.length];return i.reverse().join(t)}}function Fde(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ude=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ih(e){if(!(t=Ude.exec(e)))throw new Error("invalid format: "+e);var t;return new nE({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ih.prototype=nE.prototype;function nE(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Hde(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var M8;function Vde(e,t){var n=Dx(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(M8=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,l=r.length;return i===l?r:i>l?r+new Array(i-l+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Dx(e,Math.max(0,t+i-1))[0]}function oL(e,t){var n=Dx(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const lL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zde,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oL(e*100,t),r:oL,s:Vde,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cL(e){return e}var uL=Array.prototype.map,dL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Kde(e){var t=e.grouping===void 0||e.thousands===void 0?cL:Bde(uL.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?cL:Fde(uL.call(e.numerals,String)),l=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",d=e.nan===void 0?"NaN":e.nan+"";function f(m){m=Ih(m);var g=m.fill,v=m.align,w=m.sign,y=m.symbol,j=m.zero,_=m.width,C=m.comma,N=m.precision,S=m.trim,O=m.type;O==="n"?(C=!0,O="g"):lL[O]||(N===void 0&&(N=12),S=!0,O="g"),(j||g==="0"&&v==="=")&&(j=!0,g="0",v="=");var M=y==="$"?n:y==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",T=y==="$"?r:/[%p]/.test(O)?l:"",P=lL[O],$=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function K(q){var H=M,B=T,L,D,k;if(O==="c")B=P(q)+B,q="";else{q=+q;var I=q<0||1/q<0;if(q=isNaN(q)?d:P(Math.abs(q),N),S&&(q=Hde(q)),I&&+q==0&&w!=="+"&&(I=!1),H=(I?w==="("?w:u:w==="-"||w==="("?"":w)+H,B=(O==="s"?dL[8+M8/3]:"")+B+(I&&w==="("?")":""),$){for(L=-1,D=q.length;++L<D;)if(k=q.charCodeAt(L),48>k||k>57){B=(k===46?s+q.slice(L+1):q.slice(L))+B,q=q.slice(0,L);break}}}C&&!j&&(q=t(q,1/0));var z=H.length+q.length+B.length,V=z<_?new Array(_-z+1).join(g):"";switch(C&&j&&(q=t(V+q,V.length?_-B.length:1/0),V=""),v){case"<":q=H+q+B+V;break;case"=":q=H+V+q+B;break;case"^":q=V.slice(0,z=V.length>>1)+H+q+B+V.slice(z);break;default:q=V+H+q+B;break}return i(q)}return K.toString=function(){return m+""},K}function p(m,g){var v=f((m=Ih(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor($u(g)/3)))*3,y=Math.pow(10,-w),j=dL[8+w/3];return function(_){return v(y*_)+j}}return{format:f,formatPrefix:p}}var Rg,rE,k8;Wde({thousands:",",grouping:[3],currency:["$",""]});function Wde(e){return Rg=Kde(e),rE=Rg.format,k8=Rg.formatPrefix,Rg}function Yde(e){return Math.max(0,-$u(Math.abs(e)))}function Gde(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($u(t)/3)))*3-$u(Math.abs(e)))}function Xde(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,$u(t)-$u(e))+1}function P8(e,t,n,r){var s=r2(e,t,n),i;switch(r=Ih(r??",f"),r.type){case"s":{var l=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=Gde(s,l))&&(r.precision=i),k8(r,l)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Xde(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Yde(s))&&(r.precision=i-(r.type==="%")*2);break}}return rE(r)}function Go(e){var t=e.domain;return e.ticks=function(n){var r=t();return t2(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return P8(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,l=r[s],u=r[i],d,f,p=10;for(u<l&&(f=l,l=u,u=f,f=s,s=i,i=f);p-- >0;){if(f=n2(l,u,n),f===d)return r[s]=l,r[i]=u,t(r);if(f>0)l=Math.floor(l/f)*f,u=Math.ceil(u/f)*f;else if(f<0)l=Math.ceil(l*f)/f,u=Math.floor(u*f)/f;else break;d=f}return e},e}function Ix(){var e=tE();return e.copy=function(){return $m(e,Ix())},es.apply(e,arguments),Go(e)}function R8(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Rx),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return R8(e).unknown(t)},e=arguments.length?Array.from(e,Rx):[0,1],Go(n)}function D8(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],i=e[r],l;return i<s&&(l=n,n=r,r=l,l=s,s=i,i=l),e[n]=t.floor(s),e[r]=t.ceil(i),e}function fL(e){return Math.log(e)}function hL(e){return Math.exp(e)}function Qde(e){return-Math.log(-e)}function Zde(e){return-Math.exp(-e)}function Jde(e){return isFinite(e)?+("1e"+e):e<0?0:e}function efe(e){return e===10?Jde:e===Math.E?Math.exp:t=>Math.pow(e,t)}function tfe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function mL(e){return(t,n)=>-e(-t,n)}function aE(e){const t=e(fL,hL),n=t.domain;let r=10,s,i;function l(){return s=tfe(r),i=efe(r),n()[0]<0?(s=mL(s),i=mL(i),e(Qde,Zde)):e(fL,hL),t}return t.base=function(u){return arguments.length?(r=+u,l()):r},t.domain=function(u){return arguments.length?(n(u),l()):n()},t.ticks=u=>{const d=n();let f=d[0],p=d[d.length-1];const m=p<f;m&&([f,p]=[p,f]);let g=s(f),v=s(p),w,y;const j=u==null?10:+u;let _=[];if(!(r%1)&&v-g<j){if(g=Math.floor(g),v=Math.ceil(v),f>0){for(;g<=v;++g)for(w=1;w<r;++w)if(y=g<0?w/i(-g):w*i(g),!(y<f)){if(y>p)break;_.push(y)}}else for(;g<=v;++g)for(w=r-1;w>=1;--w)if(y=g>0?w/i(-g):w*i(g),!(y<f)){if(y>p)break;_.push(y)}_.length*2<j&&(_=t2(f,p,j))}else _=t2(g,v,Math.min(v-g,j)).map(i);return m?_.reverse():_},t.tickFormat=(u,d)=>{if(u==null&&(u=10),d==null&&(d=r===10?"s":","),typeof d!="function"&&(!(r%1)&&(d=Ih(d)).precision==null&&(d.trim=!0),d=rE(d)),u===1/0)return d;const f=Math.max(1,r*u/t.ticks().length);return p=>{let m=p/i(Math.round(s(p)));return m*r<r-.5&&(m*=r),m<=f?d(p):""}},t.nice=()=>n(D8(n(),{floor:u=>i(Math.floor(s(u))),ceil:u=>i(Math.ceil(s(u)))})),t}function I8(){const e=aE(jv()).domain([1,10]);return e.copy=()=>$m(e,I8()).base(e.base()),es.apply(e,arguments),e}function pL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gL(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sE(e){var t=1,n=e(pL(t),gL(t));return n.constant=function(r){return arguments.length?e(pL(t=+r),gL(t)):t},Go(n)}function L8(){var e=sE(jv());return e.copy=function(){return $m(e,L8()).constant(e.constant())},es.apply(e,arguments)}function xL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nfe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function rfe(e){return e<0?-e*e:e*e}function iE(e){var t=e(Wr,Wr),n=1;function r(){return n===1?e(Wr,Wr):n===.5?e(nfe,rfe):e(xL(n),xL(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},Go(t)}function oE(){var e=iE(jv());return e.copy=function(){return $m(e,oE()).exponent(e.exponent())},es.apply(e,arguments),e}function afe(){return oE.apply(null,arguments).exponent(.5)}function yL(e){return Math.sign(e)*e*e}function sfe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function $8(){var e=tE(),t=[0,1],n=!1,r;function s(i){var l=sfe(e(i));return isNaN(l)?r:n?Math.round(l):l}return s.invert=function(i){return e.invert(yL(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,Rx)).map(yL)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(n=!!i,s):n},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return $8(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},es.apply(s,arguments),Go(s)}function q8(){var e=[],t=[],n=[],r;function s(){var l=0,u=Math.max(1,t.length);for(n=new Array(u-1);++l<u;)n[l-1]=ade(e,l/u);return i}function i(l){return l==null||isNaN(l=+l)?r:t[Im(n,l)]}return i.invertExtent=function(l){var u=t.indexOf(l);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},i.domain=function(l){if(!arguments.length)return e.slice();e=[];for(let u of l)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Ro),s()},i.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},i.unknown=function(l){return arguments.length?(r=l,i):r},i.quantiles=function(){return n.slice()},i.copy=function(){return q8().domain(e).range(t).unknown(r)},es.apply(i,arguments)}function z8(){var e=0,t=1,n=1,r=[.5],s=[0,1],i;function l(d){return d!=null&&d<=d?s[Im(r,d,0,n)]:i}function u(){var d=-1;for(r=new Array(n);++d<n;)r[d]=((d+1)*t-(d-n)*e)/(n+1);return l}return l.domain=function(d){return arguments.length?([e,t]=d,e=+e,t=+t,u()):[e,t]},l.range=function(d){return arguments.length?(n=(s=Array.from(d)).length-1,u()):s.slice()},l.invertExtent=function(d){var f=s.indexOf(d);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=n?[r[n-1],t]:[r[f-1],r[f]]},l.unknown=function(d){return arguments.length&&(i=d),l},l.thresholds=function(){return r.slice()},l.copy=function(){return z8().domain([e,t]).range(s).unknown(i)},es.apply(Go(l),arguments)}function B8(){var e=[.5],t=[0,1],n,r=1;function s(i){return i!=null&&i<=i?t[Im(e,i,0,r)]:n}return s.domain=function(i){return arguments.length?(e=Array.from(i),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var l=t.indexOf(i);return[e[l-1],e[l]]},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return B8().domain(e).range(t).unknown(n)},es.apply(s,arguments)}const aS=new Date,sS=new Date;function fr(e,t,n,r){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const l=s(i),u=s.ceil(i);return i-l<u-i?l:u},s.offset=(i,l)=>(t(i=new Date(+i),l==null?1:Math.floor(l)),i),s.range=(i,l,u)=>{const d=[];if(i=s.ceil(i),u=u==null?1:Math.floor(u),!(i<l)||!(u>0))return d;let f;do d.push(f=new Date(+i)),t(i,u),e(i);while(f<i&&i<l);return d},s.filter=i=>fr(l=>{if(l>=l)for(;e(l),!i(l);)l.setTime(l-1)},(l,u)=>{if(l>=l)if(u<0)for(;++u<=0;)for(;t(l,-1),!i(l););else for(;--u>=0;)for(;t(l,1),!i(l););}),n&&(s.count=(i,l)=>(aS.setTime(+i),sS.setTime(+l),e(aS),e(sS),Math.floor(n(aS,sS))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(r?l=>r(l)%i===0:l=>s.count(0,l)%i===0):s)),s}const Lx=fr(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Lx.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?fr(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Lx);Lx.range;const yi=1e3,Wa=yi*60,vi=Wa*60,Mi=vi*24,lE=Mi*7,vL=Mi*30,iS=Mi*365,Tl=fr(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yi)},(e,t)=>(t-e)/yi,e=>e.getUTCSeconds());Tl.range;const cE=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yi)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getMinutes());cE.range;const uE=fr(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Wa)},(e,t)=>(t-e)/Wa,e=>e.getUTCMinutes());uE.range;const dE=fr(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yi-e.getMinutes()*Wa)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getHours());dE.range;const fE=fr(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*vi)},(e,t)=>(t-e)/vi,e=>e.getUTCHours());fE.range;const qm=fr(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Wa)/Mi,e=>e.getDate()-1);qm.range;const wv=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>e.getUTCDate()-1);wv.range;const F8=fr(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Mi,e=>Math.floor(e/Mi));F8.range;function pc(e){return fr(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Wa)/lE)}const Nv=pc(0),$x=pc(1),ife=pc(2),ofe=pc(3),qu=pc(4),lfe=pc(5),cfe=pc(6);Nv.range;$x.range;ife.range;ofe.range;qu.range;lfe.range;cfe.range;function gc(e){return fr(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/lE)}const Sv=gc(0),qx=gc(1),ufe=gc(2),dfe=gc(3),zu=gc(4),ffe=gc(5),hfe=gc(6);Sv.range;qx.range;ufe.range;dfe.range;zu.range;ffe.range;hfe.range;const hE=fr(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hE.range;const mE=fr(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mE.range;const ki=fr(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ki.range;const Pi=fr(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Pi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:fr(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Pi.range;function U8(e,t,n,r,s,i){const l=[[Tl,1,yi],[Tl,5,5*yi],[Tl,15,15*yi],[Tl,30,30*yi],[i,1,Wa],[i,5,5*Wa],[i,15,15*Wa],[i,30,30*Wa],[s,1,vi],[s,3,3*vi],[s,6,6*vi],[s,12,12*vi],[r,1,Mi],[r,2,2*Mi],[n,1,lE],[t,1,vL],[t,3,3*vL],[e,1,iS]];function u(f,p,m){const g=p<f;g&&([f,p]=[p,f]);const v=m&&typeof m.range=="function"?m:d(f,p,m),w=v?v.range(f,+p+1):[];return g?w.reverse():w}function d(f,p,m){const g=Math.abs(p-f)/m,v=X_(([,,j])=>j).right(l,g);if(v===l.length)return e.every(r2(f/iS,p/iS,m));if(v===0)return Lx.every(Math.max(r2(f,p,m),1));const[w,y]=l[g/l[v-1][2]<l[v][2]/g?v-1:v];return w.every(y)}return[u,d]}const[mfe,pfe]=U8(Pi,mE,Sv,F8,fE,uE),[gfe,xfe]=U8(ki,hE,Nv,qm,dE,cE);function oS(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function lS(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yfe(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,i=e.days,l=e.shortDays,u=e.months,d=e.shortMonths,f=Bf(s),p=Ff(s),m=Bf(i),g=Ff(i),v=Bf(l),w=Ff(l),y=Bf(u),j=Ff(u),_=Bf(d),C=Ff(d),N={a:I,A:z,b:V,B:Y,c:null,d:AL,e:AL,f:Bfe,g:Qfe,G:Jfe,H:$fe,I:qfe,j:zfe,L:H8,m:Ffe,M:Ufe,p:U,q:F,Q:EL,s:OL,S:Hfe,u:Vfe,U:Kfe,V:Wfe,w:Yfe,W:Gfe,x:null,X:null,y:Xfe,Y:Zfe,Z:ehe,"%":_L},S={a:G,A:Z,b:ge,B:Se,c:null,d:CL,e:CL,f:ahe,g:mhe,G:ghe,H:the,I:nhe,j:rhe,L:K8,m:she,M:ihe,p:Q,q:pe,Q:EL,s:OL,S:ohe,u:lhe,U:che,V:uhe,w:dhe,W:fhe,x:null,X:null,y:hhe,Y:phe,Z:xhe,"%":_L},O={a:K,A:q,b:H,B,c:L,d:NL,e:NL,f:Rfe,g:wL,G:jL,H:SL,I:SL,j:Tfe,L:Pfe,m:Ofe,M:Mfe,p:$,q:Efe,Q:Ife,s:Lfe,S:kfe,u:Nfe,U:Sfe,V:Afe,w:wfe,W:Cfe,x:D,X:k,y:wL,Y:jL,Z:_fe,"%":Dfe};N.x=M(n,N),N.X=M(r,N),N.c=M(t,N),S.x=M(n,S),S.X=M(r,S),S.c=M(t,S);function M(ce,Ae){return function(_e){var le=[],$e=-1,re=0,Oe=ce.length,Ue,rt,en;for(_e instanceof Date||(_e=new Date(+_e));++$e<Oe;)ce.charCodeAt($e)===37&&(le.push(ce.slice(re,$e)),(rt=bL[Ue=ce.charAt(++$e)])!=null?Ue=ce.charAt(++$e):rt=Ue==="e"?" ":"0",(en=Ae[Ue])&&(Ue=en(_e,rt)),le.push(Ue),re=$e+1);return le.push(ce.slice(re,$e)),le.join("")}}function T(ce,Ae){return function(_e){var le=zf(1900,void 0,1),$e=P(le,ce,_e+="",0),re,Oe;if($e!=_e.length)return null;if("Q"in le)return new Date(le.Q);if("s"in le)return new Date(le.s*1e3+("L"in le?le.L:0));if(Ae&&!("Z"in le)&&(le.Z=0),"p"in le&&(le.H=le.H%12+le.p*12),le.m===void 0&&(le.m="q"in le?le.q:0),"V"in le){if(le.V<1||le.V>53)return null;"w"in le||(le.w=1),"Z"in le?(re=lS(zf(le.y,0,1)),Oe=re.getUTCDay(),re=Oe>4||Oe===0?qx.ceil(re):qx(re),re=wv.offset(re,(le.V-1)*7),le.y=re.getUTCFullYear(),le.m=re.getUTCMonth(),le.d=re.getUTCDate()+(le.w+6)%7):(re=oS(zf(le.y,0,1)),Oe=re.getDay(),re=Oe>4||Oe===0?$x.ceil(re):$x(re),re=qm.offset(re,(le.V-1)*7),le.y=re.getFullYear(),le.m=re.getMonth(),le.d=re.getDate()+(le.w+6)%7)}else("W"in le||"U"in le)&&("w"in le||(le.w="u"in le?le.u%7:"W"in le?1:0),Oe="Z"in le?lS(zf(le.y,0,1)).getUTCDay():oS(zf(le.y,0,1)).getDay(),le.m=0,le.d="W"in le?(le.w+6)%7+le.W*7-(Oe+5)%7:le.w+le.U*7-(Oe+6)%7);return"Z"in le?(le.H+=le.Z/100|0,le.M+=le.Z%100,lS(le)):oS(le)}}function P(ce,Ae,_e,le){for(var $e=0,re=Ae.length,Oe=_e.length,Ue,rt;$e<re;){if(le>=Oe)return-1;if(Ue=Ae.charCodeAt($e++),Ue===37){if(Ue=Ae.charAt($e++),rt=O[Ue in bL?Ae.charAt($e++):Ue],!rt||(le=rt(ce,_e,le))<0)return-1}else if(Ue!=_e.charCodeAt(le++))return-1}return le}function $(ce,Ae,_e){var le=f.exec(Ae.slice(_e));return le?(ce.p=p.get(le[0].toLowerCase()),_e+le[0].length):-1}function K(ce,Ae,_e){var le=v.exec(Ae.slice(_e));return le?(ce.w=w.get(le[0].toLowerCase()),_e+le[0].length):-1}function q(ce,Ae,_e){var le=m.exec(Ae.slice(_e));return le?(ce.w=g.get(le[0].toLowerCase()),_e+le[0].length):-1}function H(ce,Ae,_e){var le=_.exec(Ae.slice(_e));return le?(ce.m=C.get(le[0].toLowerCase()),_e+le[0].length):-1}function B(ce,Ae,_e){var le=y.exec(Ae.slice(_e));return le?(ce.m=j.get(le[0].toLowerCase()),_e+le[0].length):-1}function L(ce,Ae,_e){return P(ce,t,Ae,_e)}function D(ce,Ae,_e){return P(ce,n,Ae,_e)}function k(ce,Ae,_e){return P(ce,r,Ae,_e)}function I(ce){return l[ce.getDay()]}function z(ce){return i[ce.getDay()]}function V(ce){return d[ce.getMonth()]}function Y(ce){return u[ce.getMonth()]}function U(ce){return s[+(ce.getHours()>=12)]}function F(ce){return 1+~~(ce.getMonth()/3)}function G(ce){return l[ce.getUTCDay()]}function Z(ce){return i[ce.getUTCDay()]}function ge(ce){return d[ce.getUTCMonth()]}function Se(ce){return u[ce.getUTCMonth()]}function Q(ce){return s[+(ce.getUTCHours()>=12)]}function pe(ce){return 1+~~(ce.getUTCMonth()/3)}return{format:function(ce){var Ae=M(ce+="",N);return Ae.toString=function(){return ce},Ae},parse:function(ce){var Ae=T(ce+="",!1);return Ae.toString=function(){return ce},Ae},utcFormat:function(ce){var Ae=M(ce+="",S);return Ae.toString=function(){return ce},Ae},utcParse:function(ce){var Ae=T(ce+="",!0);return Ae.toString=function(){return ce},Ae}}}var bL={"-":"",_:" ",0:"0"},wr=/^\s*\d+/,vfe=/^%/,bfe=/[\\^$*+?|[\]().{}]/g;function Ut(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",i=s.length;return r+(i<n?new Array(n-i+1).join(t)+s:s)}function jfe(e){return e.replace(bfe,"\\$&")}function Bf(e){return new RegExp("^(?:"+e.map(jfe).join("|")+")","i")}function Ff(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function wfe(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Nfe(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Sfe(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Afe(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Cfe(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function jL(e,t,n){var r=wr.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function wL(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function _fe(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Efe(e,t,n){var r=wr.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function Ofe(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function NL(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Tfe(e,t,n){var r=wr.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function SL(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Mfe(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function kfe(e,t,n){var r=wr.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Pfe(e,t,n){var r=wr.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Rfe(e,t,n){var r=wr.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Dfe(e,t,n){var r=vfe.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ife(e,t,n){var r=wr.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Lfe(e,t,n){var r=wr.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function AL(e,t){return Ut(e.getDate(),t,2)}function $fe(e,t){return Ut(e.getHours(),t,2)}function qfe(e,t){return Ut(e.getHours()%12||12,t,2)}function zfe(e,t){return Ut(1+qm.count(ki(e),e),t,3)}function H8(e,t){return Ut(e.getMilliseconds(),t,3)}function Bfe(e,t){return H8(e,t)+"000"}function Ffe(e,t){return Ut(e.getMonth()+1,t,2)}function Ufe(e,t){return Ut(e.getMinutes(),t,2)}function Hfe(e,t){return Ut(e.getSeconds(),t,2)}function Vfe(e){var t=e.getDay();return t===0?7:t}function Kfe(e,t){return Ut(Nv.count(ki(e)-1,e),t,2)}function V8(e){var t=e.getDay();return t>=4||t===0?qu(e):qu.ceil(e)}function Wfe(e,t){return e=V8(e),Ut(qu.count(ki(e),e)+(ki(e).getDay()===4),t,2)}function Yfe(e){return e.getDay()}function Gfe(e,t){return Ut($x.count(ki(e)-1,e),t,2)}function Xfe(e,t){return Ut(e.getFullYear()%100,t,2)}function Qfe(e,t){return e=V8(e),Ut(e.getFullYear()%100,t,2)}function Zfe(e,t){return Ut(e.getFullYear()%1e4,t,4)}function Jfe(e,t){var n=e.getDay();return e=n>=4||n===0?qu(e):qu.ceil(e),Ut(e.getFullYear()%1e4,t,4)}function ehe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ut(t/60|0,"0",2)+Ut(t%60,"0",2)}function CL(e,t){return Ut(e.getUTCDate(),t,2)}function the(e,t){return Ut(e.getUTCHours(),t,2)}function nhe(e,t){return Ut(e.getUTCHours()%12||12,t,2)}function rhe(e,t){return Ut(1+wv.count(Pi(e),e),t,3)}function K8(e,t){return Ut(e.getUTCMilliseconds(),t,3)}function ahe(e,t){return K8(e,t)+"000"}function she(e,t){return Ut(e.getUTCMonth()+1,t,2)}function ihe(e,t){return Ut(e.getUTCMinutes(),t,2)}function ohe(e,t){return Ut(e.getUTCSeconds(),t,2)}function lhe(e){var t=e.getUTCDay();return t===0?7:t}function che(e,t){return Ut(Sv.count(Pi(e)-1,e),t,2)}function W8(e){var t=e.getUTCDay();return t>=4||t===0?zu(e):zu.ceil(e)}function uhe(e,t){return e=W8(e),Ut(zu.count(Pi(e),e)+(Pi(e).getUTCDay()===4),t,2)}function dhe(e){return e.getUTCDay()}function fhe(e,t){return Ut(qx.count(Pi(e)-1,e),t,2)}function hhe(e,t){return Ut(e.getUTCFullYear()%100,t,2)}function mhe(e,t){return e=W8(e),Ut(e.getUTCFullYear()%100,t,2)}function phe(e,t){return Ut(e.getUTCFullYear()%1e4,t,4)}function ghe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?zu(e):zu.ceil(e),Ut(e.getUTCFullYear()%1e4,t,4)}function xhe(){return"+0000"}function _L(){return"%"}function EL(e){return+e}function OL(e){return Math.floor(+e/1e3)}var uu,Y8,G8;yhe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yhe(e){return uu=yfe(e),Y8=uu.format,uu.parse,G8=uu.utcFormat,uu.utcParse,uu}function vhe(e){return new Date(e)}function bhe(e){return e instanceof Date?+e:+new Date(+e)}function pE(e,t,n,r,s,i,l,u,d,f){var p=tE(),m=p.invert,g=p.domain,v=f(".%L"),w=f(":%S"),y=f("%I:%M"),j=f("%I %p"),_=f("%a %d"),C=f("%b %d"),N=f("%B"),S=f("%Y");function O(M){return(d(M)<M?v:u(M)<M?w:l(M)<M?y:i(M)<M?j:r(M)<M?s(M)<M?_:C:n(M)<M?N:S)(M)}return p.invert=function(M){return new Date(m(M))},p.domain=function(M){return arguments.length?g(Array.from(M,bhe)):g().map(vhe)},p.ticks=function(M){var T=g();return e(T[0],T[T.length-1],M??10)},p.tickFormat=function(M,T){return T==null?O:f(T)},p.nice=function(M){var T=g();return(!M||typeof M.range!="function")&&(M=t(T[0],T[T.length-1],M??10)),M?g(D8(T,M)):p},p.copy=function(){return $m(p,pE(e,t,n,r,s,i,l,u,d,f))},p}function jhe(){return es.apply(pE(gfe,xfe,ki,hE,Nv,qm,dE,cE,Tl,Y8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function whe(){return es.apply(pE(mfe,pfe,Pi,mE,Sv,wv,fE,uE,Tl,G8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Av(){var e=0,t=1,n,r,s,i,l=Wr,u=!1,d;function f(m){return m==null||isNaN(m=+m)?d:l(s===0?.5:(m=(i(m)-n)*s,u?Math.max(0,Math.min(1,m)):m))}f.domain=function(m){return arguments.length?([e,t]=m,n=i(e=+e),r=i(t=+t),s=n===r?0:1/(r-n),f):[e,t]},f.clamp=function(m){return arguments.length?(u=!!m,f):u},f.interpolator=function(m){return arguments.length?(l=m,f):l};function p(m){return function(g){var v,w;return arguments.length?([v,w]=g,l=m(v,w),f):[l(0),l(1)]}}return f.range=p(Ni),f.rangeRound=p(eE),f.unknown=function(m){return arguments.length?(d=m,f):d},function(m){return i=m,n=m(e),r=m(t),s=n===r?0:1/(r-n),f}}function Xo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function X8(){var e=Go(Av()(Wr));return e.copy=function(){return Xo(e,X8())},zi.apply(e,arguments)}function Q8(){var e=aE(Av()).domain([1,10]);return e.copy=function(){return Xo(e,Q8()).base(e.base())},zi.apply(e,arguments)}function Z8(){var e=sE(Av());return e.copy=function(){return Xo(e,Z8()).constant(e.constant())},zi.apply(e,arguments)}function gE(){var e=iE(Av());return e.copy=function(){return Xo(e,gE()).exponent(e.exponent())},zi.apply(e,arguments)}function Nhe(){return gE.apply(null,arguments).exponent(.5)}function J8(){var e=[],t=Wr;function n(r){if(r!=null&&!isNaN(r=+r))return t((Im(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Ro),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,i)=>rde(e,i/r))},n.copy=function(){return J8(t).domain(e)},zi.apply(n,arguments)}function Cv(){var e=0,t=.5,n=1,r=1,s,i,l,u,d,f=Wr,p,m=!1,g;function v(y){return isNaN(y=+y)?g:(y=.5+((y=+p(y))-i)*(r*y<r*i?u:d),f(m?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,n]=y,s=p(e=+e),i=p(t=+t),l=p(n=+n),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),r=i<s?-1:1,v):[e,t,n]},v.clamp=function(y){return arguments.length?(m=!!y,v):m},v.interpolator=function(y){return arguments.length?(f=y,v):f};function w(y){return function(j){var _,C,N;return arguments.length?([_,C,N]=j,f=Dde(y,[_,C,N]),v):[f(0),f(.5),f(1)]}}return v.range=w(Ni),v.rangeRound=w(eE),v.unknown=function(y){return arguments.length?(g=y,v):g},function(y){return p=y,s=y(e),i=y(t),l=y(n),u=s===i?0:.5/(i-s),d=i===l?0:.5/(l-i),r=i<s?-1:1,v}}function eU(){var e=Go(Cv()(Wr));return e.copy=function(){return Xo(e,eU())},zi.apply(e,arguments)}function tU(){var e=aE(Cv()).domain([.1,1,10]);return e.copy=function(){return Xo(e,tU()).base(e.base())},zi.apply(e,arguments)}function nU(){var e=sE(Cv());return e.copy=function(){return Xo(e,nU()).constant(e.constant())},zi.apply(e,arguments)}function xE(){var e=iE(Cv());return e.copy=function(){return Xo(e,xE()).exponent(e.exponent())},zi.apply(e,arguments)}function She(){return xE.apply(null,arguments).exponent(.5)}const TL=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ph,scaleDiverging:eU,scaleDivergingLog:tU,scaleDivergingPow:xE,scaleDivergingSqrt:She,scaleDivergingSymlog:nU,scaleIdentity:R8,scaleImplicit:a2,scaleLinear:Ix,scaleLog:I8,scaleOrdinal:Q_,scalePoint:uh,scalePow:oE,scaleQuantile:q8,scaleQuantize:z8,scaleRadial:$8,scaleSequential:X8,scaleSequentialLog:Q8,scaleSequentialPow:gE,scaleSequentialQuantile:J8,scaleSequentialSqrt:Nhe,scaleSequentialSymlog:Z8,scaleSqrt:afe,scaleSymlog:L8,scaleThreshold:B8,scaleTime:jhe,scaleUtc:whe,tickFormat:P8},Symbol.toStringTag,{value:"Module"}));var cS,ML;function _v(){if(ML)return cS;ML=1;var e=Od();function t(n,r,s){for(var i=-1,l=n.length;++i<l;){var u=n[i],d=r(u);if(d!=null&&(f===void 0?d===d&&!e(d):s(d,f)))var f=d,p=u}return p}return cS=t,cS}var uS,kL;function rU(){if(kL)return uS;kL=1;function e(t,n){return t>n}return uS=e,uS}var dS,PL;function Ahe(){if(PL)return dS;PL=1;var e=_v(),t=rU(),n=kd();function r(s){return s&&s.length?e(s,n,t):void 0}return dS=r,dS}var Che=Ahe();const To=Wt(Che);var fS,RL;function aU(){if(RL)return fS;RL=1;function e(t,n){return t<n}return fS=e,fS}var hS,DL;function _he(){if(DL)return hS;DL=1;var e=_v(),t=aU(),n=kd();function r(s){return s&&s.length?e(s,n,t):void 0}return hS=r,hS}var Ehe=_he();const Ev=Wt(Ehe);var mS,IL;function Ohe(){if(IL)return mS;IL=1;var e=R_(),t=Vs(),n=c8(),r=ua();function s(i,l){var u=r(i)?e:n;return u(i,t(l,3))}return mS=s,mS}var pS,LL;function The(){if(LL)return pS;LL=1;var e=o8(),t=Ohe();function n(r,s){return e(t(r,s),1)}return pS=n,pS}var Mhe=The();const khe=Wt(Mhe);var gS,$L;function Phe(){if($L)return gS;$L=1;var e=K_();function t(n,r){return e(n,r)}return gS=t,gS}var Rhe=Phe();const zo=Wt(Rhe);var Pd=1e9,Dhe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vE,_n=!0,Xa="[DecimalError] ",Dl=Xa+"Invalid argument: ",yE=Xa+"Exponent out of range: ",Rd=Math.floor,Nl=Math.pow,Ihe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wa,gr=1e7,Sn=7,sU=9007199254740991,zx=Rd(sU/Sn),We={};We.absoluteValue=We.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};We.comparedTo=We.cmp=function(e){var t,n,r,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(r=i.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return r===s?0:r>s^i.s<0?1:-1};We.decimalPlaces=We.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Sn;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};We.dividedBy=We.div=function(e){return Si(this,new this.constructor(e))};We.dividedToIntegerBy=We.idiv=function(e){var t=this,n=t.constructor;return hn(Si(t,new n(e),0,1),n.precision)};We.equals=We.eq=function(e){return!this.cmp(e)};We.exponent=function(){return Jn(this)};We.greaterThan=We.gt=function(e){return this.cmp(e)>0};We.greaterThanOrEqualTo=We.gte=function(e){return this.cmp(e)>=0};We.isInteger=We.isint=function(){return this.e>this.d.length-2};We.isNegative=We.isneg=function(){return this.s<0};We.isPositive=We.ispos=function(){return this.s>0};We.isZero=function(){return this.s===0};We.lessThan=We.lt=function(e){return this.cmp(e)<0};We.lessThanOrEqualTo=We.lte=function(e){return this.cmp(e)<1};We.logarithm=We.log=function(e){var t,n=this,r=n.constructor,s=r.precision,i=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(wa))throw Error(Xa+"NaN");if(n.s<1)throw Error(Xa+(n.s?"NaN":"-Infinity"));return n.eq(wa)?new r(0):(_n=!1,t=Si(Lh(n,i),Lh(e,i),i),_n=!0,hn(t,s))};We.minus=We.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?lU(t,e):iU(t,(e.s=-e.s,e))};We.modulo=We.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Xa+"NaN");return n.s?(_n=!1,t=Si(n,e,0,1).times(e),_n=!0,n.minus(t)):hn(new r(n),s)};We.naturalExponential=We.exp=function(){return oU(this)};We.naturalLogarithm=We.ln=function(){return Lh(this)};We.negated=We.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};We.plus=We.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?iU(t,e):lU(t,(e.s=-e.s,e))};We.precision=We.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Dl+e);if(t=Jn(s)+1,r=s.d.length-1,n=r*Sn+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};We.squareRoot=We.sqrt=function(){var e,t,n,r,s,i,l,u=this,d=u.constructor;if(u.s<1){if(!u.s)return new d(0);throw Error(Xa+"NaN")}for(e=Jn(u),_n=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Ps(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Rd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new d(t)):r=new d(s.toString()),n=d.precision,s=l=n+3;;)if(i=r,r=i.plus(Si(u,i,l+2)).times(.5),Ps(i.d).slice(0,l)===(t=Ps(r.d)).slice(0,l)){if(t=t.slice(l-3,l+1),s==l&&t=="4999"){if(hn(i,n+1,0),i.times(i).eq(u)){r=i;break}}else if(t!="9999")break;l+=4}return _n=!0,hn(r,n)};We.times=We.mul=function(e){var t,n,r,s,i,l,u,d,f,p=this,m=p.constructor,g=p.d,v=(e=new m(e)).d;if(!p.s||!e.s)return new m(0);for(e.s*=p.s,n=p.e+e.e,d=g.length,f=v.length,d<f&&(i=g,g=v,v=i,l=d,d=f,f=l),i=[],l=d+f,r=l;r--;)i.push(0);for(r=f;--r>=0;){for(t=0,s=d+r;s>r;)u=i[s]+v[r]*g[s-r-1]+t,i[s--]=u%gr|0,t=u/gr|0;i[s]=(i[s]+t)%gr|0}for(;!i[--l];)i.pop();return t?++n:i.shift(),e.d=i,e.e=n,_n?hn(e,m.precision):e};We.toDecimalPlaces=We.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(zs(e,0,Pd),t===void 0?t=r.rounding:zs(t,0,8),hn(n,e+Jn(n)+1,t))};We.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=Gl(r,!0):(zs(e,0,Pd),t===void 0?t=s.rounding:zs(t,0,8),r=hn(new s(r),e+1,t),n=Gl(r,!0,e+1)),n};We.toFixed=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?Gl(s):(zs(e,0,Pd),t===void 0?t=i.rounding:zs(t,0,8),r=hn(new i(s),e+Jn(s)+1,t),n=Gl(r.abs(),!1,e+Jn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};We.toInteger=We.toint=function(){var e=this,t=e.constructor;return hn(new t(e),Jn(e)+1,t.rounding)};We.toNumber=function(){return+this};We.toPower=We.pow=function(e){var t,n,r,s,i,l,u=this,d=u.constructor,f=12,p=+(e=new d(e));if(!e.s)return new d(wa);if(u=new d(u),!u.s){if(e.s<1)throw Error(Xa+"Infinity");return u}if(u.eq(wa))return u;if(r=d.precision,e.eq(wa))return hn(u,r);if(t=e.e,n=e.d.length-1,l=t>=n,i=u.s,l){if((n=p<0?-p:p)<=sU){for(s=new d(wa),t=Math.ceil(r/Sn+4),_n=!1;n%2&&(s=s.times(u),zL(s.d,t)),n=Rd(n/2),n!==0;)u=u.times(u),zL(u.d,t);return _n=!0,e.s<0?new d(wa).div(s):hn(s,r)}}else if(i<0)throw Error(Xa+"NaN");return i=i<0&&e.d[Math.max(t,n)]&1?-1:1,u.s=1,_n=!1,s=e.times(Lh(u,r+f)),_n=!0,s=oU(s),s.s=i,s};We.toPrecision=function(e,t){var n,r,s=this,i=s.constructor;return e===void 0?(n=Jn(s),r=Gl(s,n<=i.toExpNeg||n>=i.toExpPos)):(zs(e,1,Pd),t===void 0?t=i.rounding:zs(t,0,8),s=hn(new i(s),e,t),n=Jn(s),r=Gl(s,e<=n||n<=i.toExpNeg,e)),r};We.toSignificantDigits=We.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(zs(e,1,Pd),t===void 0?t=r.rounding:zs(t,0,8)),hn(new r(n),e,t)};We.toString=We.valueOf=We.val=We.toJSON=We[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Jn(e),n=e.constructor;return Gl(e,t<=n.toExpNeg||t>=n.toExpPos)};function iU(e,t){var n,r,s,i,l,u,d,f,p=e.constructor,m=p.precision;if(!e.s||!t.s)return t.s||(t=new p(e)),_n?hn(t,m):t;if(d=e.d,f=t.d,l=e.e,s=t.e,d=d.slice(),i=l-s,i){for(i<0?(r=d,i=-i,u=f.length):(r=f,s=l,u=d.length),l=Math.ceil(m/Sn),u=l>u?l+1:u+1,i>u&&(i=u,r.length=1),r.reverse();i--;)r.push(0);r.reverse()}for(u=d.length,i=f.length,u-i<0&&(i=u,r=f,f=d,d=r),n=0;i;)n=(d[--i]=d[i]+f[i]+n)/gr|0,d[i]%=gr;for(n&&(d.unshift(n),++s),u=d.length;d[--u]==0;)d.pop();return t.d=d,t.e=s,_n?hn(t,m):t}function zs(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Dl+e)}function Ps(e){var t,n,r,s=e.length-1,i="",l=e[0];if(s>0){for(i+=l,t=1;t<s;t++)r=e[t]+"",n=Sn-r.length,n&&(i+=Ao(n)),i+=r;l=e[t],r=l+"",n=Sn-r.length,n&&(i+=Ao(n))}else if(l===0)return"0";for(;l%10===0;)l/=10;return i+l}var Si=(function(){function e(r,s){var i,l=0,u=r.length;for(r=r.slice();u--;)i=r[u]*s+l,r[u]=i%gr|0,l=i/gr|0;return l&&r.unshift(l),r}function t(r,s,i,l){var u,d;if(i!=l)d=i>l?1:-1;else for(u=d=0;u<i;u++)if(r[u]!=s[u]){d=r[u]>s[u]?1:-1;break}return d}function n(r,s,i){for(var l=0;i--;)r[i]-=l,l=r[i]<s[i]?1:0,r[i]=l*gr+r[i]-s[i];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,i,l){var u,d,f,p,m,g,v,w,y,j,_,C,N,S,O,M,T,P,$=r.constructor,K=r.s==s.s?1:-1,q=r.d,H=s.d;if(!r.s)return new $(r);if(!s.s)throw Error(Xa+"Division by zero");for(d=r.e-s.e,T=H.length,O=q.length,v=new $(K),w=v.d=[],f=0;H[f]==(q[f]||0);)++f;if(H[f]>(q[f]||0)&&--d,i==null?C=i=$.precision:l?C=i+(Jn(r)-Jn(s))+1:C=i,C<0)return new $(0);if(C=C/Sn+2|0,f=0,T==1)for(p=0,H=H[0],C++;(f<O||p)&&C--;f++)N=p*gr+(q[f]||0),w[f]=N/H|0,p=N%H|0;else{for(p=gr/(H[0]+1)|0,p>1&&(H=e(H,p),q=e(q,p),T=H.length,O=q.length),S=T,y=q.slice(0,T),j=y.length;j<T;)y[j++]=0;P=H.slice(),P.unshift(0),M=H[0],H[1]>=gr/2&&++M;do p=0,u=t(H,y,T,j),u<0?(_=y[0],T!=j&&(_=_*gr+(y[1]||0)),p=_/M|0,p>1?(p>=gr&&(p=gr-1),m=e(H,p),g=m.length,j=y.length,u=t(m,y,g,j),u==1&&(p--,n(m,T<g?P:H,g))):(p==0&&(u=p=1),m=H.slice()),g=m.length,g<j&&m.unshift(0),n(y,m,j),u==-1&&(j=y.length,u=t(H,y,T,j),u<1&&(p++,n(y,T<j?P:H,j))),j=y.length):u===0&&(p++,y=[0]),w[f++]=p,u&&y[0]?y[j++]=q[S]||0:(y=[q[S]],j=1);while((S++<O||y[0]!==void 0)&&C--)}return w[0]||w.shift(),v.e=d,hn(v,l?i+Jn(v)+1:i)}})();function oU(e,t){var n,r,s,i,l,u,d=0,f=0,p=e.constructor,m=p.precision;if(Jn(e)>16)throw Error(yE+Jn(e));if(!e.s)return new p(wa);for(_n=!1,u=m,l=new p(.03125);e.abs().gte(.1);)e=e.times(l),f+=5;for(r=Math.log(Nl(2,f))/Math.LN10*2+5|0,u+=r,n=s=i=new p(wa),p.precision=u;;){if(s=hn(s.times(e),u),n=n.times(++d),l=i.plus(Si(s,n,u)),Ps(l.d).slice(0,u)===Ps(i.d).slice(0,u)){for(;f--;)i=hn(i.times(i),u);return p.precision=m,t==null?(_n=!0,hn(i,m)):i}i=l}}function Jn(e){for(var t=e.e*Sn,n=e.d[0];n>=10;n/=10)t++;return t}function xS(e,t,n){if(t>e.LN10.sd())throw _n=!0,n&&(e.precision=n),Error(Xa+"LN10 precision limit exceeded");return hn(new e(e.LN10),t)}function Ao(e){for(var t="";e--;)t+="0";return t}function Lh(e,t){var n,r,s,i,l,u,d,f,p,m=1,g=10,v=e,w=v.d,y=v.constructor,j=y.precision;if(v.s<1)throw Error(Xa+(v.s?"NaN":"-Infinity"));if(v.eq(wa))return new y(0);if(t==null?(_n=!1,f=j):f=t,v.eq(10))return t==null&&(_n=!0),xS(y,f);if(f+=g,y.precision=f,n=Ps(w),r=n.charAt(0),i=Jn(v),Math.abs(i)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)v=v.times(e),n=Ps(v.d),r=n.charAt(0),m++;i=Jn(v),r>1?(v=new y("0."+n),i++):v=new y(r+"."+n.slice(1))}else return d=xS(y,f+2,j).times(i+""),v=Lh(new y(r+"."+n.slice(1)),f-g).plus(d),y.precision=j,t==null?(_n=!0,hn(v,j)):v;for(u=l=v=Si(v.minus(wa),v.plus(wa),f),p=hn(v.times(v),f),s=3;;){if(l=hn(l.times(p),f),d=u.plus(Si(l,new y(s),f)),Ps(d.d).slice(0,f)===Ps(u.d).slice(0,f))return u=u.times(2),i!==0&&(u=u.plus(xS(y,f+2,j).times(i+""))),u=Si(u,new y(m),f),y.precision=j,t==null?(_n=!0,hn(u,j)):u;u=d,s+=2}}function qL(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=Rd(n/Sn),e.d=[],r=(n+1)%Sn,n<0&&(r+=Sn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Sn;r<s;)e.d.push(+t.slice(r,r+=Sn));t=t.slice(r),r=Sn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),_n&&(e.e>zx||e.e<-zx))throw Error(yE+n)}else e.s=0,e.e=0,e.d=[0];return e}function hn(e,t,n){var r,s,i,l,u,d,f,p,m=e.d;for(l=1,i=m[0];i>=10;i/=10)l++;if(r=t-l,r<0)r+=Sn,s=t,f=m[p=0];else{if(p=Math.ceil((r+1)/Sn),i=m.length,p>=i)return e;for(f=i=m[p],l=1;i>=10;i/=10)l++;r%=Sn,s=r-Sn+l}if(n!==void 0&&(i=Nl(10,l-s-1),u=f/i%10|0,d=t<0||m[p+1]!==void 0||f%i,d=n<4?(u||d)&&(n==0||n==(e.s<0?3:2)):u>5||u==5&&(n==4||d||n==6&&(r>0?s>0?f/Nl(10,l-s):0:m[p-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return d?(i=Jn(e),m.length=1,t=t-i-1,m[0]=Nl(10,(Sn-t%Sn)%Sn),e.e=Rd(-t/Sn)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=p,i=1,p--):(m.length=p+1,i=Nl(10,Sn-r),m[p]=s>0?(f/Nl(10,l-s)%Nl(10,s)|0)*i:0),d)for(;;)if(p==0){(m[0]+=i)==gr&&(m[0]=1,++e.e);break}else{if(m[p]+=i,m[p]!=gr)break;m[p--]=0,i=1}for(r=m.length;m[--r]===0;)m.pop();if(_n&&(e.e>zx||e.e<-zx))throw Error(yE+Jn(e));return e}function lU(e,t){var n,r,s,i,l,u,d,f,p,m,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),_n?hn(t,v):t;if(d=e.d,m=t.d,r=t.e,f=e.e,d=d.slice(),l=f-r,l){for(p=l<0,p?(n=d,l=-l,u=m.length):(n=m,r=f,u=d.length),s=Math.max(Math.ceil(v/Sn),u)+2,l>s&&(l=s,n.length=1),n.reverse(),s=l;s--;)n.push(0);n.reverse()}else{for(s=d.length,u=m.length,p=s<u,p&&(u=s),s=0;s<u;s++)if(d[s]!=m[s]){p=d[s]<m[s];break}l=0}for(p&&(n=d,d=m,m=n,t.s=-t.s),u=d.length,s=m.length-u;s>0;--s)d[u++]=0;for(s=m.length;s>l;){if(d[--s]<m[s]){for(i=s;i&&d[--i]===0;)d[i]=gr-1;--d[i],d[s]+=gr}d[s]-=m[s]}for(;d[--u]===0;)d.pop();for(;d[0]===0;d.shift())--r;return d[0]?(t.d=d,t.e=r,_n?hn(t,v):t):new g(0)}function Gl(e,t,n){var r,s=Jn(e),i=Ps(e.d),l=i.length;return t?(n&&(r=n-l)>0?i=i.charAt(0)+"."+i.slice(1)+Ao(r):l>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+Ao(-s-1)+i,n&&(r=n-l)>0&&(i+=Ao(r))):s>=l?(i+=Ao(s+1-l),n&&(r=n-s-1)>0&&(i=i+"."+Ao(r))):((r=s+1)<l&&(i=i.slice(0,r)+"."+i.slice(r)),n&&(r=n-l)>0&&(s+1===l&&(i+="."),i+=Ao(r))),e.s<0?"-"+i:i}function zL(e,t){if(e.length>t)return e.length=t,!0}function cU(e){var t,n,r;function s(i){var l=this;if(!(l instanceof s))return new s(i);if(l.constructor=s,i instanceof s){l.s=i.s,l.e=i.e,l.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Dl+i);if(i>0)l.s=1;else if(i<0)i=-i,l.s=-1;else{l.s=0,l.e=0,l.d=[0];return}if(i===~~i&&i<1e7){l.e=0,l.d=[i];return}return qL(l,i.toString())}else if(typeof i!="string")throw Error(Dl+i);if(i.charCodeAt(0)===45?(i=i.slice(1),l.s=-1):l.s=1,Ihe.test(i))qL(l,i);else throw Error(Dl+i)}if(s.prototype=We,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=cU,s.config=s.set=Lhe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function Lhe(e){if(!e||typeof e!="object")throw Error(Xa+"Object expected");var t,n,r,s=["precision",1,Pd,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(Rd(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(Dl+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Dl+n+": "+r);return this}var vE=cU(Dhe);wa=new vE(1);const un=vE;function $he(e){return Fhe(e)||Bhe(e)||zhe(e)||qhe()}function qhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zhe(e,t){if(e){if(typeof e=="string")return c2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c2(e,t)}}function Bhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function Fhe(e){if(Array.isArray(e))return c2(e)}function c2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uhe=function(t){return t},uU={},dU=function(t){return t===uU},BL=function(t){return function n(){return arguments.length===0||arguments.length===1&&dU(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},Hhe=function e(t,n){return t===1?n:BL(function(){for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];var l=s.filter(function(u){return u!==uU}).length;return l>=t?n.apply(void 0,s):e(t-l,BL(function(){for(var u=arguments.length,d=new Array(u),f=0;f<u;f++)d[f]=arguments[f];var p=s.map(function(m){return dU(m)?d.shift():m});return n.apply(void 0,$he(p).concat(d))}))})},Ov=function(t){return Hhe(t.length,t)},u2=function(t,n){for(var r=[],s=t;s<n;++s)r[s-t]=s;return r},Vhe=Ov(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),Khe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return Uhe;var s=n.reverse(),i=s[0],l=s.slice(1);return function(){return l.reduce(function(u,d){return d(u)},i.apply(void 0,arguments))}},d2=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},fU=function(t){var n=null,r=null;return function(){for(var s=arguments.length,i=new Array(s),l=0;l<s;l++)i[l]=arguments[l];return n&&i.every(function(u,d){return u===n[d]})||(n=i,r=t.apply(void 0,i)),r}};function Whe(e){var t;return e===0?t=1:t=Math.floor(new un(e).abs().log(10).toNumber())+1,t}function Yhe(e,t,n){for(var r=new un(e),s=0,i=[];r.lt(t)&&s<1e5;)i.push(r.toNumber()),r=r.add(n),s++;return i}var Ghe=Ov(function(e,t,n){var r=+e,s=+t;return r+n*(s-r)}),Xhe=Ov(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),Qhe=Ov(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const Tv={rangeStep:Yhe,getDigitCount:Whe,interpolateNumber:Ghe,uninterpolateNumber:Xhe,uninterpolateTruncation:Qhe};function f2(e){return eme(e)||Jhe(e)||hU(e)||Zhe()}function Zhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jhe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function eme(e){if(Array.isArray(e))return h2(e)}function $h(e,t){return rme(e)||nme(e,t)||hU(e,t)||tme()}function tme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hU(e,t){if(e){if(typeof e=="string")return h2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h2(e,t)}}function h2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function nme(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,s=!1,i=void 0;try{for(var l=e[Symbol.iterator](),u;!(r=(u=l.next()).done)&&(n.push(u.value),!(t&&n.length===t));r=!0);}catch(d){s=!0,i=d}finally{try{!r&&l.return!=null&&l.return()}finally{if(s)throw i}}return n}}function rme(e){if(Array.isArray(e))return e}function mU(e){var t=$h(e,2),n=t[0],r=t[1],s=n,i=r;return n>r&&(s=r,i=n),[s,i]}function pU(e,t,n){if(e.lte(0))return new un(0);var r=Tv.getDigitCount(e.toNumber()),s=new un(10).pow(r),i=e.div(s),l=r!==1?.05:.1,u=new un(Math.ceil(i.div(l).toNumber())).add(n).mul(l),d=u.mul(s);return t?d:new un(Math.ceil(d))}function ame(e,t,n){var r=1,s=new un(e);if(!s.isint()&&n){var i=Math.abs(e);i<1?(r=new un(10).pow(Tv.getDigitCount(e)-1),s=new un(Math.floor(s.div(r).toNumber())).mul(r)):i>1&&(s=new un(Math.floor(e)))}else e===0?s=new un(Math.floor((t-1)/2)):n||(s=new un(Math.floor(e)));var l=Math.floor((t-1)/2),u=Khe(Vhe(function(d){return s.add(new un(d-l).mul(r)).toNumber()}),u2);return u(0,t)}function gU(e,t,n,r){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new un(0),tickMin:new un(0),tickMax:new un(0)};var i=pU(new un(t).sub(e).div(n-1),r,s),l;e<=0&&t>=0?l=new un(0):(l=new un(e).add(t).div(2),l=l.sub(new un(l).mod(i)));var u=Math.ceil(l.sub(e).div(i).toNumber()),d=Math.ceil(new un(t).sub(l).div(i).toNumber()),f=u+d+1;return f>n?gU(e,t,n,r,s+1):(f<n&&(d=t>0?d+(n-f):d,u=t>0?u:u+(n-f)),{step:i,tickMin:l.sub(new un(u).mul(i)),tickMax:l.add(new un(d).mul(i))})}function sme(e){var t=$h(e,2),n=t[0],r=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(s,2),u=mU([n,r]),d=$h(u,2),f=d[0],p=d[1];if(f===-1/0||p===1/0){var m=p===1/0?[f].concat(f2(u2(0,s-1).map(function(){return 1/0}))):[].concat(f2(u2(0,s-1).map(function(){return-1/0})),[p]);return n>r?d2(m):m}if(f===p)return ame(f,s,i);var g=gU(f,p,l,i),v=g.step,w=g.tickMin,y=g.tickMax,j=Tv.rangeStep(w,y.add(new un(.1).mul(v)),v);return n>r?d2(j):j}function ime(e,t){var n=$h(e,2),r=n[0],s=n[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=mU([r,s]),u=$h(l,2),d=u[0],f=u[1];if(d===-1/0||f===1/0)return[r,s];if(d===f)return[d];var p=Math.max(t,2),m=pU(new un(f).sub(d).div(p-1),i,0),g=[].concat(f2(Tv.rangeStep(new un(d),new un(f).sub(new un(.99).mul(m)),m)),[f]);return r>s?d2(g):g}var ome=fU(sme),lme=fU(ime),cme="Invariant failed";function Xl(e,t){throw new Error(cme)}var ume=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Bu(e){"@babel/helpers - typeof";return Bu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bu(e)}function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bx.apply(this,arguments)}function dme(e,t){return pme(e)||mme(e,t)||hme(e,t)||fme()}function fme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hme(e,t){if(e){if(typeof e=="string")return FL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FL(e,t)}}function FL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mme(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function pme(e){if(Array.isArray(e))return e}function gme(e,t){if(e==null)return{};var n=xme(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xme(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function yme(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vme(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vU(r.key),r)}}function bme(e,t,n){return t&&vme(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jme(e,t,n){return t=Fx(t),wme(e,xU()?Reflect.construct(t,n||[],Fx(e).constructor):t.apply(e,n))}function wme(e,t){if(t&&(Bu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nme(e)}function Nme(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xU=function(){return!!e})()}function Fx(e){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(e)}function Sme(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m2(e,t)}function m2(e,t){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},m2(e,t)}function yU(e,t,n){return t=vU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vU(e){var t=Ame(e,"string");return Bu(t)=="symbol"?t:t+""}function Ame(e,t){if(Bu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dd=(function(e){function t(){return yme(this,t),jme(this,t,arguments)}return Sme(t,e),bme(t,[{key:"render",value:function(){var r=this.props,s=r.offset,i=r.layout,l=r.width,u=r.dataKey,d=r.data,f=r.dataPointFormatter,p=r.xAxis,m=r.yAxis,g=gme(r,ume),v=nt(g,!1);this.props.direction==="x"&&p.type!=="number"&&Xl();var w=d.map(function(y){var j=f(y,u),_=j.x,C=j.y,N=j.value,S=j.errorVal;if(!S)return null;var O=[],M,T;if(Array.isArray(S)){var P=dme(S,2);M=P[0],T=P[1]}else M=T=S;if(i==="vertical"){var $=p.scale,K=C+s,q=K+l,H=K-l,B=$(N-M),L=$(N+T);O.push({x1:L,y1:q,x2:L,y2:H}),O.push({x1:B,y1:K,x2:L,y2:K}),O.push({x1:B,y1:q,x2:B,y2:H})}else if(i==="horizontal"){var D=m.scale,k=_+s,I=k-l,z=k+l,V=D(N-M),Y=D(N+T);O.push({x1:I,y1:Y,x2:z,y2:Y}),O.push({x1:k,y1:V,x2:k,y2:Y}),O.push({x1:I,y1:V,x2:z,y2:V})}return X.createElement(Ct,Bx({className:"recharts-errorBar",key:"bar-".concat(O.map(function(U){return"".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))},v),O.map(function(U){return X.createElement("line",Bx({},U,{key:"line-".concat(U.x1,"-").concat(U.x2,"-").concat(U.y1,"-").concat(U.y2)}))}))});return X.createElement(Ct,{className:"recharts-errorBars"},w)}}])})(X.Component);yU(Dd,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});yU(Dd,"displayName","ErrorBar");function qh(e){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qh(e)}function UL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?UL(Object(n),!0).forEach(function(r){Cme(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Cme(e,t,n){return t=_me(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _me(e){var t=Eme(e,"string");return qh(t)=="symbol"?t:t+""}function Eme(e,t){if(qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bU=function(t){var n=t.children,r=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,l=ba(n,qr);if(!l)return null;var u=qr.defaultProps,d=u!==void 0?vl(vl({},u),l.props):{},f;return l.props&&l.props.payload?f=l.props&&l.props.payload:i==="children"?f=(r||[]).reduce(function(p,m){var g=m.item,v=m.props,w=v.sectors||v.data||[];return p.concat(w.map(function(y){return{type:l.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):f=(r||[]).map(function(p){var m=p.item,g=m.type.defaultProps,v=g!==void 0?vl(vl({},g),m.props):{},w=v.dataKey,y=v.name,j=v.legendType,_=v.hide;return{inactive:_,dataKey:w,type:d.iconType||j||"square",color:bE(m),value:y||w,payload:v}}),vl(vl(vl({},d),qr.getWithHeight(l,s)),{},{payload:f,item:l})};function zh(e){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zh(e)}function HL(e){return kme(e)||Mme(e)||Tme(e)||Ome()}function Ome(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tme(e,t){if(e){if(typeof e=="string")return p2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p2(e,t)}}function Mme(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function kme(e){if(Array.isArray(e))return p2(e)}function p2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function VL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $n(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?VL(Object(n),!0).forEach(function(r){_u(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):VL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _u(e,t,n){return t=Pme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pme(e){var t=Rme(e,"string");return zh(t)=="symbol"?t:t+""}function Rme(e,t){if(zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function An(e,t,n){return xt(e)||xt(t)?n:ur(t)?Ca(e,t,n):vt(t)?t(e):n}function dh(e,t,n,r){var s=khe(e,function(u){return An(u,t)});if(n==="number"){var i=s.filter(function(u){return Ie(u)||parseFloat(u)});return i.length?[Ev(i),To(i)]:[1/0,-1/0]}var l=r?s.filter(function(u){return!xt(u)}):s;return l.map(function(u){return ur(u)||u instanceof Date?u:""})}var Dme=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,l=-1,u=(n=r?.length)!==null&&n!==void 0?n:0;if(u<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var d=i.range,f=0;f<u;f++){var p=f>0?s[f-1].coordinate:s[u-1].coordinate,m=s[f].coordinate,g=f>=u-1?s[0].coordinate:s[f+1].coordinate,v=void 0;if(Vr(m-p)!==Vr(g-m)){var w=[];if(Vr(g-m)===Vr(d[1]-d[0])){v=g;var y=m+d[1]-d[0];w[0]=Math.min(y,(y+p)/2),w[1]=Math.max(y,(y+p)/2)}else{v=p;var j=g+d[1]-d[0];w[0]=Math.min(m,(j+m)/2),w[1]=Math.max(m,(j+m)/2)}var _=[Math.min(m,(v+m)/2),Math.max(m,(v+m)/2)];if(t>_[0]&&t<=_[1]||t>=w[0]&&t<=w[1]){l=s[f].index;break}}else{var C=Math.min(p,g),N=Math.max(p,g);if(t>(C+m)/2&&t<=(N+m)/2){l=s[f].index;break}}}else for(var S=0;S<u;S++)if(S===0&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<u-1&&t>(r[S].coordinate+r[S-1].coordinate)/2&&t<=(r[S].coordinate+r[S+1].coordinate)/2||S===u-1&&t>(r[S].coordinate+r[S-1].coordinate)/2){l=r[S].index;break}return l},bE=function(t){var n,r=t,s=r.type.displayName,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?$n($n({},t.type.defaultProps),t.props):t.props,l=i.stroke,u=i.fill,d;switch(s){case"Line":d=l;break;case"Area":case"Radar":d=l&&l!=="none"?l:u;break;default:d=u;break}return d},Ime=function(t){var n=t.barSize,r=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var l={},u=Object.keys(i),d=0,f=u.length;d<f;d++)for(var p=i[u[d]].stackGroups,m=Object.keys(p),g=0,v=m.length;g<v;g++){var w=p[m[g]],y=w.items,j=w.cateAxisId,_=y.filter(function(T){return wi(T.type).indexOf("Bar")>=0});if(_&&_.length){var C=_[0].type.defaultProps,N=C!==void 0?$n($n({},C),_[0].props):_[0].props,S=N.barSize,O=N[j];l[O]||(l[O]=[]);var M=xt(S)?n:S;l[O].push({item:_[0],stackList:_.slice(1),barSize:xt(M)?void 0:Kr(M,r,0)})}}return l},Lme=function(t){var n=t.barGap,r=t.barCategoryGap,s=t.bandSize,i=t.sizeList,l=i===void 0?[]:i,u=t.maxBarSize,d=l.length;if(d<1)return null;var f=Kr(n,s,0,!0),p,m=[];if(l[0].barSize===+l[0].barSize){var g=!1,v=s/d,w=l.reduce(function(S,O){return S+O.barSize||0},0);w+=(d-1)*f,w>=s&&(w-=(d-1)*f,f=0),w>=s&&v>0&&(g=!0,v*=.9,w=d*v);var y=(s-w)/2>>0,j={offset:y-f,size:0};p=l.reduce(function(S,O){var M={item:O.item,position:{offset:j.offset+j.size+f,size:g?v:O.barSize}},T=[].concat(HL(S),[M]);return j=T[T.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){T.push({item:P,position:j})}),T},m)}else{var _=Kr(r,s,0,!0);s-2*_-(d-1)*f<=0&&(f=0);var C=(s-2*_-(d-1)*f)/d;C>1&&(C>>=0);var N=u===+u?Math.min(C,u):C;p=l.reduce(function(S,O,M){var T=[].concat(HL(S),[{item:O.item,position:{offset:_+(C+f)*M+(C-N)/2,size:N}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(P){T.push({item:P,position:T[T.length-1].position})}),T},m)}return p},$me=function(t,n,r,s){var i=r.children,l=r.width,u=r.margin,d=l-(u.left||0)-(u.right||0),f=bU({children:i,legendWidth:d});if(f){var p=s||{},m=p.width,g=p.height,v=f.align,w=f.verticalAlign,y=f.layout;if((y==="vertical"||y==="horizontal"&&w==="middle")&&v!=="center"&&Ie(t[v]))return $n($n({},t),{},_u({},v,t[v]+(m||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&w!=="middle"&&Ie(t[w]))return $n($n({},t),{},_u({},w,t[w]+(g||0)))}return t},qme=function(t,n,r){return xt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},jU=function(t,n,r,s,i){var l=n.props.children,u=Yr(l,Dd).filter(function(f){return qme(s,i,f.props.direction)});if(u&&u.length){var d=u.map(function(f){return f.props.dataKey});return t.reduce(function(f,p){var m=An(p,r);if(xt(m))return f;var g=Array.isArray(m)?[Ev(m),To(m)]:[m,m],v=d.reduce(function(w,y){var j=An(p,y,0),_=g[0]-Math.abs(Array.isArray(j)?j[0]:j),C=g[1]+Math.abs(Array.isArray(j)?j[1]:j);return[Math.min(_,w[0]),Math.max(C,w[1])]},[1/0,-1/0]);return[Math.min(v[0],f[0]),Math.max(v[1],f[1])]},[1/0,-1/0])}return null},zme=function(t,n,r,s,i){var l=n.map(function(u){return jU(t,u,r,i,s)}).filter(function(u){return!xt(u)});return l&&l.length?l.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]):null},wU=function(t,n,r,s,i){var l=n.map(function(d){var f=d.props.dataKey;return r==="number"&&f&&jU(t,d,f,s)||dh(t,f,r,i)});if(r==="number")return l.reduce(function(d,f){return[Math.min(d[0],f[0]),Math.max(d[1],f[1])]},[1/0,-1/0]);var u={};return l.reduce(function(d,f){for(var p=0,m=f.length;p<m;p++)u[f[p]]||(u[f[p]]=!0,d.push(f[p]));return d},[])},NU=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},SU=function(t,n,r,s){if(s)return t.map(function(d){return d.coordinate});var i,l,u=t.map(function(d){return d.coordinate===n&&(i=!0),d.coordinate===r&&(l=!0),d.coordinate});return i||u.push(n),l||u.push(r),u},bi=function(t,n,r){if(!t)return null;var s=t.scale,i=t.duplicateDomain,l=t.type,u=t.range,d=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,f=(n||r)&&l==="category"&&s.bandwidth?s.bandwidth()/d:0;if(f=t.axisType==="angleAxis"&&u?.length>=2?Vr(u[0]-u[1])*2*f:f,n&&(t.ticks||t.niceTicks)){var p=(t.ticks||t.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+f,value:m,offset:f}});return p.filter(function(m){return!Md(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,g){return{coordinate:s(m)+f,value:m,index:g,offset:f}}):s.ticks&&!r?s.ticks(t.tickCount).map(function(m){return{coordinate:s(m)+f,value:m,offset:f}}):s.domain().map(function(m,g){return{coordinate:s(m)+f,value:i?i[m]:m,index:g,offset:f}})},yS=new WeakMap,Dg=function(t,n){if(typeof n!="function")return t;yS.has(t)||yS.set(t,new WeakMap);var r=yS.get(t);if(r.has(n))return r.get(n);var s=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,s),s},AU=function(t,n,r){var s=t.scale,i=t.type,l=t.layout,u=t.axisType;if(s==="auto")return l==="radial"&&u==="radiusAxis"?{scale:Ph(),realScaleType:"band"}:l==="radial"&&u==="angleAxis"?{scale:Ix(),realScaleType:"linear"}:i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:uh(),realScaleType:"point"}:i==="category"?{scale:Ph(),realScaleType:"band"}:{scale:Ix(),realScaleType:"linear"};if(Kl(s)){var d="scale".concat(hv(s));return{scale:(TL[d]||uh)(),realScaleType:TL[d]?d:"point"}}return vt(s)?{scale:s}:{scale:uh(),realScaleType:"point"}},KL=1e-4,CU=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,s=t.range(),i=Math.min(s[0],s[1])-KL,l=Math.max(s[0],s[1])+KL,u=t(n[0]),d=t(n[r-1]);(u<i||u>l||d<i||d>l)&&t.domain([n[0],n[r-1]])}},Bme=function(t,n){if(!t)return null;for(var r=0,s=t.length;r<s;r++)if(t[r].item===n)return t[r].position;return null},Fme=function(t,n){if(!n||n.length!==2||!Ie(n[0])||!Ie(n[1]))return t;var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]),i=[t[0],t[1]];return(!Ie(t[0])||t[0]<r)&&(i[0]=r),(!Ie(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<r&&(i[1]=r),i},Ume=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,l=0,u=0;u<n;++u){var d=Md(t[u][r][1])?t[u][r][0]:t[u][r][1];d>=0?(t[u][r][0]=i,t[u][r][1]=i+d,i=t[u][r][1]):(t[u][r][0]=l,t[u][r][1]=l+d,l=t[u][r][1])}},Hme=function(t){var n=t.length;if(!(n<=0))for(var r=0,s=t[0].length;r<s;++r)for(var i=0,l=0;l<n;++l){var u=Md(t[l][r][1])?t[l][r][0]:t[l][r][1];u>=0?(t[l][r][0]=i,t[l][r][1]=i+u,i=t[l][r][1]):(t[l][r][0]=0,t[l][r][1]=0)}},Vme={sign:Ume,expand:Coe,none:Pu,silhouette:_oe,wiggle:Eoe,positive:Hme},Kme=function(t,n,r){var s=n.map(function(u){return u.props.dataKey}),i=Vme[r],l=Aoe().keys(s).value(function(u,d){return+An(u,d,0)}).order(HA).offset(i);return l(t)},Wme=function(t,n,r,s,i,l){if(!t)return null;var u=l?n.reverse():n,d={},f=u.reduce(function(m,g){var v,w=(v=g.type)!==null&&v!==void 0&&v.defaultProps?$n($n({},g.type.defaultProps),g.props):g.props,y=w.stackId,j=w.hide;if(j)return m;var _=w[r],C=m[_]||{hasStack:!1,stackGroups:{}};if(ur(y)){var N=C.stackGroups[y]||{numericAxisId:r,cateAxisId:s,items:[]};N.items.push(g),C.hasStack=!0,C.stackGroups[y]=N}else C.stackGroups[Yo("_stackId_")]={numericAxisId:r,cateAxisId:s,items:[g]};return $n($n({},m),{},_u({},_,C))},d),p={};return Object.keys(f).reduce(function(m,g){var v=f[g];if(v.hasStack){var w={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,j){var _=v.stackGroups[j];return $n($n({},y),{},_u({},j,{numericAxisId:r,cateAxisId:s,items:_.items,stackedData:Kme(t,_.items,i)}))},w)}return $n($n({},m),{},_u({},g,v))},p)},_U=function(t,n){var r=n.realScaleType,s=n.type,i=n.tickCount,l=n.originalDomain,u=n.allowDecimals,d=r||n.scale;if(d!=="auto"&&d!=="linear")return null;if(i&&s==="number"&&l&&(l[0]==="auto"||l[1]==="auto")){var f=t.domain();if(!f.length)return null;var p=ome(f,i,u);return t.domain([Ev(p),To(p)]),{niceTicks:p}}if(i&&s==="number"){var m=t.domain(),g=lme(m,i,u);return{niceTicks:g}}return null};function Fu(e){var t=e.axis,n=e.ticks,r=e.bandSize,s=e.entry,i=e.index,l=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!xt(s[t.dataKey])){var u=yx(n,"value",s[t.dataKey]);if(u)return u.coordinate+r/2}return n[i]?n[i].coordinate+r/2:null}var d=An(s,xt(l)?t.dataKey:l);return xt(d)?null:t.scale(d)}var WL=function(t){var n=t.axis,r=t.ticks,s=t.offset,i=t.bandSize,l=t.entry,u=t.index;if(n.type==="category")return r[u]?r[u].coordinate+s:null;var d=An(l,n.dataKey,n.domain[u]);return xt(d)?null:n.scale(d)-i/2+s},Yme=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var s=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]);return s<=0&&i>=0?0:i<0?i:s}return r[0]},Gme=function(t,n){var r,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?$n($n({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(ur(i)){var l=n[i];if(l){var u=l.items.indexOf(t);return u>=0?l.stackedData[u]:null}}return null},Xme=function(t){return t.reduce(function(n,r){return[Ev(r.concat([n[0]]).filter(Ie)),To(r.concat([n[1]]).filter(Ie))]},[1/0,-1/0])},EU=function(t,n,r){return Object.keys(t).reduce(function(s,i){var l=t[i],u=l.stackedData,d=u.reduce(function(f,p){var m=Xme(p.slice(n,r+1));return[Math.min(f[0],m[0]),Math.max(f[1],m[1])]},[1/0,-1/0]);return[Math.min(d[0],s[0]),Math.max(d[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},YL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,g2=function(t,n,r){if(vt(t))return t(n,r);if(!Array.isArray(t))return n;var s=[];if(Ie(t[0]))s[0]=r?t[0]:Math.min(t[0],n[0]);else if(YL.test(t[0])){var i=+YL.exec(t[0])[1];s[0]=n[0]-i}else vt(t[0])?s[0]=t[0](n[0]):s[0]=n[0];if(Ie(t[1]))s[1]=r?t[1]:Math.max(t[1],n[1]);else if(GL.test(t[1])){var l=+GL.exec(t[1])[1];s[1]=n[1]+l}else vt(t[1])?s[1]=t[1](n[1]):s[1]=n[1];return s},Ux=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!r||s>0)return s}if(t&&n&&n.length>=2){for(var i=Y_(n,function(m){return m.coordinate}),l=1/0,u=1,d=i.length;u<d;u++){var f=i[u],p=i[u-1];l=Math.min((f.coordinate||0)-(p.coordinate||0),l)}return l===1/0?0:l}return r?void 0:0},XL=function(t,n,r){return!t||!t.length||zo(t,Ca(r,"type.defaultProps.domain"))?n:t},OU=function(t,n){var r=t.type.defaultProps?$n($n({},t.type.defaultProps),t.props):t.props,s=r.dataKey,i=r.name,l=r.unit,u=r.formatter,d=r.tooltipType,f=r.chartType,p=r.hide;return $n($n({},nt(t,!1)),{},{dataKey:s,unit:l,formatter:u,name:i||s,color:bE(t),value:An(n,s),type:d,payload:n,chartType:f,hide:p})};function Bh(e){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bh(e)}function QL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function gi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QL(Object(n),!0).forEach(function(r){TU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function TU(e,t,n){return t=Qme(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qme(e){var t=Zme(e,"string");return Bh(t)=="symbol"?t:t+""}function Zme(e,t){if(Bh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jme(e,t){return rpe(e)||npe(e,t)||tpe(e,t)||epe()}function epe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tpe(e,t){if(e){if(typeof e=="string")return ZL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZL(e,t)}}function ZL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function npe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function rpe(e){if(Array.isArray(e))return e}var Hx=Math.PI/180,ape=function(t){return t*180/Math.PI},yn=function(t,n,r,s){return{x:t+Math.cos(-Hx*s)*r,y:n+Math.sin(-Hx*s)*r}},MU=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},spe=function(t,n,r,s,i){var l=t.width,u=t.height,d=t.startAngle,f=t.endAngle,p=Kr(t.cx,l,l/2),m=Kr(t.cy,u,u/2),g=MU(l,u,r),v=Kr(t.innerRadius,g,0),w=Kr(t.outerRadius,g,g*.8),y=Object.keys(n);return y.reduce(function(j,_){var C=n[_],N=C.domain,S=C.reversed,O;if(xt(C.range))s==="angleAxis"?O=[d,f]:s==="radiusAxis"&&(O=[v,w]),S&&(O=[O[1],O[0]]);else{O=C.range;var M=O,T=Jme(M,2);d=T[0],f=T[1]}var P=AU(C,i),$=P.realScaleType,K=P.scale;K.domain(N).range(O),CU(K);var q=_U(K,gi(gi({},C),{},{realScaleType:$})),H=gi(gi(gi({},C),q),{},{range:O,radius:w,realScaleType:$,scale:K,cx:p,cy:m,innerRadius:v,outerRadius:w,startAngle:d,endAngle:f});return gi(gi({},j),{},TU({},_,H))},{})},ipe=function(t,n){var r=t.x,s=t.y,i=n.x,l=n.y;return Math.sqrt(Math.pow(r-i,2)+Math.pow(s-l,2))},ope=function(t,n){var r=t.x,s=t.y,i=n.cx,l=n.cy,u=ipe({x:r,y:s},{x:i,y:l});if(u<=0)return{radius:u};var d=(r-i)/u,f=Math.acos(d);return s>l&&(f=2*Math.PI-f),{radius:u,angle:ape(f),angleInRadian:f}},lpe=function(t){var n=t.startAngle,r=t.endAngle,s=Math.floor(n/360),i=Math.floor(r/360),l=Math.min(s,i);return{startAngle:n-l*360,endAngle:r-l*360}},cpe=function(t,n){var r=n.startAngle,s=n.endAngle,i=Math.floor(r/360),l=Math.floor(s/360),u=Math.min(i,l);return t+u*360},JL=function(t,n){var r=t.x,s=t.y,i=ope({x:r,y:s},n),l=i.radius,u=i.angle,d=n.innerRadius,f=n.outerRadius;if(l<d||l>f)return!1;if(l===0)return!0;var p=lpe(n),m=p.startAngle,g=p.endAngle,v=u,w;if(m<=g){for(;v>g;)v-=360;for(;v<m;)v+=360;w=v>=m&&v<=g}else{for(;v>m;)v-=360;for(;v<g;)v+=360;w=v>=g&&v<=m}return w?gi(gi({},n),{},{radius:l,angle:cpe(v,n)}):null},kU=function(t){return!b.isValidElement(t)&&!vt(t)&&typeof t!="boolean"?t.className:""};function Fh(e){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fh(e)}var upe=["offset"];function dpe(e){return ppe(e)||mpe(e)||hpe(e)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hpe(e,t){if(e){if(typeof e=="string")return x2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return x2(e,t)}}function mpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ppe(e){if(Array.isArray(e))return x2(e)}function x2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gpe(e,t){if(e==null)return{};var n=xpe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function e3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function or(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e3(Object(n),!0).forEach(function(r){ype(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ype(e,t,n){return t=vpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vpe(e){var t=bpe(e,"string");return Fh(t)=="symbol"?t:t+""}function bpe(e,t){if(Fh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uh(){return Uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Uh.apply(this,arguments)}var jpe=function(t){var n=t.value,r=t.formatter,s=xt(t.children)?n:t.children;return vt(r)?r(s):s},wpe=function(t,n){var r=Vr(n-t),s=Math.min(Math.abs(n-t),360);return r*s},Npe=function(t,n,r){var s=t.position,i=t.viewBox,l=t.offset,u=t.className,d=i,f=d.cx,p=d.cy,m=d.innerRadius,g=d.outerRadius,v=d.startAngle,w=d.endAngle,y=d.clockWise,j=(m+g)/2,_=wpe(v,w),C=_>=0?1:-1,N,S;s==="insideStart"?(N=v+C*l,S=y):s==="insideEnd"?(N=w-C*l,S=!y):s==="end"&&(N=w+C*l,S=y),S=_<=0?S:!S;var O=yn(f,p,j,N),M=yn(f,p,j,N+(S?1:-1)*359),T="M".concat(O.x,",").concat(O.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(M.x,",").concat(M.y),P=xt(t.id)?Yo("recharts-radial-line-"):t.id;return X.createElement("text",Uh({},r,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",u)}),X.createElement("defs",null,X.createElement("path",{id:P,d:T})),X.createElement("textPath",{xlinkHref:"#".concat(P)},n))},Spe=function(t){var n=t.viewBox,r=t.offset,s=t.position,i=n,l=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,p=i.startAngle,m=i.endAngle,g=(p+m)/2;if(s==="outside"){var v=yn(l,u,f+r,g),w=v.x,y=v.y;return{x:w,y,textAnchor:w>=l?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:l,y:u,textAnchor:"middle",verticalAnchor:"end"};var j=(d+f)/2,_=yn(l,u,j,g),C=_.x,N=_.y;return{x:C,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Ape=function(t){var n=t.viewBox,r=t.parentViewBox,s=t.offset,i=t.position,l=n,u=l.x,d=l.y,f=l.width,p=l.height,m=p>=0?1:-1,g=m*s,v=m>0?"end":"start",w=m>0?"start":"end",y=f>=0?1:-1,j=y*s,_=y>0?"end":"start",C=y>0?"start":"end";if(i==="top"){var N={x:u+f/2,y:d-m*s,textAnchor:"middle",verticalAnchor:v};return or(or({},N),r?{height:Math.max(d-r.y,0),width:f}:{})}if(i==="bottom"){var S={x:u+f/2,y:d+p+g,textAnchor:"middle",verticalAnchor:w};return or(or({},S),r?{height:Math.max(r.y+r.height-(d+p),0),width:f}:{})}if(i==="left"){var O={x:u-j,y:d+p/2,textAnchor:_,verticalAnchor:"middle"};return or(or({},O),r?{width:Math.max(O.x-r.x,0),height:p}:{})}if(i==="right"){var M={x:u+f+j,y:d+p/2,textAnchor:C,verticalAnchor:"middle"};return or(or({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:p}:{})}var T=r?{width:f,height:p}:{};return i==="insideLeft"?or({x:u+j,y:d+p/2,textAnchor:C,verticalAnchor:"middle"},T):i==="insideRight"?or({x:u+f-j,y:d+p/2,textAnchor:_,verticalAnchor:"middle"},T):i==="insideTop"?or({x:u+f/2,y:d+g,textAnchor:"middle",verticalAnchor:w},T):i==="insideBottom"?or({x:u+f/2,y:d+p-g,textAnchor:"middle",verticalAnchor:v},T):i==="insideTopLeft"?or({x:u+j,y:d+g,textAnchor:C,verticalAnchor:w},T):i==="insideTopRight"?or({x:u+f-j,y:d+g,textAnchor:_,verticalAnchor:w},T):i==="insideBottomLeft"?or({x:u+j,y:d+p-g,textAnchor:C,verticalAnchor:v},T):i==="insideBottomRight"?or({x:u+f-j,y:d+p-g,textAnchor:_,verticalAnchor:v},T):Td(i)&&(Ie(i.x)||El(i.x))&&(Ie(i.y)||El(i.y))?or({x:u+Kr(i.x,f),y:d+Kr(i.y,p),textAnchor:"end",verticalAnchor:"end"},T):or({x:u+f/2,y:d+p/2,textAnchor:"middle",verticalAnchor:"middle"},T)},Cpe=function(t){return"cx"in t&&Ie(t.cx)};function xr(e){var t=e.offset,n=t===void 0?5:t,r=gpe(e,upe),s=or({offset:n},r),i=s.viewBox,l=s.position,u=s.value,d=s.children,f=s.content,p=s.className,m=p===void 0?"":p,g=s.textBreakAll;if(!i||xt(u)&&xt(d)&&!b.isValidElement(f)&&!vt(f))return null;if(b.isValidElement(f))return b.cloneElement(f,s);var v;if(vt(f)){if(v=b.createElement(f,s),b.isValidElement(v))return v}else v=jpe(s);var w=Cpe(i),y=nt(s,!0);if(w&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Npe(s,v,y);var j=w?Spe(s):Ape(s);return X.createElement(Wl,Uh({className:Nt("recharts-label",m)},y,j,{breakAll:g}),v)}xr.displayName="Label";var PU=function(t){var n=t.cx,r=t.cy,s=t.angle,i=t.startAngle,l=t.endAngle,u=t.r,d=t.radius,f=t.innerRadius,p=t.outerRadius,m=t.x,g=t.y,v=t.top,w=t.left,y=t.width,j=t.height,_=t.clockWise,C=t.labelViewBox;if(C)return C;if(Ie(y)&&Ie(j)){if(Ie(m)&&Ie(g))return{x:m,y:g,width:y,height:j};if(Ie(v)&&Ie(w))return{x:v,y:w,width:y,height:j}}return Ie(m)&&Ie(g)?{x:m,y:g,width:0,height:0}:Ie(n)&&Ie(r)?{cx:n,cy:r,startAngle:i||s||0,endAngle:l||s||0,innerRadius:f||0,outerRadius:p||d||u||0,clockWise:_}:t.viewBox?t.viewBox:{}},_pe=function(t,n){return t?t===!0?X.createElement(xr,{key:"label-implicit",viewBox:n}):ur(t)?X.createElement(xr,{key:"label-implicit",viewBox:n,value:t}):b.isValidElement(t)?t.type===xr?b.cloneElement(t,{key:"label-implicit",viewBox:n}):X.createElement(xr,{key:"label-implicit",content:t,viewBox:n}):vt(t)?X.createElement(xr,{key:"label-implicit",content:t,viewBox:n}):Td(t)?X.createElement(xr,Uh({viewBox:n},t,{key:"label-implicit"})):null:null},Epe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var s=t.children,i=PU(t),l=Yr(s,xr).map(function(d,f){return b.cloneElement(d,{viewBox:n||i,key:"label-".concat(f)})});if(!r)return l;var u=_pe(t.label,n||i);return[u].concat(dpe(l))};xr.parseViewBox=PU;xr.renderCallByParent=Epe;var vS,t3;function Ope(){if(t3)return vS;t3=1;function e(t){var n=t==null?0:t.length;return n?t[n-1]:void 0}return vS=e,vS}var Tpe=Ope();const Mpe=Wt(Tpe);function Hh(e){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hh(e)}var kpe=["valueAccessor"],Ppe=["data","dataKey","clockWise","id","textBreakAll"];function Rpe(e){return $pe(e)||Lpe(e)||Ipe(e)||Dpe()}function Dpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ipe(e,t){if(e){if(typeof e=="string")return y2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y2(e,t)}}function Lpe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function $pe(e){if(Array.isArray(e))return y2(e)}function y2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vx(){return Vx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vx.apply(this,arguments)}function n3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function r3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?n3(Object(n),!0).forEach(function(r){qpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):n3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qpe(e,t,n){return t=zpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zpe(e){var t=Bpe(e,"string");return Hh(t)=="symbol"?t:t+""}function Bpe(e,t){if(Hh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a3(e,t){if(e==null)return{};var n=Fpe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Fpe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Upe=function(t){return Array.isArray(t.value)?Mpe(t.value):t.value};function ys(e){var t=e.valueAccessor,n=t===void 0?Upe:t,r=a3(e,kpe),s=r.data,i=r.dataKey,l=r.clockWise,u=r.id,d=r.textBreakAll,f=a3(r,Ppe);return!s||!s.length?null:X.createElement(Ct,{className:"recharts-label-list"},s.map(function(p,m){var g=xt(i)?n(p,m):An(p&&p.payload,i),v=xt(u)?{}:{id:"".concat(u,"-").concat(m)};return X.createElement(xr,Vx({},nt(p,!0),f,v,{parentViewBox:p.parentViewBox,value:g,textBreakAll:d,viewBox:xr.parseViewBox(xt(l)?p:r3(r3({},p),{},{clockWise:l})),key:"label-".concat(m),index:m}))}))}ys.displayName="LabelList";function Hpe(e,t){return e?e===!0?X.createElement(ys,{key:"labelList-implicit",data:t}):X.isValidElement(e)||vt(e)?X.createElement(ys,{key:"labelList-implicit",data:t,content:e}):Td(e)?X.createElement(ys,Vx({data:t},e,{key:"labelList-implicit"})):null:null}function Vpe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,s=Yr(r,ys).map(function(l,u){return b.cloneElement(l,{data:t,key:"labelList-".concat(u)})});if(!n)return s;var i=Hpe(e.label,t);return[i].concat(Rpe(s))}ys.renderCallByParent=Vpe;function Vh(e){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vh(e)}function v2(){return v2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v2.apply(this,arguments)}function s3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function i3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s3(Object(n),!0).forEach(function(r){Kpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Kpe(e,t,n){return t=Wpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wpe(e){var t=Ype(e,"string");return Vh(t)=="symbol"?t:t+""}function Ype(e,t){if(Vh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gpe=function(t,n){var r=Vr(n-t),s=Math.min(Math.abs(n-t),359.999);return r*s},Ig=function(t){var n=t.cx,r=t.cy,s=t.radius,i=t.angle,l=t.sign,u=t.isExternal,d=t.cornerRadius,f=t.cornerIsExternal,p=d*(u?1:-1)+s,m=Math.asin(d/p)/Hx,g=f?i:i+l*m,v=yn(n,r,p,g),w=yn(n,r,s,g),y=f?i-l*m:i,j=yn(n,r,p*Math.cos(m*Hx),y);return{center:v,circleTangency:w,lineTangency:j,theta:m}},RU=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.startAngle,u=t.endAngle,d=Gpe(l,u),f=l+d,p=yn(n,r,i,l),m=yn(n,r,i,f),g="M ".concat(p.x,",").concat(p.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var v=yn(n,r,s,l),w=yn(n,r,s,f);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(n,",").concat(r," Z");return g},Xpe=function(t){var n=t.cx,r=t.cy,s=t.innerRadius,i=t.outerRadius,l=t.cornerRadius,u=t.forceCornerRadius,d=t.cornerIsExternal,f=t.startAngle,p=t.endAngle,m=Vr(p-f),g=Ig({cx:n,cy:r,radius:i,angle:f,sign:m,cornerRadius:l,cornerIsExternal:d}),v=g.circleTangency,w=g.lineTangency,y=g.theta,j=Ig({cx:n,cy:r,radius:i,angle:p,sign:-m,cornerRadius:l,cornerIsExternal:d}),_=j.circleTangency,C=j.lineTangency,N=j.theta,S=d?Math.abs(f-p):Math.abs(f-p)-y-N;if(S<0)return u?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):RU({cx:n,cy:r,innerRadius:s,outerRadius:i,startAngle:f,endAngle:p});var O="M ".concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(S>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
  `);if(s>0){var M=Ig({cx:n,cy:r,radius:s,angle:f,sign:m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),T=M.circleTangency,P=M.lineTangency,$=M.theta,K=Ig({cx:n,cy:r,radius:s,angle:p,sign:-m,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),q=K.circleTangency,H=K.lineTangency,B=K.theta,L=d?Math.abs(f-p):Math.abs(f-p)-$-B;if(L<0&&l===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(H.x,",").concat(H.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(q.x,",").concat(q.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(L>180),",").concat(+(m>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},Qpe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},DU=function(t){var n=i3(i3({},Qpe),t),r=n.cx,s=n.cy,i=n.innerRadius,l=n.outerRadius,u=n.cornerRadius,d=n.forceCornerRadius,f=n.cornerIsExternal,p=n.startAngle,m=n.endAngle,g=n.className;if(l<i||p===m)return null;var v=Nt("recharts-sector",g),w=l-i,y=Kr(u,w,0,!0),j;return y>0&&Math.abs(p-m)<360?j=Xpe({cx:r,cy:s,innerRadius:i,outerRadius:l,cornerRadius:Math.min(y,w/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:p,endAngle:m}):j=RU({cx:r,cy:s,innerRadius:i,outerRadius:l,startAngle:p,endAngle:m}),X.createElement("path",v2({},nt(n,!0),{className:v,d:j,role:"img"}))};function Kh(e){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kh(e)}function b2(){return b2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b2.apply(this,arguments)}function o3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function l3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o3(Object(n),!0).forEach(function(r){Zpe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zpe(e,t,n){return t=Jpe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jpe(e){var t=ege(e,"string");return Kh(t)=="symbol"?t:t+""}function ege(e,t){if(Kh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var c3={curveBasisClosed:moe,curveBasisOpen:poe,curveBasis:hoe,curveBumpX:Jie,curveBumpY:eoe,curveLinearClosed:goe,curveLinear:pv,curveMonotoneX:xoe,curveMonotoneY:yoe,curveNatural:voe,curveStep:boe,curveStepAfter:woe,curveStepBefore:joe},Lg=function(t){return t.x===+t.x&&t.y===+t.y},Uf=function(t){return t.x},Hf=function(t){return t.y},tge=function(t,n){if(vt(t))return t;var r="curve".concat(hv(t));return(r==="curveMonotone"||r==="curveBump")&&n?c3["".concat(r).concat(n==="vertical"?"Y":"X")]:c3[r]||pv},nge=function(t){var n=t.type,r=n===void 0?"linear":n,s=t.points,i=s===void 0?[]:s,l=t.baseLine,u=t.layout,d=t.connectNulls,f=d===void 0?!1:d,p=tge(r,u),m=f?i.filter(function(y){return Lg(y)}):i,g;if(Array.isArray(l)){var v=f?l.filter(function(y){return Lg(y)}):l,w=m.map(function(y,j){return l3(l3({},y),{},{base:v[j]})});return u==="vertical"?g=_g().y(Hf).x1(Uf).x0(function(y){return y.base.x}):g=_g().x(Uf).y1(Hf).y0(function(y){return y.base.y}),g.defined(Lg).curve(p),g(w)}return u==="vertical"&&Ie(l)?g=_g().y(Hf).x1(Uf).x0(l):Ie(l)?g=_g().x(Uf).y1(Hf).y0(l):g=TF().x(Uf).y(Hf),g.defined(Lg).curve(p),g(m)},Do=function(t){var n=t.className,r=t.points,s=t.path,i=t.pathRef;if((!r||!r.length)&&!s)return null;var l=r&&r.length?nge(t):s;return b.createElement("path",b2({},nt(t,!1),vx(t),{className:Nt("recharts-curve",n),d:l,ref:i}))},bS={exports:{}},jS,u3;function rge(){if(u3)return jS;u3=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return jS=e,jS}var wS,d3;function age(){if(d3)return wS;d3=1;var e=rge();function t(){}function n(){}return n.resetWarningCache=t,wS=function(){function r(l,u,d,f,p,m){if(m!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}r.isRequired=r;function s(){return r}var i={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:s,element:r,elementType:r,instanceOf:s,node:r,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},wS}var f3;function sge(){return f3||(f3=1,bS.exports=age()()),bS.exports}var ige=sge();const Xt=Wt(ige);var oge=Object.getOwnPropertyNames,lge=Object.getOwnPropertySymbols,cge=Object.prototype.hasOwnProperty;function h3(e,t){return function(r,s,i){return e(r,s,i)&&t(r,s,i)}}function $g(e){return function(n,r,s){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,s);var i=s.cache,l=i.get(n),u=i.get(r);if(l&&u)return l===r&&u===n;i.set(n,r),i.set(r,n);var d=e(n,r,s);return i.delete(n),i.delete(r),d}}function uge(e){return e?.[Symbol.toStringTag]}function m3(e){return oge(e).concat(lge(e))}var dge=Object.hasOwn||(function(e,t){return cge.call(e,t)});function xc(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var fge="__v",hge="__o",mge="_owner",p3=Object.getOwnPropertyDescriptor,g3=Object.keys;function pge(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function gge(e,t){return xc(e.getTime(),t.getTime())}function xge(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function yge(e,t){return e===t}function x3(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),i=e.entries(),l,u,d=0;(l=i.next())&&!l.done;){for(var f=t.entries(),p=!1,m=0;(u=f.next())&&!u.done;){if(s[m]){m++;continue}var g=l.value,v=u.value;if(n.equals(g[0],v[0],d,m,e,t,n)&&n.equals(g[1],v[1],g[0],v[0],e,t,n)){p=s[m]=!0;break}m++}if(!p)return!1;d++}return!0}var vge=xc;function bge(e,t,n){var r=g3(e),s=r.length;if(g3(t).length!==s)return!1;for(;s-- >0;)if(!IU(e,t,n,r[s]))return!1;return!0}function Vf(e,t,n){var r=m3(e),s=r.length;if(m3(t).length!==s)return!1;for(var i,l,u;s-- >0;)if(i=r[s],!IU(e,t,n,i)||(l=p3(e,i),u=p3(t,i),(l||u)&&(!l||!u||l.configurable!==u.configurable||l.enumerable!==u.enumerable||l.writable!==u.writable)))return!1;return!0}function jge(e,t){return xc(e.valueOf(),t.valueOf())}function wge(e,t){return e.source===t.source&&e.flags===t.flags}function y3(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var s=new Array(r),i=e.values(),l,u;(l=i.next())&&!l.done;){for(var d=t.values(),f=!1,p=0;(u=d.next())&&!u.done;){if(!s[p]&&n.equals(l.value,u.value,l.value,u.value,e,t,n)){f=s[p]=!0;break}p++}if(!f)return!1}return!0}function Nge(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Sge(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function IU(e,t,n,r){return(r===mge||r===hge||r===fge)&&(e.$$typeof||t.$$typeof)?!0:dge(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Age="[object Arguments]",Cge="[object Boolean]",_ge="[object Date]",Ege="[object Error]",Oge="[object Map]",Tge="[object Number]",Mge="[object Object]",kge="[object RegExp]",Pge="[object Set]",Rge="[object String]",Dge="[object URL]",Ige=Array.isArray,v3=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,b3=Object.assign,Lge=Object.prototype.toString.call.bind(Object.prototype.toString);function $ge(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,l=e.areNumbersEqual,u=e.areObjectsEqual,d=e.arePrimitiveWrappersEqual,f=e.areRegExpsEqual,p=e.areSetsEqual,m=e.areTypedArraysEqual,g=e.areUrlsEqual,v=e.unknownTagComparators;return function(y,j,_){if(y===j)return!0;if(y==null||j==null)return!1;var C=typeof y;if(C!==typeof j)return!1;if(C!=="object")return C==="number"?l(y,j,_):C==="function"?s(y,j,_):!1;var N=y.constructor;if(N!==j.constructor)return!1;if(N===Object)return u(y,j,_);if(Ige(y))return t(y,j,_);if(v3!=null&&v3(y))return m(y,j,_);if(N===Date)return n(y,j,_);if(N===RegExp)return f(y,j,_);if(N===Map)return i(y,j,_);if(N===Set)return p(y,j,_);var S=Lge(y);if(S===_ge)return n(y,j,_);if(S===kge)return f(y,j,_);if(S===Oge)return i(y,j,_);if(S===Pge)return p(y,j,_);if(S===Mge)return typeof y.then!="function"&&typeof j.then!="function"&&u(y,j,_);if(S===Dge)return g(y,j,_);if(S===Ege)return r(y,j,_);if(S===Age)return u(y,j,_);if(S===Cge||S===Tge||S===Rge)return d(y,j,_);if(v){var O=v[S];if(!O){var M=uge(y);M&&(O=v[M])}if(O)return O(y,j,_)}return!1}}function qge(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,s={areArraysEqual:r?Vf:pge,areDatesEqual:gge,areErrorsEqual:xge,areFunctionsEqual:yge,areMapsEqual:r?h3(x3,Vf):x3,areNumbersEqual:vge,areObjectsEqual:r?Vf:bge,arePrimitiveWrappersEqual:jge,areRegExpsEqual:wge,areSetsEqual:r?h3(y3,Vf):y3,areTypedArraysEqual:r?Vf:Nge,areUrlsEqual:Sge,unknownTagComparators:void 0};if(n&&(s=b3({},s,n(s))),t){var i=$g(s.areArraysEqual),l=$g(s.areMapsEqual),u=$g(s.areObjectsEqual),d=$g(s.areSetsEqual);s=b3({},s,{areArraysEqual:i,areMapsEqual:l,areObjectsEqual:u,areSetsEqual:d})}return s}function zge(e){return function(t,n,r,s,i,l,u){return e(t,n,u)}}function Bge(e){var t=e.circular,n=e.comparator,r=e.createState,s=e.equals,i=e.strict;if(r)return function(d,f){var p=r(),m=p.cache,g=m===void 0?t?new WeakMap:void 0:m,v=p.meta;return n(d,f,{cache:g,equals:s,meta:v,strict:i})};if(t)return function(d,f){return n(d,f,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var l={cache:void 0,equals:s,meta:void 0,strict:i};return function(d,f){return n(d,f,l)}}var Fge=Qo();Qo({strict:!0});Qo({circular:!0});Qo({circular:!0,strict:!0});Qo({createInternalComparator:function(){return xc}});Qo({strict:!0,createInternalComparator:function(){return xc}});Qo({circular:!0,createInternalComparator:function(){return xc}});Qo({circular:!0,createInternalComparator:function(){return xc},strict:!0});function Qo(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,s=e.createState,i=e.strict,l=i===void 0?!1:i,u=qge(e),d=$ge(u),f=r?r(d):zge(d);return Bge({circular:n,comparator:d,createState:s,equals:f,strict:l})}function Uge(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function j3(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function s(i){n<0&&(n=i),i-n>t?(e(i),n=-1):Uge(s)};requestAnimationFrame(r)}function j2(e){"@babel/helpers - typeof";return j2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j2(e)}function Hge(e){return Yge(e)||Wge(e)||Kge(e)||Vge()}function Vge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kge(e,t){if(e){if(typeof e=="string")return w3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w3(e,t)}}function w3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Wge(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Yge(e){if(Array.isArray(e))return e}function Gge(){var e={},t=function(){return null},n=!1,r=function s(i){if(!n){if(Array.isArray(i)){if(!i.length)return;var l=i,u=Hge(l),d=u[0],f=u.slice(1);if(typeof d=="number"){j3(s.bind(null,f),d);return}s(d),j3(s.bind(null,f));return}j2(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){n=!0},start:function(i){n=!1,r(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Wh(e){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wh(e)}function N3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function S3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N3(Object(n),!0).forEach(function(r){LU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function LU(e,t,n){return t=Xge(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xge(e){var t=Qge(e,"string");return Wh(t)==="symbol"?t:String(t)}function Qge(e,t){if(Wh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zge=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,s){return r.filter(function(i){return s.includes(i)})})},Jge=function(t){return t},exe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},fh=function(t,n){return Object.keys(n).reduce(function(r,s){return S3(S3({},r),{},LU({},s,t(s,n[s])))},{})},A3=function(t,n,r){return t.map(function(s){return"".concat(exe(s)," ").concat(n,"ms ").concat(r)}).join(",")};function txe(e,t){return axe(e)||rxe(e,t)||$U(e,t)||nxe()}function nxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function axe(e){if(Array.isArray(e))return e}function sxe(e){return lxe(e)||oxe(e)||$U(e)||ixe()}function ixe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $U(e,t){if(e){if(typeof e=="string")return w2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w2(e,t)}}function oxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lxe(e){if(Array.isArray(e))return w2(e)}function w2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Kx=1e-4,qU=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},zU=function(t,n){return t.map(function(r,s){return r*Math.pow(n,s)}).reduce(function(r,s){return r+s})},C3=function(t,n){return function(r){var s=qU(t,n);return zU(s,r)}},cxe=function(t,n){return function(r){var s=qU(t,n),i=[].concat(sxe(s.map(function(l,u){return l*u}).slice(1)),[0]);return zU(i,r)}},_3=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0],i=n[1],l=n[2],u=n[3];if(n.length===1)switch(n[0]){case"linear":s=0,i=0,l=1,u=1;break;case"ease":s=.25,i=.1,l=.25,u=1;break;case"ease-in":s=.42,i=0,l=1,u=1;break;case"ease-out":s=.42,i=0,l=.58,u=1;break;case"ease-in-out":s=0,i=0,l=.58,u=1;break;default:{var d=n[0].split("(");if(d[0]==="cubic-bezier"&&d[1].split(")")[0].split(",").length===4){var f=d[1].split(")")[0].split(",").map(function(j){return parseFloat(j)}),p=txe(f,4);s=p[0],i=p[1],l=p[2],u=p[3]}}}var m=C3(s,l),g=C3(i,u),v=cxe(s,l),w=function(_){return _>1?1:_<0?0:_},y=function(_){for(var C=_>1?1:_,N=C,S=0;S<8;++S){var O=m(N)-C,M=v(N);if(Math.abs(O-C)<Kx||M<Kx)return g(N);N=w(N-O/M)}return g(N)};return y.isStepper=!1,y},uxe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,s=t.damping,i=s===void 0?8:s,l=t.dt,u=l===void 0?17:l,d=function(p,m,g){var v=-(p-m)*r,w=g*i,y=g+(v-w)*u/1e3,j=g*u/1e3+p;return Math.abs(j-m)<Kx&&Math.abs(y)<Kx?[m,0]:[j,y]};return d.isStepper=!0,d.dt=u,d},dxe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return _3(s);case"spring":return uxe();default:if(s.split("(")[0]==="cubic-bezier")return _3(s)}return typeof s=="function"?s:null};function Yh(e){"@babel/helpers - typeof";return Yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yh(e)}function E3(e){return mxe(e)||hxe(e)||BU(e)||fxe()}function fxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mxe(e){if(Array.isArray(e))return S2(e)}function O3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function _r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O3(Object(n),!0).forEach(function(r){N2(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function N2(e,t,n){return t=pxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pxe(e){var t=gxe(e,"string");return Yh(t)==="symbol"?t:String(t)}function gxe(e,t){if(Yh(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Yh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xxe(e,t){return bxe(e)||vxe(e,t)||BU(e,t)||yxe()}function yxe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BU(e,t){if(e){if(typeof e=="string")return S2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return S2(e,t)}}function S2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function vxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function bxe(e){if(Array.isArray(e))return e}var Wx=function(t,n,r){return t+(n-t)*r},A2=function(t){var n=t.from,r=t.to;return n!==r},jxe=function e(t,n,r){var s=fh(function(i,l){if(A2(l)){var u=t(l.from,l.to,l.velocity),d=xxe(u,2),f=d[0],p=d[1];return _r(_r({},l),{},{from:f,velocity:p})}return l},n);return r<1?fh(function(i,l){return A2(l)?_r(_r({},l),{},{velocity:Wx(l.velocity,s[i].velocity,r),from:Wx(l.from,s[i].from,r)}):l},n):e(t,s,r-1)};const wxe=(function(e,t,n,r,s){var i=Zge(e,t),l=i.reduce(function(j,_){return _r(_r({},j),{},N2({},_,[e[_],t[_]]))},{}),u=i.reduce(function(j,_){return _r(_r({},j),{},N2({},_,{from:e[_],velocity:0,to:t[_]}))},{}),d=-1,f,p,m=function(){return null},g=function(){return fh(function(_,C){return C.from},u)},v=function(){return!Object.values(u).filter(A2).length},w=function(_){f||(f=_);var C=_-f,N=C/n.dt;u=jxe(n,u,N),s(_r(_r(_r({},e),t),g())),f=_,v()||(d=requestAnimationFrame(m))},y=function(_){p||(p=_);var C=(_-p)/r,N=fh(function(O,M){return Wx.apply(void 0,E3(M).concat([n(C)]))},l);if(s(_r(_r(_r({},e),t),N)),C<1)d=requestAnimationFrame(m);else{var S=fh(function(O,M){return Wx.apply(void 0,E3(M).concat([n(1)]))},l);s(_r(_r(_r({},e),t),S))}};return m=n.isStepper?w:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(d)}}});function Uu(e){"@babel/helpers - typeof";return Uu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uu(e)}var Nxe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Sxe(e,t){if(e==null)return{};var n=Axe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Axe(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function NS(e){return Oxe(e)||Exe(e)||_xe(e)||Cxe()}function Cxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _xe(e,t){if(e){if(typeof e=="string")return C2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C2(e,t)}}function Exe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Oxe(e){if(Array.isArray(e))return C2(e)}function C2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function T3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function os(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T3(Object(n),!0).forEach(function(r){rh(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rh(e,t,n){return t=FU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Txe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mxe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,FU(r.key),r)}}function kxe(e,t,n){return t&&Mxe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FU(e){var t=Pxe(e,"string");return Uu(t)==="symbol"?t:String(t)}function Pxe(e,t){if(Uu(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Uu(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rxe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_2(e,t)}function _2(e,t){return _2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},_2(e,t)}function Dxe(e){var t=Ixe();return function(){var r=Yx(e),s;if(t){var i=Yx(this).constructor;s=Reflect.construct(r,arguments,i)}else s=r.apply(this,arguments);return E2(this,s)}}function E2(e,t){if(t&&(Uu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O2(e)}function O2(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ixe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yx(e){return Yx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Yx(e)}var Qa=(function(e){Rxe(n,e);var t=Dxe(n);function n(r,s){var i;Txe(this,n),i=t.call(this,r,s);var l=i.props,u=l.isActive,d=l.attributeName,f=l.from,p=l.to,m=l.steps,g=l.children,v=l.duration;if(i.handleStyleChange=i.handleStyleChange.bind(O2(i)),i.changeStyle=i.changeStyle.bind(O2(i)),!u||v<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:p}),E2(i);if(m&&m.length)i.state={style:m[0].style};else if(f){if(typeof g=="function")return i.state={style:f},E2(i);i.state={style:d?rh({},d,f):f}}else i.state={style:{}};return i}return kxe(n,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,l=s.canBegin;this.mounted=!0,!(!i||!l)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,l=i.isActive,u=i.canBegin,d=i.attributeName,f=i.shouldReAnimate,p=i.to,m=i.from,g=this.state.style;if(u){if(!l){var v={style:d?rh({},d,p):p};this.state&&g&&(d&&g[d]!==p||!d&&g!==p)&&this.setState(v);return}if(!(Fge(s.to,p)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=w||f?m:s.to;if(this.state&&g){var j={style:d?rh({},d,y):y};(d&&g[d]!==y||!d&&g!==y)&&this.setState(j)}this.runAnimation(os(os({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,l=s.from,u=s.to,d=s.duration,f=s.easing,p=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,v=wxe(l,u,dxe(f),d,this.changeStyle),w=function(){i.stopJSAnimation=v()};this.manager.start([g,p,w,d,m])}},{key:"runStepAnimation",value:function(s){var i=this,l=s.steps,u=s.begin,d=s.onAnimationStart,f=l[0],p=f.style,m=f.duration,g=m===void 0?0:m,v=function(y,j,_){if(_===0)return y;var C=j.duration,N=j.easing,S=N===void 0?"ease":N,O=j.style,M=j.properties,T=j.onAnimationEnd,P=_>0?l[_-1]:j,$=M||Object.keys(O);if(typeof S=="function"||S==="spring")return[].concat(NS(y),[i.runJSAnimation.bind(i,{from:P.style,to:O,duration:C,easing:S}),C]);var K=A3($,C,S),q=os(os(os({},P.style),O),{},{transition:K});return[].concat(NS(y),[q,C,T]).filter(Jge)};return this.manager.start([d].concat(NS(l.reduce(v,[p,Math.max(g,u)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=Gge());var i=s.begin,l=s.duration,u=s.attributeName,d=s.to,f=s.easing,p=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,v=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof f=="function"||typeof v=="function"||f==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var y=u?rh({},u,d):d,j=A3(Object.keys(y),l,f);w.start([p,i,os(os({},y),{},{transition:j}),l,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var l=s.duration;s.attributeName,s.easing;var u=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var d=Sxe(s,Nxe),f=b.Children.count(i),p=this.state.style;if(typeof i=="function")return i(p);if(!u||f===0||l<=0)return i;var m=function(v){var w=v.props,y=w.style,j=y===void 0?{}:y,_=w.className,C=b.cloneElement(v,os(os({},d),{},{style:os(os({},j),p),className:_}));return C};return f===1?m(b.Children.only(i)):X.createElement("div",null,b.Children.map(i,function(g){return m(g)}))}}]),n})(b.PureComponent);Qa.displayName="Animate";Qa.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Qa.propTypes={from:Xt.oneOfType([Xt.object,Xt.string]),to:Xt.oneOfType([Xt.object,Xt.string]),attributeName:Xt.string,duration:Xt.number,begin:Xt.number,easing:Xt.oneOfType([Xt.string,Xt.func]),steps:Xt.arrayOf(Xt.shape({duration:Xt.number.isRequired,style:Xt.object.isRequired,easing:Xt.oneOfType([Xt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Xt.func]),properties:Xt.arrayOf("string"),onAnimationEnd:Xt.func})),children:Xt.oneOfType([Xt.node,Xt.func]),isActive:Xt.bool,canBegin:Xt.bool,onAnimationEnd:Xt.func,shouldReAnimate:Xt.bool,onAnimationStart:Xt.func,onAnimationReStart:Xt.func};function Gh(e){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gh(e)}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Gx.apply(this,arguments)}function Lxe(e,t){return Bxe(e)||zxe(e,t)||qxe(e,t)||$xe()}function $xe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qxe(e,t){if(e){if(typeof e=="string")return M3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M3(e,t)}}function M3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zxe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Bxe(e){if(Array.isArray(e))return e}function k3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function P3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k3(Object(n),!0).forEach(function(r){Fxe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fxe(e,t,n){return t=Uxe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Uxe(e){var t=Hxe(e,"string");return Gh(t)=="symbol"?t:t+""}function Hxe(e,t){if(Gh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R3=function(t,n,r,s,i){var l=Math.min(Math.abs(r)/2,Math.abs(s)/2),u=s>=0?1:-1,d=r>=0?1:-1,f=s>=0&&r>=0||s<0&&r<0?1:0,p;if(l>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,v=4;g<v;g++)m[g]=i[g]>l?l:i[g];p="M".concat(t,",").concat(n+u*m[0]),m[0]>0&&(p+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(f,",").concat(t+d*m[0],",").concat(n)),p+="L ".concat(t+r-d*m[1],",").concat(n),m[1]>0&&(p+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(f,`,
        `).concat(t+r,",").concat(n+u*m[1])),p+="L ".concat(t+r,",").concat(n+s-u*m[2]),m[2]>0&&(p+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(f,`,
        `).concat(t+r-d*m[2],",").concat(n+s)),p+="L ".concat(t+d*m[3],",").concat(n+s),m[3]>0&&(p+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(f,`,
        `).concat(t,",").concat(n+s-u*m[3])),p+="Z"}else if(l>0&&i===+i&&i>0){var w=Math.min(l,i);p="M ".concat(t,",").concat(n+u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+d*w,",").concat(n,`
            L `).concat(t+r-d*w,",").concat(n,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+r,",").concat(n+u*w,`
            L `).concat(t+r,",").concat(n+s-u*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t+r-d*w,",").concat(n+s,`
            L `).concat(t+d*w,",").concat(n+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(f,",").concat(t,",").concat(n+s-u*w," Z")}else p="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(s," h ").concat(-r," Z");return p},Vxe=function(t,n){if(!t||!n)return!1;var r=t.x,s=t.y,i=n.x,l=n.y,u=n.width,d=n.height;if(Math.abs(u)>0&&Math.abs(d)>0){var f=Math.min(i,i+u),p=Math.max(i,i+u),m=Math.min(l,l+d),g=Math.max(l,l+d);return r>=f&&r<=p&&s>=m&&s<=g}return!1},Kxe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jE=function(t){var n=P3(P3({},Kxe),t),r=b.useRef(),s=b.useState(-1),i=Lxe(s,2),l=i[0],u=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&u(S)}catch{}},[]);var d=n.x,f=n.y,p=n.width,m=n.height,g=n.radius,v=n.className,w=n.animationEasing,y=n.animationDuration,j=n.animationBegin,_=n.isAnimationActive,C=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||p===0||m===0)return null;var N=Nt("recharts-rectangle",v);return C?X.createElement(Qa,{canBegin:l>0,from:{width:p,height:m,x:d,y:f},to:{width:p,height:m,x:d,y:f},duration:y,animationEasing:w,isActive:C},function(S){var O=S.width,M=S.height,T=S.x,P=S.y;return X.createElement(Qa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,isActive:_,easing:w},X.createElement("path",Gx({},nt(n,!0),{className:N,d:R3(T,P,O,M,g),ref:r})))}):X.createElement("path",Gx({},nt(n,!0),{className:N,d:R3(d,f,p,m,g)}))},Wxe=["points","className","baseLinePoints","connectNulls"];function gu(){return gu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gu.apply(this,arguments)}function Yxe(e,t){if(e==null)return{};var n=Gxe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Gxe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function D3(e){return Jxe(e)||Zxe(e)||Qxe(e)||Xxe()}function Xxe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qxe(e,t){if(e){if(typeof e=="string")return T2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T2(e,t)}}function Zxe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Jxe(e){if(Array.isArray(e))return T2(e)}function T2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var I3=function(t){return t&&t.x===+t.x&&t.y===+t.y},eye=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){I3(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),I3(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},hh=function(t,n){var r=eye(t);n&&(r=[r.reduce(function(i,l){return[].concat(D3(i),D3(l))},[])]);var s=r.map(function(i){return i.reduce(function(l,u,d){return"".concat(l).concat(d===0?"M":"L").concat(u.x,",").concat(u.y)},"")}).join("");return r.length===1?"".concat(s,"Z"):s},tye=function(t,n,r){var s=hh(t,r);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(hh(n.reverse(),r).slice(1))},nye=function(t){var n=t.points,r=t.className,s=t.baseLinePoints,i=t.connectNulls,l=Yxe(t,Wxe);if(!n||!n.length)return null;var u=Nt("recharts-polygon",r);if(s&&s.length){var d=l.stroke&&l.stroke!=="none",f=tye(n,s,i);return X.createElement("g",{className:u},X.createElement("path",gu({},nt(l,!0),{fill:f.slice(-1)==="Z"?l.fill:"none",stroke:"none",d:f})),d?X.createElement("path",gu({},nt(l,!0),{fill:"none",d:hh(n,i)})):null,d?X.createElement("path",gu({},nt(l,!0),{fill:"none",d:hh(s,i)})):null)}var p=hh(n,i);return X.createElement("path",gu({},nt(l,!0),{fill:p.slice(-1)==="Z"?l.fill:"none",className:u,d:p}))};function M2(){return M2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M2.apply(this,arguments)}var zm=function(t){var n=t.cx,r=t.cy,s=t.r,i=t.className,l=Nt("recharts-dot",i);return n===+n&&r===+r&&s===+s?b.createElement("circle",M2({},nt(t,!1),vx(t),{className:l,cx:n,cy:r,r:s})):null};function Xh(e){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xh(e)}var rye=["x","y","top","left","width","height","className"];function k2(){return k2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k2.apply(this,arguments)}function L3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function aye(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L3(Object(n),!0).forEach(function(r){sye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sye(e,t,n){return t=iye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iye(e){var t=oye(e,"string");return Xh(t)=="symbol"?t:t+""}function oye(e,t){if(Xh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lye(e,t){if(e==null)return{};var n=cye(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var uye=function(t,n,r,s,i,l){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(l,",").concat(n,"h").concat(r)},dye=function(t){var n=t.x,r=n===void 0?0:n,s=t.y,i=s===void 0?0:s,l=t.top,u=l===void 0?0:l,d=t.left,f=d===void 0?0:d,p=t.width,m=p===void 0?0:p,g=t.height,v=g===void 0?0:g,w=t.className,y=lye(t,rye),j=aye({x:r,y:i,top:u,left:f,width:m,height:v},y);return!Ie(r)||!Ie(i)||!Ie(m)||!Ie(v)||!Ie(u)||!Ie(f)?null:X.createElement("path",k2({},nt(j,!0),{className:Nt("recharts-cross",w),d:uye(r,i,m,v,u,f)}))},SS,$3;function fye(){if($3)return SS;$3=1;var e=_v(),t=rU(),n=Vs();function r(s,i){return s&&s.length?e(s,n(i,2),t):void 0}return SS=r,SS}var hye=fye();const mye=Wt(hye);var AS,q3;function pye(){if(q3)return AS;q3=1;var e=_v(),t=Vs(),n=aU();function r(s,i){return s&&s.length?e(s,t(i,2),n):void 0}return AS=r,AS}var gye=pye();const xye=Wt(gye);var yye=["cx","cy","angle","ticks","axisLine"],vye=["ticks","tick","angle","tickFormatter","stroke"];function Hu(e){"@babel/helpers - typeof";return Hu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hu(e)}function mh(){return mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mh.apply(this,arguments)}function z3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function bl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z3(Object(n),!0).forEach(function(r){Mv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function B3(e,t){if(e==null)return{};var n=bye(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function bye(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function jye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HU(r.key),r)}}function wye(e,t,n){return t&&F3(e.prototype,t),n&&F3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nye(e,t,n){return t=Xx(t),Sye(e,UU()?Reflect.construct(t,n||[],Xx(e).constructor):t.apply(e,n))}function Sye(e,t){if(t&&(Hu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Aye(e)}function Aye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UU=function(){return!!e})()}function Xx(e){return Xx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Xx(e)}function Cye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&P2(e,t)}function P2(e,t){return P2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},P2(e,t)}function Mv(e,t,n){return t=HU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HU(e){var t=_ye(e,"string");return Hu(t)=="symbol"?t:t+""}function _ye(e,t){if(Hu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Hu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var kv=(function(e){function t(){return jye(this,t),Nye(this,t,arguments)}return Cye(t,e),wye(t,[{key:"getTickValueCoord",value:function(r){var s=r.coordinate,i=this.props,l=i.angle,u=i.cx,d=i.cy;return yn(u,d,s,l)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,s;switch(r){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var r=this.props,s=r.cx,i=r.cy,l=r.angle,u=r.ticks,d=mye(u,function(p){return p.coordinate||0}),f=xye(u,function(p){return p.coordinate||0});return{cx:s,cy:i,startAngle:l,endAngle:l,innerRadius:f.coordinate||0,outerRadius:d.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,l=r.angle,u=r.ticks,d=r.axisLine,f=B3(r,yye),p=u.reduce(function(w,y){return[Math.min(w[0],y.coordinate),Math.max(w[1],y.coordinate)]},[1/0,-1/0]),m=yn(s,i,p[0],l),g=yn(s,i,p[1],l),v=bl(bl(bl({},nt(f,!1)),{},{fill:"none"},nt(d,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return X.createElement("line",mh({className:"recharts-polar-radius-axis-line"},v))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,l=s.tick,u=s.angle,d=s.tickFormatter,f=s.stroke,p=B3(s,vye),m=this.getTickTextAnchor(),g=nt(p,!1),v=nt(l,!1),w=i.map(function(y,j){var _=r.getTickValueCoord(y),C=bl(bl(bl(bl({textAnchor:m,transform:"rotate(".concat(90-u,", ").concat(_.x,", ").concat(_.y,")")},g),{},{stroke:"none",fill:f},v),{},{index:j},_),{},{payload:y});return X.createElement(Ct,mh({className:Nt("recharts-polar-radius-axis-tick",kU(l)),key:"tick-".concat(y.coordinate)},qo(r.props,y,j)),t.renderTickItem(l,C,d?d(y.value,j):y.value))});return X.createElement(Ct,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.axisLine,l=r.tick;return!s||!s.length?null:X.createElement(Ct,{className:Nt("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),l&&this.renderTicks(),xr.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,s,i){var l;return X.isValidElement(r)?l=X.cloneElement(r,s):vt(r)?l=r(s):l=X.createElement(Wl,mh({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),l}}])})(b.PureComponent);Mv(kv,"displayName","PolarRadiusAxis");Mv(kv,"axisType","radiusAxis");Mv(kv,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Vu(e){"@babel/helpers - typeof";return Vu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vu(e)}function Cl(){return Cl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cl.apply(this,arguments)}function U3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U3(Object(n),!0).forEach(function(r){Pv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Eye(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H3(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KU(r.key),r)}}function Oye(e,t,n){return t&&H3(e.prototype,t),n&&H3(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tye(e,t,n){return t=Qx(t),Mye(e,VU()?Reflect.construct(t,n||[],Qx(e).constructor):t.apply(e,n))}function Mye(e,t){if(t&&(Vu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kye(e)}function kye(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function VU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VU=function(){return!!e})()}function Qx(e){return Qx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qx(e)}function Pye(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R2(e,t)}function R2(e,t){return R2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},R2(e,t)}function Pv(e,t,n){return t=KU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KU(e){var t=Rye(e,"string");return Vu(t)=="symbol"?t:t+""}function Rye(e,t){if(Vu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Vu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Dye=Math.PI/180,V3=1e-5,Rv=(function(e){function t(){return Eye(this,t),Tye(this,t,arguments)}return Pye(t,e),Oye(t,[{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.cx,l=s.cy,u=s.radius,d=s.orientation,f=s.tickSize,p=f||8,m=yn(i,l,u,r.coordinate),g=yn(i,l,u+(d==="inner"?-1:1)*p,r.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(r){var s=this.props.orientation,i=Math.cos(-r.coordinate*Dye),l;return i>V3?l=s==="outer"?"start":"end":i<-V3?l=s==="outer"?"end":"start":l="middle",l}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.cx,i=r.cy,l=r.radius,u=r.axisLine,d=r.axisLineType,f=jl(jl({},nt(this.props,!1)),{},{fill:"none"},nt(u,!1));if(d==="circle")return X.createElement(zm,Cl({className:"recharts-polar-angle-axis-line"},f,{cx:s,cy:i,r:l}));var p=this.props.ticks,m=p.map(function(g){return yn(s,i,l,g.coordinate)});return X.createElement(nye,Cl({className:"recharts-polar-angle-axis-line"},f,{points:m}))}},{key:"renderTicks",value:function(){var r=this,s=this.props,i=s.ticks,l=s.tick,u=s.tickLine,d=s.tickFormatter,f=s.stroke,p=nt(this.props,!1),m=nt(l,!1),g=jl(jl({},p),{},{fill:"none"},nt(u,!1)),v=i.map(function(w,y){var j=r.getTickLineCoord(w),_=r.getTickTextAnchor(w),C=jl(jl(jl({textAnchor:_},p),{},{stroke:"none",fill:f},m),{},{index:y,payload:w,x:j.x2,y:j.y2});return X.createElement(Ct,Cl({className:Nt("recharts-polar-angle-axis-tick",kU(l)),key:"tick-".concat(w.coordinate)},qo(r.props,w,y)),u&&X.createElement("line",Cl({className:"recharts-polar-angle-axis-tick-line"},g,j)),l&&t.renderTickItem(l,C,d?d(w.value,y):w.value))});return X.createElement(Ct,{className:"recharts-polar-angle-axis-ticks"},v)}},{key:"render",value:function(){var r=this.props,s=r.ticks,i=r.radius,l=r.axisLine;return i<=0||!s||!s.length?null:X.createElement(Ct,{className:Nt("recharts-polar-angle-axis",this.props.className)},l&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,s,i){var l;return X.isValidElement(r)?l=X.cloneElement(r,s):vt(r)?l=r(s):l=X.createElement(Wl,Cl({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),l}}])})(b.PureComponent);Pv(Rv,"displayName","PolarAngleAxis");Pv(Rv,"axisType","angleAxis");Pv(Rv,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var CS,K3;function Iye(){if(K3)return CS;K3=1;var e=JF(),t=e(Object.getPrototypeOf,Object);return CS=t,CS}var _S,W3;function Lye(){if(W3)return _S;W3=1;var e=Li(),t=Iye(),n=$i(),r="[object Object]",s=Function.prototype,i=Object.prototype,l=s.toString,u=i.hasOwnProperty,d=l.call(Object);function f(p){if(!n(p)||e(p)!=r)return!1;var m=t(p);if(m===null)return!0;var g=u.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&l.call(g)==d}return _S=f,_S}var $ye=Lye();const qye=Wt($ye);var ES,Y3;function zye(){if(Y3)return ES;Y3=1;var e=Li(),t=$i(),n="[object Boolean]";function r(s){return s===!0||s===!1||t(s)&&e(s)==n}return ES=r,ES}var Bye=zye();const Fye=Wt(Bye);function Qh(e){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qh(e)}function Zx(){return Zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zx.apply(this,arguments)}function Uye(e,t){return Wye(e)||Kye(e,t)||Vye(e,t)||Hye()}function Hye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vye(e,t){if(e){if(typeof e=="string")return G3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G3(e,t)}}function G3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Kye(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Wye(e){if(Array.isArray(e))return e}function X3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Q3(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X3(Object(n),!0).forEach(function(r){Yye(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yye(e,t,n){return t=Gye(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gye(e){var t=Xye(e,"string");return Qh(t)=="symbol"?t:t+""}function Xye(e,t){if(Qh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Z3=function(t,n,r,s,i){var l=r-s,u;return u="M ".concat(t,",").concat(n),u+="L ".concat(t+r,",").concat(n),u+="L ".concat(t+r-l/2,",").concat(n+i),u+="L ".concat(t+r-l/2-s,",").concat(n+i),u+="L ".concat(t,",").concat(n," Z"),u},Qye={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zye=function(t){var n=Q3(Q3({},Qye),t),r=b.useRef(),s=b.useState(-1),i=Uye(s,2),l=i[0],u=i[1];b.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&u(N)}catch{}},[]);var d=n.x,f=n.y,p=n.upperWidth,m=n.lowerWidth,g=n.height,v=n.className,w=n.animationEasing,y=n.animationDuration,j=n.animationBegin,_=n.isUpdateAnimationActive;if(d!==+d||f!==+f||p!==+p||m!==+m||g!==+g||p===0&&m===0||g===0)return null;var C=Nt("recharts-trapezoid",v);return _?X.createElement(Qa,{canBegin:l>0,from:{upperWidth:0,lowerWidth:0,height:g,x:d,y:f},to:{upperWidth:p,lowerWidth:m,height:g,x:d,y:f},duration:y,animationEasing:w,isActive:_},function(N){var S=N.upperWidth,O=N.lowerWidth,M=N.height,T=N.x,P=N.y;return X.createElement(Qa,{canBegin:l>0,from:"0px ".concat(l===-1?1:l,"px"),to:"".concat(l,"px 0px"),attributeName:"strokeDasharray",begin:j,duration:y,easing:w},X.createElement("path",Zx({},nt(n,!0),{className:C,d:Z3(T,P,S,O,M),ref:r})))}):X.createElement("g",null,X.createElement("path",Zx({},nt(n,!0),{className:C,d:Z3(d,f,p,m,g)})))},Jye=["option","shapeType","propTransformer","activeClassName","isActive"];function Zh(e){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zh(e)}function eve(e,t){if(e==null)return{};var n=tve(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tve(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function J3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jx(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?J3(Object(n),!0).forEach(function(r){nve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nve(e,t,n){return t=rve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rve(e){var t=ave(e,"string");return Zh(t)=="symbol"?t:t+""}function ave(e,t){if(Zh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sve(e,t){return Jx(Jx({},t),e)}function ive(e,t){return e==="symbols"}function e5(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return X.createElement(jE,n);case"trapezoid":return X.createElement(Zye,n);case"sector":return X.createElement(DU,n);case"symbols":if(ive(t))return X.createElement(xv,n);break;default:return null}}function ove(e){return b.isValidElement(e)?e.props:e}function ey(e){var t=e.option,n=e.shapeType,r=e.propTransformer,s=r===void 0?sve:r,i=e.activeClassName,l=i===void 0?"recharts-active-shape":i,u=e.isActive,d=eve(e,Jye),f;if(b.isValidElement(t))f=b.cloneElement(t,Jx(Jx({},d),ove(t)));else if(vt(t))f=t(d);else if(qye(t)&&!Fye(t)){var p=s(t,d);f=X.createElement(e5,{shapeType:n,elementProps:p})}else{var m=d;f=X.createElement(e5,{shapeType:n,elementProps:m})}return u?X.createElement(Ct,{className:l},f):f}function Dv(e,t){return t!=null&&"trapezoids"in e.props}function Iv(e,t){return t!=null&&"sectors"in e.props}function Jh(e,t){return t!=null&&"points"in e.props}function lve(e,t){var n,r,s=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,i=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return s&&i}function cve(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function uve(e,t){var n=e.x===t.x,r=e.y===t.y,s=e.z===t.z;return n&&r&&s}function dve(e,t){var n;return Dv(e,t)?n=lve:Iv(e,t)?n=cve:Jh(e,t)&&(n=uve),n}function fve(e,t){var n;return Dv(e,t)?n="trapezoids":Iv(e,t)?n="sectors":Jh(e,t)&&(n="points"),n}function hve(e,t){if(Dv(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Iv(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return Jh(e,t)?t.payload:{}}function mve(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,s=fve(n,t),i=hve(n,t),l=r.filter(function(d,f){var p=zo(i,d),m=n.props[s].filter(function(w){var y=dve(n,t);return y(w,t)}),g=n.props[s].indexOf(m[m.length-1]),v=f===g;return p&&v}),u=r.indexOf(l[l.length-1]);return u}var Jg;function Ku(e){"@babel/helpers - typeof";return Ku=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ku(e)}function xu(){return xu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xu.apply(this,arguments)}function t5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function pn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?t5(Object(n),!0).forEach(function(r){Va(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):t5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YU(r.key),r)}}function gve(e,t,n){return t&&n5(e.prototype,t),n&&n5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function xve(e,t,n){return t=ty(t),yve(e,WU()?Reflect.construct(t,n||[],ty(e).constructor):t.apply(e,n))}function yve(e,t){if(t&&(Ku(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vve(e)}function vve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WU=function(){return!!e})()}function ty(e){return ty=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ty(e)}function bve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D2(e,t)}function D2(e,t){return D2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},D2(e,t)}function Va(e,t,n){return t=YU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YU(e){var t=jve(e,"string");return Ku(t)=="symbol"?t:t+""}function jve(e,t){if(Ku(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ku(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Za=(function(e){function t(n){var r;return pve(this,t),r=xve(this,t,[n]),Va(r,"pieRef",null),Va(r,"sectorRefs",[]),Va(r,"id",Yo("recharts-pie-")),Va(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),vt(s)&&s()}),Va(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),vt(s)&&s()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return bve(t,e),gve(t,[{key:"isActiveIndex",value:function(r){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(r)!==-1:r===s}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.label,u=i.labelLine,d=i.dataKey,f=i.valueKey,p=nt(this.props,!1),m=nt(l,!1),g=nt(u,!1),v=l&&l.offsetRadius||20,w=r.map(function(y,j){var _=(y.startAngle+y.endAngle)/2,C=yn(y.cx,y.cy,y.outerRadius+v,_),N=pn(pn(pn(pn({},p),y),{},{stroke:"none"},m),{},{index:j,textAnchor:t.getTextAnchor(C.x,y.cx)},C),S=pn(pn(pn(pn({},p),y),{},{fill:"none",stroke:y.fill},g),{},{index:j,points:[yn(y.cx,y.cy,y.outerRadius,_),C]}),O=d;return xt(d)&&xt(f)?O="value":xt(d)&&(O=f),X.createElement(Ct,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(j)},u&&t.renderLabelLineItem(u,S,"line"),t.renderLabelItem(l,N,An(y,O)))});return X.createElement(Ct,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(r){var s=this,i=this.props,l=i.activeShape,u=i.blendStroke,d=i.inactiveShape;return r.map(function(f,p){if(f?.startAngle===0&&f?.endAngle===0&&r.length!==1)return null;var m=s.isActiveIndex(p),g=d&&s.hasActiveIndex()?d:null,v=m?l:g,w=pn(pn({},f),{},{stroke:u?f.fill:f.stroke,tabIndex:-1});return X.createElement(Ct,xu({ref:function(j){j&&!s.sectorRefs.includes(j)&&s.sectorRefs.push(j)},tabIndex:-1,className:"recharts-pie-sector"},qo(s.props,f,p),{key:"sector-".concat(f?.startAngle,"-").concat(f?.endAngle,"-").concat(f.midAngle,"-").concat(p)}),X.createElement(ey,xu({option:v,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,s=this.props,i=s.sectors,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,m=this.state,g=m.prevSectors,v=m.prevIsAnimationActive;return X.createElement(Qa,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var y=w.t,j=[],_=i&&i[0],C=_.startAngle;return i.forEach(function(N,S){var O=g&&g[S],M=S>0?Ca(N,"paddingAngle",0):0;if(O){var T=Pn(O.endAngle-O.startAngle,N.endAngle-N.startAngle),P=pn(pn({},N),{},{startAngle:C+M,endAngle:C+T(y)+M});j.push(P),C=P.endAngle}else{var $=N.endAngle,K=N.startAngle,q=Pn(0,$-K),H=q(y),B=pn(pn({},N),{},{startAngle:C+M,endAngle:C+H+M});j.push(B),C=B.endAngle}}),X.createElement(Ct,null,r.renderSectorsStatically(j))})}},{key:"attachKeyboardHandlers",value:function(r){var s=this;r.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var l=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"ArrowRight":{var u=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[u].focus(),s.setState({sectorToFocus:u});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,s=r.sectors,i=r.isAnimationActive,l=this.state.prevSectors;return i&&s&&s.length&&(!l||!zo(l,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,s=this.props,i=s.hide,l=s.sectors,u=s.className,d=s.label,f=s.cx,p=s.cy,m=s.innerRadius,g=s.outerRadius,v=s.isAnimationActive,w=this.state.isAnimationFinished;if(i||!l||!l.length||!Ie(f)||!Ie(p)||!Ie(m)||!Ie(g))return null;var y=Nt("recharts-pie",u);return X.createElement(Ct,{tabIndex:this.props.rootTabIndex,className:y,ref:function(_){r.pieRef=_}},this.renderSectors(),d&&this.renderLabels(l),xr.renderCallByParent(this.props,null,!1),(!v||w)&&ys.renderCallByParent(this.props,l,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return s.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:r.sectors!==s.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,s){return r>s?"start":r<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,s,i){if(X.isValidElement(r))return X.cloneElement(r,s);if(vt(r))return r(s);var l=Nt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return X.createElement(Do,xu({},s,{key:i,type:"linear",className:l}))}},{key:"renderLabelItem",value:function(r,s,i){if(X.isValidElement(r))return X.cloneElement(r,s);var l=i;if(vt(r)&&(l=r(s),X.isValidElement(l)))return l;var u=Nt("recharts-pie-label-text",typeof r!="boolean"&&!vt(r)?r.className:"");return X.createElement(Wl,xu({},s,{alignmentBaseline:"middle",className:u}),l)}}])})(b.PureComponent);Jg=Za;Va(Za,"displayName","Pie");Va(Za,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!qi.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Va(Za,"parseDeltaAngle",function(e,t){var n=Vr(t-e),r=Math.min(Math.abs(t-e),360);return n*r});Va(Za,"getRealPieData",function(e){var t=e.data,n=e.children,r=nt(e,!1),s=Yr(n,Ti);return t&&t.length?t.map(function(i,l){return pn(pn(pn({payload:i},r),i),s&&s[l]&&s[l].props)}):s&&s.length?s.map(function(i){return pn(pn({},r),i.props)}):[]});Va(Za,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,s=t.width,i=t.height,l=MU(s,i),u=r+Kr(e.cx,s,s/2),d=n+Kr(e.cy,i,i/2),f=Kr(e.innerRadius,l,0),p=Kr(e.outerRadius,l,l*.8),m=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:u,cy:d,innerRadius:f,outerRadius:p,maxRadius:m}});Va(Za,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?pn(pn({},t.type.defaultProps),t.props):t.props,s=Jg.getRealPieData(r);if(!s||!s.length)return null;var i=r.cornerRadius,l=r.startAngle,u=r.endAngle,d=r.paddingAngle,f=r.dataKey,p=r.nameKey,m=r.valueKey,g=r.tooltipType,v=Math.abs(r.minAngle),w=Jg.parseCoordinateOfPie(r,n),y=Jg.parseDeltaAngle(l,u),j=Math.abs(y),_=f;xt(f)&&xt(m)?(xs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):xt(f)&&(xs(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=m);var C=s.filter(function(P){return An(P,_,0)!==0}).length,N=(j>=360?C:C-1)*d,S=j-C*v-N,O=s.reduce(function(P,$){var K=An($,_,0);return P+(Ie(K)?K:0)},0),M;if(O>0){var T;M=s.map(function(P,$){var K=An(P,_,0),q=An(P,p,$),H=(Ie(K)?K:0)/O,B;$?B=T.endAngle+Vr(y)*d*(K!==0?1:0):B=l;var L=B+Vr(y)*((K!==0?v:0)+H*S),D=(B+L)/2,k=(w.innerRadius+w.outerRadius)/2,I=[{name:q,value:K,payload:P,dataKey:_,type:g}],z=yn(w.cx,w.cy,k,D);return T=pn(pn(pn({percent:H,cornerRadius:i,name:q,tooltipPayload:I,midAngle:D,middleRadius:k,tooltipPosition:z},P),w),{},{value:An(P,_),startAngle:B,endAngle:L,payload:P,paddingAngle:Vr(y)*d}),T})}return pn(pn({},w),{},{sectors:M,data:s})});var OS,r5;function wve(){if(r5)return OS;r5=1;var e=Math.ceil,t=Math.max;function n(r,s,i,l){for(var u=-1,d=t(e((s-r)/(i||1)),0),f=Array(d);d--;)f[l?d:++u]=r,r+=i;return f}return OS=n,OS}var TS,a5;function GU(){if(a5)return TS;a5=1;var e=p8(),t=1/0,n=17976931348623157e292;function r(s){if(!s)return s===0?s:0;if(s=e(s),s===t||s===-t){var i=s<0?-1:1;return i*n}return s===s?s:0}return TS=r,TS}var MS,s5;function Nve(){if(s5)return MS;s5=1;var e=wve(),t=bv(),n=GU();function r(s){return function(i,l,u){return u&&typeof u!="number"&&t(i,l,u)&&(l=u=void 0),i=n(i),l===void 0?(l=i,i=0):l=n(l),u=u===void 0?i<l?1:-1:n(u),e(i,l,u,s)}}return MS=r,MS}var kS,i5;function Sve(){if(i5)return kS;i5=1;var e=Nve(),t=e();return kS=t,kS}var Ave=Sve();const ny=Wt(Ave);function em(e){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(e)}function o5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function l5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o5(Object(n),!0).forEach(function(r){XU(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XU(e,t,n){return t=Cve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cve(e){var t=_ve(e,"string");return em(t)=="symbol"?t:t+""}function _ve(e,t){if(em(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Eve=["Webkit","Moz","O","ms"],Ove=function(t,n){var r=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=Eve.reduce(function(i,l){return l5(l5({},i),{},XU({},l+r,n))},{});return s[t]=n,s};function Wu(e){"@babel/helpers - typeof";return Wu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wu(e)}function ry(){return ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ry.apply(this,arguments)}function c5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function PS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c5(Object(n),!0).forEach(function(r){va(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tve(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZU(r.key),r)}}function Mve(e,t,n){return t&&u5(e.prototype,t),n&&u5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kve(e,t,n){return t=ay(t),Pve(e,QU()?Reflect.construct(t,n||[],ay(e).constructor):t.apply(e,n))}function Pve(e,t){if(t&&(Wu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Rve(e)}function Rve(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function QU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QU=function(){return!!e})()}function ay(e){return ay=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ay(e)}function Dve(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I2(e,t)}function I2(e,t){return I2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},I2(e,t)}function va(e,t,n){return t=ZU(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZU(e){var t=Ive(e,"string");return Wu(t)=="symbol"?t:t+""}function Ive(e,t){if(Wu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Wu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Lve=function(t){var n=t.data,r=t.startIndex,s=t.endIndex,i=t.x,l=t.width,u=t.travellerWidth;if(!n||!n.length)return{};var d=n.length,f=uh().domain(ny(0,d)).range([i,i+l-u]),p=f.domain().map(function(m){return f(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:f(r),endX:f(s),scale:f,scaleValues:p}},d5=function(t){return t.changedTouches&&!!t.changedTouches.length},Yu=(function(e){function t(n){var r;return Tve(this,t),r=kve(this,t,[n]),va(r,"handleDrag",function(s){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(s):r.state.isSlideMoving&&r.handleSlideDrag(s)}),va(r,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&r.handleDrag(s.changedTouches[0])}),va(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=r.props,i=s.endIndex,l=s.onDragEnd,u=s.startIndex;l?.({endIndex:i,startIndex:u})}),r.detachDragEndListener()}),va(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),va(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),va(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),va(r,"handleSlideDragStart",function(s){var i=d5(s)?s.changedTouches[0]:s;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Dve(t,e),Mve(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var s=r.startX,i=r.endX,l=this.state.scaleValues,u=this.props,d=u.gap,f=u.data,p=f.length-1,m=Math.min(s,i),g=Math.max(s,i),v=t.getIndexInRange(l,m),w=t.getIndexInRange(l,g);return{startIndex:v-v%d,endIndex:w===p?p:w-w%d}}},{key:"getTextOfTick",value:function(r){var s=this.props,i=s.data,l=s.tickFormatter,u=s.dataKey,d=An(i[r],u,r);return vt(l)?l(d,r):d}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var s=this.state,i=s.slideMoveStartX,l=s.startX,u=s.endX,d=this.props,f=d.x,p=d.width,m=d.travellerWidth,g=d.startIndex,v=d.endIndex,w=d.onChange,y=r.pageX-i;y>0?y=Math.min(y,f+p-m-u,f+p-m-l):y<0&&(y=Math.max(y,f-l,f-u));var j=this.getIndex({startX:l+y,endX:u+y});(j.startIndex!==g||j.endIndex!==v)&&w&&w(j),this.setState({startX:l+y,endX:u+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,s){var i=d5(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var s=this.state,i=s.brushMoveStartX,l=s.movingTravellerId,u=s.endX,d=s.startX,f=this.state[l],p=this.props,m=p.x,g=p.width,v=p.travellerWidth,w=p.onChange,y=p.gap,j=p.data,_={startX:this.state.startX,endX:this.state.endX},C=r.pageX-i;C>0?C=Math.min(C,m+g-v-f):C<0&&(C=Math.max(C,m-f)),_[l]=f+C;var N=this.getIndex(_),S=N.startIndex,O=N.endIndex,M=function(){var P=j.length-1;return l==="startX"&&(u>d?S%y===0:O%y===0)||u<d&&O===P||l==="endX"&&(u>d?O%y===0:S%y===0)||u>d&&O===P};this.setState(va(va({},l,f+C),"brushMoveStartX",r.pageX),function(){w&&M()&&w(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,s){var i=this,l=this.state,u=l.scaleValues,d=l.startX,f=l.endX,p=this.state[s],m=u.indexOf(p);if(m!==-1){var g=m+r;if(!(g===-1||g>=u.length)){var v=u[g];s==="startX"&&v>=f||s==="endX"&&v<=d||this.setState(va({},s,v),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,u=r.height,d=r.fill,f=r.stroke;return X.createElement("rect",{stroke:f,fill:d,x:s,y:i,width:l,height:u})}},{key:"renderPanorama",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,u=r.height,d=r.data,f=r.children,p=r.padding,m=b.Children.only(f);return m?X.cloneElement(m,{x:s,y:i,width:l,height:u,margin:p,compact:!0,data:d}):null}},{key:"renderTravellerLayer",value:function(r,s){var i,l,u=this,d=this.props,f=d.y,p=d.travellerWidth,m=d.height,g=d.traveller,v=d.ariaLabel,w=d.data,y=d.startIndex,j=d.endIndex,_=Math.max(r,this.props.x),C=PS(PS({},nt(this.props,!1)),{},{x:_,y:f,width:p,height:m}),N=v||"Min value: ".concat((i=w[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((l=w[j])===null||l===void 0?void 0:l.name);return X.createElement(Ct,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),u.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,s))},onFocus:function(){u.setState({isTravellerFocused:!0})},onBlur:function(){u.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,C))}},{key:"renderSlide",value:function(r,s){var i=this.props,l=i.y,u=i.height,d=i.stroke,f=i.travellerWidth,p=Math.min(r,s)+f,m=Math.max(Math.abs(s-r)-f,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:d,fillOpacity:.2,x:p,y:l,width:m,height:u})}},{key:"renderText",value:function(){var r=this.props,s=r.startIndex,i=r.endIndex,l=r.y,u=r.height,d=r.travellerWidth,f=r.stroke,p=this.state,m=p.startX,g=p.endX,v=5,w={pointerEvents:"none",fill:f};return X.createElement(Ct,{className:"recharts-brush-texts"},X.createElement(Wl,ry({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-v,y:l+u/2},w),this.getTextOfTick(s)),X.createElement(Wl,ry({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+d+v,y:l+u/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var r=this.props,s=r.data,i=r.className,l=r.children,u=r.x,d=r.y,f=r.width,p=r.height,m=r.alwaysShowText,g=this.state,v=g.startX,w=g.endX,y=g.isTextActive,j=g.isSlideMoving,_=g.isTravellerMoving,C=g.isTravellerFocused;if(!s||!s.length||!Ie(u)||!Ie(d)||!Ie(f)||!Ie(p)||f<=0||p<=0)return null;var N=Nt("recharts-brush",i),S=X.Children.count(l)===1,O=Ove("userSelect","none");return X.createElement(Ct,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(v,w),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(w,"endX"),(y||j||_||C||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var s=r.x,i=r.y,l=r.width,u=r.height,d=r.stroke,f=Math.floor(i+u/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:s,y:i,width:l,height:u,fill:d,stroke:"none"}),X.createElement("line",{x1:s+1,y1:f,x2:s+l-1,y2:f,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:s+1,y1:f+2,x2:s+l-1,y2:f+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,s){var i;return X.isValidElement(r)?i=X.cloneElement(r,s):vt(r)?i=r(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(r,s){var i=r.data,l=r.width,u=r.x,d=r.travellerWidth,f=r.updateId,p=r.startIndex,m=r.endIndex;if(i!==s.prevData||f!==s.prevUpdateId)return PS({prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l},i&&i.length?Lve({data:i,width:l,x:u,travellerWidth:d,startIndex:p,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(l!==s.prevWidth||u!==s.prevX||d!==s.prevTravellerWidth)){s.scale.range([u,u+l-d]);var g=s.scale.domain().map(function(v){return s.scale(v)});return{prevData:i,prevTravellerWidth:d,prevUpdateId:f,prevX:u,prevWidth:l,startX:s.scale(r.startIndex),endX:s.scale(r.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(r,s){for(var i=r.length,l=0,u=i-1;u-l>1;){var d=Math.floor((l+u)/2);r[d]>s?u=d:l=d}return s>=r[u]?u:l}}])})(b.PureComponent);va(Yu,"displayName","Brush");va(Yu,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var RS,f5;function $ve(){if(f5)return RS;f5=1;var e=W_();function t(n,r){var s;return e(n,function(i,l,u){return s=r(i,l,u),!s}),!!s}return RS=t,RS}var DS,h5;function qve(){if(h5)return DS;h5=1;var e=KF(),t=Vs(),n=$ve(),r=ua(),s=bv();function i(l,u,d){var f=r(l)?e:n;return d&&s(l,u,d)&&(u=void 0),f(l,t(u,3))}return DS=i,DS}var zve=qve();const Bve=Wt(zve);var Ls=function(t,n){var r=t.alwaysShow,s=t.ifOverflow;return r&&(s="extendDomain"),s===n},IS,m5;function Fve(){if(m5)return IS;m5=1;var e=u8();function t(n,r,s){r=="__proto__"&&e?e(n,r,{configurable:!0,enumerable:!0,value:s,writable:!0}):n[r]=s}return IS=t,IS}var LS,p5;function Uve(){if(p5)return LS;p5=1;var e=Fve(),t=l8(),n=Vs();function r(s,i){var l={};return i=n(i,3),t(s,function(u,d,f){e(l,d,i(u,d,f))}),l}return LS=r,LS}var Hve=Uve();const Vve=Wt(Hve);var $S,g5;function Kve(){if(g5)return $S;g5=1;function e(t,n){for(var r=-1,s=t==null?0:t.length;++r<s;)if(!n(t[r],r,t))return!1;return!0}return $S=e,$S}var qS,x5;function Wve(){if(x5)return qS;x5=1;var e=W_();function t(n,r){var s=!0;return e(n,function(i,l,u){return s=!!r(i,l,u),s}),s}return qS=t,qS}var zS,y5;function Yve(){if(y5)return zS;y5=1;var e=Kve(),t=Wve(),n=Vs(),r=ua(),s=bv();function i(l,u,d){var f=r(l)?e:t;return d&&s(l,u,d)&&(u=void 0),f(l,n(u,3))}return zS=i,zS}var Gve=Yve();const JU=Wt(Gve);var Xve=["x","y"];function tm(e){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tm(e)}function L2(){return L2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},L2.apply(this,arguments)}function v5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Kf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v5(Object(n),!0).forEach(function(r){Qve(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qve(e,t,n){return t=Zve(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zve(e){var t=Jve(e,"string");return tm(t)=="symbol"?t:t+""}function Jve(e,t){if(tm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ebe(e,t){if(e==null)return{};var n=tbe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function tbe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function nbe(e,t){var n=e.x,r=e.y,s=ebe(e,Xve),i="".concat(n),l=parseInt(i,10),u="".concat(r),d=parseInt(u,10),f="".concat(t.height||s.height),p=parseInt(f,10),m="".concat(t.width||s.width),g=parseInt(m,10);return Kf(Kf(Kf(Kf(Kf({},t),s),l?{x:l}:{}),d?{y:d}:{}),{},{height:p,width:g,name:t.name,radius:t.radius})}function b5(e){return X.createElement(ey,L2({shapeType:"rectangle",propTransformer:nbe,activeClassName:"recharts-active-bar"},e))}var rbe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,s){if(typeof t=="number")return t;var i=Ie(r)||bie(r);return i?t(r,s):(i||Xl(),n)}},abe=["value","background"],eH;function Gu(e){"@babel/helpers - typeof";return Gu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gu(e)}function sbe(e,t){if(e==null)return{};var n=ibe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ibe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},sy.apply(this,arguments)}function j5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Zn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j5(Object(n),!0).forEach(function(r){Mo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function obe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nH(r.key),r)}}function lbe(e,t,n){return t&&w5(e.prototype,t),n&&w5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cbe(e,t,n){return t=iy(t),ube(e,tH()?Reflect.construct(t,n||[],iy(e).constructor):t.apply(e,n))}function ube(e,t){if(t&&(Gu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dbe(e)}function dbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tH=function(){return!!e})()}function iy(e){return iy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},iy(e)}function fbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$2(e,t)}function $2(e,t){return $2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},$2(e,t)}function Mo(e,t,n){return t=nH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nH(e){var t=hbe(e,"string");return Gu(t)=="symbol"?t:t+""}function hbe(e,t){if(Gu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Gu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bn=(function(e){function t(){var n;obe(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=cbe(this,t,[].concat(s)),Mo(n,"state",{isAnimationFinished:!1}),Mo(n,"id",Yo("recharts-bar-")),Mo(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),l&&l()}),Mo(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),l&&l()}),n}return fbe(t,e),lbe(t,[{key:"renderRectanglesStatically",value:function(r){var s=this,i=this.props,l=i.shape,u=i.dataKey,d=i.activeIndex,f=i.activeBar,p=nt(this.props,!1);return r&&r.map(function(m,g){var v=g===d,w=v?f:l,y=Zn(Zn(Zn({},p),m),{},{isActive:v,option:w,index:g,dataKey:u,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return X.createElement(Ct,sy({className:"recharts-bar-rectangle"},qo(s.props,m,g),{key:"rectangle-".concat(m?.x,"-").concat(m?.y,"-").concat(m?.value,"-").concat(g)}),X.createElement(b5,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,s=this.props,i=s.data,l=s.layout,u=s.isAnimationActive,d=s.animationBegin,f=s.animationDuration,p=s.animationEasing,m=s.animationId,g=this.state.prevData;return X.createElement(Qa,{begin:d,duration:f,isActive:u,easing:p,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var w=v.t,y=i.map(function(j,_){var C=g&&g[_];if(C){var N=Pn(C.x,j.x),S=Pn(C.y,j.y),O=Pn(C.width,j.width),M=Pn(C.height,j.height);return Zn(Zn({},j),{},{x:N(w),y:S(w),width:O(w),height:M(w)})}if(l==="horizontal"){var T=Pn(0,j.height),P=T(w);return Zn(Zn({},j),{},{y:j.y+j.height-P,height:P})}var $=Pn(0,j.width),K=$(w);return Zn(Zn({},j),{},{width:K})});return X.createElement(Ct,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,s=r.data,i=r.isAnimationActive,l=this.state.prevData;return i&&s&&s.length&&(!l||!zo(l,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var r=this,s=this.props,i=s.data,l=s.dataKey,u=s.activeIndex,d=nt(this.props.background,!1);return i.map(function(f,p){f.value;var m=f.background,g=sbe(f,abe);if(!m)return null;var v=Zn(Zn(Zn(Zn(Zn({},g),{},{fill:"#eee"},m),d),qo(r.props,f,p)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:l,index:p,className:"recharts-bar-background-rectangle"});return X.createElement(b5,sy({key:"background-bar-".concat(p),option:r.props.background,isActive:p===u},v))})}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.data,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=Yr(p,Dd);if(!m)return null;var g=f==="vertical"?l[0].height/2:l[0].width/2,v=function(j,_){var C=Array.isArray(j.value)?j.value[1]:j.value;return{x:j.x,y:j.y,value:C,errorVal:An(j,_)}},w={clipPath:r?"url(#clipPath-".concat(s,")"):null};return X.createElement(Ct,w,m.map(function(y){return X.cloneElement(y,{key:"error-bar-".concat(s,"-").concat(y.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.data,l=r.className,u=r.xAxis,d=r.yAxis,f=r.left,p=r.top,m=r.width,g=r.height,v=r.isAnimationActive,w=r.background,y=r.id;if(s||!i||!i.length)return null;var j=this.state.isAnimationFinished,_=Nt("recharts-bar",l),C=u&&u.allowDataOverflow,N=d&&d.allowDataOverflow,S=C||N,O=xt(y)?this.id:y;return X.createElement(Ct,{className:_},C||N?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(O)},X.createElement("rect",{x:C?f:f-m/2,y:N?p:p-g/2,width:C?m:m*2,height:N?g:g*2}))):null,X.createElement(Ct,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(O,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,O),(!v||j)&&ys.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:s.curData}:r.data!==s.curData?{curData:r.data}:null}}])})(b.PureComponent);eH=Bn;Mo(Bn,"displayName","Bar");Mo(Bn,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Mo(Bn,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,s=e.bandSize,i=e.xAxis,l=e.yAxis,u=e.xAxisTicks,d=e.yAxisTicks,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,v=Bme(r,n);if(!v)return null;var w=t.layout,y=n.type.defaultProps,j=y!==void 0?Zn(Zn({},y),n.props):n.props,_=j.dataKey,C=j.children,N=j.minPointSize,S=w==="horizontal"?l:i,O=f?S.scale.domain():null,M=Yme({numericAxis:S}),T=Yr(C,Ti),P=m.map(function($,K){var q,H,B,L,D,k;f?q=Fme(f[p+K],O):(q=An($,_),Array.isArray(q)||(q=[M,q]));var I=rbe(N,eH.defaultProps.minPointSize)(q[1],K);if(w==="horizontal"){var z,V=[l.scale(q[0]),l.scale(q[1])],Y=V[0],U=V[1];H=WL({axis:i,ticks:u,bandSize:s,offset:v.offset,entry:$,index:K}),B=(z=U??Y)!==null&&z!==void 0?z:void 0,L=v.size;var F=Y-U;if(D=Number.isNaN(F)?0:F,k={x:H,y:l.y,width:L,height:l.height},Math.abs(I)>0&&Math.abs(D)<Math.abs(I)){var G=Vr(D||I)*(Math.abs(I)-Math.abs(D));B-=G,D+=G}}else{var Z=[i.scale(q[0]),i.scale(q[1])],ge=Z[0],Se=Z[1];if(H=ge,B=WL({axis:l,ticks:d,bandSize:s,offset:v.offset,entry:$,index:K}),L=Se-ge,D=v.size,k={x:i.x,y:B,width:i.width,height:D},Math.abs(I)>0&&Math.abs(L)<Math.abs(I)){var Q=Vr(L||I)*(Math.abs(I)-Math.abs(L));L+=Q}}return Zn(Zn(Zn({},$),{},{x:H,y:B,width:L,height:D,value:f?q:q[1],payload:$,background:k},T&&T[K]&&T[K].props),{},{tooltipPayload:[OU(n,$)],tooltipPosition:{x:H+L/2,y:B+D/2}})});return Zn({data:P,layout:w},g)});function nm(e){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nm(e)}function mbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rH(r.key),r)}}function pbe(e,t,n){return t&&N5(e.prototype,t),n&&N5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cs(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?S5(Object(n),!0).forEach(function(r){Lv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lv(e,t,n){return t=rH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rH(e){var t=gbe(e,"string");return nm(t)=="symbol"?t:t+""}function gbe(e,t){if(nm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $v=function(t,n,r,s,i){var l=t.width,u=t.height,d=t.layout,f=t.children,p=Object.keys(n),m={left:r.left,leftMirror:r.left,right:l-r.right,rightMirror:l-r.right,top:r.top,topMirror:r.top,bottom:u-r.bottom,bottomMirror:u-r.bottom},g=!!ba(f,Bn);return p.reduce(function(v,w){var y=n[w],j=y.orientation,_=y.domain,C=y.padding,N=C===void 0?{}:C,S=y.mirror,O=y.reversed,M="".concat(j).concat(S?"Mirror":""),T,P,$,K,q;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var H=_[1]-_[0],B=1/0,L=y.categoricalDomain.sort(Sie);if(L.forEach(function(Z,ge){ge>0&&(B=Math.min((Z||0)-(L[ge-1]||0),B))}),Number.isFinite(B)){var D=B/H,k=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(T=D*k/2),y.padding==="no-gap"){var I=Kr(t.barCategoryGap,D*k),z=D*k/2;T=z-I-(z-I)/k*I}}}s==="xAxis"?P=[r.left+(N.left||0)+(T||0),r.left+r.width-(N.right||0)-(T||0)]:s==="yAxis"?P=d==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(T||0),r.top+r.height-(N.bottom||0)-(T||0)]:P=y.range,O&&(P=[P[1],P[0]]);var V=AU(y,i,g),Y=V.scale,U=V.realScaleType;Y.domain(_).range(P),CU(Y);var F=_U(Y,cs(cs({},y),{},{realScaleType:U}));s==="xAxis"?(q=j==="top"&&!S||j==="bottom"&&S,$=r.left,K=m[M]-q*y.height):s==="yAxis"&&(q=j==="left"&&!S||j==="right"&&S,$=m[M]-q*y.width,K=r.top);var G=cs(cs(cs({},y),F),{},{realScaleType:U,x:$,y:K,scale:Y,width:s==="xAxis"?r.width:y.width,height:s==="yAxis"?r.height:y.height});return G.bandSize=Ux(G,F),!y.hide&&s==="xAxis"?m[M]+=(q?-1:1)*G.height:y.hide||(m[M]+=(q?-1:1)*G.width),cs(cs({},v),{},Lv({},w,G))},{})},aH=function(t,n){var r=t.x,s=t.y,i=n.x,l=n.y;return{x:Math.min(r,i),y:Math.min(s,l),width:Math.abs(i-r),height:Math.abs(l-s)}},xbe=function(t){var n=t.x1,r=t.y1,s=t.x2,i=t.y2;return aH({x:n,y:r},{x:s,y:i})},sH=(function(){function e(t){mbe(this,e),this.scale=t}return pbe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=r.bandAware,i=r.position;if(n!==void 0){if(i)switch(i){case"start":return this.scale(n);case"middle":{var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}case"end":{var u=this.bandwidth?this.bandwidth():0;return this.scale(n)+u}default:return this.scale(n)}if(s){var d=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+d}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),s=r[0],i=r[r.length-1];return s<=i?n>=s&&n<=i:n>=i&&n<=s}}],[{key:"create",value:function(n){return new e(n)}}])})();Lv(sH,"EPS",1e-4);var wE=function(t){var n=Object.keys(t).reduce(function(r,s){return cs(cs({},r),{},Lv({},s,sH.create(t[s])))},{});return cs(cs({},n),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},l=i.bandAware,u=i.position;return Vve(s,function(d,f){return n[f].apply(d,{bandAware:l,position:u})})},isInRange:function(s){return JU(s,function(i,l){return n[l].isInRange(i)})}})};function ybe(e){return(e%180+180)%180}var vbe=function(t){var n=t.width,r=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=ybe(s),l=i*Math.PI/180,u=Math.atan(r/n),d=l>u&&l<Math.PI-u?r/Math.sin(l):n/Math.cos(l);return Math.abs(d)},BS,A5;function bbe(){if(A5)return BS;A5=1;var e=Vs(),t=Dm(),n=yv();function r(s){return function(i,l,u){var d=Object(i);if(!t(i)){var f=e(l,3);i=n(i),l=function(m){return f(d[m],m,d)}}var p=s(i,l,u);return p>-1?d[f?i[p]:p]:void 0}}return BS=r,BS}var FS,C5;function jbe(){if(C5)return FS;C5=1;var e=GU();function t(n){var r=e(n),s=r%1;return r===r?s?r-s:r:0}return FS=t,FS}var US,_5;function wbe(){if(_5)return US;_5=1;var e=r8(),t=Vs(),n=jbe(),r=Math.max;function s(i,l,u){var d=i==null?0:i.length;if(!d)return-1;var f=u==null?0:n(u);return f<0&&(f=r(d+f,0)),e(i,t(l,3),f)}return US=s,US}var HS,E5;function Nbe(){if(E5)return HS;E5=1;var e=bbe(),t=wbe(),n=e(t);return HS=n,HS}var Sbe=Nbe();const Abe=Wt(Sbe);var Cbe=yF();const _be=Wt(Cbe);var Ebe=_be(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NE=b.createContext(void 0),SE=b.createContext(void 0),iH=b.createContext(void 0),oH=b.createContext({}),lH=b.createContext(void 0),cH=b.createContext(0),uH=b.createContext(0),O5=function(t){var n=t.state,r=n.xAxisMap,s=n.yAxisMap,i=n.offset,l=t.clipPathId,u=t.children,d=t.width,f=t.height,p=Ebe(i);return X.createElement(NE.Provider,{value:r},X.createElement(SE.Provider,{value:s},X.createElement(oH.Provider,{value:i},X.createElement(iH.Provider,{value:p},X.createElement(lH.Provider,{value:l},X.createElement(cH.Provider,{value:f},X.createElement(uH.Provider,{value:d},u)))))))},Obe=function(){return b.useContext(lH)},dH=function(t){var n=b.useContext(NE);n==null&&Xl();var r=n[t];return r==null&&Xl(),r},Tbe=function(){var t=b.useContext(NE);return _o(t)},Mbe=function(){var t=b.useContext(SE),n=Abe(t,function(r){return JU(r.domain,Number.isFinite)});return n||_o(t)},fH=function(t){var n=b.useContext(SE);n==null&&Xl();var r=n[t];return r==null&&Xl(),r},kbe=function(){var t=b.useContext(iH);return t},Pbe=function(){return b.useContext(oH)},AE=function(){return b.useContext(uH)},CE=function(){return b.useContext(cH)};function Xu(e){"@babel/helpers - typeof";return Xu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xu(e)}function Rbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mH(r.key),r)}}function Ibe(e,t,n){return t&&Dbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lbe(e,t,n){return t=oy(t),$be(e,hH()?Reflect.construct(t,n||[],oy(e).constructor):t.apply(e,n))}function $be(e,t){if(t&&(Xu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qbe(e)}function qbe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hH=function(){return!!e})()}function oy(e){return oy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},oy(e)}function zbe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q2(e,t)}function q2(e,t){return q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},q2(e,t)}function T5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function M5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T5(Object(n),!0).forEach(function(r){_E(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _E(e,t,n){return t=mH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mH(e){var t=Bbe(e,"string");return Xu(t)=="symbol"?t:t+""}function Bbe(e,t){if(Xu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Xu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Fbe(e,t){return Kbe(e)||Vbe(e,t)||Hbe(e,t)||Ube()}function Ube(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hbe(e,t){if(e){if(typeof e=="string")return k5(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k5(e,t)}}function k5(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vbe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Kbe(e){if(Array.isArray(e))return e}function z2(){return z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z2.apply(this,arguments)}var Wbe=function(t,n){var r;return X.isValidElement(t)?r=X.cloneElement(t,n):vt(t)?r=t(n):r=X.createElement("line",z2({},n,{className:"recharts-reference-line-line"})),r},Ybe=function(t,n,r,s,i,l,u,d,f){var p=i.x,m=i.y,g=i.width,v=i.height;if(r){var w=f.y,y=t.y.apply(w,{position:l});if(Ls(f,"discard")&&!t.y.isInRange(y))return null;var j=[{x:p+g,y},{x:p,y}];return d==="left"?j.reverse():j}if(n){var _=f.x,C=t.x.apply(_,{position:l});if(Ls(f,"discard")&&!t.x.isInRange(C))return null;var N=[{x:C,y:m+v},{x:C,y:m}];return u==="top"?N.reverse():N}if(s){var S=f.segment,O=S.map(function(M){return t.apply(M,{position:l})});return Ls(f,"discard")&&Bve(O,function(M){return!t.isInRange(M)})?null:O}return null};function Gbe(e){var t=e.x,n=e.y,r=e.segment,s=e.xAxisId,i=e.yAxisId,l=e.shape,u=e.className,d=e.alwaysShow,f=Obe(),p=dH(s),m=fH(i),g=kbe();if(!f||!g)return null;xs(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=wE({x:p.scale,y:m.scale}),w=ur(t),y=ur(n),j=r&&r.length===2,_=Ybe(v,w,y,j,g,e.position,p.orientation,m.orientation,e);if(!_)return null;var C=Fbe(_,2),N=C[0],S=N.x,O=N.y,M=C[1],T=M.x,P=M.y,$=Ls(e,"hidden")?"url(#".concat(f,")"):void 0,K=M5(M5({clipPath:$},nt(e,!0)),{},{x1:S,y1:O,x2:T,y2:P});return X.createElement(Ct,{className:Nt("recharts-reference-line",u)},Wbe(l,K),xr.renderCallByParent(e,xbe({x1:S,y1:O,x2:T,y2:P})))}var EE=(function(e){function t(){return Rbe(this,t),Lbe(this,t,arguments)}return zbe(t,e),Ibe(t,[{key:"render",value:function(){return X.createElement(Gbe,this.props)}}])})(X.Component);_E(EE,"displayName","ReferenceLine");_E(EE,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function B2(){return B2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B2.apply(this,arguments)}function Qu(e){"@babel/helpers - typeof";return Qu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qu(e)}function P5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function R5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?P5(Object(n),!0).forEach(function(r){qv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xbe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Qbe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gH(r.key),r)}}function Zbe(e,t,n){return t&&Qbe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jbe(e,t,n){return t=ly(t),e0e(e,pH()?Reflect.construct(t,n||[],ly(e).constructor):t.apply(e,n))}function e0e(e,t){if(t&&(Qu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t0e(e)}function t0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pH=function(){return!!e})()}function ly(e){return ly=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ly(e)}function n0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F2(e,t)}function F2(e,t){return F2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},F2(e,t)}function qv(e,t,n){return t=gH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gH(e){var t=r0e(e,"string");return Qu(t)=="symbol"?t:t+""}function r0e(e,t){if(Qu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Qu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var a0e=function(t){var n=t.x,r=t.y,s=t.xAxis,i=t.yAxis,l=wE({x:s.scale,y:i.scale}),u=l.apply({x:n,y:r},{bandAware:!0});return Ls(t,"discard")&&!l.isInRange(u)?null:u},zv=(function(e){function t(){return Xbe(this,t),Jbe(this,t,arguments)}return n0e(t,e),Zbe(t,[{key:"render",value:function(){var r=this.props,s=r.x,i=r.y,l=r.r,u=r.alwaysShow,d=r.clipPathId,f=ur(s),p=ur(i);if(xs(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!f||!p)return null;var m=a0e(this.props);if(!m)return null;var g=m.x,v=m.y,w=this.props,y=w.shape,j=w.className,_=Ls(this.props,"hidden")?"url(#".concat(d,")"):void 0,C=R5(R5({clipPath:_},nt(this.props,!0)),{},{cx:g,cy:v});return X.createElement(Ct,{className:Nt("recharts-reference-dot",j)},t.renderDot(y,C),xr.renderCallByParent(this.props,{x:g-l,y:v-l,width:2*l,height:2*l}))}}])})(X.Component);qv(zv,"displayName","ReferenceDot");qv(zv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});qv(zv,"renderDot",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):vt(e)?n=e(t):n=X.createElement(zm,B2({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function U2(){return U2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U2.apply(this,arguments)}function Zu(e){"@babel/helpers - typeof";return Zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zu(e)}function D5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function I5(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D5(Object(n),!0).forEach(function(r){Bv(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function s0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i0e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yH(r.key),r)}}function o0e(e,t,n){return t&&i0e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function l0e(e,t,n){return t=cy(t),c0e(e,xH()?Reflect.construct(t,n||[],cy(e).constructor):t.apply(e,n))}function c0e(e,t){if(t&&(Zu(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return u0e(e)}function u0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xH=function(){return!!e})()}function cy(e){return cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cy(e)}function d0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&H2(e,t)}function H2(e,t){return H2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},H2(e,t)}function Bv(e,t,n){return t=yH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function yH(e){var t=f0e(e,"string");return Zu(t)=="symbol"?t:t+""}function f0e(e,t){if(Zu(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Zu(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var h0e=function(t,n,r,s,i){var l=i.x1,u=i.x2,d=i.y1,f=i.y2,p=i.xAxis,m=i.yAxis;if(!p||!m)return null;var g=wE({x:p.scale,y:m.scale}),v={x:t?g.x.apply(l,{position:"start"}):g.x.rangeMin,y:r?g.y.apply(d,{position:"start"}):g.y.rangeMin},w={x:n?g.x.apply(u,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(f,{position:"end"}):g.y.rangeMax};return Ls(i,"discard")&&(!g.isInRange(v)||!g.isInRange(w))?null:aH(v,w)},Fv=(function(e){function t(){return s0e(this,t),l0e(this,t,arguments)}return d0e(t,e),o0e(t,[{key:"render",value:function(){var r=this.props,s=r.x1,i=r.x2,l=r.y1,u=r.y2,d=r.className,f=r.alwaysShow,p=r.clipPathId;xs(f===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ur(s),g=ur(i),v=ur(l),w=ur(u),y=this.props.shape;if(!m&&!g&&!v&&!w&&!y)return null;var j=h0e(m,g,v,w,this.props);if(!j&&!y)return null;var _=Ls(this.props,"hidden")?"url(#".concat(p,")"):void 0;return X.createElement(Ct,{className:Nt("recharts-reference-area",d)},t.renderRect(y,I5(I5({clipPath:_},nt(this.props,!0)),j)),xr.renderCallByParent(this.props,j))}}])})(X.Component);Bv(Fv,"displayName","ReferenceArea");Bv(Fv,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Bv(Fv,"renderRect",function(e,t){var n;return X.isValidElement(e)?n=X.cloneElement(e,t):vt(e)?n=e(t):n=X.createElement(jE,U2({},t,{className:"recharts-reference-area-rect"})),n});function vH(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function m0e(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return vbe(r,n)}function p0e(e,t,n){var r=n==="width",s=e.x,i=e.y,l=e.width,u=e.height;return t===1?{start:r?s:i,end:r?s+l:i+u}:{start:r?s+l:i+u,end:r?s:i}}function uy(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var i=n();return e*(t-e*i/2-r)>=0&&e*(t+e*i/2-s)<=0}function g0e(e,t){return vH(e,t+1)}function x0e(e,t,n,r,s){for(var i=(r||[]).slice(),l=t.start,u=t.end,d=0,f=1,p=l,m=function(){var w=r?.[d];if(w===void 0)return{v:vH(r,f)};var y=d,j,_=function(){return j===void 0&&(j=n(w,y)),j},C=w.coordinate,N=d===0||uy(e,C,_,p,u);N||(d=0,p=l,f+=1),N&&(p=C+e*(_()/2+s),d+=f)},g;f<=i.length;)if(g=m(),g)return g.v;return[]}function rm(e){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rm(e)}function L5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Lr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L5(Object(n),!0).forEach(function(r){y0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function y0e(e,t,n){return t=v0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v0e(e){var t=b0e(e,"string");return rm(t)=="symbol"?t:t+""}function b0e(e,t){if(rm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j0e(e,t,n,r,s){for(var i=(r||[]).slice(),l=i.length,u=t.start,d=t.end,f=function(g){var v=i[g],w,y=function(){return w===void 0&&(w=n(v,g)),w};if(g===l-1){var j=e*(v.coordinate+e*y()/2-d);i[g]=v=Lr(Lr({},v),{},{tickCoord:j>0?v.coordinate-j*e:v.coordinate})}else i[g]=v=Lr(Lr({},v),{},{tickCoord:v.coordinate});var _=uy(e,v.tickCoord,y,u,d);_&&(d=v.tickCoord-e*(y()/2+s),i[g]=Lr(Lr({},v),{},{isShow:!0}))},p=l-1;p>=0;p--)f(p);return i}function w0e(e,t,n,r,s,i){var l=(r||[]).slice(),u=l.length,d=t.start,f=t.end;if(i){var p=r[u-1],m=n(p,u-1),g=e*(p.coordinate+e*m/2-f);l[u-1]=p=Lr(Lr({},p),{},{tickCoord:g>0?p.coordinate-g*e:p.coordinate});var v=uy(e,p.tickCoord,function(){return m},d,f);v&&(f=p.tickCoord-e*(m/2+s),l[u-1]=Lr(Lr({},p),{},{isShow:!0}))}for(var w=i?u-1:u,y=function(C){var N=l[C],S,O=function(){return S===void 0&&(S=n(N,C)),S};if(C===0){var M=e*(N.coordinate-e*O()/2-d);l[C]=N=Lr(Lr({},N),{},{tickCoord:M<0?N.coordinate-M*e:N.coordinate})}else l[C]=N=Lr(Lr({},N),{},{tickCoord:N.coordinate});var T=uy(e,N.tickCoord,O,d,f);T&&(d=N.tickCoord+e*(O()/2+s),l[C]=Lr(Lr({},N),{},{isShow:!0}))},j=0;j<w;j++)y(j);return l}function OE(e,t,n){var r=e.tick,s=e.ticks,i=e.viewBox,l=e.minTickGap,u=e.orientation,d=e.interval,f=e.tickFormatter,p=e.unit,m=e.angle;if(!s||!s.length||!r)return[];if(Ie(d)||qi.isSsr)return g0e(s,typeof d=="number"&&Ie(d)?d:0);var g=[],v=u==="top"||u==="bottom"?"width":"height",w=p&&v==="width"?ch(p,{fontSize:t,letterSpacing:n}):{width:0,height:0},y=function(N,S){var O=vt(f)?f(N.value,S):N.value;return v==="width"?m0e(ch(O,{fontSize:t,letterSpacing:n}),w,m):ch(O,{fontSize:t,letterSpacing:n})[v]},j=s.length>=2?Vr(s[1].coordinate-s[0].coordinate):1,_=p0e(i,j,v);return d==="equidistantPreserveStart"?x0e(j,_,y,s,l):(d==="preserveStart"||d==="preserveStartEnd"?g=w0e(j,_,y,s,l,d==="preserveStartEnd"):g=j0e(j,_,y,s,l),g.filter(function(C){return C.isShow}))}var N0e=["viewBox"],S0e=["viewBox"],A0e=["ticks"];function Ju(e){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ju(e)}function yu(){return yu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yu.apply(this,arguments)}function $5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ir(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$5(Object(n),!0).forEach(function(r){TE(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VS(e,t){if(e==null)return{};var n=C0e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function C0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function _0e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jH(r.key),r)}}function E0e(e,t,n){return t&&q5(e.prototype,t),n&&q5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O0e(e,t,n){return t=dy(t),T0e(e,bH()?Reflect.construct(t,n||[],dy(e).constructor):t.apply(e,n))}function T0e(e,t){if(t&&(Ju(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M0e(e)}function M0e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bH=function(){return!!e})()}function dy(e){return dy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dy(e)}function k0e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V2(e,t)}function V2(e,t){return V2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},V2(e,t)}function TE(e,t,n){return t=jH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jH(e){var t=P0e(e,"string");return Ju(t)=="symbol"?t:t+""}function P0e(e,t){if(Ju(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ju(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Id=(function(e){function t(n){var r;return _0e(this,t),r=O0e(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return k0e(t,e),E0e(t,[{key:"shouldComponentUpdate",value:function(r,s){var i=r.viewBox,l=VS(r,N0e),u=this.props,d=u.viewBox,f=VS(u,S0e);return!Au(i,d)||!Au(l,f)||!Au(s,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var s=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var s=this.props,i=s.x,l=s.y,u=s.width,d=s.height,f=s.orientation,p=s.tickSize,m=s.mirror,g=s.tickMargin,v,w,y,j,_,C,N=m?-1:1,S=r.tickSize||p,O=Ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(f){case"top":v=w=r.coordinate,j=l+ +!m*d,y=j-N*S,C=y-N*g,_=O;break;case"left":y=j=r.coordinate,w=i+ +!m*u,v=w-N*S,_=v-N*g,C=O;break;case"right":y=j=r.coordinate,w=i+ +m*u,v=w+N*S,_=v+N*g,C=O;break;default:v=w=r.coordinate,j=l+ +m*d,y=j+N*S,C=y+N*g,_=O;break}return{line:{x1:v,y1:y,x2:w,y2:j},tick:{x:_,y:C}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,l;switch(s){case"left":l=i?"start":"end";break;case"right":l=i?"end":"start";break;default:l="middle";break}return l}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,s=r.orientation,i=r.mirror,l="end";switch(s){case"left":case"right":l="middle";break;case"top":l=i?"start":"end";break;default:l=i?"end":"start";break}return l}},{key:"renderAxisLine",value:function(){var r=this.props,s=r.x,i=r.y,l=r.width,u=r.height,d=r.orientation,f=r.mirror,p=r.axisLine,m=ir(ir(ir({},nt(this.props,!1)),nt(p,!1)),{},{fill:"none"});if(d==="top"||d==="bottom"){var g=+(d==="top"&&!f||d==="bottom"&&f);m=ir(ir({},m),{},{x1:s,y1:i+g*u,x2:s+l,y2:i+g*u})}else{var v=+(d==="left"&&!f||d==="right"&&f);m=ir(ir({},m),{},{x1:s+v*l,y1:i,x2:s+v*l,y2:i+u})}return X.createElement("line",yu({},m,{className:Nt("recharts-cartesian-axis-line",Ca(p,"className"))}))}},{key:"renderTicks",value:function(r,s,i){var l=this,u=this.props,d=u.tickLine,f=u.stroke,p=u.tick,m=u.tickFormatter,g=u.unit,v=OE(ir(ir({},this.props),{},{ticks:r}),s,i),w=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),j=nt(this.props,!1),_=nt(p,!1),C=ir(ir({},j),{},{fill:"none"},nt(d,!1)),N=v.map(function(S,O){var M=l.getTickLineCoord(S),T=M.line,P=M.tick,$=ir(ir(ir(ir({textAnchor:w,verticalAnchor:y},j),{},{stroke:"none",fill:f},_),P),{},{index:O,payload:S,visibleTicksCount:v.length,tickFormatter:m});return X.createElement(Ct,yu({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},qo(l.props,S,O)),d&&X.createElement("line",yu({},C,T,{className:Nt("recharts-cartesian-axis-tick-line",Ca(d,"className"))})),p&&t.renderTickItem(p,$,"".concat(vt(m)?m(S.value,O):S.value).concat(g||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,s=this.props,i=s.axisLine,l=s.width,u=s.height,d=s.ticksGenerator,f=s.className,p=s.hide;if(p)return null;var m=this.props,g=m.ticks,v=VS(m,A0e),w=g;return vt(d)&&(w=g&&g.length>0?d(this.props):d(v)),l<=0||u<=0||!w||!w.length?null:X.createElement(Ct,{className:Nt("recharts-cartesian-axis",f),ref:function(j){r.layerReference=j}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),xr.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,s,i){var l,u=Nt(s.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(r)?l=X.cloneElement(r,ir(ir({},s),{},{className:u})):vt(r)?l=r(ir(ir({},s),{},{className:u})):l=X.createElement(Wl,yu({},s,{className:"recharts-cartesian-axis-tick-value"}),i),l}}])})(b.Component);TE(Id,"displayName","CartesianAxis");TE(Id,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var R0e=["x1","y1","x2","y2","key"],D0e=["offset"];function Ql(e){"@babel/helpers - typeof";return Ql=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ql(e)}function z5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z5(Object(n),!0).forEach(function(r){I0e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function I0e(e,t,n){return t=L0e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function L0e(e){var t=$0e(e,"string");return Ql(t)=="symbol"?t:t+""}function $0e(e,t){if(Ql(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Ql(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ml.apply(this,arguments)}function B5(e,t){if(e==null)return{};var n=q0e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function q0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var z0e=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,s=t.x,i=t.y,l=t.width,u=t.height,d=t.ry;return X.createElement("rect",{x:s,y:i,ry:d,width:l,height:u,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function wH(e,t){var n;if(X.isValidElement(e))n=X.cloneElement(e,t);else if(vt(e))n=e(t);else{var r=t.x1,s=t.y1,i=t.x2,l=t.y2,u=t.key,d=B5(t,R0e),f=nt(d,!1);f.offset;var p=B5(f,D0e);n=X.createElement("line",Ml({},p,{x1:r,y1:s,x2:i,y2:l,fill:"none",key:u}))}return n}function B0e(e){var t=e.x,n=e.width,r=e.horizontal,s=r===void 0?!0:r,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=$r($r({},e),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return wH(s,f)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function F0e(e){var t=e.y,n=e.height,r=e.vertical,s=r===void 0?!0:r,i=e.verticalPoints;if(!s||!i||!i.length)return null;var l=i.map(function(u,d){var f=$r($r({},e),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return wH(s,f)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function U0e(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,s=e.y,i=e.width,l=e.height,u=e.horizontalPoints,d=e.horizontal,f=d===void 0?!0:d;if(!f||!t||!t.length)return null;var p=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var w=!p[v+1],y=w?s+l-g:p[v+1]-g;if(y<=0)return null;var j=v%t.length;return X.createElement("rect",{key:"react-".concat(v),y:g,x:r,height:y,width:i,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function H0e(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,s=e.fillOpacity,i=e.x,l=e.y,u=e.width,d=e.height,f=e.verticalPoints;if(!n||!r||!r.length)return null;var p=f.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==p[0]&&p.unshift(0);var m=p.map(function(g,v){var w=!p[v+1],y=w?i+u-g:p[v+1]-g;if(y<=0)return null;var j=v%r.length;return X.createElement("rect",{key:"react-".concat(v),x:g,y:l,width:y,height:d,stroke:"none",fill:r[j],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var V0e=function(t,n){var r=t.xAxis,s=t.width,i=t.height,l=t.offset;return SU(OE($r($r($r({},Id.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.left,l.left+l.width,n)},K0e=function(t,n){var r=t.yAxis,s=t.width,i=t.height,l=t.offset;return SU(OE($r($r($r({},Id.defaultProps),r),{},{ticks:bi(r,!0),viewBox:{x:0,y:0,width:s,height:i}})),l.top,l.top+l.height,n)},du={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Bs(e){var t,n,r,s,i,l,u=AE(),d=CE(),f=Pbe(),p=$r($r({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:du.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:du.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:du.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:du.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:du.vertical,verticalFill:(l=e.verticalFill)!==null&&l!==void 0?l:du.verticalFill,x:Ie(e.x)?e.x:f.left,y:Ie(e.y)?e.y:f.top,width:Ie(e.width)?e.width:f.width,height:Ie(e.height)?e.height:f.height}),m=p.x,g=p.y,v=p.width,w=p.height,y=p.syncWithTicks,j=p.horizontalValues,_=p.verticalValues,C=Tbe(),N=Mbe();if(!Ie(v)||v<=0||!Ie(w)||w<=0||!Ie(m)||m!==+m||!Ie(g)||g!==+g)return null;var S=p.verticalCoordinatesGenerator||V0e,O=p.horizontalCoordinatesGenerator||K0e,M=p.horizontalPoints,T=p.verticalPoints;if((!M||!M.length)&&vt(O)){var P=j&&j.length,$=O({yAxis:N?$r($r({},N),{},{ticks:P?j:N.ticks}):void 0,width:u,height:d,offset:f},P?!0:y);xs(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ql($),"]")),Array.isArray($)&&(M=$)}if((!T||!T.length)&&vt(S)){var K=_&&_.length,q=S({xAxis:C?$r($r({},C),{},{ticks:K?_:C.ticks}):void 0,width:u,height:d,offset:f},K?!0:y);xs(Array.isArray(q),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ql(q),"]")),Array.isArray(q)&&(T=q)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(z0e,{fill:p.fill,fillOpacity:p.fillOpacity,x:p.x,y:p.y,width:p.width,height:p.height,ry:p.ry}),X.createElement(B0e,Ml({},p,{offset:f,horizontalPoints:M,xAxis:C,yAxis:N})),X.createElement(F0e,Ml({},p,{offset:f,verticalPoints:T,xAxis:C,yAxis:N})),X.createElement(U0e,Ml({},p,{horizontalPoints:M})),X.createElement(H0e,Ml({},p,{verticalPoints:T})))}Bs.displayName="CartesianGrid";var W0e=["type","layout","connectNulls","ref"],Y0e=["key"];function ed(e){"@babel/helpers - typeof";return ed=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ed(e)}function F5(e,t){if(e==null)return{};var n=G0e(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G0e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function ph(){return ph=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ph.apply(this,arguments)}function U5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U5(Object(n),!0).forEach(function(r){us(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fu(e){return J0e(e)||Z0e(e)||Q0e(e)||X0e()}function X0e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Q0e(e,t){if(e){if(typeof e=="string")return K2(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K2(e,t)}}function Z0e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function J0e(e){if(Array.isArray(e))return K2(e)}function K2(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SH(r.key),r)}}function tje(e,t,n){return t&&H5(e.prototype,t),n&&H5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nje(e,t,n){return t=fy(t),rje(e,NH()?Reflect.construct(t,n||[],fy(e).constructor):t.apply(e,n))}function rje(e,t){if(t&&(ed(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aje(e)}function aje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function NH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NH=function(){return!!e})()}function fy(e){return fy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fy(e)}function sje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W2(e,t)}function W2(e,t){return W2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},W2(e,t)}function us(e,t,n){return t=SH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SH(e){var t=ije(e,"string");return ed(t)=="symbol"?t:t+""}function ije(e,t){if(ed(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ed(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Bo=(function(e){function t(){var n;eje(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=nje(this,t,[].concat(s)),us(n,"state",{isAnimationFinished:!0,totalLength:0}),us(n,"generateSimpleStrokeDasharray",function(l,u){return"".concat(u,"px ").concat(l-u,"px")}),us(n,"getStrokeDasharray",function(l,u,d){var f=d.reduce(function(_,C){return _+C});if(!f)return n.generateSimpleStrokeDasharray(u,l);for(var p=Math.floor(l/f),m=l%f,g=u-l,v=[],w=0,y=0;w<d.length;y+=d[w],++w)if(y+d[w]>m){v=[].concat(fu(d.slice(0,w)),[m-y]);break}var j=v.length%2===0?[0,g]:[g];return[].concat(fu(t.repeat(d,p)),fu(v),j).map(function(_){return"".concat(_,"px")}).join(", ")}),us(n,"id",Yo("recharts-line-")),us(n,"pathRef",function(l){n.mainCurve=l}),us(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),us(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sje(t,e),tje(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,l=i.points,u=i.xAxis,d=i.yAxis,f=i.layout,p=i.children,m=Yr(p,Dd);if(!m)return null;var g=function(y,j){return{x:y.x,y:y.y,value:y.value,errorVal:An(y.payload,j)}},v={clipPath:r?"url(#clipPath-".concat(s,")"):null};return X.createElement(Ct,v,m.map(function(w){return X.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:l,xAxis:u,yAxis:d,layout:f,dataPointFormatter:g})}))}},{key:"renderDots",value:function(r,s,i){var l=this.props.isAnimationActive;if(l&&!this.state.isAnimationFinished)return null;var u=this.props,d=u.dot,f=u.points,p=u.dataKey,m=nt(this.props,!1),g=nt(d,!0),v=f.map(function(y,j){var _=ya(ya(ya({key:"dot-".concat(j),r:3},m),g),{},{index:j,cx:y.x,cy:y.y,value:y.value,dataKey:p,payload:y.payload,points:f});return t.renderDotItem(d,_)}),w={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return X.createElement(Ct,ph({className:"recharts-line-dots",key:"dots"},w),v)}},{key:"renderCurveStatically",value:function(r,s,i,l){var u=this.props,d=u.type,f=u.layout,p=u.connectNulls;u.ref;var m=F5(u,W0e),g=ya(ya(ya({},nt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:r},l),{},{type:d,layout:f,connectNulls:p});return X.createElement(Do,ph({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,s){var i=this,l=this.props,u=l.points,d=l.strokeDasharray,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,v=l.animationId,w=l.animateNewValues,y=l.width,j=l.height,_=this.state,C=_.prevPoints,N=_.totalLength;return X.createElement(Qa,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var O=S.t;if(C){var M=C.length/u.length,T=u.map(function(H,B){var L=Math.floor(B*M);if(C[L]){var D=C[L],k=Pn(D.x,H.x),I=Pn(D.y,H.y);return ya(ya({},H),{},{x:k(O),y:I(O)})}if(w){var z=Pn(y*2,H.x),V=Pn(j/2,H.y);return ya(ya({},H),{},{x:z(O),y:V(O)})}return ya(ya({},H),{},{x:H.x,y:H.y})});return i.renderCurveStatically(T,r,s)}var P=Pn(0,N),$=P(O),K;if(d){var q="".concat(d).split(/[,\s]+/gim).map(function(H){return parseFloat(H)});K=i.getStrokeDasharray($,N,q)}else K=i.generateSimpleStrokeDasharray(N,$);return i.renderCurveStatically(u,r,s,{strokeDasharray:K})})}},{key:"renderCurve",value:function(r,s){var i=this.props,l=i.points,u=i.isAnimationActive,d=this.state,f=d.prevPoints,p=d.totalLength;return u&&l&&l.length&&(!f&&p>0||!zo(f,l))?this.renderCurveWithAnimation(r,s):this.renderCurveStatically(l,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,f=s.xAxis,p=s.yAxis,m=s.top,g=s.left,v=s.width,w=s.height,y=s.isAnimationActive,j=s.id;if(i||!u||!u.length)return null;var _=this.state.isAnimationFinished,C=u.length===1,N=Nt("recharts-line",d),S=f&&f.allowDataOverflow,O=p&&p.allowDataOverflow,M=S||O,T=xt(j)?this.id:j,P=(r=nt(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=P.r,K=$===void 0?3:$,q=P.strokeWidth,H=q===void 0?2:q,B=NF(l)?l:{},L=B.clipDot,D=L===void 0?!0:L,k=K*2+H;return X.createElement(Ct,{className:N},S||O?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(T)},X.createElement("rect",{x:S?g:g-v/2,y:O?m:m-w/2,width:S?v:v*2,height:O?w:w*2})),!D&&X.createElement("clipPath",{id:"clipPath-dots-".concat(T)},X.createElement("rect",{x:g-k/2,y:m-k/2,width:v+k,height:w+k}))):null,!C&&this.renderCurve(M,T),this.renderErrorBar(M,T),(C||l)&&this.renderDots(M,D,T),(!y||_)&&ys.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,s){for(var i=r.length%2!==0?[].concat(fu(r),[0]):r,l=[],u=0;u<s;++u)l=[].concat(fu(l),fu(i));return l}},{key:"renderDotItem",value:function(r,s){var i;if(X.isValidElement(r))i=X.cloneElement(r,s);else if(vt(r))i=r(s);else{var l=s.key,u=F5(s,Y0e),d=Nt("recharts-line-dot",typeof r!="boolean"?r.className:"");i=X.createElement(zm,ph({key:l},u,{className:d}))}return i}}])})(b.PureComponent);us(Bo,"displayName","Line");us(Bo,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!qi.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});us(Bo,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,l=e.dataKey,u=e.bandSize,d=e.displayedData,f=e.offset,p=t.layout,m=d.map(function(g,v){var w=An(g,l);return p==="horizontal"?{x:Fu({axis:n,ticks:s,bandSize:u,entry:g,index:v}),y:xt(w)?null:r.scale(w),value:w,payload:g}:{x:xt(w)?null:n.scale(w),y:Fu({axis:r,ticks:i,bandSize:u,entry:g,index:v}),value:w,payload:g}});return ya({points:m,layout:p},f)});var oje=["layout","type","stroke","connectNulls","isRange","ref"],lje=["key"],AH;function td(e){"@babel/helpers - typeof";return td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},td(e)}function CH(e,t){if(e==null)return{};var n=cje(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function cje(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}function V5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function So(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V5(Object(n),!0).forEach(function(r){Rs(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EH(r.key),r)}}function dje(e,t,n){return t&&K5(e.prototype,t),n&&K5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fje(e,t,n){return t=hy(t),hje(e,_H()?Reflect.construct(t,n||[],hy(e).constructor):t.apply(e,n))}function hje(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mje(e)}function mje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _H(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_H=function(){return!!e})()}function hy(e){return hy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hy(e)}function pje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y2(e,t)}function Y2(e,t){return Y2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Y2(e,t)}function Rs(e,t,n){return t=EH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EH(e){var t=gje(e,"string");return td(t)=="symbol"?t:t+""}function gje(e,t){if(td(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(td(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var _a=(function(e){function t(){var n;uje(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=fje(this,t,[].concat(s)),Rs(n,"state",{isAnimationFinished:!0}),Rs(n,"id",Yo("recharts-area-")),Rs(n,"handleAnimationEnd",function(){var l=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),vt(l)&&l()}),Rs(n,"handleAnimationStart",function(){var l=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),vt(l)&&l()}),n}return pje(t,e),dje(t,[{key:"renderDots",value:function(r,s,i){var l=this.props.isAnimationActive,u=this.state.isAnimationFinished;if(l&&!u)return null;var d=this.props,f=d.dot,p=d.points,m=d.dataKey,g=nt(this.props,!1),v=nt(f,!0),w=p.map(function(j,_){var C=So(So(So({key:"dot-".concat(_),r:3},g),v),{},{index:_,cx:j.x,cy:j.y,dataKey:m,value:j.value,payload:j.payload,points:p});return t.renderDotItem(f,C)}),y={clipPath:r?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return X.createElement(Ct,kl({className:"recharts-area-dots"},y),w)}},{key:"renderHorizontalRect",value:function(r){var s=this.props,i=s.baseLine,l=s.points,u=s.strokeWidth,d=l[0].x,f=l[l.length-1].x,p=r*Math.abs(d-f),m=To(l.map(function(g){return g.y||0}));return Ie(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(To(i.map(function(g){return g.y||0})),m)),Ie(m)?X.createElement("rect",{x:d<f?d:d-p,y:0,width:p,height:Math.floor(m+(u?parseInt("".concat(u),10):1))}):null}},{key:"renderVerticalRect",value:function(r){var s=this.props,i=s.baseLine,l=s.points,u=s.strokeWidth,d=l[0].y,f=l[l.length-1].y,p=r*Math.abs(d-f),m=To(l.map(function(g){return g.x||0}));return Ie(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(To(i.map(function(g){return g.x||0})),m)),Ie(m)?X.createElement("rect",{x:0,y:d<f?d:d-p,width:m+(u?parseInt("".concat(u),10):1),height:Math.floor(p)}):null}},{key:"renderClipRect",value:function(r){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(r):this.renderHorizontalRect(r)}},{key:"renderAreaStatically",value:function(r,s,i,l){var u=this.props,d=u.layout,f=u.type,p=u.stroke,m=u.connectNulls,g=u.isRange;u.ref;var v=CH(u,oje);return X.createElement(Ct,{clipPath:i?"url(#clipPath-".concat(l,")"):null},X.createElement(Do,kl({},nt(v,!0),{points:r,connectNulls:m,type:f,baseLine:s,layout:d,stroke:"none",className:"recharts-area-area"})),p!=="none"&&X.createElement(Do,kl({},nt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:r})),p!=="none"&&g&&X.createElement(Do,kl({},nt(this.props,!1),{className:"recharts-area-curve",layout:d,type:f,connectNulls:m,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(r,s){var i=this,l=this.props,u=l.points,d=l.baseLine,f=l.isAnimationActive,p=l.animationBegin,m=l.animationDuration,g=l.animationEasing,v=l.animationId,w=this.state,y=w.prevPoints,j=w.prevBaseLine;return X.createElement(Qa,{begin:p,duration:m,isActive:f,easing:g,from:{t:0},to:{t:1},key:"area-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var C=_.t;if(y){var N=y.length/u.length,S=u.map(function(P,$){var K=Math.floor($*N);if(y[K]){var q=y[K],H=Pn(q.x,P.x),B=Pn(q.y,P.y);return So(So({},P),{},{x:H(C),y:B(C)})}return P}),O;if(Ie(d)&&typeof d=="number"){var M=Pn(j,d);O=M(C)}else if(xt(d)||Md(d)){var T=Pn(j,0);O=T(C)}else O=d.map(function(P,$){var K=Math.floor($*N);if(j[K]){var q=j[K],H=Pn(q.x,P.x),B=Pn(q.y,P.y);return So(So({},P),{},{x:H(C),y:B(C)})}return P});return i.renderAreaStatically(S,O,r,s)}return X.createElement(Ct,null,X.createElement("defs",null,X.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(C))),X.createElement(Ct,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(u,d,r,s)))})}},{key:"renderArea",value:function(r,s){var i=this.props,l=i.points,u=i.baseLine,d=i.isAnimationActive,f=this.state,p=f.prevPoints,m=f.prevBaseLine,g=f.totalLength;return d&&l&&l.length&&(!p&&g>0||!zo(p,l)||!zo(m,u))?this.renderAreaWithAnimation(r,s):this.renderAreaStatically(l,u,r,s)}},{key:"render",value:function(){var r,s=this.props,i=s.hide,l=s.dot,u=s.points,d=s.className,f=s.top,p=s.left,m=s.xAxis,g=s.yAxis,v=s.width,w=s.height,y=s.isAnimationActive,j=s.id;if(i||!u||!u.length)return null;var _=this.state.isAnimationFinished,C=u.length===1,N=Nt("recharts-area",d),S=m&&m.allowDataOverflow,O=g&&g.allowDataOverflow,M=S||O,T=xt(j)?this.id:j,P=(r=nt(l,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},$=P.r,K=$===void 0?3:$,q=P.strokeWidth,H=q===void 0?2:q,B=NF(l)?l:{},L=B.clipDot,D=L===void 0?!0:L,k=K*2+H;return X.createElement(Ct,{className:N},S||O?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(T)},X.createElement("rect",{x:S?p:p-v/2,y:O?f:f-w/2,width:S?v:v*2,height:O?w:w*2})),!D&&X.createElement("clipPath",{id:"clipPath-dots-".concat(T)},X.createElement("rect",{x:p-k/2,y:f-k/2,width:v+k,height:w+k}))):null,C?null:this.renderArea(M,T),(l||C)&&this.renderDots(M,D,T),(!y||_)&&ys.renderCallByParent(this.props,u))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,curBaseLine:r.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:r.points!==s.curPoints||r.baseLine!==s.curBaseLine?{curPoints:r.points,curBaseLine:r.baseLine}:null}}])})(b.PureComponent);AH=_a;Rs(_a,"displayName","Area");Rs(_a,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Rs(_a,"getBaseValue",function(e,t,n,r){var s=e.layout,i=e.baseValue,l=t.props.baseValue,u=l??i;if(Ie(u)&&typeof u=="number")return u;var d=s==="horizontal"?r:n,f=d.scale.domain();if(d.type==="number"){var p=Math.max(f[0],f[1]),m=Math.min(f[0],f[1]);return u==="dataMin"?m:u==="dataMax"||p<0?p:Math.max(Math.min(f[0],f[1]),0)}return u==="dataMin"?f[0]:u==="dataMax"?f[1]:f[0]});Rs(_a,"getComposedData",function(e){var t=e.props,n=e.item,r=e.xAxis,s=e.yAxis,i=e.xAxisTicks,l=e.yAxisTicks,u=e.bandSize,d=e.dataKey,f=e.stackedData,p=e.dataStartIndex,m=e.displayedData,g=e.offset,v=t.layout,w=f&&f.length,y=AH.getBaseValue(t,n,r,s),j=v==="horizontal",_=!1,C=m.map(function(S,O){var M;w?M=f[p+O]:(M=An(S,d),Array.isArray(M)?_=!0:M=[y,M]);var T=M[1]==null||w&&An(S,d)==null;return j?{x:Fu({axis:r,ticks:i,bandSize:u,entry:S,index:O}),y:T?null:s.scale(M[1]),value:M,payload:S}:{x:T?null:r.scale(M[1]),y:Fu({axis:s,ticks:l,bandSize:u,entry:S,index:O}),value:M,payload:S}}),N;return w||_?N=C.map(function(S){var O=Array.isArray(S.value)?S.value[0]:null;return j?{x:S.x,y:O!=null&&S.y!=null?s.scale(O):null}:{x:O!=null?r.scale(O):null,y:S.y}}):N=j?s.scale(y):r.scale(y),So({points:C,baseLine:N,layout:v,isRange:_},g)});Rs(_a,"renderDotItem",function(e,t){var n;if(X.isValidElement(e))n=X.cloneElement(e,t);else if(vt(e))n=e(t);else{var r=Nt("recharts-area-dot",typeof e!="boolean"?e.className:""),s=t.key,i=CH(t,lje);n=X.createElement(zm,kl({},i,{key:s,className:r}))}return n});function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function xje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MH(r.key),r)}}function vje(e,t,n){return t&&yje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bje(e,t,n){return t=my(t),jje(e,OH()?Reflect.construct(t,n||[],my(e).constructor):t.apply(e,n))}function jje(e,t){if(t&&(nd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wje(e)}function wje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(OH=function(){return!!e})()}function my(e){return my=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},my(e)}function Nje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G2(e,t)}function G2(e,t){return G2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},G2(e,t)}function TH(e,t,n){return t=MH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MH(e){var t=Sje(e,"string");return nd(t)=="symbol"?t:t+""}function Sje(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Uv=(function(e){function t(){return xje(this,t),bje(this,t,arguments)}return Nje(t,e),vje(t,[{key:"render",value:function(){return null}}])})(b.Component);TH(Uv,"displayName","ZAxis");TH(Uv,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var Aje=["option","isActive"];function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gh.apply(this,arguments)}function Cje(e,t){if(e==null)return{};var n=_je(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function _je(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Eje(e){var t=e.option,n=e.isActive,r=Cje(e,Aje);return typeof t=="string"?b.createElement(ey,gh({option:b.createElement(xv,gh({type:t},r)),isActive:n,shapeType:"symbols"},r)):b.createElement(ey,gh({option:t,isActive:n,shapeType:"symbols"},r))}function rd(e){"@babel/helpers - typeof";return rd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rd(e)}function xh(){return xh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xh.apply(this,arguments)}function W5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ua(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W5(Object(n),!0).forEach(function(r){ko(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Oje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Y5(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PH(r.key),r)}}function Tje(e,t,n){return t&&Y5(e.prototype,t),n&&Y5(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mje(e,t,n){return t=py(t),kje(e,kH()?Reflect.construct(t,n||[],py(e).constructor):t.apply(e,n))}function kje(e,t){if(t&&(rd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pje(e)}function Pje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kH=function(){return!!e})()}function py(e){return py=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},py(e)}function Rje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X2(e,t)}function X2(e,t){return X2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},X2(e,t)}function ko(e,t,n){return t=PH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PH(e){var t=Dje(e,"string");return rd(t)=="symbol"?t:t+""}function Dje(e,t){if(rd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(rd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hv=(function(e){function t(){var n;Oje(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return n=Mje(this,t,[].concat(s)),ko(n,"state",{isAnimationFinished:!1}),ko(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0})}),ko(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1})}),ko(n,"id",Yo("recharts-scatter-")),n}return Rje(t,e),Tje(t,[{key:"renderSymbolsStatically",value:function(r){var s=this,i=this.props,l=i.shape,u=i.activeShape,d=i.activeIndex,f=nt(this.props,!1);return r.map(function(p,m){var g=d===m,v=g?u:l,w=Ua(Ua({},f),p);return X.createElement(Ct,xh({className:"recharts-scatter-symbol",key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(m)},qo(s.props,p,m),{role:"img"}),X.createElement(Eje,xh({option:v,isActive:g,key:"symbol-".concat(m)},w)))})}},{key:"renderSymbolsWithAnimation",value:function(){var r=this,s=this.props,i=s.points,l=s.isAnimationActive,u=s.animationBegin,d=s.animationDuration,f=s.animationEasing,p=s.animationId,m=this.state.prevPoints;return X.createElement(Qa,{begin:u,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"pie-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,w=i.map(function(y,j){var _=m&&m[j];if(_){var C=Pn(_.cx,y.cx),N=Pn(_.cy,y.cy),S=Pn(_.size,y.size);return Ua(Ua({},y),{},{cx:C(v),cy:N(v),size:S(v)})}var O=Pn(0,y.size);return Ua(Ua({},y),{},{size:O(v)})});return X.createElement(Ct,null,r.renderSymbolsStatically(w))})}},{key:"renderSymbols",value:function(){var r=this.props,s=r.points,i=r.isAnimationActive,l=this.state.prevPoints;return i&&s&&s.length&&(!l||!zo(l,s))?this.renderSymbolsWithAnimation():this.renderSymbolsStatically(s)}},{key:"renderErrorBar",value:function(){var r=this.props.isAnimationActive;if(r&&!this.state.isAnimationFinished)return null;var s=this.props,i=s.points,l=s.xAxis,u=s.yAxis,d=s.children,f=Yr(d,Dd);return f?f.map(function(p,m){var g=p.props,v=g.direction,w=g.dataKey;return X.cloneElement(p,{key:"".concat(v,"-").concat(w,"-").concat(i[m]),data:i,xAxis:l,yAxis:u,layout:v==="x"?"vertical":"horizontal",dataPointFormatter:function(j,_){return{x:j.cx,y:j.cy,value:v==="x"?+j.node.x:+j.node.y,errorVal:An(j,_)}}})}):null}},{key:"renderLine",value:function(){var r=this.props,s=r.points,i=r.line,l=r.lineType,u=r.lineJointType,d=nt(this.props,!1),f=nt(i,!1),p,m;if(l==="joint")p=s.map(function(N){return{x:N.cx,y:N.cy}});else if(l==="fitting"){var g=Nie(s),v=g.xmin,w=g.xmax,y=g.a,j=g.b,_=function(S){return y*S+j};p=[{x:v,y:_(v)},{x:w,y:_(w)}]}var C=Ua(Ua(Ua({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:p});return X.isValidElement(i)?m=X.cloneElement(i,C):vt(i)?m=i(C):m=X.createElement(Do,xh({},C,{type:u})),X.createElement(Ct,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}},{key:"render",value:function(){var r=this.props,s=r.hide,i=r.points,l=r.line,u=r.className,d=r.xAxis,f=r.yAxis,p=r.left,m=r.top,g=r.width,v=r.height,w=r.id,y=r.isAnimationActive;if(s||!i||!i.length)return null;var j=this.state.isAnimationFinished,_=Nt("recharts-scatter",u),C=d&&d.allowDataOverflow,N=f&&f.allowDataOverflow,S=C||N,O=xt(w)?this.id:w;return X.createElement(Ct,{className:_,clipPath:S?"url(#clipPath-".concat(O,")"):null},C||N?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(O)},X.createElement("rect",{x:C?p:p-g/2,y:N?m:m-v/2,width:C?g:g*2,height:N?v:v*2}))):null,l&&this.renderLine(),this.renderErrorBar(),X.createElement(Ct,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!y||j)&&ys.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(r,s){return r.animationId!==s.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:s.curPoints}:r.points!==s.curPoints?{curPoints:r.points}:null}}])})(b.PureComponent);ko(Hv,"displayName","Scatter");ko(Hv,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!qi.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"});ko(Hv,"getComposedData",function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,s=e.item,i=e.displayedData,l=e.xAxisTicks,u=e.yAxisTicks,d=e.offset,f=s.props.tooltipType,p=Yr(s.props.children,Ti),m=xt(t.dataKey)?s.props.dataKey:t.dataKey,g=xt(n.dataKey)?s.props.dataKey:n.dataKey,v=r&&r.dataKey,w=r?r.range:Uv.defaultProps.range,y=w&&w[0],j=t.scale.bandwidth?t.scale.bandwidth():0,_=n.scale.bandwidth?n.scale.bandwidth():0,C=i.map(function(N,S){var O=An(N,m),M=An(N,g),T=!xt(v)&&An(N,v)||"-",P=[{name:xt(t.dataKey)?s.props.name:t.name||t.dataKey,unit:t.unit||"",value:O,payload:N,dataKey:m,type:f},{name:xt(n.dataKey)?s.props.name:n.name||n.dataKey,unit:n.unit||"",value:M,payload:N,dataKey:g,type:f}];T!=="-"&&P.push({name:r.name||r.dataKey,unit:r.unit||"",value:T,payload:N,dataKey:v,type:f});var $=Fu({axis:t,ticks:l,bandSize:j,entry:N,index:S,dataKey:m}),K=Fu({axis:n,ticks:u,bandSize:_,entry:N,index:S,dataKey:g}),q=T!=="-"?r.scale(T):y,H=Math.sqrt(Math.max(q,0)/Math.PI);return Ua(Ua({},N),{},{cx:$,cy:K,x:$-H,y:K-H,xAxis:t,yAxis:n,zAxis:r,width:2*H,height:2*H,size:q,node:{x:O,y:M,z:T},tooltipPayload:P,tooltipPosition:{x:$,y:K},payload:N},p&&p[S]&&p[S].props)});return Ua({points:C},d)});function ad(e){"@babel/helpers - typeof";return ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ad(e)}function Ije(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IH(r.key),r)}}function $je(e,t,n){return t&&Lje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qje(e,t,n){return t=gy(t),zje(e,RH()?Reflect.construct(t,n||[],gy(e).constructor):t.apply(e,n))}function zje(e,t){if(t&&(ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bje(e)}function Bje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function RH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RH=function(){return!!e})()}function gy(e){return gy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gy(e)}function Fje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q2(e,t)}function Q2(e,t){return Q2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},Q2(e,t)}function DH(e,t,n){return t=IH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IH(e){var t=Uje(e,"string");return ad(t)=="symbol"?t:t+""}function Uje(e,t){if(ad(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(ad(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function Z2(){return Z2=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z2.apply(this,arguments)}function Hje(e){var t=e.xAxisId,n=AE(),r=CE(),s=dH(t);return s==null?null:b.createElement(Id,Z2({},s,{className:Nt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(l){return bi(l,!0)}}))}var zr=(function(e){function t(){return Ije(this,t),qje(this,t,arguments)}return Fje(t,e),$je(t,[{key:"render",value:function(){return b.createElement(Hje,this.props)}}])})(b.Component);DH(zr,"displayName","XAxis");DH(zr,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function sd(e){"@babel/helpers - typeof";return sd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sd(e)}function Vje(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kje(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qH(r.key),r)}}function Wje(e,t,n){return t&&Kje(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yje(e,t,n){return t=xy(t),Gje(e,LH()?Reflect.construct(t,n||[],xy(e).constructor):t.apply(e,n))}function Gje(e,t){if(t&&(sd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xje(e)}function Xje(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LH=function(){return!!e})()}function xy(e){return xy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xy(e)}function Qje(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J2(e,t)}function J2(e,t){return J2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},J2(e,t)}function $H(e,t,n){return t=qH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qH(e){var t=Zje(e,"string");return sd(t)=="symbol"?t:t+""}function Zje(e,t){if(sd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function eC(){return eC=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eC.apply(this,arguments)}var Jje=function(t){var n=t.yAxisId,r=AE(),s=CE(),i=fH(n);return i==null?null:b.createElement(Id,eC({},i,{className:Nt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:s},ticksGenerator:function(u){return bi(u,!0)}}))},Br=(function(e){function t(){return Vje(this,t),Yje(this,t,arguments)}return Qje(t,e),Wje(t,[{key:"render",value:function(){return b.createElement(Jje,this.props)}}])})(b.Component);$H(Br,"displayName","YAxis");$H(Br,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function G5(e){return rwe(e)||nwe(e)||twe(e)||ewe()}function ewe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function twe(e,t){if(e){if(typeof e=="string")return tC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tC(e,t)}}function nwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function rwe(e){if(Array.isArray(e))return tC(e)}function tC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var nC=function(t,n,r,s,i){var l=Yr(t,EE),u=Yr(t,zv),d=[].concat(G5(l),G5(u)),f=Yr(t,Fv),p="".concat(s,"Id"),m=s[0],g=n;if(d.length&&(g=d.reduce(function(y,j){if(j.props[p]===r&&Ls(j.props,"extendDomain")&&Ie(j.props[m])){var _=j.props[m];return[Math.min(y[0],_),Math.max(y[1],_)]}return y},g)),f.length){var v="".concat(m,"1"),w="".concat(m,"2");g=f.reduce(function(y,j){if(j.props[p]===r&&Ls(j.props,"extendDomain")&&Ie(j.props[v])&&Ie(j.props[w])){var _=j.props[v],C=j.props[w];return[Math.min(y[0],_,C),Math.max(y[1],_,C)]}return y},g)}return i&&i.length&&(g=i.reduce(function(y,j){return Ie(j)?[Math.min(y[0],j),Math.max(y[1],j)]:y},g)),g},KS={exports:{}},X5;function awe(){return X5||(X5=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(d,f,p){this.fn=d,this.context=f,this.once=p||!1}function i(d,f,p,m,g){if(typeof p!="function")throw new TypeError("The listener must be a function");var v=new s(p,m||d,g),w=n?n+f:f;return d._events[w]?d._events[w].fn?d._events[w]=[d._events[w],v]:d._events[w].push(v):(d._events[w]=v,d._eventsCount++),d}function l(d,f){--d._eventsCount===0?d._events=new r:delete d._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],p,m;if(this._eventsCount===0)return f;for(m in p=this._events)t.call(p,m)&&f.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(p)):f},u.prototype.listeners=function(f){var p=n?n+f:f,m=this._events[p];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,w=new Array(v);g<v;g++)w[g]=m[g].fn;return w},u.prototype.listenerCount=function(f){var p=n?n+f:f,m=this._events[p];return m?m.fn?1:m.length:0},u.prototype.emit=function(f,p,m,g,v,w){var y=n?n+f:f;if(!this._events[y])return!1;var j=this._events[y],_=arguments.length,C,N;if(j.fn){switch(j.once&&this.removeListener(f,j.fn,void 0,!0),_){case 1:return j.fn.call(j.context),!0;case 2:return j.fn.call(j.context,p),!0;case 3:return j.fn.call(j.context,p,m),!0;case 4:return j.fn.call(j.context,p,m,g),!0;case 5:return j.fn.call(j.context,p,m,g,v),!0;case 6:return j.fn.call(j.context,p,m,g,v,w),!0}for(N=1,C=new Array(_-1);N<_;N++)C[N-1]=arguments[N];j.fn.apply(j.context,C)}else{var S=j.length,O;for(N=0;N<S;N++)switch(j[N].once&&this.removeListener(f,j[N].fn,void 0,!0),_){case 1:j[N].fn.call(j[N].context);break;case 2:j[N].fn.call(j[N].context,p);break;case 3:j[N].fn.call(j[N].context,p,m);break;case 4:j[N].fn.call(j[N].context,p,m,g);break;default:if(!C)for(O=1,C=new Array(_-1);O<_;O++)C[O-1]=arguments[O];j[N].fn.apply(j[N].context,C)}}return!0},u.prototype.on=function(f,p,m){return i(this,f,p,m,!1)},u.prototype.once=function(f,p,m){return i(this,f,p,m,!0)},u.prototype.removeListener=function(f,p,m,g){var v=n?n+f:f;if(!this._events[v])return this;if(!p)return l(this,v),this;var w=this._events[v];if(w.fn)w.fn===p&&(!g||w.once)&&(!m||w.context===m)&&l(this,v);else{for(var y=0,j=[],_=w.length;y<_;y++)(w[y].fn!==p||g&&!w[y].once||m&&w[y].context!==m)&&j.push(w[y]);j.length?this._events[v]=j.length===1?j[0]:j:l(this,v)}return this},u.prototype.removeAllListeners=function(f){var p;return f?(p=n?n+f:f,this._events[p]&&l(this,p)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,e.exports=u})(KS)),KS.exports}var swe=awe();const iwe=Wt(swe);var WS=new iwe,YS="recharts.syncMouseEvents";function am(e){"@babel/helpers - typeof";return am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(e)}function owe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zH(r.key),r)}}function cwe(e,t,n){return t&&lwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function GS(e,t,n){return t=zH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zH(e){var t=uwe(e,"string");return am(t)=="symbol"?t:t+""}function uwe(e,t){if(am(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var dwe=(function(){function e(){owe(this,e),GS(this,"activeIndex",0),GS(this,"coordinateList",[]),GS(this,"layout","horizontal")}return cwe(e,[{key:"setDetails",value:function(n){var r,s=n.coordinateList,i=s===void 0?null:s,l=n.container,u=l===void 0?null:l,d=n.layout,f=d===void 0?null:d,p=n.offset,m=p===void 0?null:p,g=n.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(r=i??this.coordinateList)!==null&&r!==void 0?r:[],this.container=u??this.container,this.layout=f??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,l=s.y,u=s.height,d=this.coordinateList[this.activeIndex].coordinate,f=((n=window)===null||n===void 0?void 0:n.scrollX)||0,p=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=i+d+f,g=l+this.offset.top+u/2+p;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function fwe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e?.[0],s=e?.[1];if(r&&s&&Ie(r)&&Ie(s))return!0}return!1}function hwe(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function BH(e){var t=e.cx,n=e.cy,r=e.radius,s=e.startAngle,i=e.endAngle,l=yn(t,n,r,s),u=yn(t,n,r,i);return{points:[l,u],cx:t,cy:n,radius:r,startAngle:s,endAngle:i}}function mwe(e,t,n){var r,s,i,l;if(e==="horizontal")r=t.x,i=r,s=n.top,l=n.top+n.height;else if(e==="vertical")s=t.y,l=s,r=n.left,i=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var u=t.cx,d=t.cy,f=t.innerRadius,p=t.outerRadius,m=t.angle,g=yn(u,d,f,m),v=yn(u,d,p,m);r=g.x,s=g.y,i=v.x,l=v.y}else return BH(t);return[{x:r,y:s},{x:i,y:l}]}function sm(e){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sm(e)}function Q5(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function qg(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Q5(Object(n),!0).forEach(function(r){pwe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pwe(e,t,n){return t=gwe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gwe(e){var t=xwe(e,"string");return sm(t)=="symbol"?t:t+""}function xwe(e,t){if(sm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ywe(e){var t,n,r=e.element,s=e.tooltipEventType,i=e.isActive,l=e.activeCoordinate,u=e.activePayload,d=e.offset,f=e.activeTooltipIndex,p=e.tooltipAxisBandSize,m=e.layout,g=e.chartName,v=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!v||!i||!l||g!=="ScatterChart"&&s!=="axis")return null;var w,y=Do;if(g==="ScatterChart")w=l,y=dye;else if(g==="BarChart")w=hwe(m,l,d,p),y=jE;else if(m==="radial"){var j=BH(l),_=j.cx,C=j.cy,N=j.radius,S=j.startAngle,O=j.endAngle;w={cx:_,cy:C,startAngle:S,endAngle:O,innerRadius:N,outerRadius:N},y=DU}else w={points:mwe(m,l,d)},y=Do;var M=qg(qg(qg(qg({stroke:"#ccc",pointerEvents:"none"},d),w),nt(v,!1)),{},{payload:u,payloadIndex:f,className:Nt("recharts-tooltip-cursor",v.className)});return b.isValidElement(v)?b.cloneElement(v,M):b.createElement(y,M)}var vwe=["item"],bwe=["children","className","width","height","style","compact","title","desc"];function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function vu(){return vu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vu.apply(this,arguments)}function Z5(e,t){return Nwe(e)||wwe(e,t)||UH(e,t)||jwe()}function jwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wwe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,s,i,l,u=[],d=!0,f=!1;try{if(i=(n=n.call(e)).next,t!==0)for(;!(d=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);d=!0);}catch(p){f=!0,s=p}finally{try{if(!d&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(f)throw s}}return u}}function Nwe(e){if(Array.isArray(e))return e}function J5(e,t){if(e==null)return{};var n=Swe(e,t),r,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)r=i[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Swe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Awe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cwe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,HH(r.key),r)}}function _we(e,t,n){return t&&Cwe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ewe(e,t,n){return t=yy(t),Owe(e,FH()?Reflect.construct(t,n||[],yy(e).constructor):t.apply(e,n))}function Owe(e,t){if(t&&(id(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Twe(e)}function Twe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FH(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FH=function(){return!!e})()}function yy(e){return yy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yy(e)}function Mwe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rC(e,t)}function rC(e,t){return rC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,s){return r.__proto__=s,r},rC(e,t)}function od(e){return Rwe(e)||Pwe(e)||UH(e)||kwe()}function kwe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UH(e,t){if(e){if(typeof e=="string")return aC(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return aC(e,t)}}function Pwe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Rwe(e){if(Array.isArray(e))return aC(e)}function aC(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function e$(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ee(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e$(Object(n),!0).forEach(function(r){jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e$(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e,t,n){return t=HH(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HH(e){var t=Dwe(e,"string");return id(t)=="symbol"?t:t+""}function Dwe(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Iwe={xAxis:["bottom","top"],yAxis:["left","right"]},Lwe={width:"100%",height:"100%"},VH={x:0,y:0};function zg(e){return e}var $we=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},qwe=function(t,n,r,s){var i=n.find(function(p){return p&&p.index===r});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var l=i.coordinate,u=s.radius;return Ee(Ee(Ee({},s),yn(s.cx,s.cy,u,l)),{},{angle:l,radius:u})}var d=i.coordinate,f=s.angle;return Ee(Ee(Ee({},s),yn(s.cx,s.cy,d,f)),{},{angle:f,radius:d})}return VH},Vv=function(t,n){var r=n.graphicalItems,s=n.dataStartIndex,i=n.dataEndIndex,l=(r??[]).reduce(function(u,d){var f=d.props.data;return f&&f.length?[].concat(od(u),od(f)):u},[]);return l.length>0?l:t&&t.length&&Ie(s)&&Ie(i)?t.slice(s,i+1):[]};function KH(e){return e==="number"?[0,"auto"]:void 0}var sC=function(t,n,r,s){var i=t.graphicalItems,l=t.tooltipAxis,u=Vv(n,t);return r<0||!i||!i.length||r>=u.length?null:i.reduce(function(d,f){var p,m=(p=f.props.data)!==null&&p!==void 0?p:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(l.dataKey&&!l.allowDuplicatedCategory){var v=m===void 0?u:m;g=yx(v,l.dataKey,s)}else g=m&&m[r]||u[r];return g?[].concat(od(d),[OU(f,g)]):d},[])},t$=function(t,n,r,s){var i=s||{x:t.chartX,y:t.chartY},l=$we(i,r),u=t.orderedTooltipTicks,d=t.tooltipAxis,f=t.tooltipTicks,p=Dme(l,u,f,d);if(p>=0&&f){var m=f[p]&&f[p].value,g=sC(t,n,p,m),v=qwe(r,u,p,i);return{activeTooltipIndex:p,activeLabel:m,activePayload:g,activeCoordinate:v}}return null},zwe=function(t,n){var r=n.axes,s=n.graphicalItems,i=n.axisType,l=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=t.layout,m=t.children,g=t.stackOffset,v=NU(p,i);return r.reduce(function(w,y){var j,_=y.type.defaultProps!==void 0?Ee(Ee({},y.type.defaultProps),y.props):y.props,C=_.type,N=_.dataKey,S=_.allowDataOverflow,O=_.allowDuplicatedCategory,M=_.scale,T=_.ticks,P=_.includeHidden,$=_[l];if(w[$])return w;var K=Vv(t.data,{graphicalItems:s.filter(function(F){var G,Z=l in F.props?F.props[l]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[l];return Z===$}),dataStartIndex:d,dataEndIndex:f}),q=K.length,H,B,L;fwe(_.domain,S,C)&&(H=g2(_.domain,null,S),v&&(C==="number"||M!=="auto")&&(L=dh(K,N,"category")));var D=KH(C);if(!H||H.length===0){var k,I=(k=_.domain)!==null&&k!==void 0?k:D;if(N){if(H=dh(K,N,C),C==="category"&&v){var z=wie(H);O&&z?(B=H,H=ny(0,q)):O||(H=XL(I,H,y).reduce(function(F,G){return F.indexOf(G)>=0?F:[].concat(od(F),[G])},[]))}else if(C==="category")O?H=H.filter(function(F){return F!==""&&!xt(F)}):H=XL(I,H,y).reduce(function(F,G){return F.indexOf(G)>=0||G===""||xt(G)?F:[].concat(od(F),[G])},[]);else if(C==="number"){var V=zme(K,s.filter(function(F){var G,Z,ge=l in F.props?F.props[l]:(G=F.type.defaultProps)===null||G===void 0?void 0:G[l],Se="hide"in F.props?F.props.hide:(Z=F.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ge===$&&(P||!Se)}),N,i,p);V&&(H=V)}v&&(C==="number"||M!=="auto")&&(L=dh(K,N,"category"))}else v?H=ny(0,q):u&&u[$]&&u[$].hasStack&&C==="number"?H=g==="expand"?[0,1]:EU(u[$].stackGroups,d,f):H=wU(K,s.filter(function(F){var G=l in F.props?F.props[l]:F.type.defaultProps[l],Z="hide"in F.props?F.props.hide:F.type.defaultProps.hide;return G===$&&(P||!Z)}),C,p,!0);if(C==="number")H=nC(m,H,$,i,T),I&&(H=g2(I,H,S));else if(C==="category"&&I){var Y=I,U=H.every(function(F){return Y.indexOf(F)>=0});U&&(H=Y)}}return Ee(Ee({},w),{},jt({},$,Ee(Ee({},_),{},{axisType:i,domain:H,categoricalDomain:L,duplicateDomain:B,originalDomain:(j=_.domain)!==null&&j!==void 0?j:D,isCategorical:v,layout:p})))},{})},Bwe=function(t,n){var r=n.graphicalItems,s=n.Axis,i=n.axisType,l=n.axisIdKey,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=t.layout,m=t.children,g=Vv(t.data,{graphicalItems:r,dataStartIndex:d,dataEndIndex:f}),v=g.length,w=NU(p,i),y=-1;return r.reduce(function(j,_){var C=_.type.defaultProps!==void 0?Ee(Ee({},_.type.defaultProps),_.props):_.props,N=C[l],S=KH("number");if(!j[N]){y++;var O;return w?O=ny(0,v):u&&u[N]&&u[N].hasStack?(O=EU(u[N].stackGroups,d,f),O=nC(m,O,N,i)):(O=g2(S,wU(g,r.filter(function(M){var T,P,$=l in M.props?M.props[l]:(T=M.type.defaultProps)===null||T===void 0?void 0:T[l],K="hide"in M.props?M.props.hide:(P=M.type.defaultProps)===null||P===void 0?void 0:P.hide;return $===N&&!K}),"number",p),s.defaultProps.allowDataOverflow),O=nC(m,O,N,i)),Ee(Ee({},j),{},jt({},N,Ee(Ee({axisType:i},s.defaultProps),{},{hide:!0,orientation:Ca(Iwe,"".concat(i,".").concat(y%2),null),domain:O,originalDomain:S,isCategorical:w,layout:p})))}return j},{})},Fwe=function(t,n){var r=n.axisType,s=r===void 0?"xAxis":r,i=n.AxisComp,l=n.graphicalItems,u=n.stackGroups,d=n.dataStartIndex,f=n.dataEndIndex,p=t.children,m="".concat(s,"Id"),g=Yr(p,i),v={};return g&&g.length?v=zwe(t,{axes:g,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f}):l&&l.length&&(v=Bwe(t,{Axis:i,graphicalItems:l,axisType:s,axisIdKey:m,stackGroups:u,dataStartIndex:d,dataEndIndex:f})),v},Uwe=function(t){var n=_o(t),r=bi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:Y_(r,function(s){return s.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Ux(n,r)}},n$=function(t){var n=t.children,r=t.defaultShowTooltip,s=ba(n,Yu),i=0,l=0;return t.data&&t.data.length!==0&&(l=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(l=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:l,activeTooltipIndex:-1,isTooltipActive:!!r}},Hwe=function(t){return!t||!t.length?!1:t.some(function(n){var r=wi(n&&n.type);return r&&r.indexOf("Bar")>=0})},r$=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Vwe=function(t,n){var r=t.props,s=t.graphicalItems,i=t.xAxisMap,l=i===void 0?{}:i,u=t.yAxisMap,d=u===void 0?{}:u,f=r.width,p=r.height,m=r.children,g=r.margin||{},v=ba(m,Yu),w=ba(m,qr),y=Object.keys(d).reduce(function(O,M){var T=d[M],P=T.orientation;return!T.mirror&&!T.hide?Ee(Ee({},O),{},jt({},P,O[P]+T.width)):O},{left:g.left||0,right:g.right||0}),j=Object.keys(l).reduce(function(O,M){var T=l[M],P=T.orientation;return!T.mirror&&!T.hide?Ee(Ee({},O),{},jt({},P,Ca(O,"".concat(P))+T.height)):O},{top:g.top||0,bottom:g.bottom||0}),_=Ee(Ee({},j),y),C=_.bottom;v&&(_.bottom+=v.props.height||Yu.defaultProps.height),w&&n&&(_=$me(_,s,r,n));var N=f-_.left-_.right,S=p-_.top-_.bottom;return Ee(Ee({brushBottom:C},_),{},{width:Math.max(N,0),height:Math.max(S,0)})},Kwe=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},Bm=function(t){var n=t.chartName,r=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,l=t.validateTooltipEventTypes,u=l===void 0?["axis"]:l,d=t.axisComponents,f=t.legendContent,p=t.formatAxisMap,m=t.defaultProps,g=function(_,C){var N=C.graphicalItems,S=C.stackGroups,O=C.offset,M=C.updateId,T=C.dataStartIndex,P=C.dataEndIndex,$=_.barSize,K=_.layout,q=_.barGap,H=_.barCategoryGap,B=_.maxBarSize,L=r$(K),D=L.numericAxisName,k=L.cateAxisName,I=Hwe(N),z=[];return N.forEach(function(V,Y){var U=Vv(_.data,{graphicalItems:[V],dataStartIndex:T,dataEndIndex:P}),F=V.type.defaultProps!==void 0?Ee(Ee({},V.type.defaultProps),V.props):V.props,G=F.dataKey,Z=F.maxBarSize,ge=F["".concat(D,"Id")],Se=F["".concat(k,"Id")],Q={},pe=d.reduce(function(vn,be){var Re=C["".concat(be.axisType,"Map")],Ze=F["".concat(be.axisType,"Id")];Re&&Re[Ze]||be.axisType==="zAxis"||Xl();var Ot=Re[Ze];return Ee(Ee({},vn),{},jt(jt({},be.axisType,Ot),"".concat(be.axisType,"Ticks"),bi(Ot)))},Q),ce=pe[k],Ae=pe["".concat(k,"Ticks")],_e=S&&S[ge]&&S[ge].hasStack&&Gme(V,S[ge].stackGroups),le=wi(V.type).indexOf("Bar")>=0,$e=Ux(ce,Ae),re=[],Oe=I&&Ime({barSize:$,stackGroups:S,totalSize:Kwe(pe,k)});if(le){var Ue,rt,en=xt(Z)?B:Z,mn=(Ue=(rt=Ux(ce,Ae,!0))!==null&&rt!==void 0?rt:en)!==null&&Ue!==void 0?Ue:0;re=Lme({barGap:q,barCategoryGap:H,bandSize:mn!==$e?mn:$e,sizeList:Oe[Se],maxBarSize:en}),mn!==$e&&(re=re.map(function(vn){return Ee(Ee({},vn),{},{position:Ee(Ee({},vn.position),{},{offset:vn.position.offset-mn/2})})}))}var Un=V&&V.type&&V.type.getComposedData;Un&&z.push({props:Ee(Ee({},Un(Ee(Ee({},pe),{},{displayedData:U,props:_,dataKey:G,item:V,bandSize:$e,barPosition:re,offset:O,stackedData:_e,layout:K,dataStartIndex:T,dataEndIndex:P}))),{},jt(jt(jt({key:V.key||"item-".concat(Y)},D,pe[D]),k,pe[k]),"animationId",M)),childIndex:Die(V,_.children),item:V})}),z},v=function(_,C){var N=_.props,S=_.dataStartIndex,O=_.dataEndIndex,M=_.updateId;if(!uR({props:N}))return null;var T=N.children,P=N.layout,$=N.stackOffset,K=N.data,q=N.reverseStackOrder,H=r$(P),B=H.numericAxisName,L=H.cateAxisName,D=Yr(T,r),k=Wme(K,D,"".concat(B,"Id"),"".concat(L,"Id"),$,q),I=d.reduce(function(F,G){var Z="".concat(G.axisType,"Map");return Ee(Ee({},F),{},jt({},Z,Fwe(N,Ee(Ee({},G),{},{graphicalItems:D,stackGroups:G.axisType===B&&k,dataStartIndex:S,dataEndIndex:O}))))},{}),z=Vwe(Ee(Ee({},I),{},{props:N,graphicalItems:D}),C?.legendBBox);Object.keys(I).forEach(function(F){I[F]=p(N,I[F],z,F.replace("Map",""),n)});var V=I["".concat(L,"Map")],Y=Uwe(V),U=g(N,Ee(Ee({},I),{},{dataStartIndex:S,dataEndIndex:O,updateId:M,graphicalItems:D,stackGroups:k,offset:z}));return Ee(Ee({formattedGraphicalItems:U,graphicalItems:D,offset:z,stackGroups:k},Y),I)},w=(function(j){function _(C){var N,S,O;return Awe(this,_),O=Ewe(this,_,[C]),jt(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(O,"accessibilityManager",new dwe),jt(O,"handleLegendBBoxUpdate",function(M){if(M){var T=O.state,P=T.dataStartIndex,$=T.dataEndIndex,K=T.updateId;O.setState(Ee({legendBBox:M},v({props:O.props,dataStartIndex:P,dataEndIndex:$,updateId:K},Ee(Ee({},O.state),{},{legendBBox:M}))))}}),jt(O,"handleReceiveSyncEvent",function(M,T,P){if(O.props.syncId===M){if(P===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(T)}}),jt(O,"handleBrushChange",function(M){var T=M.startIndex,P=M.endIndex;if(T!==O.state.dataStartIndex||P!==O.state.dataEndIndex){var $=O.state.updateId;O.setState(function(){return Ee({dataStartIndex:T,dataEndIndex:P},v({props:O.props,dataStartIndex:T,dataEndIndex:P,updateId:$},O.state))}),O.triggerSyncEvent({dataStartIndex:T,dataEndIndex:P})}}),jt(O,"handleMouseEnter",function(M){var T=O.getMouseInfo(M);if(T){var P=Ee(Ee({},T),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var $=O.props.onMouseEnter;vt($)&&$(P,M)}}),jt(O,"triggeredAfterMouseMove",function(M){var T=O.getMouseInfo(M),P=T?Ee(Ee({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(P),O.triggerSyncEvent(P);var $=O.props.onMouseMove;vt($)&&$(P,M)}),jt(O,"handleItemMouseEnter",function(M){O.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),jt(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),jt(O,"handleMouseMove",function(M){M.persist(),O.throttleTriggeredAfterMouseMove(M)}),jt(O,"handleMouseLeave",function(M){O.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};O.setState(T),O.triggerSyncEvent(T);var P=O.props.onMouseLeave;vt(P)&&P(T,M)}),jt(O,"handleOuterEvent",function(M){var T=Rie(M),P=Ca(O.props,"".concat(T));if(T&&vt(P)){var $,K;/.*touch.*/i.test(T)?K=O.getMouseInfo(M.changedTouches[0]):K=O.getMouseInfo(M),P(($=K)!==null&&$!==void 0?$:{},M)}}),jt(O,"handleClick",function(M){var T=O.getMouseInfo(M);if(T){var P=Ee(Ee({},T),{},{isTooltipActive:!0});O.setState(P),O.triggerSyncEvent(P);var $=O.props.onClick;vt($)&&$(P,M)}}),jt(O,"handleMouseDown",function(M){var T=O.props.onMouseDown;if(vt(T)){var P=O.getMouseInfo(M);T(P,M)}}),jt(O,"handleMouseUp",function(M){var T=O.props.onMouseUp;if(vt(T)){var P=O.getMouseInfo(M);T(P,M)}}),jt(O,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),jt(O,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.handleMouseDown(M.changedTouches[0])}),jt(O,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&O.handleMouseUp(M.changedTouches[0])}),jt(O,"handleDoubleClick",function(M){var T=O.props.onDoubleClick;if(vt(T)){var P=O.getMouseInfo(M);T(P,M)}}),jt(O,"handleContextMenu",function(M){var T=O.props.onContextMenu;if(vt(T)){var P=O.getMouseInfo(M);T(P,M)}}),jt(O,"triggerSyncEvent",function(M){O.props.syncId!==void 0&&WS.emit(YS,O.props.syncId,M,O.eventEmitterSymbol)}),jt(O,"applySyncEvent",function(M){var T=O.props,P=T.layout,$=T.syncMethod,K=O.state.updateId,q=M.dataStartIndex,H=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)O.setState(Ee({dataStartIndex:q,dataEndIndex:H},v({props:O.props,dataStartIndex:q,dataEndIndex:H,updateId:K},O.state)));else if(M.activeTooltipIndex!==void 0){var B=M.chartX,L=M.chartY,D=M.activeTooltipIndex,k=O.state,I=k.offset,z=k.tooltipTicks;if(!I)return;if(typeof $=="function")D=$(z,M);else if($==="value"){D=-1;for(var V=0;V<z.length;V++)if(z[V].value===M.activeLabel){D=V;break}}var Y=Ee(Ee({},I),{},{x:I.left,y:I.top}),U=Math.min(B,Y.x+Y.width),F=Math.min(L,Y.y+Y.height),G=z[D]&&z[D].value,Z=sC(O.state,O.props.data,D),ge=z[D]?{x:P==="horizontal"?z[D].coordinate:U,y:P==="horizontal"?F:z[D].coordinate}:VH;O.setState(Ee(Ee({},M),{},{activeLabel:G,activeCoordinate:ge,activePayload:Z,activeTooltipIndex:D}))}else O.setState(M)}),jt(O,"renderCursor",function(M){var T,P=O.state,$=P.isTooltipActive,K=P.activeCoordinate,q=P.activePayload,H=P.offset,B=P.activeTooltipIndex,L=P.tooltipAxisBandSize,D=O.getTooltipEventType(),k=(T=M.props.active)!==null&&T!==void 0?T:$,I=O.props.layout,z=M.key||"_recharts-cursor";return X.createElement(ywe,{key:z,activeCoordinate:K,activePayload:q,activeTooltipIndex:B,chartName:n,element:M,isActive:k,layout:I,offset:H,tooltipAxisBandSize:L,tooltipEventType:D})}),jt(O,"renderPolarAxis",function(M,T,P){var $=Ca(M,"type.axisType"),K=Ca(O.state,"".concat($,"Map")),q=M.type.defaultProps,H=q!==void 0?Ee(Ee({},q),M.props):M.props,B=K&&K[H["".concat($,"Id")]];return b.cloneElement(M,Ee(Ee({},B),{},{className:Nt($,B.className),key:M.key||"".concat(T,"-").concat(P),ticks:bi(B,!0)}))}),jt(O,"renderPolarGrid",function(M){var T=M.props,P=T.radialLines,$=T.polarAngles,K=T.polarRadius,q=O.state,H=q.radiusAxisMap,B=q.angleAxisMap,L=_o(H),D=_o(B),k=D.cx,I=D.cy,z=D.innerRadius,V=D.outerRadius;return b.cloneElement(M,{polarAngles:Array.isArray($)?$:bi(D,!0).map(function(Y){return Y.coordinate}),polarRadius:Array.isArray(K)?K:bi(L,!0).map(function(Y){return Y.coordinate}),cx:k,cy:I,innerRadius:z,outerRadius:V,key:M.key||"polar-grid",radialLines:P})}),jt(O,"renderLegend",function(){var M=O.state.formattedGraphicalItems,T=O.props,P=T.children,$=T.width,K=T.height,q=O.props.margin||{},H=$-(q.left||0)-(q.right||0),B=bU({children:P,formattedGraphicalItems:M,legendWidth:H,legendContent:f});if(!B)return null;var L=B.item,D=J5(B,vwe);return b.cloneElement(L,Ee(Ee({},D),{},{chartWidth:$,chartHeight:K,margin:q,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),jt(O,"renderTooltip",function(){var M,T=O.props,P=T.children,$=T.accessibilityLayer,K=ba(P,kn);if(!K)return null;var q=O.state,H=q.isTooltipActive,B=q.activeCoordinate,L=q.activePayload,D=q.activeLabel,k=q.offset,I=(M=K.props.active)!==null&&M!==void 0?M:H;return b.cloneElement(K,{viewBox:Ee(Ee({},k),{},{x:k.left,y:k.top}),active:I,label:D,payload:I?L:[],coordinate:B,accessibilityLayer:$})}),jt(O,"renderBrush",function(M){var T=O.props,P=T.margin,$=T.data,K=O.state,q=K.offset,H=K.dataStartIndex,B=K.dataEndIndex,L=K.updateId;return b.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Dg(O.handleBrushChange,M.props.onChange),data:$,x:Ie(M.props.x)?M.props.x:q.left,y:Ie(M.props.y)?M.props.y:q.top+q.height+q.brushBottom-(P.bottom||0),width:Ie(M.props.width)?M.props.width:q.width,startIndex:H,endIndex:B,updateId:"brush-".concat(L)})}),jt(O,"renderReferenceElement",function(M,T,P){if(!M)return null;var $=O,K=$.clipPathId,q=O.state,H=q.xAxisMap,B=q.yAxisMap,L=q.offset,D=M.type.defaultProps||{},k=M.props,I=k.xAxisId,z=I===void 0?D.xAxisId:I,V=k.yAxisId,Y=V===void 0?D.yAxisId:V;return b.cloneElement(M,{key:M.key||"".concat(T,"-").concat(P),xAxis:H[z],yAxis:B[Y],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:K})}),jt(O,"renderActivePoints",function(M){var T=M.item,P=M.activePoint,$=M.basePoint,K=M.childIndex,q=M.isRange,H=[],B=T.props.key,L=T.item.type.defaultProps!==void 0?Ee(Ee({},T.item.type.defaultProps),T.item.props):T.item.props,D=L.activeDot,k=L.dataKey,I=Ee(Ee({index:K,dataKey:k,cx:P.x,cy:P.y,r:4,fill:bE(T.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},nt(D,!1)),vx(D));return H.push(_.renderActiveDot(D,I,"".concat(B,"-activePoint-").concat(K))),$?H.push(_.renderActiveDot(D,Ee(Ee({},I),{},{cx:$.x,cy:$.y}),"".concat(B,"-basePoint-").concat(K))):q&&H.push(null),H}),jt(O,"renderGraphicChild",function(M,T,P){var $=O.filterFormatItem(M,T,P);if(!$)return null;var K=O.getTooltipEventType(),q=O.state,H=q.isTooltipActive,B=q.tooltipAxis,L=q.activeTooltipIndex,D=q.activeLabel,k=O.props.children,I=ba(k,kn),z=$.props,V=z.points,Y=z.isRange,U=z.baseLine,F=$.item.type.defaultProps!==void 0?Ee(Ee({},$.item.type.defaultProps),$.item.props):$.item.props,G=F.activeDot,Z=F.hide,ge=F.activeBar,Se=F.activeShape,Q=!!(!Z&&H&&I&&(G||ge||Se)),pe={};K!=="axis"&&I&&I.props.trigger==="click"?pe={onClick:Dg(O.handleItemMouseEnter,M.props.onClick)}:K!=="axis"&&(pe={onMouseLeave:Dg(O.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Dg(O.handleItemMouseEnter,M.props.onMouseEnter)});var ce=b.cloneElement(M,Ee(Ee({},$.props),pe));function Ae(be){return typeof B.dataKey=="function"?B.dataKey(be.payload):null}if(Q)if(L>=0){var _e,le;if(B.dataKey&&!B.allowDuplicatedCategory){var $e=typeof B.dataKey=="function"?Ae:"payload.".concat(B.dataKey.toString());_e=yx(V,$e,D),le=Y&&U&&yx(U,$e,D)}else _e=V?.[L],le=Y&&U&&U[L];if(Se||ge){var re=M.props.activeIndex!==void 0?M.props.activeIndex:L;return[b.cloneElement(M,Ee(Ee(Ee({},$.props),pe),{},{activeIndex:re})),null,null]}if(!xt(_e))return[ce].concat(od(O.renderActivePoints({item:$,activePoint:_e,basePoint:le,childIndex:L,isRange:Y})))}else{var Oe,Ue=(Oe=O.getItemByXY(O.state.activeCoordinate))!==null&&Oe!==void 0?Oe:{graphicalItem:ce},rt=Ue.graphicalItem,en=rt.item,mn=en===void 0?M:en,Un=rt.childIndex,vn=Ee(Ee(Ee({},$.props),pe),{},{activeIndex:Un});return[b.cloneElement(mn,vn),null,null]}return Y?[ce,null,null]:[ce,null]}),jt(O,"renderCustomized",function(M,T,P){return b.cloneElement(M,Ee(Ee({key:"recharts-customized-".concat(P)},O.props),O.state))}),jt(O,"renderMap",{CartesianGrid:{handler:zg,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:zg},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:zg},YAxis:{handler:zg},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((N=C.id)!==null&&N!==void 0?N:Yo("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=g8(O.triggeredAfterMouseMove,(S=C.throttleDelay)!==null&&S!==void 0?S:1e3/60),O.state={},O}return Mwe(_,j),_we(_,[{key:"componentDidMount",value:function(){var N,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,S=N.children,O=N.data,M=N.height,T=N.layout,P=ba(S,kn);if(P){var $=P.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,q=sC(this.state,O,$,K),H=this.state.tooltipTicks[$].coordinate,B=(this.state.offset.top+M)/2,L=T==="horizontal",D=L?{x:H,y:B}:{y:H,x:B},k=this.state.formattedGraphicalItems.find(function(z){var V=z.item;return V.type.name==="Scatter"});k&&(D=Ee(Ee({},D),k.props.points[$].tooltipPosition),q=k.props.points[$].tooltipPayload);var I={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:K,activePayload:q,activeCoordinate:D};this.setState(I),this.renderCursor(P),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var O,M;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(N){LA([ba(N.children,kn)],[ba(this.props.children,kn)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ba(this.props.children,kn);if(N&&typeof N.props.shared=="boolean"){var S=N.props.shared?"axis":"item";return u.indexOf(S)>=0?S:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var S=this.container,O=S.getBoundingClientRect(),M=jue(O),T={chartX:Math.round(N.pageX-M.left),chartY:Math.round(N.pageY-M.top)},P=O.width/S.offsetWidth||1,$=this.inRange(T.chartX,T.chartY,P);if(!$)return null;var K=this.state,q=K.xAxisMap,H=K.yAxisMap,B=this.getTooltipEventType(),L=t$(this.state,this.props.data,this.props.layout,$);if(B!=="axis"&&q&&H){var D=_o(q).scale,k=_o(H).scale,I=D&&D.invert?D.invert(T.chartX):null,z=k&&k.invert?k.invert(T.chartY):null;return Ee(Ee({},T),{},{xValue:I,yValue:z},L)}return L?Ee(Ee({},T),L):null}},{key:"inRange",value:function(N,S){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,T=N/O,P=S/O;if(M==="horizontal"||M==="vertical"){var $=this.state.offset,K=T>=$.left&&T<=$.left+$.width&&P>=$.top&&P<=$.top+$.height;return K?{x:T,y:P}:null}var q=this.state,H=q.angleAxisMap,B=q.radiusAxisMap;if(H&&B){var L=_o(H);return JL({x:T,y:P},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,S=this.getTooltipEventType(),O=ba(N,kn),M={};O&&S==="axis"&&(O.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=vx(this.props,this.handleOuterEvent);return Ee(Ee({},T),M)}},{key:"addListener",value:function(){WS.on(YS,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){WS.removeListener(YS,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,S,O){for(var M=this.state.formattedGraphicalItems,T=0,P=M.length;T<P;T++){var $=M[T];if($.item===N||$.props.key===N.key||S===wi($.item.type)&&O===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,S=this.state.offset,O=S.left,M=S.top,T=S.height,P=S.width;return X.createElement("defs",null,X.createElement("clipPath",{id:N},X.createElement("rect",{x:O,y:M,height:T,width:P})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(S,O){var M=Z5(O,2),T=M[0],P=M[1];return Ee(Ee({},S),{},jt({},T,P.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(S,O){var M=Z5(O,2),T=M[0],P=M[1];return Ee(Ee({},S),{},jt({},T,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[N])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(N){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[N])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(N){var S=this.state,O=S.formattedGraphicalItems,M=S.activeItem;if(O&&O.length)for(var T=0,P=O.length;T<P;T++){var $=O[T],K=$.props,q=$.item,H=q.type.defaultProps!==void 0?Ee(Ee({},q.type.defaultProps),q.props):q.props,B=wi(q.type);if(B==="Bar"){var L=(K.data||[]).find(function(z){return Vxe(N,z)});if(L)return{graphicalItem:$,payload:L}}else if(B==="RadialBar"){var D=(K.data||[]).find(function(z){return JL(N,z)});if(D)return{graphicalItem:$,payload:D}}else if(Dv($,M)||Iv($,M)||Jh($,M)){var k=mve({graphicalItem:$,activeTooltipItem:M,itemData:H.data}),I=H.activeIndex===void 0?k:H.activeIndex;return{graphicalItem:Ee(Ee({},$),{},{childIndex:I}),payload:Jh($,M)?H.data[k]:$.props.data[k]}}}return null}},{key:"render",value:function(){var N=this;if(!uR(this))return null;var S=this.props,O=S.children,M=S.className,T=S.width,P=S.height,$=S.style,K=S.compact,q=S.title,H=S.desc,B=J5(S,bwe),L=nt(B,!1);if(K)return X.createElement(O5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(qA,vu({},L,{width:T,height:P,title:q,desc:H}),this.renderClipPath(),fR(O,this.renderMap)));if(this.props.accessibilityLayer){var D,k;L.tabIndex=(D=this.props.tabIndex)!==null&&D!==void 0?D:0,L.role=(k=this.props.role)!==null&&k!==void 0?k:"application",L.onKeyDown=function(z){N.accessibilityManager.keyboardEvent(z)},L.onFocus=function(){N.accessibilityManager.focus()}}var I=this.parseEventsOfWrapper();return X.createElement(O5,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",vu({className:Nt("recharts-wrapper",M),style:Ee({position:"relative",cursor:"default",width:T,height:P},$)},I,{ref:function(V){N.container=V}}),X.createElement(qA,vu({},L,{width:T,height:P,title:q,desc:H,style:Lwe}),this.renderClipPath(),fR(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);jt(w,"displayName",n),jt(w,"defaultProps",Ee({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),jt(w,"getDerivedStateFromProps",function(j,_){var C=j.dataKey,N=j.data,S=j.children,O=j.width,M=j.height,T=j.layout,P=j.stackOffset,$=j.margin,K=_.dataStartIndex,q=_.dataEndIndex;if(_.updateId===void 0){var H=n$(j);return Ee(Ee(Ee({},H),{},{updateId:0},v(Ee(Ee({props:j},H),{},{updateId:0}),_)),{},{prevDataKey:C,prevData:N,prevWidth:O,prevHeight:M,prevLayout:T,prevStackOffset:P,prevMargin:$,prevChildren:S})}if(C!==_.prevDataKey||N!==_.prevData||O!==_.prevWidth||M!==_.prevHeight||T!==_.prevLayout||P!==_.prevStackOffset||!Au($,_.prevMargin)){var B=n$(j),L={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},D=Ee(Ee({},t$(_,N,T)),{},{updateId:_.updateId+1}),k=Ee(Ee(Ee({},B),L),D);return Ee(Ee(Ee({},k),v(Ee({props:j},k),_)),{},{prevDataKey:C,prevData:N,prevWidth:O,prevHeight:M,prevLayout:T,prevStackOffset:P,prevMargin:$,prevChildren:S})}if(!LA(S,_.prevChildren)){var I,z,V,Y,U=ba(S,Yu),F=U&&(I=(z=U.props)===null||z===void 0?void 0:z.startIndex)!==null&&I!==void 0?I:K,G=U&&(V=(Y=U.props)===null||Y===void 0?void 0:Y.endIndex)!==null&&V!==void 0?V:q,Z=F!==K||G!==q,ge=!xt(N),Se=ge&&!Z?_.updateId:_.updateId+1;return Ee(Ee({updateId:Se},v(Ee(Ee({props:j},_),{},{updateId:Se,dataStartIndex:F,dataEndIndex:G}),_)),{},{prevChildren:S,dataStartIndex:F,dataEndIndex:G})}return null}),jt(w,"renderActiveDot",function(j,_,C){var N;return b.isValidElement(j)?N=b.cloneElement(j,_):vt(j)?N=j(_):N=X.createElement(zm,_),X.createElement(Ct,{className:"recharts-active-dot",key:C},N)});var y=b.forwardRef(function(_,C){return X.createElement(w,vu({},_,{ref:C}))});return y.displayName=w.displayName,y},Wwe=Bm({chartName:"LineChart",GraphicalChild:Bo,axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Br}],formatAxisMap:$v}),yc=Bm({chartName:"BarChart",GraphicalChild:Bn,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Br}],formatAxisMap:$v}),vy=Bm({chartName:"PieChart",GraphicalChild:Za,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:Rv},{axisType:"radiusAxis",AxisComp:kv}],formatAxisMap:spe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),Ywe=Bm({chartName:"AreaChart",GraphicalChild:_a,axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Br}],formatAxisMap:$v}),Gwe=Bm({chartName:"ComposedChart",GraphicalChild:[Bo,_a,Bn,Hv],axisComponents:[{axisType:"xAxis",AxisComp:zr},{axisType:"yAxis",AxisComp:Br},{axisType:"zAxis",AxisComp:Uv}],formatAxisMap:$v});function Xwe(e,t=[]){let n=[];function r(i,l){const u=b.createContext(l);u.displayName=i+"Context";const d=n.length;n=[...n,l];const f=m=>{const{scope:g,children:v,...w}=m,y=g?.[e]?.[d]||u,j=b.useMemo(()=>w,Object.values(w));return a.jsx(y.Provider,{value:j,children:v})};f.displayName=i+"Provider";function p(m,g){const v=g?.[e]?.[d]||u,w=b.useContext(v);if(w)return w;if(l!==void 0)return l;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[f,p]}const s=()=>{const i=n.map(l=>b.createContext(l));return function(u){const d=u?.[e]||i;return b.useMemo(()=>({[`__scope${e}`]:{...u,[e]:d}}),[u,d])}};return s.scopeName=e,[r,Qwe(s,...t)]}function Qwe(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const l=r.reduce((u,{useScope:d,scopeName:f})=>{const m=d(i)[`__scope${f}`];return{...u,...m}},{});return b.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var Zwe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],WH=Zwe.reduce((e,t)=>{const n=Cm(`Primitive.${t}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ME="Progress",kE=100,[Jwe]=Xwe(ME),[e1e,t1e]=Jwe(ME),YH=b.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:s,getValueLabel:i=n1e,...l}=e;(s||s===0)&&!a$(s)&&console.error(r1e(`${s}`,"Progress"));const u=a$(s)?s:kE;r!==null&&!s$(r,u)&&console.error(a1e(`${r}`,"Progress"));const d=s$(r,u)?r:null,f=by(d)?i(d,u):void 0;return a.jsx(e1e,{scope:n,value:d,max:u,children:a.jsx(WH.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":by(d)?d:void 0,"aria-valuetext":f,role:"progressbar","data-state":QH(d,u),"data-value":d??void 0,"data-max":u,...l,ref:t})})});YH.displayName=ME;var GH="ProgressIndicator",XH=b.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,s=t1e(GH,n);return a.jsx(WH.div,{"data-state":QH(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:t})});XH.displayName=GH;function n1e(e,t){return`${Math.round(e/t*100)}%`}function QH(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function by(e){return typeof e=="number"}function a$(e){return by(e)&&!isNaN(e)&&e>0}function s$(e,t){return by(e)&&!isNaN(e)&&e<=t&&e>=0}function r1e(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${kE}\`.`}function a1e(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${kE} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ZH=YH,s1e=XH;const Sa=b.forwardRef(({className:e,value:t,...n},r)=>a.jsx(ZH,{ref:r,className:Fe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",e),...n,children:a.jsx(s1e,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));Sa.displayName=ZH.displayName;function im(e,[t,n]){return Math.min(n,Math.max(t,e))}function i1e(e){const t=o1e(e),n=b.forwardRef((r,s)=>{const{children:i,...l}=r,u=b.Children.toArray(i),d=u.find(c1e);if(d){const f=d.props.children,p=u.map(m=>m===d?b.Children.count(f)>1?b.Children.only(null):b.isValidElement(f)?f.props.children:null:m);return a.jsx(t,{...l,ref:s,children:b.isValidElement(f)?b.cloneElement(f,void 0,p):null})}return a.jsx(t,{...l,ref:s,children:i})});return n.displayName=`${e}.Slot`,n}function o1e(e){const t=b.forwardRef((n,r)=>{const{children:s,...i}=n;if(b.isValidElement(s)){const l=d1e(s),u=u1e(i,s.props);return s.type!==b.Fragment&&(u.ref=r?Di(r,l):l),b.cloneElement(s,u)}return b.Children.count(s)>1?b.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var l1e=Symbol("radix.slottable");function c1e(e){return b.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===l1e}function u1e(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...u)=>{const d=i(...u);return s(...u),d}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}function d1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Kv(e){const t=b.useRef({value:e,previous:e});return b.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var f1e=[" ","Enter","ArrowUp","ArrowDown"],h1e=[" ","Enter"],Zl="Select",[Wv,Yv,m1e]=ym(Zl),[Ld]=Fr(Zl,[m1e,_d]),Gv=_d(),[p1e,Zo]=Ld(Zl),[g1e,x1e]=Ld(Zl),JH=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:i,value:l,defaultValue:u,onValueChange:d,dir:f,name:p,autoComplete:m,disabled:g,required:v,form:w}=e,y=Gv(t),[j,_]=b.useState(null),[C,N]=b.useState(null),[S,O]=b.useState(!1),M=Ed(f),[T,P]=vs({prop:r,defaultProp:s??!1,onChange:i,caller:Zl}),[$,K]=vs({prop:l,defaultProp:u,onChange:d,caller:Zl}),q=b.useRef(null),H=j?w||!!j.closest("form"):!0,[B,L]=b.useState(new Set),D=Array.from(B).map(k=>k.props.value).join(";");return a.jsx(ez,{...y,children:a.jsxs(p1e,{required:v,scope:t,trigger:j,onTriggerChange:_,valueNode:C,onValueNodeChange:N,valueNodeHasChildren:S,onValueNodeHasChildrenChange:O,contentId:gs(),value:$,onValueChange:K,open:T,onOpenChange:P,dir:M,triggerPointerDownPosRef:q,disabled:g,children:[a.jsx(Wv.Provider,{scope:t,children:a.jsx(g1e,{scope:e.__scopeSelect,onNativeOptionAdd:b.useCallback(k=>{L(I=>new Set(I).add(k))},[]),onNativeOptionRemove:b.useCallback(k=>{L(I=>{const z=new Set(I);return z.delete(k),z})},[]),children:n})}),H?a.jsxs(N9,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:m,value:$,onChange:k=>K(k.target.value),disabled:g,form:w,children:[$===void 0?a.jsx("option",{value:""}):null,Array.from(B)]},D):null]})})};JH.displayName=Zl;var e9="SelectTrigger",t9=b.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,i=Gv(n),l=Zo(e9,n),u=l.disabled||r,d=wt(t,l.onTriggerChange),f=Yv(n),p=b.useRef("touch"),[m,g,v]=A9(y=>{const j=f().filter(N=>!N.disabled),_=j.find(N=>N.value===l.value),C=C9(j,y,_);C!==void 0&&l.onValueChange(C.value)}),w=y=>{u||(l.onOpenChange(!0),v()),y&&(l.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(t_,{asChild:!0,...i,children:a.jsx(Je.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":S9(l.value)?"":void 0,...s,ref:d,onClick:Le(s.onClick,y=>{y.currentTarget.focus(),p.current!=="mouse"&&w(y)}),onPointerDown:Le(s.onPointerDown,y=>{p.current=y.pointerType;const j=y.target;j.hasPointerCapture(y.pointerId)&&j.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(w(y),y.preventDefault())}),onKeyDown:Le(s.onKeyDown,y=>{const j=m.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(j&&y.key===" ")&&f1e.includes(y.key)&&(w(),y.preventDefault())})})})});t9.displayName=e9;var n9="SelectValue",r9=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:l="",...u}=e,d=Zo(n9,n),{onValueNodeHasChildrenChange:f}=d,p=i!==void 0,m=wt(t,d.onValueNodeChange);return Fn(()=>{f(p)},[f,p]),a.jsx(Je.span,{...u,ref:m,style:{pointerEvents:"none"},children:S9(d.value)?a.jsx(a.Fragment,{children:l}):i})});r9.displayName=n9;var y1e="SelectIcon",a9=b.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return a.jsx(Je.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});a9.displayName=y1e;var v1e="SelectPortal",s9=e=>a.jsx(jd,{asChild:!0,...e});s9.displayName=v1e;var Jl="SelectContent",i9=b.forwardRef((e,t)=>{const n=Zo(Jl,e.__scopeSelect),[r,s]=b.useState();if(Fn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?vd.createPortal(a.jsx(o9,{scope:e.__scopeSelect,children:a.jsx(Wv.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),i):null}return a.jsx(l9,{...e,ref:t})});i9.displayName=Jl;var ls=10,[o9,Jo]=Ld(Jl),b1e="SelectContentImpl",j1e=i1e("SelectContent.RemoveScroll"),l9=b.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:l,side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:j,..._}=e,C=Zo(Jl,n),[N,S]=b.useState(null),[O,M]=b.useState(null),T=wt(t,Q=>S(Q)),[P,$]=b.useState(null),[K,q]=b.useState(null),H=Yv(n),[B,L]=b.useState(!1),D=b.useRef(!1);b.useEffect(()=>{if(N)return f_(N)},[N]),d_();const k=b.useCallback(Q=>{const[pe,...ce]=H().map(le=>le.ref.current),[Ae]=ce.slice(-1),_e=document.activeElement;for(const le of Q)if(le===_e||(le?.scrollIntoView({block:"nearest"}),le===pe&&O&&(O.scrollTop=0),le===Ae&&O&&(O.scrollTop=O.scrollHeight),le?.focus(),document.activeElement!==_e))return},[H,O]),I=b.useCallback(()=>k([P,N]),[k,P,N]);b.useEffect(()=>{B&&I()},[B,I]);const{onOpenChange:z,triggerPointerDownPosRef:V}=C;b.useEffect(()=>{if(N){let Q={x:0,y:0};const pe=Ae=>{Q={x:Math.abs(Math.round(Ae.pageX)-(V.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(V.current?.y??0))}},ce=Ae=>{Q.x<=10&&Q.y<=10?Ae.preventDefault():N.contains(Ae.target)||z(!1),document.removeEventListener("pointermove",pe),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",ce,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",ce,{capture:!0})}}},[N,z,V]),b.useEffect(()=>{const Q=()=>z(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[z]);const[Y,U]=A9(Q=>{const pe=H().filter(_e=>!_e.disabled),ce=pe.find(_e=>_e.ref.current===document.activeElement),Ae=C9(pe,Q,ce);Ae&&setTimeout(()=>Ae.ref.current.focus())}),F=b.useCallback((Q,pe,ce)=>{const Ae=!D.current&&!ce;(C.value!==void 0&&C.value===pe||Ae)&&($(Q),Ae&&(D.current=!0))},[C.value]),G=b.useCallback(()=>N?.focus(),[N]),Z=b.useCallback((Q,pe,ce)=>{const Ae=!D.current&&!ce;(C.value!==void 0&&C.value===pe||Ae)&&q(Q)},[C.value]),ge=r==="popper"?iC:c9,Se=ge===iC?{side:u,sideOffset:d,align:f,alignOffset:p,arrowPadding:m,collisionBoundary:g,collisionPadding:v,sticky:w,hideWhenDetached:y,avoidCollisions:j}:{};return a.jsx(o9,{scope:n,content:N,viewport:O,onViewportChange:M,itemRefCallback:F,selectedItem:P,onItemLeave:G,itemTextRefCallback:Z,focusSelectedItem:I,selectedItemText:K,position:r,isPositioned:B,searchRef:Y,children:a.jsx(tv,{as:j1e,allowPinchZoom:!0,children:a.jsx(Jy,{asChild:!0,trapped:C.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:Le(s,Q=>{C.trigger?.focus({preventScroll:!0}),Q.preventDefault()}),children:a.jsx(bd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:a.jsx(ge,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:Q=>Q.preventDefault(),..._,...Se,onPlaced:()=>L(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Le(_.onKeyDown,Q=>{const pe=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!pe&&Q.key.length===1&&U(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Ae=H().filter(_e=>!_e.disabled).map(_e=>_e.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const _e=Q.target,le=Ae.indexOf(_e);Ae=Ae.slice(le+1)}setTimeout(()=>k(Ae)),Q.preventDefault()}})})})})})})});l9.displayName=b1e;var w1e="SelectItemAlignedPosition",c9=b.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,i=Zo(Jl,n),l=Jo(Jl,n),[u,d]=b.useState(null),[f,p]=b.useState(null),m=wt(t,T=>p(T)),g=Yv(n),v=b.useRef(!1),w=b.useRef(!0),{viewport:y,selectedItem:j,selectedItemText:_,focusSelectedItem:C}=l,N=b.useCallback(()=>{if(i.trigger&&i.valueNode&&u&&f&&y&&j&&_){const T=i.trigger.getBoundingClientRect(),P=f.getBoundingClientRect(),$=i.valueNode.getBoundingClientRect(),K=_.getBoundingClientRect();if(i.dir!=="rtl"){const _e=K.left-P.left,le=$.left-_e,$e=T.left-le,re=T.width+$e,Oe=Math.max(re,P.width),Ue=window.innerWidth-ls,rt=im(le,[ls,Math.max(ls,Ue-Oe)]);u.style.minWidth=re+"px",u.style.left=rt+"px"}else{const _e=P.right-K.right,le=window.innerWidth-$.right-_e,$e=window.innerWidth-T.right-le,re=T.width+$e,Oe=Math.max(re,P.width),Ue=window.innerWidth-ls,rt=im(le,[ls,Math.max(ls,Ue-Oe)]);u.style.minWidth=re+"px",u.style.right=rt+"px"}const q=g(),H=window.innerHeight-ls*2,B=y.scrollHeight,L=window.getComputedStyle(f),D=parseInt(L.borderTopWidth,10),k=parseInt(L.paddingTop,10),I=parseInt(L.borderBottomWidth,10),z=parseInt(L.paddingBottom,10),V=D+k+B+z+I,Y=Math.min(j.offsetHeight*5,V),U=window.getComputedStyle(y),F=parseInt(U.paddingTop,10),G=parseInt(U.paddingBottom,10),Z=T.top+T.height/2-ls,ge=H-Z,Se=j.offsetHeight/2,Q=j.offsetTop+Se,pe=D+k+Q,ce=V-pe;if(pe<=Z){const _e=q.length>0&&j===q[q.length-1].ref.current;u.style.bottom="0px";const le=f.clientHeight-y.offsetTop-y.offsetHeight,$e=Math.max(ge,Se+(_e?G:0)+le+I),re=pe+$e;u.style.height=re+"px"}else{const _e=q.length>0&&j===q[0].ref.current;u.style.top="0px";const $e=Math.max(Z,D+y.offsetTop+(_e?F:0)+Se)+ce;u.style.height=$e+"px",y.scrollTop=pe-Z+y.offsetTop}u.style.margin=`${ls}px 0`,u.style.minHeight=Y+"px",u.style.maxHeight=H+"px",r?.(),requestAnimationFrame(()=>v.current=!0)}},[g,i.trigger,i.valueNode,u,f,y,j,_,i.dir,r]);Fn(()=>N(),[N]);const[S,O]=b.useState();Fn(()=>{f&&O(window.getComputedStyle(f).zIndex)},[f]);const M=b.useCallback(T=>{T&&w.current===!0&&(N(),C?.(),w.current=!1)},[N,C]);return a.jsx(S1e,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:v,onScrollButtonChange:M,children:a.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:a.jsx(Je.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});c9.displayName=w1e;var N1e="SelectPopperPosition",iC=b.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ls,...i}=e,l=Gv(n);return a.jsx(n_,{...l,...i,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iC.displayName=N1e;var[S1e,PE]=Ld(Jl,{}),oC="SelectViewport",u9=b.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,i=Jo(oC,n),l=PE(oC,n),u=wt(t,i.onViewportChange),d=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Wv.Slot,{scope:n,children:a.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Le(s.onScroll,f=>{const p=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:g}=l;if(g?.current&&m){const v=Math.abs(d.current-p.scrollTop);if(v>0){const w=window.innerHeight-ls*2,y=parseFloat(m.style.minHeight),j=parseFloat(m.style.height),_=Math.max(y,j);if(_<w){const C=_+v,N=Math.min(w,C),S=C-N;m.style.height=N+"px",m.style.bottom==="0px"&&(p.scrollTop=S>0?S:0,m.style.justifyContent="flex-end")}}}d.current=p.scrollTop})})})]})});u9.displayName=oC;var d9="SelectGroup",[A1e,C1e]=Ld(d9),_1e=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=gs();return a.jsx(A1e,{scope:n,id:s,children:a.jsx(Je.div,{role:"group","aria-labelledby":s,...r,ref:t})})});_1e.displayName=d9;var f9="SelectLabel",h9=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=C1e(f9,n);return a.jsx(Je.div,{id:s.id,...r,ref:t})});h9.displayName=f9;var jy="SelectItem",[E1e,m9]=Ld(jy),p9=b.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...l}=e,u=Zo(jy,n),d=Jo(jy,n),f=u.value===r,[p,m]=b.useState(i??""),[g,v]=b.useState(!1),w=wt(t,C=>d.itemRefCallback?.(C,r,s)),y=gs(),j=b.useRef("touch"),_=()=>{s||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(E1e,{scope:n,value:r,disabled:s,textId:y,isSelected:f,onItemTextChange:b.useCallback(C=>{m(N=>N||(C?.textContent??"").trim())},[]),children:a.jsx(Wv.ItemSlot,{scope:n,value:r,disabled:s,textValue:p,children:a.jsx(Je.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":f&&g,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:w,onFocus:Le(l.onFocus,()=>v(!0)),onBlur:Le(l.onBlur,()=>v(!1)),onClick:Le(l.onClick,()=>{j.current!=="mouse"&&_()}),onPointerUp:Le(l.onPointerUp,()=>{j.current==="mouse"&&_()}),onPointerDown:Le(l.onPointerDown,C=>{j.current=C.pointerType}),onPointerMove:Le(l.onPointerMove,C=>{j.current=C.pointerType,s?d.onItemLeave?.():j.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Le(l.onPointerLeave,C=>{C.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:Le(l.onKeyDown,C=>{d.searchRef?.current!==""&&C.key===" "||(h1e.includes(C.key)&&_(),C.key===" "&&C.preventDefault())})})})})});p9.displayName=jy;var ah="SelectItemText",g9=b.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...i}=e,l=Zo(ah,n),u=Jo(ah,n),d=m9(ah,n),f=x1e(ah,n),[p,m]=b.useState(null),g=wt(t,_=>m(_),d.onItemTextChange,_=>u.itemTextRefCallback?.(_,d.value,d.disabled)),v=p?.textContent,w=b.useMemo(()=>a.jsx("option",{value:d.value,disabled:d.disabled,children:v},d.value),[d.disabled,d.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:j}=f;return Fn(()=>(y(w),()=>j(w)),[y,j,w]),a.jsxs(a.Fragment,{children:[a.jsx(Je.span,{id:d.textId,...i,ref:g}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?vd.createPortal(i.children,l.valueNode):null]})});g9.displayName=ah;var x9="SelectItemIndicator",y9=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return m9(x9,n).isSelected?a.jsx(Je.span,{"aria-hidden":!0,...r,ref:t}):null});y9.displayName=x9;var lC="SelectScrollUpButton",v9=b.forwardRef((e,t)=>{const n=Jo(lC,e.__scopeSelect),r=PE(lC,e.__scopeSelect),[s,i]=b.useState(!1),l=wt(t,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollTop>0;i(f)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?a.jsx(j9,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop-d.offsetHeight)}}):null});v9.displayName=lC;var cC="SelectScrollDownButton",b9=b.forwardRef((e,t)=>{const n=Jo(cC,e.__scopeSelect),r=PE(cC,e.__scopeSelect),[s,i]=b.useState(!1),l=wt(t,r.onScrollButtonChange);return Fn(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=d.scrollHeight-d.clientHeight,p=Math.ceil(d.scrollTop)<f;i(p)};const d=n.viewport;return u(),d.addEventListener("scroll",u),()=>d.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),s?a.jsx(j9,{...e,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:d}=n;u&&d&&(u.scrollTop=u.scrollTop+d.offsetHeight)}}):null});b9.displayName=cC;var j9=b.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,i=Jo("SelectScrollButton",n),l=b.useRef(null),u=Yv(n),d=b.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return b.useEffect(()=>()=>d(),[d]),Fn(()=>{u().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[u]),a.jsx(Je.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:Le(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Le(s.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Le(s.onPointerLeave,()=>{d()})})}),O1e="SelectSeparator",w9=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return a.jsx(Je.div,{"aria-hidden":!0,...r,ref:t})});w9.displayName=O1e;var uC="SelectArrow",T1e=b.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=Gv(n),i=Zo(uC,n),l=Jo(uC,n);return i.open&&l.position==="popper"?a.jsx(r_,{...s,...r,ref:t}):null});T1e.displayName=uC;var M1e="SelectBubbleInput",N9=b.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=b.useRef(null),i=wt(r,s),l=Kv(t);return b.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&p){const m=new Event("change",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[l,t]),a.jsx(Je.select,{...n,style:{...F6,...n.style},ref:i,defaultValue:t})});N9.displayName=M1e;function S9(e){return e===""||e===void 0}function A9(e){const t=qn(e),n=b.useRef(""),r=b.useRef(0),s=b.useCallback(l=>{const u=n.current+l;t(u),(function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))})(u)},[t]),i=b.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function C9(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,i=n?e.indexOf(n):-1;let l=k1e(e,Math.max(i,0));s.length===1&&(l=l.filter(f=>f!==n));const d=l.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function k1e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var P1e=JH,_9=t9,R1e=r9,D1e=a9,I1e=s9,E9=i9,L1e=u9,O9=h9,T9=p9,$1e=g9,q1e=y9,M9=v9,k9=b9,P9=w9;const dt=P1e,ft=R1e,lt=b.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(_9,{ref:r,className:Fe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,a.jsx(D1e,{asChild:!0,children:a.jsx(qy,{className:"h-4 w-4 opacity-50"})})]}));lt.displayName=_9.displayName;const R9=b.forwardRef(({className:e,...t},n)=>a.jsx(M9,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(OQ,{className:"h-4 w-4"})}));R9.displayName=M9.displayName;const D9=b.forwardRef(({className:e,...t},n)=>a.jsx(k9,{ref:n,className:Fe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(qy,{className:"h-4 w-4"})}));D9.displayName=k9.displayName;const ct=b.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>a.jsx(I1e,{children:a.jsxs(E9,{ref:s,className:Fe("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-white text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[a.jsx(R9,{}),a.jsx(L1e,{className:Fe("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(D9,{})]})}));ct.displayName=E9.displayName;const z1e=b.forwardRef(({className:e,...t},n)=>a.jsx(O9,{ref:n,className:Fe("px-2 py-1.5 text-sm font-semibold",e),...t}));z1e.displayName=O9.displayName;const xe=b.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(T9,{ref:r,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(q1e,{children:a.jsx(jm,{className:"h-4 w-4"})})}),a.jsx($1e,{children:t})]}));xe.displayName=T9.displayName;const B1e=b.forwardRef(({className:e,...t},n)=>a.jsx(P9,{ref:n,className:Fe("-mx-1 my-1 h-px bg-muted",e),...t}));B1e.displayName=P9.displayName;function F1e(){const[e,t]=b.useState("week"),{data:n,isLoading:r}=Ve({queryKey:["/api/reports/enhanced-dashboard",e],queryFn:async()=>{const m=await fetch(`/api/reports/enhanced-dashboard?period=${e}`);if(!m.ok)throw new Error("Failed to fetch stats");return m.json()},refetchInterval:3e4}),{data:s}=Ve({queryKey:["/api/messages"],queryFn:async()=>{const m=await fetch("/api/messages");if(!m.ok)throw new Error("Failed to fetch messages");return m.json()}}),i=s?.slice(-5).reverse()||[];if(r)return a.jsx(pt,{children:a.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})})});const l=n?.dayWise||[],u=[{name:"AI Responses",value:n?.summary.totalAiResponses||0,color:"#3b82f6"},{name:"Human Responses",value:n?.summary.totalHumanResponses||0,color:"#22c55e"}],d=[{name:"Within 24h",value:n?.summary.windowCompliant||0,color:"#22c55e"},{name:"Outside 24h",value:n?.summary.windowNonCompliant||0,color:"#ef4444"}],f=m=>m>0?a.jsx(pQ,{className:"h-3 w-3 text-green-500"}):m<0?a.jsx(cQ,{className:"h-3 w-3 text-red-500"}):null,p=()=>{switch(e){case"today":return"today";case"yesterday":return"yesterday";case"week":return"this week";case"month":return"this month";default:return"selected period"}};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Dashboard"}),a.jsxs("p",{className:"text-muted-foreground",children:["Complete overview of your messaging performance ",p(),"."]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[140px]",children:a.jsx(ft,{placeholder:"Select period"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"today",children:"Today"}),a.jsx(xe,{value:"yesterday",children:"Yesterday"}),a.jsx(xe,{value:"week",children:"Last 7 Days"}),a.jsx(xe,{value:"month",children:"Last 30 Days"})]})]})})]}),a.jsx("h1",{children:"ACTIVITY REPORT"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx(xi,{title:"Total Messages",value:n?.summary.totalMessages?.toLocaleString()||"0",icon:bA,trend:{value:n?.changes.messagesChange||0,label:"from previous period"}}),a.jsx(xi,{title:"Outbound Sent",value:n?.summary.outboundMessages?.toLocaleString()||"0",icon:dr,trend:{value:n?.changes.outboundChange||0,label:"from previous period"}}),a.jsx(xi,{title:"Inbound Received",value:n?.summary.inboundMessages?.toLocaleString()||"0",icon:SP,trend:{value:0,label:"customer replies"}}),a.jsx(xi,{title:"Delivered",value:n?.summary.delivered?.toLocaleString()||"0",icon:cr,trend:{value:n?.changes.deliveredChange||0,label:"from previous period"}})]}),a.jsx("h1",{children:"AI REPORT"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(te,{className:"border-blue-200 bg-gradient-to-br from-blue-50 to-white dark:from-blue-950/20 dark:to-background",children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"AI Responses"}),a.jsx(kt,{className:"h-4 w-4 text-blue-500"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalAiResponses?.toLocaleString()||"0"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[a.jsxs(ke,{variant:"secondary",className:"text-xs",children:[n?.summary.aiPercentage||0,"% of outbound"]}),f(n?.changes.aiChange||0),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[n?.changes.aiChange||0,"%"]})]})]})]}),a.jsxs(te,{className:"border-green-200 bg-gradient-to-br from-green-50 to-white dark:from-green-950/20 dark:to-background",children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Human Responses"}),a.jsx(Ul,{className:"h-4 w-4 text-green-500"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalHumanResponses?.toLocaleString()||"0"}),a.jsx("div",{className:"flex items-center gap-1 mt-1",children:a.jsxs(ke,{variant:"secondary",className:"text-xs",children:[100-(n?.summary.aiPercentage||0),"% of outbound"]})})]})]}),a.jsxs(te,{className:"border-emerald-200 bg-gradient-to-br from-emerald-50 to-white dark:from-emerald-950/20 dark:to-background",children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"24h Window Compliant"}),a.jsx(Bl,{className:"h-4 w-4 text-emerald-500"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.windowCompliant?.toLocaleString()||"0"}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Sa,{value:n?.summary.windowComplianceRate||0,className:"h-2 flex-1"}),a.jsxs("span",{className:"text-sm font-medium text-emerald-600",children:[n?.summary.windowComplianceRate||0,"%"]})]})]})]}),a.jsxs(te,{className:"border-purple-200 bg-gradient-to-br from-purple-50 to-white dark:from-purple-950/20 dark:to-background",children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"New Contacts"}),a.jsx(Fl,{className:"h-4 w-4 text-purple-500"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.newContacts?.toLocaleString()||"0"}),a.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[f(n?.changes.newContactsChange||0),a.jsxs("span",{className:"text-xs text-muted-foreground",children:[n?.changes.newContactsChange||0,"% from previous period"]})]})]})]})]}),a.jsx("h1",{children:"PERFORMANCE REPORT"}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Delivery Rate"}),a.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n?.summary.deliveryRate||0,"%"]}),a.jsx(Sa,{value:n?.summary.deliveryRate||0,className:"h-2 mt-2"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Read Rate"}),a.jsx(Ka,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:[n?.summary.readRate||0,"%"]}),a.jsx(Sa,{value:n?.summary.readRate||0,className:"h-2 mt-2"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Active Contacts"}),a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.activeContacts?.toLocaleString()||"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Unique contacts this period"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"AI Conversations"}),a.jsx(kt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.aiConversations?.toLocaleString()||"0"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Active agent assignments"})]})]})]}),a.jsxs(kr,{defaultValue:"activity",className:"space-y-4",children:[a.jsxs(br,{children:[a.jsx(mt,{value:"activity",children:"Message Activity"}),a.jsx(mt,{value:"ai-human",children:"AI vs Human"}),a.jsx(mt,{value:"window",children:"24h Window"})]}),a.jsx(bt,{value:"activity",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-7",children:[a.jsxs(te,{className:"lg:col-span-4",children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Message Activity Over Time"}),a.jsx(He,{children:"Daily breakdown of sent, delivered, and read messages."})]}),a.jsx(ae,{className:"pl-2",children:a.jsx("div",{className:"h-[350px]",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(Gwe,{data:l,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"colorSent",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"colorInbound",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.3}),a.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]})]}),a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"day",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(qr,{}),a.jsx(_a,{type:"monotone",dataKey:"sent",name:"Sent",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorSent)",strokeWidth:2}),a.jsx(_a,{type:"monotone",dataKey:"inbound",name:"Inbound",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorInbound)",strokeWidth:2}),a.jsx(Bo,{type:"monotone",dataKey:"delivered",name:"Delivered",stroke:"#f59e0b",strokeWidth:2,dot:!1}),a.jsx(Bo,{type:"monotone",dataKey:"read",name:"Read",stroke:"#8b5cf6",strokeWidth:2,dot:!1})]})})})})]}),a.jsxs(te,{className:"lg:col-span-3",children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Recent Activity"}),a.jsx(He,{children:"Latest message interactions"})]}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-4",children:i.length>0?i.map((m,g)=>a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center ${m.direction==="inbound"?"bg-green-100 text-green-600":m.agentId?"bg-blue-100 text-blue-600":"bg-primary/10 text-primary"}`,children:m.direction==="inbound"?a.jsx(SP,{className:"h-4 w-4"}):m.agentId?a.jsx(kt,{className:"h-4 w-4"}):a.jsx(dr,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex-1 space-y-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-medium leading-none truncate",children:m.direction==="inbound"?"Message received":m.agentId?"AI response sent":"Message sent"}),a.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:[m.content?.substring(0,40),"..."]})]}),a.jsx("div",{className:"text-xs text-muted-foreground whitespace-nowrap",children:new Date(m.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]},m.id||g)):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(bA,{className:"h-8 w-8 mx-auto mb-2 opacity-50"}),a.jsx("p",{children:"No recent messages"})]})})})]})]})}),a.jsx(bt,{value:"ai-human",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"AI vs Human Responses"}),a.jsx(He,{children:"Distribution of automated vs manual responses"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(vy,{children:[a.jsx(Za,{data:u,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:m,percent:g})=>`${m}: ${(g*100).toFixed(0)}%`,children:u.map((m,g)=>a.jsx(Ti,{fill:m.color},`cell-${g}`))}),a.jsx(kn,{})]})})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-blue-500"}),a.jsxs("span",{className:"text-sm",children:["AI: ",n?.summary.totalAiResponses||0]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-sm",children:["Human: ",n?.summary.totalHumanResponses||0]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"AI vs Human by Day"}),a.jsx(He,{children:"Daily breakdown of response sources"})]}),a.jsx(ae,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:l,children:[a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"day",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(qr,{}),a.jsx(Bn,{dataKey:"ai",name:"AI Responses",fill:"#3b82f6",stackId:"a",radius:[0,0,0,0]}),a.jsx(Bn,{dataKey:"human",name:"Human Responses",fill:"#22c55e",stackId:"a",radius:[4,4,0,0]})]})})})})]})]})}),a.jsx(bt,{value:"window",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-4 lg:grid-cols-2",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"24-Hour Window Compliance"}),a.jsx(He,{children:"Messages sent within vs outside the 24-hour reply window"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(vy,{children:[a.jsx(Za,{data:d,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:m,percent:g})=>`${m}: ${(g*100).toFixed(0)}%`,children:d.map((m,g)=>a.jsx(Ti,{fill:m.color},`cell-${g}`))}),a.jsx(kn,{})]})})}),a.jsxs("div",{className:"flex justify-center gap-6 mt-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-green-500"}),a.jsxs("span",{className:"text-sm",children:["Compliant: ",n?.summary.windowCompliant||0]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full bg-red-500"}),a.jsxs("span",{className:"text-sm",children:["Non-Compliant: ",n?.summary.windowNonCompliant||0]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Window Compliance Details"}),a.jsx(He,{children:"Breakdown of messages within the 24-hour window"})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Overall Compliance Rate"}),a.jsxs("span",{className:"text-2xl font-bold text-emerald-600",children:[n?.summary.windowComplianceRate||0,"%"]})]}),a.jsx(Sa,{value:n?.summary.windowComplianceRate||0,className:"h-3"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-1 p-4 rounded-lg bg-blue-50 dark:bg-blue-950/30",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-sm font-medium",children:"AI in Window"})]}),a.jsx("p",{className:"text-2xl font-bold",children:n?.summary.aiInWindow||0})]}),a.jsxs("div",{className:"space-y-1 p-4 rounded-lg bg-green-50 dark:bg-green-950/30",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ul,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-sm font-medium",children:"Human in Window"})]}),a.jsx("p",{className:"text-2xl font-bold",children:n?.summary.humanInWindow||0})]})]}),a.jsx("div",{className:"p-4 rounded-lg border bg-muted/50",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx(Kt,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium",children:"WhatsApp 24-Hour Window"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Messages sent within 24 hours of the last customer message can be free-form. Messages sent outside this window require approved templates."})]})]})})]})]})]})})]})]})})}function U1e(e,t){return b.useReducer((n,r)=>t[n][r]??n,e)}var RE="ScrollArea",[I9]=Fr(RE),[H1e,ts]=I9(RE),L9=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...l}=e,[u,d]=b.useState(null),[f,p]=b.useState(null),[m,g]=b.useState(null),[v,w]=b.useState(null),[y,j]=b.useState(null),[_,C]=b.useState(0),[N,S]=b.useState(0),[O,M]=b.useState(!1),[T,P]=b.useState(!1),$=wt(t,q=>d(q)),K=Ed(s);return a.jsx(H1e,{scope:n,type:r,dir:K,scrollHideDelay:i,scrollArea:u,viewport:f,onViewportChange:p,content:m,onContentChange:g,scrollbarX:v,onScrollbarXChange:w,scrollbarXEnabled:O,onScrollbarXEnabledChange:M,scrollbarY:y,onScrollbarYChange:j,scrollbarYEnabled:T,onScrollbarYEnabledChange:P,onCornerWidthChange:C,onCornerHeightChange:S,children:a.jsx(Je.div,{dir:K,...l,ref:$,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});L9.displayName=RE;var $9="ScrollAreaViewport",q9=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...i}=e,l=ts($9,n),u=b.useRef(null),d=wt(t,u,l.onViewportChange);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),a.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...i,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...e.style},children:a.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});q9.displayName=$9;var Ks="ScrollAreaScrollbar",DE=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ts(Ks,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:l}=s,u=e.orientation==="horizontal";return b.useEffect(()=>(u?i(!0):l(!0),()=>{u?i(!1):l(!1)}),[u,i,l]),s.type==="hover"?a.jsx(V1e,{...r,ref:t,forceMount:n}):s.type==="scroll"?a.jsx(K1e,{...r,ref:t,forceMount:n}):s.type==="auto"?a.jsx(z9,{...r,ref:t,forceMount:n}):s.type==="always"?a.jsx(IE,{...r,ref:t}):null});DE.displayName=Ks;var V1e=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ts(Ks,e.__scopeScrollArea),[i,l]=b.useState(!1);return b.useEffect(()=>{const u=s.scrollArea;let d=0;if(u){const f=()=>{window.clearTimeout(d),l(!0)},p=()=>{d=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",f),u.addEventListener("pointerleave",p),()=>{window.clearTimeout(d),u.removeEventListener("pointerenter",f),u.removeEventListener("pointerleave",p)}}},[s.scrollArea,s.scrollHideDelay]),a.jsx(jr,{present:n||i,children:a.jsx(z9,{"data-state":i?"visible":"hidden",...r,ref:t})})}),K1e=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=ts(Ks,e.__scopeScrollArea),i=e.orientation==="horizontal",l=Qv(()=>d("SCROLL_END"),100),[u,d]=U1e("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(u==="idle"){const f=window.setTimeout(()=>d("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(f)}},[u,s.scrollHideDelay,d]),b.useEffect(()=>{const f=s.viewport,p=i?"scrollLeft":"scrollTop";if(f){let m=f[p];const g=()=>{const v=f[p];m!==v&&(d("SCROLL"),l()),m=v};return f.addEventListener("scroll",g),()=>f.removeEventListener("scroll",g)}},[s.viewport,i,d,l]),a.jsx(jr,{present:n||u!=="hidden",children:a.jsx(IE,{"data-state":u==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Le(e.onPointerEnter,()=>d("POINTER_ENTER")),onPointerLeave:Le(e.onPointerLeave,()=>d("POINTER_LEAVE"))})})}),z9=b.forwardRef((e,t)=>{const n=ts(Ks,e.__scopeScrollArea),{forceMount:r,...s}=e,[i,l]=b.useState(!1),u=e.orientation==="horizontal",d=Qv(()=>{if(n.viewport){const f=n.viewport.offsetWidth<n.viewport.scrollWidth,p=n.viewport.offsetHeight<n.viewport.scrollHeight;l(u?f:p)}},10);return ld(n.viewport,d),ld(n.content,d),a.jsx(jr,{present:r||i,children:a.jsx(IE,{"data-state":i?"visible":"hidden",...s,ref:t})})}),IE=b.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=ts(Ks,e.__scopeScrollArea),i=b.useRef(null),l=b.useRef(0),[u,d]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),f=V9(u.viewport,u.content),p={...r,sizes:u,onSizesChange:d,hasThumb:f>0&&f<1,onThumbChange:g=>i.current=g,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:g=>l.current=g};function m(g,v){return Z1e(g,l.current,u,v)}return n==="horizontal"?a.jsx(W1e,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollLeft,v=i$(g,u,s.dir);i.current.style.transform=`translate3d(${v}px, 0, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollLeft=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollLeft=m(g,s.dir))}}):n==="vertical"?a.jsx(Y1e,{...p,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){const g=s.viewport.scrollTop,v=i$(g,u);i.current.style.transform=`translate3d(0, ${v}px, 0)`}},onWheelScroll:g=>{s.viewport&&(s.viewport.scrollTop=g)},onDragScroll:g=>{s.viewport&&(s.viewport.scrollTop=m(g))}}):null}),W1e=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ts(Ks,e.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),f=wt(t,d,i.onScrollbarXChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),a.jsx(F9,{"data-orientation":"horizontal",...s,ref:f,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Xv(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.x),onDragScroll:p=>e.onDragScroll(p.x),onWheelScroll:(p,m)=>{if(i.viewport){const g=i.viewport.scrollLeft+p.deltaX;e.onWheelScroll(g),W9(g,m)&&p.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:d.current.clientWidth,paddingStart:Ny(l.paddingLeft),paddingEnd:Ny(l.paddingRight)}})}})}),Y1e=b.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,i=ts(Ks,e.__scopeScrollArea),[l,u]=b.useState(),d=b.useRef(null),f=wt(t,d,i.onScrollbarYChange);return b.useEffect(()=>{d.current&&u(getComputedStyle(d.current))},[d]),a.jsx(F9,{"data-orientation":"vertical",...s,ref:f,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Xv(n)+"px",...e.style},onThumbPointerDown:p=>e.onThumbPointerDown(p.y),onDragScroll:p=>e.onDragScroll(p.y),onWheelScroll:(p,m)=>{if(i.viewport){const g=i.viewport.scrollTop+p.deltaY;e.onWheelScroll(g),W9(g,m)&&p.preventDefault()}},onResize:()=>{d.current&&i.viewport&&l&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:d.current.clientHeight,paddingStart:Ny(l.paddingTop),paddingEnd:Ny(l.paddingBottom)}})}})}),[G1e,B9]=I9(Ks),F9=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:d,onDragScroll:f,onWheelScroll:p,onResize:m,...g}=e,v=ts(Ks,n),[w,y]=b.useState(null),j=wt(t,$=>y($)),_=b.useRef(null),C=b.useRef(""),N=v.viewport,S=r.content-r.viewport,O=qn(p),M=qn(d),T=Qv(m,10);function P($){if(_.current){const K=$.clientX-_.current.left,q=$.clientY-_.current.top;f({x:K,y:q})}}return b.useEffect(()=>{const $=K=>{const q=K.target;w?.contains(q)&&O(K,S)};return document.addEventListener("wheel",$,{passive:!1}),()=>document.removeEventListener("wheel",$,{passive:!1})},[N,w,S,O]),b.useEffect(M,[r,M]),ld(w,T),ld(v.content,T),a.jsx(G1e,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:qn(i),onThumbPointerUp:qn(l),onThumbPositionChange:M,onThumbPointerDown:qn(u),children:a.jsx(Je.div,{...g,ref:j,style:{position:"absolute",...g.style},onPointerDown:Le(e.onPointerDown,$=>{$.button===0&&($.target.setPointerCapture($.pointerId),_.current=w.getBoundingClientRect(),C.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",v.viewport&&(v.viewport.style.scrollBehavior="auto"),P($))}),onPointerMove:Le(e.onPointerMove,P),onPointerUp:Le(e.onPointerUp,$=>{const K=$.target;K.hasPointerCapture($.pointerId)&&K.releasePointerCapture($.pointerId),document.body.style.webkitUserSelect=C.current,v.viewport&&(v.viewport.style.scrollBehavior=""),_.current=null})})})}),wy="ScrollAreaThumb",U9=b.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=B9(wy,e.__scopeScrollArea);return a.jsx(jr,{present:n||s.hasThumb,children:a.jsx(X1e,{ref:t,...r})})}),X1e=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,i=ts(wy,n),l=B9(wy,n),{onThumbPositionChange:u}=l,d=wt(t,m=>l.onThumbChange(m)),f=b.useRef(void 0),p=Qv(()=>{f.current&&(f.current(),f.current=void 0)},100);return b.useEffect(()=>{const m=i.viewport;if(m){const g=()=>{if(p(),!f.current){const v=J1e(m,u);f.current=v,u()}};return u(),m.addEventListener("scroll",g),()=>m.removeEventListener("scroll",g)}},[i.viewport,p,u]),a.jsx(Je.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Le(e.onPointerDownCapture,m=>{const v=m.target.getBoundingClientRect(),w=m.clientX-v.left,y=m.clientY-v.top;l.onThumbPointerDown({x:w,y})}),onPointerUp:Le(e.onPointerUp,l.onThumbPointerUp)})});U9.displayName=wy;var LE="ScrollAreaCorner",H9=b.forwardRef((e,t)=>{const n=ts(LE,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?a.jsx(Q1e,{...e,ref:t}):null});H9.displayName=LE;var Q1e=b.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=ts(LE,n),[i,l]=b.useState(0),[u,d]=b.useState(0),f=!!(i&&u);return ld(s.scrollbarX,()=>{const p=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(p),d(p)}),ld(s.scrollbarY,()=>{const p=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(p),l(p)}),f?a.jsx(Je.div,{...r,ref:t,style:{width:i,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ny(e){return e?parseInt(e,10):0}function V9(e,t){const n=e/t;return isNaN(n)?0:n}function Xv(e){const t=V9(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function Z1e(e,t,n,r="ltr"){const s=Xv(n),i=s/2,l=t||i,u=s-l,d=n.scrollbar.paddingStart+l,f=n.scrollbar.size-n.scrollbar.paddingEnd-u,p=n.content-n.viewport,m=r==="ltr"?[0,p]:[p*-1,0];return K9([d,f],m)(e)}function i$(e,t,n="ltr"){const r=Xv(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,l=t.content-t.viewport,u=i-r,d=n==="ltr"?[0,l]:[l*-1,0],f=im(e,d);return K9([0,l],[0,u])(f)}function K9(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function W9(e,t){return e>0&&e<t}var J1e=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return(function s(){const i={left:e.scrollLeft,top:e.scrollTop},l=n.left!==i.left,u=n.top!==i.top;(l||u)&&t(),n=i,r=window.requestAnimationFrame(s)})(),()=>window.cancelAnimationFrame(r)};function Qv(e,t){const n=qn(e),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function ld(e,t){const n=qn(t);Fn(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var Y9=L9,eNe=q9,tNe=H9;const ws=b.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(Y9,{ref:r,className:Fe("relative overflow-hidden",e),...n,children:[a.jsx(eNe,{className:"h-full w-full rounded-[inherit]",children:t}),a.jsx(G9,{}),a.jsx(tNe,{})]}));ws.displayName=Y9.displayName;const G9=b.forwardRef(({className:e,orientation:t="vertical",...n},r)=>a.jsx(DE,{ref:r,orientation:t,className:Fe("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:a.jsx(U9,{className:"relative flex-1 rounded-full bg-border"})}));G9.displayName=DE.displayName;var Zv="Checkbox",[nNe]=Fr(Zv),[rNe,$E]=nNe(Zv);function aNe(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:i,form:l,name:u,onCheckedChange:d,required:f,value:p="on",internal_do_not_use_render:m}=e,[g,v]=vs({prop:n,defaultProp:s??!1,onChange:d,caller:Zv}),[w,y]=b.useState(null),[j,_]=b.useState(null),C=b.useRef(!1),N=w?!!l||!!w.closest("form"):!0,S={checked:g,disabled:i,setChecked:v,control:w,setControl:y,name:u,form:l,value:p,hasConsumerStoppedPropagationRef:C,required:f,defaultChecked:Io(s)?!1:s,isFormControl:N,bubbleInput:j,setBubbleInput:_};return a.jsx(rNe,{scope:t,...S,children:sNe(m)?m(S):r})}var X9="CheckboxTrigger",Q9=b.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:i,value:l,disabled:u,checked:d,required:f,setControl:p,setChecked:m,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:w}=$E(X9,e),y=wt(s,p),j=b.useRef(d);return b.useEffect(()=>{const _=i?.form;if(_){const C=()=>m(j.current);return _.addEventListener("reset",C),()=>_.removeEventListener("reset",C)}},[i,m]),a.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":Io(d)?"mixed":d,"aria-required":f,"data-state":n7(d),"data-disabled":u?"":void 0,disabled:u,value:l,...r,ref:y,onKeyDown:Le(t,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:Le(n,_=>{m(C=>Io(C)?!0:!C),w&&v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})})});Q9.displayName=X9;var qE=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:d,onCheckedChange:f,form:p,...m}=e;return a.jsx(aNe,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:u,required:l,onCheckedChange:f,name:r,form:p,value:d,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(Q9,{...m,ref:t,__scopeCheckbox:n}),g&&a.jsx(t7,{__scopeCheckbox:n})]})})});qE.displayName=Zv;var Z9="CheckboxIndicator",J9=b.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,i=$E(Z9,n);return a.jsx(jr,{present:r||Io(i.checked)||i.checked===!0,children:a.jsx(Je.span,{"data-state":n7(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});J9.displayName=Z9;var e7="CheckboxBubbleInput",t7=b.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:l,required:u,disabled:d,name:f,value:p,form:m,bubbleInput:g,setBubbleInput:v}=$E(e7,e),w=wt(n,v),y=Kv(i),j=Gy(r);b.useEffect(()=>{const C=g;if(!C)return;const N=window.HTMLInputElement.prototype,O=Object.getOwnPropertyDescriptor(N,"checked").set,M=!s.current;if(y!==i&&O){const T=new Event("click",{bubbles:M});C.indeterminate=Io(i),O.call(C,Io(i)?!1:i),C.dispatchEvent(T)}},[g,y,i,s]);const _=b.useRef(Io(i)?!1:i);return a.jsx(Je.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??_.current,required:u,disabled:d,name:f,value:p,form:m,...t,tabIndex:-1,ref:w,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});t7.displayName=e7;function sNe(e){return typeof e=="function"}function Io(e){return e==="indeterminate"}function n7(e){return Io(e)?"indeterminate":e?"checked":"unchecked"}const Zr=b.forwardRef(({className:e,...t},n)=>a.jsx(qE,{ref:n,className:Fe("grid place-content-center peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(J9,{className:Fe("grid place-content-center text-current"),children:a.jsx(jm,{className:"h-4 w-4"})})}));Zr.displayName=qE.displayName;const sn=N_,Ja=S_,iNe=A_,r7=b.forwardRef(({className:e,...t},n)=>a.jsx(Tm,{ref:n,className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));r7.displayName=Tm.displayName;const Qt=b.forwardRef(({className:e,children:t,...n},r)=>a.jsxs(iNe,{children:[a.jsx(r7,{}),a.jsxs(Mm,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,a.jsxs(iv,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ho,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Qt.displayName=Mm.displayName;const Zt=({className:e,...t})=>a.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Zt.displayName="DialogHeader";const dn=({className:e,...t})=>a.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});dn.displayName="DialogFooter";const Jt=b.forwardRef(({className:e,...t},n)=>a.jsx(km,{ref:n,className:Fe("text-lg font-semibold leading-none tracking-tight",e),...t}));Jt.displayName=km.displayName;const ca=b.forwardRef(({className:e,...t},n)=>a.jsx(Pm,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));ca.displayName=Pm.displayName;const En=b.forwardRef(({className:e,...t},n)=>a.jsx("textarea",{className:Fe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));En.displayName="Textarea";var oNe=Symbol("radix.slottable");function lNe(e){const t=({children:n})=>a.jsx(a.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=oNe,t}var a7="AlertDialog",[cNe]=Fr(a7,[YB]),Bi=YB(),s7=e=>{const{__scopeAlertDialog:t,...n}=e,r=Bi(t);return a.jsx(N_,{...r,...n,modal:!0})};s7.displayName=a7;var uNe="AlertDialogTrigger",dNe=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Bi(n);return a.jsx(S_,{...s,...r,ref:t})});dNe.displayName=uNe;var fNe="AlertDialogPortal",i7=e=>{const{__scopeAlertDialog:t,...n}=e,r=Bi(t);return a.jsx(A_,{...r,...n})};i7.displayName=fNe;var hNe="AlertDialogOverlay",o7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Bi(n);return a.jsx(Tm,{...s,...r,ref:t})});o7.displayName=hNe;var Eu="AlertDialogContent",[mNe,pNe]=cNe(Eu),gNe=lNe("AlertDialogContent"),l7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,i=Bi(n),l=b.useRef(null),u=wt(t,l),d=b.useRef(null);return a.jsx(xse,{contentName:Eu,titleName:c7,docsSlug:"alert-dialog",children:a.jsx(mNe,{scope:n,cancelRef:d,children:a.jsxs(Mm,{role:"alertdialog",...i,...s,ref:u,onOpenAutoFocus:Le(s.onOpenAutoFocus,f=>{f.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:f=>f.preventDefault(),onInteractOutside:f=>f.preventDefault(),children:[a.jsx(gNe,{children:r}),a.jsx(yNe,{contentRef:l})]})})})});l7.displayName=Eu;var c7="AlertDialogTitle",u7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Bi(n);return a.jsx(km,{...s,...r,ref:t})});u7.displayName=c7;var d7="AlertDialogDescription",f7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Bi(n);return a.jsx(Pm,{...s,...r,ref:t})});f7.displayName=d7;var xNe="AlertDialogAction",h7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Bi(n);return a.jsx(iv,{...s,...r,ref:t})});h7.displayName=xNe;var m7="AlertDialogCancel",p7=b.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=pNe(m7,n),i=Bi(n),l=wt(t,s);return a.jsx(iv,{...i,...r,ref:l})});p7.displayName=m7;var yNe=({contentRef:e})=>{const t=`\`${Eu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Eu}\` by passing a \`${d7}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Eu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},vNe=s7,bNe=i7,g7=o7,x7=l7,y7=h7,v7=p7,b7=u7,j7=f7;const cd=vNe,jNe=bNe,w7=b.forwardRef(({className:e,...t},n)=>a.jsx(g7,{className:Fe("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));w7.displayName=g7.displayName;const ec=b.forwardRef(({className:e,...t},n)=>a.jsxs(jNe,{children:[a.jsx(w7,{}),a.jsx(x7,{ref:n,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ec.displayName=x7.displayName;const tc=({className:e,...t})=>a.jsx("div",{className:Fe("flex flex-col space-y-2 text-center sm:text-left",e),...t});tc.displayName="AlertDialogHeader";const nc=({className:e,...t})=>a.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});nc.displayName="AlertDialogFooter";const rc=b.forwardRef(({className:e,...t},n)=>a.jsx(b7,{ref:n,className:Fe("text-lg font-semibold",e),...t}));rc.displayName=b7.displayName;const ac=b.forwardRef(({className:e,...t},n)=>a.jsx(j7,{ref:n,className:Fe("text-sm text-muted-foreground",e),...t}));ac.displayName=j7.displayName;const sc=b.forwardRef(({className:e,...t},n)=>a.jsx(y7,{ref:n,className:Fe(i_(),e),...t}));sc.displayName=y7.displayName;const ic=b.forwardRef(({className:e,...t},n)=>a.jsx(v7,{ref:n,className:Fe(i_({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ic.displayName=v7.displayName;function o$(e){return e.replace(/\D/g,"")}async function XS(e,t,n=!1){try{const r=await fetch(`/api/webhook/whatsapp/media/${e}`,{headers:Mn()});if(!r.ok)throw new Error("Failed to download media");const s=await r.blob(),i=URL.createObjectURL(s);if(n)window.open(i,"_blank");else{const l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}setTimeout(()=>URL.revokeObjectURL(i),1e3)}catch(r){console.error("Media download error:",r),fe.error("Failed to download file. Please try again.")}}function wNe(){const[e,t]=b.useState(null),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState("all"),[d,f]=b.useState([]),[p,m]=b.useState(!1),[g,v]=b.useState("template"),[w,y]=b.useState(""),[j,_]=b.useState(""),[C,N]=b.useState(""),[S,O]=b.useState(null),[M,T]=b.useState(!1),[P,$]=b.useState(!1),[K,q]=b.useState(""),[H,B]=b.useState("list"),[L,D]=b.useState(!1),[k,I]=b.useState(""),[z,V]=b.useState("medium"),[Y,U]=b.useState(!1),F=b.useRef(null),G=er(),{data:Z=[],isLoading:ge}=Ve({queryKey:["/api/chats"],queryFn:async()=>{const oe=await fetch("/api/chats",{headers:Mn()});if(!oe.ok)throw new Error("Failed to fetch chats");return oe.json()},refetchInterval:3e3}),{data:Se=[]}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const oe=await fetch("/api/templates");if(!oe.ok)throw new Error("Failed to fetch templates");return oe.json()}}),{data:Q=[]}=Ve({queryKey:["/api/agents"],queryFn:async()=>{const oe=await fetch("/api/agents");if(!oe.ok)throw new Error("Failed to fetch agents");return oe.json()}}),{data:pe=[]}=Ve({queryKey:["/api/contacts"],queryFn:async()=>{const oe=await fetch("/api/contacts");if(!oe.ok)throw new Error("Failed to fetch contacts");return oe.json()}}),{data:ce=[]}=Ve({queryKey:["/api/lead-management/assignable-users"],queryFn:async()=>{const oe=await fetch("/api/lead-management/assignable-users",{headers:Mn()});if(!oe.ok)throw new Error("Failed to fetch assignable users");return oe.json()}}),Ae=et({mutationFn:async({contactId:oe,phone:ze,contactName:st,assignedToUserId:ot,priority:It})=>{const Pr=await fetch("/api/lead-management/assign",{method:"POST",headers:{"Content-Type":"application/json",...Mn()},body:JSON.stringify({contactId:oe,phone:ze,contactName:st,assignedToUserId:ot,priority:It})});if(!Pr.ok)throw new Error("Failed to assign lead");return Pr.json()},onSuccess:()=>{G.invalidateQueries({queryKey:["/api/chats"]}),D(!1),I(""),V("medium"),fe.success("Lead assigned successfully")},onError:()=>{fe.error("Failed to assign lead")}}),_e=et({mutationFn:async({contactIds:oe,assignedToUserId:ze,priority:st})=>{const ot=await fetch("/api/lead-management/bulk-assign",{method:"POST",headers:{"Content-Type":"application/json",...Mn()},body:JSON.stringify({contactIds:oe,assignedToUserId:ze,priority:st})});if(!ot.ok)throw new Error("Failed to bulk assign leads");return ot.json()},onSuccess:oe=>{G.invalidateQueries({queryKey:["/api/chats"]}),U(!1),f([]),I(""),V("medium"),fe.success(`${oe.assigned} leads assigned successfully`)},onError:()=>{fe.error("Failed to bulk assign leads")}}),{phoneToNameMap:le,last10ToNameMap:$e}=b.useMemo(()=>{const oe=new Map,ze=new Map,st=ot=>!(!ot||!ot.trim()||ot.startsWith("WhatsApp")||ot.startsWith("+")||/^\d[\d\s]*$/.test(ot));return pe.forEach(ot=>{const It=o$(ot.phone);st(ot.name)&&(oe.set(It,ot.name),It.length>=10&&ze.set(It.slice(-10),ot.name))}),{phoneToNameMap:oe,last10ToNameMap:ze}},[pe]),re=b.useMemo(()=>oe=>{const ze=o$(oe.phone);if(oe.name&&!oe.name.startsWith("WhatsApp")&&!oe.name.startsWith("+")&&!/^\d+$/.test(oe.name.replace(/\s/g,"")))return oe.name;let st=le.get(ze);if(st)return st;if(ze.length>=10){const ot=ze.slice(-10);if(st=$e.get(ot),st)return st}return oe.phone.startsWith("+")?oe.phone:`+${oe.phone}`},[le,$e]),Oe=Z.find(oe=>oe.id===e),Ue=Oe?.contactId,{data:rt=[],isLoading:en}=Ve({queryKey:["/api/messages",Ue],queryFn:async()=>{if(!Ue)return[];const oe=await fetch(`/api/messages?contactId=${Ue}`);if(!oe.ok)throw new Error("Failed to fetch messages");return oe.json()},enabled:!!Ue,refetchInterval:2e3}),mn=b.useMemo(()=>{const oe=new Set;return rt.filter(ze=>oe.has(ze.id)?!1:(oe.add(ze.id),!0))},[rt]),Un=et({mutationFn:async({content:oe,phone:ze,contactId:st,replyToMessageId:ot,replyToContent:It})=>{const Pr=await fetch("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:ze,message:It?`> ${It.substring(0,50)}${It.length>50?"...":""}

${oe}`:oe})});if(!Pr.ok){const Ta=await Pr.json();throw new Error(Ta.error||"Failed to send WhatsApp message")}return(await fetch("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:st,content:oe,type:"text",direction:"outbound",status:"sent",replyToMessageId:ot,replyToContent:It})})).ok||console.error("Failed to save message locally, but WhatsApp sent"),{waResult:await Pr.json(),contactId:st}},onSuccess:oe=>{G.invalidateQueries({queryKey:["/api/messages",oe.contactId]}),G.invalidateQueries({queryKey:["/api/chats"]}),i(""),O(null),fe.success("Message sent via WhatsApp")},onError:oe=>{fe.error(oe.message||"Failed to send message")}}),vn=et({mutationFn:async oe=>{const ze={success:0,failed:0};for(const st of oe.contacts){const ot=Z.find(Ta=>Ta.contactId===st);if(!ot)continue;const It=ot.contact.phone.replace(/\D/g,""),Pr=re(ot.contact),nr=Se.find(Ta=>Ta.id===w);try{(await fetch("/api/inbox/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:st,phone:It,name:Pr,messageType:oe.messageType,templateName:nr?.name,customMessage:oe.messageType==="custom"?oe.content:void 0,agentId:oe.messageType==="ai"?j:void 0})})).ok?ze.success++:ze.failed++}catch{ze.failed++}}return ze},onSuccess:oe=>{G.invalidateQueries({queryKey:["/api/chats"]}),f([]),m(!1),N(""),y(""),_(""),oe.failed>0?fe.success(`Sent to ${oe.success} contacts, ${oe.failed} failed`):fe.success(`Message sent to ${oe.success} contact${oe.success>1?"s":""}`)},onError:()=>{fe.error("Failed to send messages")}});b.useEffect(()=>{Z.length>0&&!e&&t(Z[0].id)},[Z,e]);const be=et({mutationFn:async oe=>{const ze=await fetch(`/api/chats/${oe}/mark-read`,{method:"POST"});if(!ze.ok)throw new Error("Failed to mark as read");return ze.json()},onSuccess:()=>{G.invalidateQueries({queryKey:["/api/chats"]})}}),Re=et({mutationFn:async oe=>{const ze=await fetch(`/api/chats/${oe}/mark-unread`,{method:"POST"});if(!ze.ok)throw new Error("Failed to mark as unread");return ze.json()},onSuccess:()=>{G.invalidateQueries({queryKey:["/api/chats"]}),fe.success("Marked as unread")}}),Ze=et({mutationFn:async({phone:oe,name:ze,reason:st})=>{const ot=await fetch("/api/contacts/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:oe,name:ze,reason:st})});if(!ot.ok)throw new Error("Failed to block contact");return ot.json()},onSuccess:()=>{G.invalidateQueries({queryKey:["/api/chats"]}),T(!1),q(""),t(null),fe.success("Contact blocked successfully")},onError:()=>{fe.error("Failed to block contact")}}),Ot=et({mutationFn:async oe=>{const ze=await fetch(`/api/contacts/${oe}`,{method:"DELETE"});if(!ze.ok)throw new Error("Failed to delete contact");return ze.json()},onSuccess:()=>{G.invalidateQueries({queryKey:["/api/chats"]}),$(!1),t(null),fe.success("Contact deleted successfully")},onError:()=>{fe.error("Failed to delete contact")}}),Ht=oe=>{t(oe),B("chat");const ze=Z.find(st=>st.id===oe);ze&&ze.unreadCount>0&&be.mutate(ze.contactId)},he=()=>{B("list")};b.useEffect(()=>{F.current?.scrollIntoView({behavior:"smooth"})},[mn]);const qe=()=>{if(!s.trim()||!Oe||!Ue)return;const oe=Oe.contact.phone.replace(/\D/g,"");Un.mutate({content:s,phone:oe,contactId:Ue,replyToMessageId:S?.id,replyToContent:S?.content})},at=oe=>{oe.key==="Enter"&&!oe.shiftKey&&(oe.preventDefault(),qe())},Ye=()=>{d.length===hr.length?f([]):f(hr.map(oe=>oe.contactId))},Yt=(oe,ze)=>{ze.stopPropagation(),f(st=>st.includes(oe)?st.filter(ot=>ot!==oe):[...st,oe])},Hn=()=>{if(d.length===0){fe.error("Please select at least one contact");return}let oe="";if(g==="template"?oe=Se.find(st=>st.id===w)?.content||"":g==="custom"?oe=C:g==="ai"&&(oe=`[AI Agent: ${Q.find(ze=>ze.id===j)?.name||"Unknown"}]`),!oe&&g!=="ai"){fe.error("Please enter a message or select a template");return}vn.mutate({contacts:d,messageType:g,content:oe})},bn=oe=>{const ze=new Date(oe),ot=new Date().getTime()-ze.getTime(),It=Math.floor(ot/864e5);return It===0?ze.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):It===1?"Yesterday":It<7?`${It} days ago`:ze.toLocaleDateString()},jn=oe=>{if(!oe.lastInboundMessageTime)return!1;const ze=new Date(oe.lastInboundMessageTime);return(new Date().getTime()-ze.getTime())/(1e3*60*60)<=24},hr=Z.filter(oe=>{const ze=re(oe.contact).toLowerCase().includes(n.toLowerCase())||oe.contact.phone.includes(n),st=l==="all"||l==="unread"&&oe.unreadCount>0;return ze&&st}),mr=Z.filter(oe=>{if(oe.lastInboundMessageTime){const ze=new Date(oe.lastInboundMessageTime);return(new Date().getTime()-ze.getTime())/(1e3*60*60)>24}return!0}),qd=()=>{const oe=mr.map(nr=>({name:re(nr.contact),phone:nr.contact.phone,email:nr.contact.email||"",lastMessage:nr.lastMessage||"",lastMessageTime:nr.lastMessageTime||""})),st=[["Name","Phone","Email","Last Message","Last Message Time"].join(","),...oe.map(nr=>[nr.name,nr.phone,nr.email,`"${nr.lastMessage}"`,nr.lastMessageTime].join(","))].join(`
`),ot=new Blob([st],{type:"text/csv"}),It=URL.createObjectURL(ot),Pr=document.createElement("a");Pr.href=It,Pr.download="inbox_leads_outside_window.csv",Pr.click(),URL.revokeObjectURL(It),fe.success("List exported successfully")},vc=oe=>{const ze=re(oe);return ze.startsWith("+")?ze.slice(-2):ze.split(" ").map(st=>st[0]).join("").slice(0,2).toUpperCase()},zd=Se.filter(oe=>oe.status==="approved"),Ui=oe=>{const ze=oe.content,st=oe.mediaUrl;if(oe.type==="image"||ze.startsWith("[Image")){if(st){const ot=ze.replace(/^\[Image\]\s*/,"").replace(/^\[Image message\]$/,"");return a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:`/api/webhook/whatsapp/media/${st}`,alt:"Shared image",className:"max-w-[280px] max-h-[300px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>XS(st,"image.jpg",!0),onError:It=>{It.target.style.display="none",It.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Image expired or unavailable"}),ot&&a.jsx("p",{className:"text-sm",children:ot})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]})}else if(oe.type==="video"||ze.startsWith("[Video")){if(st){const ot=ze.replace(/^\[Video\]\s*/,"").replace(/^\[Video message\]$/,"");return a.jsxs("div",{className:"space-y-2",children:[a.jsx("video",{src:`/api/webhook/whatsapp/media/${st}`,controls:!0,className:"max-w-[280px] max-h-[300px] rounded-lg",onError:It=>{It.target.style.display="none",It.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Video expired or unavailable"}),ot&&a.jsx("p",{className:"text-sm",children:ot})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]})}else{if(oe.type==="audio"||ze.startsWith("[Audio"))return st?a.jsxs("div",{className:"space-y-2",children:[a.jsx("audio",{src:`/api/webhook/whatsapp/media/${st}`,controls:!0,className:"max-w-[280px]",onError:ot=>{ot.target.style.display="none",ot.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Audio expired or unavailable"})]}):a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]});if(oe.type==="sticker"||ze.startsWith("[Sticker"))return st?a.jsxs("div",{children:[a.jsx("img",{src:`/api/webhook/whatsapp/media/${st}`,alt:"Sticker",className:"max-w-[150px] max-h-[150px]",onError:ot=>{ot.target.style.display="none",ot.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:" Sticker expired or unavailable"})]}):a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]});if(oe.type==="document"||ze.startsWith("[Document")){if(st){const ot=ze.match(/\[Document: ([^\]]+)\]/)?.[1]||"document";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>XS(st,ot,!0),className:"flex items-center gap-2 p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors cursor-pointer",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm underline",children:ot})]}),a.jsx("button",{onClick:()=>XS(st,ot,!1),className:"p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",title:"Download",children:a.jsx(Tr,{className:"h-4 w-4"})})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]})}else{if(ze.startsWith("[Location"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]});if(ze.startsWith("[Contact"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]});if(ze.startsWith("[Reaction"))return a.jsx("span",{className:"flex items-center gap-1",children:ze});if(ze.startsWith("[Unsupported"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",ze]})}}return a.jsx("span",{children:ze})};return a.jsxs(pt,{children:[a.jsxs("div",{className:"h-[calc(100vh-80px)] md:h-[calc(100vh-100px)] p-1 flex flex-col gap-2 md:gap-4 animate-in fade-in duration-500 overflow-hidden",children:[a.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between gap-2 flex-shrink-0 ${H==="chat"?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg md:text-2xl font-bold tracking-tight",children:"Inbox"}),a.jsx("p",{className:"text-xs md:text-sm text-muted-foreground hidden md:block",children:"All conversations. Contacts outside 24-hour window require templates."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"md:size-default",onClick:qd,children:[a.jsx(Tr,{className:"h-4 w-4 md:mr-2"}),a.jsxs("span",{className:"hidden md:inline",children:["Export List (",mr.length,")"]})]}),d.length>0&&a.jsxs(a.Fragment,{children:[a.jsxs(ee,{size:"sm",className:"md:size-default",variant:"outline",onClick:()=>U(!0),children:[a.jsx(zn,{className:"h-4 w-4 md:mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Assign"})," ",d.length]}),a.jsxs(ee,{size:"sm",className:"md:size-default",onClick:()=>m(!0),children:[a.jsx(dr,{className:"h-4 w-4 md:mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Send to"})," ",d.length]})]})]})]}),a.jsxs("div",{className:`flex items-center gap-2 md:gap-4 p-2 md:p-3 bg-muted/50 rounded-lg flex-shrink-0 ${H==="chat"?"hidden md:flex":"flex"}`,children:[a.jsx(Zr,{checked:d.length===hr.length&&hr.length>0,onCheckedChange:Ye}),a.jsxs("span",{className:"text-xs md:text-sm font-medium",children:["Select All (",hr.length," chats)"]}),d.length>0&&a.jsxs(ke,{variant:"secondary",className:"text-xs",children:[d.length," selected"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[a.jsxs("div",{className:`w-full md:w-80 lg:w-96 md:border-r border-border flex flex-col bg-background min-h-0 h-full ${H==="chat"?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{className:"p-3 md:p-4 border-b border-border",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search chats...",className:"pl-9 bg-secondary/50",value:n,onChange:oe=>r(oe.target.value)})]}),a.jsxs("div",{className:"flex gap-2 mt-4",children:[a.jsx(ke,{variant:l==="all"?"default":"outline",className:"cursor-pointer",onClick:()=>u("all"),children:"All"}),a.jsx(ke,{variant:l==="unread"?"default":"outline",className:"cursor-pointer hover:bg-secondary",onClick:()=>u("unread"),children:"Unread"})]})]}),a.jsx(ws,{className:"flex-1",children:ge?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):hr.length===0?a.jsx("div",{className:"flex items-center justify-center py-8 text-muted-foreground",children:"No chats found"}):a.jsx("div",{className:"divide-y divide-border",children:hr.map(oe=>a.jsxs("div",{className:`p-3 flex items-start gap-2 hover:bg-muted/50 cursor-pointer transition-colors ${oe.id===e?"bg-muted/50":""}`,onClick:()=>Ht(oe.id),children:[a.jsx(Zr,{checked:d.includes(oe.contactId),onCheckedChange:()=>{},onClick:ze=>Yt(oe.contactId,ze),className:"mt-1"}),a.jsx(Xr,{className:"h-9 w-9",children:a.jsx(Qr,{className:"bg-primary/10 text-primary text-sm",children:vc(oe.contact)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-sm font-medium truncate ${oe.unreadCount>0?"font-bold":""}`,children:re(oe.contact)}),jn(oe)&&a.jsx(ke,{variant:"outline",className:"text-[10px] bg-green-50 text-green-700 border-green-200 px-1 py-0",children:a.jsx(Kt,{className:"h-2.5 w-2.5"})}),oe.assignment&&a.jsxs(ke,{variant:"outline",className:"text-[10px] bg-blue-50 text-blue-700 border-blue-200 px-1 py-0",children:[a.jsx(Fl,{className:"h-2.5 w-2.5 mr-0.5"}),oe.assignment.assignedToUserName?.split(" ")[0]||"Assigned"]}),oe.unreadCount>0&&a.jsx("span",{className:"h-4 w-4 rounded-full bg-primary text-primary-foreground text-[9px] flex items-center justify-center font-medium",children:oe.unreadCount})]}),a.jsx("span",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:oe.lastMessageTime?bn(oe.lastMessageTime):""})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:oe.lastMessage||"No messages yet"})]})]},oe.id))})})]}),a.jsx("div",{className:`flex-1 flex flex-col bg-[#efeae2] dark:bg-zinc-900 bg-opacity-50 min-h-0 h-full ${H==="list"?"hidden md:flex":"flex"}`,children:Oe?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"h-14 md:h-16 bg-background border-b border-border flex items-center justify-between px-2 md:px-6 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"flex md:hidden h-9 w-9 shrink-0",onClick:he,children:a.jsx(uq,{className:"h-5 w-5"})}),a.jsx(Xr,{className:"h-8 w-8 md:h-10 md:w-10",children:a.jsx(Qr,{className:"bg-primary/10 text-primary text-sm",children:vc(Oe.contact)})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium text-sm md:text-base truncate",children:re(Oe.contact)}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[a.jsx("span",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:Oe.contact.phone}),jn(Oe)&&a.jsxs(ke,{variant:"outline",className:"text-[9px] md:text-xs bg-green-50 text-green-700 border-green-200 py-0",children:[a.jsx(Kt,{className:"h-2.5 w-2.5 md:h-3 md:w-3 mr-0.5 md:mr-1"}),"24hr"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"hidden md:flex",children:a.jsx(uc,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"hidden md:flex",children:a.jsx(Hy,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(zy,{className:"h-5 w-5 text-muted-foreground"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>Re.mutate(Oe.contactId),children:[a.jsx(BC,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}),a.jsxs(Rn,{onClick:()=>D(!0),className:"text-blue-600",children:[a.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Assign Lead"]}),a.jsxs(Rn,{onClick:()=>T(!0),className:"text-orange-600",children:[a.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Block Contact"]}),a.jsxs(Rn,{onClick:()=>$(!0),className:"text-red-600",children:[a.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Delete Contact"]})]})]})]})]}),a.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 md:p-6",children:en?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):mn.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[mn.map(oe=>a.jsx("div",{className:`flex ${oe.direction==="inbound"?"justify-start":"justify-end"} group`,children:a.jsxs("div",{className:`flex items-start gap-1 ${oe.direction==="inbound"?"flex-row":"flex-row-reverse"}`,children:[oe.direction==="inbound"&&a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity hidden md:flex",onClick:()=>O(oe),children:a.jsx(Ya,{className:"h-3 w-3"})}),a.jsxs("div",{className:`max-w-[85%] md:max-w-[70%] rounded-lg px-3 md:px-4 py-2 shadow-sm relative break-words
                              ${oe.direction==="inbound"?"bg-white dark:bg-card text-card-foreground rounded-tl-none":"bg-[#d9fdd3] dark:bg-primary/20 text-foreground rounded-tr-none"}
                            `,children:[oe.replyToContent&&a.jsxs("div",{className:"mb-2 p-2 bg-black/5 dark:bg-white/10 rounded border-l-2 border-primary/50 text-xs text-muted-foreground",children:[a.jsx(Ya,{className:"h-3 w-3 inline mr-1"}),oe.replyToContent.substring(0,60),oe.replyToContent.length>60&&"..."]}),a.jsx("div",{className:"text-sm leading-relaxed",children:Ui(oe)}),a.jsxs("span",{className:"text-[10px] text-muted-foreground/80 block text-right mt-1",children:[bn(oe.timestamp),oe.direction==="outbound"&&a.jsx("span",{className:`ml-1 ${oe.status==="read"?"text-blue-500":oe.status==="failed"?"text-red-500":""}`,children:oe.status==="read"||oe.status==="delivered"?"":oe.status==="failed"?"":""})]})]})]})},oe.id)),a.jsx("div",{ref:F})]})}),a.jsxs("div",{className:"p-2 md:p-4 bg-background border-t border-border flex-shrink-0",children:[S&&a.jsxs("div",{className:"mb-2 p-2 bg-muted rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm min-w-0",children:[a.jsx(Ya,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground shrink-0"}),a.jsx("span",{className:"text-muted-foreground hidden md:inline",children:"Replying to:"}),a.jsx("span",{className:"truncate max-w-[150px] md:max-w-[300px]",children:S.content})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>O(null),children:a.jsx(Ho,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground hidden md:flex",children:a.jsx(UC,{className:"h-6 w-6"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground h-8 w-8 md:h-10 md:w-10",children:a.jsx(FC,{className:"h-5 w-5 md:h-6 md:w-6"})}),a.jsx(De,{placeholder:"Type a message...",className:"flex-1 bg-secondary/50 border-none focus-visible:ring-1 text-sm h-9 md:h-10",value:s,onChange:oe=>i(oe.target.value),onKeyPress:at}),a.jsx(ee,{size:"icon",className:"rounded-full h-9 w-9 md:h-10 md:w-10 shrink-0",onClick:qe,disabled:!s.trim()||Un.isPending,children:Un.isPending?a.jsx(Be,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}):a.jsx(dr,{className:"h-4 w-4 md:h-5 md:w-5"})})]})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:"Select a chat to start messaging"})})]})]}),a.jsx(sn,{open:p,onOpenChange:m,children:a.jsxs(Qt,{className:"max-w-2xl",children:[a.jsx(Zt,{children:a.jsxs(Jt,{className:"flex items-center gap-2",children:[a.jsx(dr,{className:"h-5 w-5"}),"Send Message to ",d.length," Contacts"]})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-950/30 rounded-lg text-sm text-amber-700 dark:text-amber-400",children:[a.jsx(Kt,{className:"h-4 w-4 inline mr-2"}),"Note: Contacts outside the 24-hour window will only receive template messages. Custom messages work only for those within the window."]}),a.jsxs(kr,{value:g,onValueChange:oe=>v(oe),children:[a.jsxs(br,{className:"grid w-full grid-cols-3",children:[a.jsxs(mt,{value:"template",className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-4 w-4"}),"Template"]}),a.jsxs(mt,{value:"custom",className:"flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4"}),"Custom"]}),a.jsxs(mt,{value:"ai",className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),"AI Agent"]})]}),a.jsxs(bt,{value:"template",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select Template"}),a.jsxs(dt,{value:w,onValueChange:y,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose a template"})}),a.jsx(ct,{children:zd.map(oe=>a.jsx(xe,{value:oe.id,children:oe.name},oe.id))})]})]}),w&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:Se.find(oe=>oe.id===w)?.content})})]}),a.jsx(bt,{value:"custom",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Custom Message"}),a.jsx(En,{placeholder:"Type your message here...",value:C,onChange:oe=>N(oe.target.value),rows:5}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom messages work only within the 24-hour window after customer contact."})]})}),a.jsxs(bt,{value:"ai",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select AI Agent"}),a.jsxs(dt,{value:j,onValueChange:_,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose an AI Agent"})}),a.jsx(ct,{children:Q.filter(oe=>oe.isActive).map(oe=>a.jsx(xe,{value:oe.id,children:oe.name},oe.id))})]})]}),j&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:Q.find(oe=>oe.id===j)?.description||"AI Agent will generate personalized responses."})})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),a.jsxs(ee,{onClick:Hn,disabled:vn.isPending,children:[vn.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Send to ",d.length," Contact",d.length>1?"s":""]})]})]})}),a.jsx(cd,{open:M,onOpenChange:T,children:a.jsxs(ec,{children:[a.jsxs(tc,{children:[a.jsx(rc,{children:"Block Contact"}),a.jsxs(ac,{children:["Are you sure you want to block ",Oe?re(Oe.contact):"this contact","? You will no longer receive messages from them."]})]}),a.jsxs("div",{className:"py-4",children:[a.jsx(we,{htmlFor:"blockReason",children:"Reason (optional)"}),a.jsx(En,{id:"blockReason",placeholder:"Enter reason for blocking...",value:K,onChange:oe=>q(oe.target.value),className:"mt-2"})]}),a.jsxs(nc,{children:[a.jsx(ic,{children:"Cancel"}),a.jsx(sc,{className:"bg-orange-600 hover:bg-orange-700",onClick:()=>{Oe&&Ze.mutate({phone:Oe.contact.phone,name:re(Oe.contact),reason:K})},children:"Block Contact"})]})]})}),a.jsx(cd,{open:P,onOpenChange:$,children:a.jsxs(ec,{children:[a.jsxs(tc,{children:[a.jsx(rc,{children:"Delete Contact"}),a.jsxs(ac,{children:["Are you sure you want to delete ",Oe?re(Oe.contact):"this contact","? This will permanently remove all chat history with this contact."]})]}),a.jsxs(nc,{children:[a.jsx(ic,{children:"Cancel"}),a.jsx(sc,{className:"bg-red-600 hover:bg-red-700",onClick:()=>{Oe&&Ot.mutate(Oe.contactId)},children:"Delete Contact"})]})]})}),a.jsx(sn,{open:L,onOpenChange:D,children:a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Assign Lead"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Assign ",Oe?re(Oe.contact):"this contact"," to a team member"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Assign To"}),a.jsxs(dt,{value:k,onValueChange:I,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select team member"})}),a.jsx(ct,{children:ce.map(oe=>a.jsxs(xe,{value:oe.id,children:[oe.name," (",oe.role,")"]},oe.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Priority"}),a.jsxs(dt,{value:z,onValueChange:V,children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"low",children:"Low"}),a.jsx(xe,{value:"medium",children:"Medium"}),a.jsx(xe,{value:"high",children:"High"}),a.jsx(xe,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),a.jsxs(ee,{onClick:()=>{Oe&&k&&Ae.mutate({contactId:Oe.contact.id,phone:Oe.contact.phone,contactName:re(Oe.contact),assignedToUserId:k,priority:z})},disabled:!k||Ae.isPending,children:[Ae.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign Lead"]})]})]})}),a.jsx(sn,{open:Y,onOpenChange:U,children:a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Bulk Assign Leads"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Assign ",d.length," selected contact",d.length>1?"s":""," to a team member"]})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Assign To"}),a.jsxs(dt,{value:k,onValueChange:I,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select team member"})}),a.jsx(ct,{children:ce.map(oe=>a.jsxs(xe,{value:oe.id,children:[oe.name," (",oe.role,")"]},oe.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Priority"}),a.jsxs(dt,{value:z,onValueChange:V,children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"low",children:"Low"}),a.jsx(xe,{value:"medium",children:"Medium"}),a.jsx(xe,{value:"high",children:"High"}),a.jsx(xe,{value:"urgent",children:"Urgent"})]})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),a.jsxs(ee,{onClick:()=>{d.length>0&&k&&_e.mutate({contactIds:d,assignedToUserId:k,priority:z})},disabled:!k||_e.isPending,children:[_e.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Assign ",d.length," Lead",d.length>1?"s":""]})]})]})})]})}const NNe="whatsapp_auth_user";function SNe(){try{const e=localStorage.getItem(NNe);if(!e)return{};const t=JSON.parse(e);return{"x-user-id":t.id,"x-user":JSON.stringify(t)}}catch{return{}}}async function xn(e,t={}){const n=SNe();return fetch(e,{...t,headers:{...n,...t.headers||{}}})}async function QS(e,t,n=!1){try{const r=await fetch(`/api/webhook/whatsapp/media/${e}`,{headers:Mn()});if(!r.ok)throw new Error("Failed to download media");const s=await r.blob(),i=URL.createObjectURL(s);if(n)window.open(i,"_blank");else{const l=document.createElement("a");l.href=i,l.download=t,document.body.appendChild(l),l.click(),document.body.removeChild(l)}setTimeout(()=>URL.revokeObjectURL(i),1e3)}catch(r){console.error("Media download error:",r),fe.error("Failed to download file. Please try again.")}}function l$(e){return e.replace(/\D/g,"")}function ANe(){const[e,t]=b.useState(null),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState([]),[d,f]=b.useState(!1),[p,m]=b.useState("custom"),[g,v]=b.useState(""),[w,y]=b.useState(""),[j,_]=b.useState(""),[C,N]=b.useState(null),[S,O]=b.useState("list"),M=b.useRef(null),T=er(),P=b.useRef(null),$=b.useRef(0),K=b.useRef(!1);b.useEffect(()=>{const he="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2telehs/hMGyjnYsT2fJ0sJxIBw4d7O5s4VYQXzQ182bhlltndzV0JqJe3aap7KopZmRjI+TmJ6cmZePhoJ+fHx8fH2AgYSGiYyPkZOVlZaWlpWUkpCNioaDgX9+fX19fn+BhIiMkJOXmpyenp6dnJqXlJGOioaDgYB/f4CBg4aJjZCTlpmbnZ2dnJqYlZKPjImGhIKBgICAgIGChYiLjpGUl5manJ2dnJuZl5WSkI2KiIaEg4KCgoKDhIaIi42QkpWXmZqbnJybmpiWlJKQjoqJh4aFhISEhISFhoiKjI6QkpSWmJmam5uamZeWlJKQjoyKiIeGhoWFhYWGh4iKjI6QkpSVl5iZmZmYl5aUkpCOjIqIh4aFhYWFhYaHiImLjI6QkpOVlpeYmJiXlpWUkpCOjIqIh4aFhYWFhYaHiImLjY+QkpOVlpeXl5eWlZSSkI+NjIqIh4aFhYWFhoaHiImLjI6PkZKUlZaWlpaVlJOSkI+NjIqJh4aGhYaGhoaHiImKjI2PkJGTlJWVlZWVlJOSkI+OjIuJiIeGhoaGhoaHiImKi42OkJGSk5SUlJSUk5KRkI+OjIuKiYiHh4aGh4eHiImKi4yNj5CRkpOTk5OTkpGQj46NjIuKiYiHh4eHh4eIiImKi4yNjpCQkZGSEpKSkZCPj46NjIuKiYiIh4eHh4iIiImKi4yNjo+QkZGRkZGRkI+Pjo2MjIuKiYmIiIeIiIiIiYmKi4yNjo+PkJCQkJCQj4+OjY2MjIuKiomIiIiIiIiJiYqKi4yNjY6Pj4+Pj4+Pjo6NjYyMi4uKiomJiIiIiIiJiYqKi4yMjY2Ojo6Ojo6OjY2NjIyMi4uKiomJiYiJiYmJiYqKi4uMjI2NjY2NjY2NjY2MjIyMi4uLioqJiYmJiYmJioqKi4uMjIyMjY2NjY2NjI2MjIyMi4uLioqKiomJiYmJiYqKiouLi4yMjI2NjY2MjIyMjIyMi4yLi4uKioqJiYmJiYqKioqLi4uMjIyMjIyMjIyMjIyMi4uLi4uKi4qKioqKioqKioqLi4uLjIyMjIyMjIyMjIyLi4uLi4uLioqKioqKioqKioqLi4uLi4yMjIyMjIyMjIuLi4uLi4uLioqKioqKioqKioqKi4uLi4yMjIyMjIyLi4uLi4uLi4uKioqKioqKioqKi4uLi4uLi4yMjIyMi4uLi4uLi4uLioqKioqKioqKioqLi4uLi4uMjIyMi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uLjIyLi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4uKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4uKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKi4uLi4uLi4uLi4uLi4uLi4uLi4uLioqLi4uLi4uLi4uLi4uLi4uLi4uLi4uKi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4qLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLg==";P.current=new Audio(he),P.current.volume=.5;const qe=()=>{K.current=!0,P.current&&P.current.play().then(()=>{P.current?.pause(),P.current.currentTime=0}).catch(()=>{})},at=["click","keydown","touchstart"];return at.forEach(Ye=>{document.addEventListener(Ye,qe,{once:!0})}),()=>{at.forEach(Ye=>{document.removeEventListener(Ye,qe)})}},[]);const{data:q=[],isLoading:H}=Ve({queryKey:["/api/chats/window"],queryFn:async()=>{const he=await fetch("/api/chats",{headers:Mn()});if(!he.ok)throw new Error("Failed to fetch chats");const qe=await he.json(),at=new Date;return qe.filter(Ye=>{if(Ye.lastInboundMessageTime){const Yt=new Date(Ye.lastInboundMessageTime);return(at.getTime()-Yt.getTime())/(1e3*60*60)<=24}return!1}).map(Ye=>({...Ye,windowExpiresAt:Ye.lastInboundMessageTime?new Date(new Date(Ye.lastInboundMessageTime).getTime()+1440*60*1e3).toISOString():void 0}))},refetchInterval:3e3}),{data:B=[]}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const he=await fetch("/api/templates");if(!he.ok)throw new Error("Failed to fetch templates");return he.json()}}),{data:L=[]}=Ve({queryKey:["/api/agents"],queryFn:async()=>{const he=await fetch("/api/agents");if(!he.ok)throw new Error("Failed to fetch agents");return he.json()}}),{data:D=[]}=Ve({queryKey:["/api/contacts"],queryFn:async()=>{const he=await fetch("/api/contacts");if(!he.ok)throw new Error("Failed to fetch contacts");return he.json()}}),{phoneToNameMap:k,last10ToNameMap:I}=b.useMemo(()=>{const he=new Map,qe=new Map,at=Ye=>!(!Ye||!Ye.trim()||Ye.startsWith("WhatsApp")||Ye.startsWith("+")||/^\d[\d\s]*$/.test(Ye));return D.forEach(Ye=>{const Yt=l$(Ye.phone);at(Ye.name)&&(he.set(Yt,Ye.name),Yt.length>=10&&qe.set(Yt.slice(-10),Ye.name))}),{phoneToNameMap:he,last10ToNameMap:qe}},[D]),z=b.useMemo(()=>he=>{const qe=l$(he.phone);if(he.name&&!he.name.startsWith("WhatsApp")&&!he.name.startsWith("+")&&!/^\d+$/.test(he.name.replace(/\s/g,"")))return he.name;let at=k.get(qe);if(at)return at;if(qe.length>=10){const Ye=qe.slice(-10);if(at=I.get(Ye),at)return at}return he.phone.startsWith("+")?he.phone:`+${he.phone}`},[k,I]),V=he=>{const qe=he.content,at=he.mediaUrl;if(he.type==="image"||qe.startsWith("[Image")){if(at){const Ye=qe.replace(/^\[Image\]\s*/,"").replace(/^\[Image message\]$/,"");return a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:`/api/webhook/whatsapp/media/${at}`,alt:"Shared image",className:"max-w-[280px] max-h-[300px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>QS(at,"image.jpg",!0),onError:Yt=>{Yt.target.style.display="none",Yt.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Image expired or unavailable"}),Ye&&a.jsx("p",{className:"text-sm",children:Ye})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]})}else if(he.type==="video"||qe.startsWith("[Video")){if(at){const Ye=qe.replace(/^\[Video\]\s*/,"").replace(/^\[Video message\]$/,"");return a.jsxs("div",{className:"space-y-2",children:[a.jsx("video",{src:`/api/webhook/whatsapp/media/${at}`,controls:!0,className:"max-w-[280px] max-h-[300px] rounded-lg",onError:Yt=>{Yt.target.style.display="none",Yt.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Video expired or unavailable"}),Ye&&a.jsx("p",{className:"text-sm",children:Ye})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]})}else{if(he.type==="audio"||qe.startsWith("[Audio"))return at?a.jsxs("div",{className:"space-y-2",children:[a.jsx("audio",{src:`/api/webhook/whatsapp/media/${at}`,controls:!0,className:"max-w-[280px]",onError:Ye=>{Ye.target.style.display="none",Ye.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Audio expired or unavailable"})]}):a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]});if(he.type==="sticker"||qe.startsWith("[Sticker"))return at?a.jsxs("div",{children:[a.jsx("img",{src:`/api/webhook/whatsapp/media/${at}`,alt:"Sticker",className:"max-w-[150px] max-h-[150px]",onError:Ye=>{Ye.target.style.display="none",Ye.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Sticker expired or unavailable"})]}):a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]});if(he.type==="document"||qe.startsWith("[Document")){if(at){const Ye=qe.match(/\[Document: ([^\]]+)\]/)?.[1]||"document";return a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>QS(at,Ye,!0),className:"flex items-center gap-2 p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors cursor-pointer",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm underline",children:Ye})]}),a.jsx("button",{onClick:()=>QS(at,Ye,!1),className:"p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",title:"Download",children:a.jsx(Tr,{className:"h-4 w-4"})})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]})}else{if(qe.startsWith("[Location"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]});if(qe.startsWith("[Contact"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]});if(qe.startsWith("[Reaction"))return a.jsx("span",{className:"flex items-center gap-1",children:qe});if(qe.startsWith("[Unsupported"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",qe]})}}return a.jsx("span",{children:qe})},Y=q.find(he=>he.id===e),U=Y?.contactId,F=b.useRef(!0);b.useEffect(()=>{const he=q.reduce((qe,at)=>qe+(at.unreadCount||0),0);if(F.current){F.current=!1,$.current=he;return}he>$.current&&P.current&&K.current&&(P.current.currentTime=0,P.current.play().catch(()=>{})),$.current=he},[q]);const{data:G=[],isLoading:Z}=Ve({queryKey:["/api/messages",U],queryFn:async()=>{if(!U)return[];const he=await fetch(`/api/messages?contactId=${U}`);if(!he.ok)throw new Error("Failed to fetch messages");return he.json()},enabled:!!U,refetchInterval:2e3}),ge=et({mutationFn:async({content:he,phone:qe,contactId:at,replyToMessageId:Ye,replyToContent:Yt})=>{const Hn=await xn("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:qe,message:he})});if(!Hn.ok){const jn=await Hn.json();throw new Error(jn.error||"Failed to send WhatsApp message")}return(await xn("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:at,content:he,type:"text",direction:"outbound",status:"sent",replyToMessageId:Ye,replyToContent:Yt})})).ok||console.error("Failed to save message locally, but WhatsApp sent"),{waResult:await Hn.json(),contactId:at}},onSuccess:he=>{T.invalidateQueries({queryKey:["/api/messages",he.contactId]}),T.invalidateQueries({queryKey:["/api/chats/window"]}),i(""),N(null),fe.success("Message sent via WhatsApp")},onError:he=>{fe.error(he.message||"Failed to send message")}}),Se=et({mutationFn:async he=>{const qe={success:0,failed:0};for(const at of he.contacts){const Ye=q.find(jn=>jn.contactId===at);if(!Ye)continue;const Yt=Ye.contact.phone.replace(/\D/g,""),Hn=Ye.contact.name,bn=B.find(jn=>jn.id===g);try{(await xn("/api/inbox/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:at,phone:Yt,name:Hn,messageType:he.messageType,templateName:bn?.name,customMessage:he.messageType==="custom"?he.content:void 0,agentId:he.messageType==="ai"?w:void 0})})).ok?qe.success++:qe.failed++}catch{qe.failed++}}return qe},onSuccess:he=>{T.invalidateQueries({queryKey:["/api/chats/window"]}),T.invalidateQueries({queryKey:["/api/chats"]}),u([]),f(!1),_(""),v(""),y(""),he.failed>0?fe.success(`Sent to ${he.success} contacts, ${he.failed} failed`):fe.success(`Message sent to ${he.success} contact${he.success>1?"s":""}`)},onError:()=>{fe.error("Failed to send messages")}});b.useEffect(()=>{q.length>0&&!e&&t(q[0].id)},[q,e]);const Q=et({mutationFn:async he=>{const qe=await xn(`/api/chats/${he}/mark-read`,{method:"POST"});if(!qe.ok)throw new Error("Failed to mark as read");return qe.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/chats/window"]}),T.invalidateQueries({queryKey:["/api/chats"]})}}),pe=et({mutationFn:async he=>{const qe=await xn(`/api/chats/${he}/mark-unread`,{method:"POST"});if(!qe.ok)throw new Error("Failed to mark as unread");return qe.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/chats/window"]}),T.invalidateQueries({queryKey:["/api/chats"]}),fe.success("Marked as unread")}}),[ce,Ae]=b.useState(!1),[_e,le]=b.useState(null),$e=et({mutationFn:async({phone:he,name:qe})=>{const at=await xn("/api/contacts/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:he,name:qe,reason:"Blocked from 24-hour window"})});if(!at.ok)throw new Error("Failed to block contact");return at.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/chats/window"]}),T.invalidateQueries({queryKey:["/api/chats"]}),Ae(!1),le(null),t(null),fe.success("Contact blocked successfully")},onError:()=>{fe.error("Failed to block contact")}}),re=he=>{t(he),O("chat");const qe=q.find(at=>at.id===he);qe&&qe.unreadCount>0&&Q.mutate(qe.contactId)},Oe=()=>{O("list")};b.useEffect(()=>{M.current?.scrollIntoView({behavior:"smooth"})},[G]);const Ue=()=>{if(!s.trim()||!Y||!U)return;const he=Y.contact.phone.replace(/\D/g,"");ge.mutate({content:s,phone:he,contactId:U,replyToMessageId:C?.id,replyToContent:C?.content})},rt=he=>{he.key==="Enter"&&!he.shiftKey&&(he.preventDefault(),Ue())},en=()=>{l.length===q.length?u([]):u(q.map(he=>he.contactId))},mn=he=>{u(qe=>qe.includes(he)?qe.filter(at=>at!==he):[...qe,he])},Un=()=>{if(l.length===0){fe.error("Please select at least one contact");return}let he="";if(p==="template"?he=B.find(at=>at.id===g)?.content||"":p==="custom"?he=j:p==="ai"&&(he=`[AI Agent: ${L.find(qe=>qe.id===w)?.name||"Unknown"}]`),!he&&p!=="ai"){fe.error("Please enter a message or select a template");return}Se.mutate({contacts:l,messageType:p,content:he})},vn=()=>{const he=q.map(bn=>({name:bn.contact.name,phone:bn.contact.phone,email:bn.contact.email||"",lastMessage:bn.lastMessage||"",windowExpires:bn.windowExpiresAt||""})),at=[["Name","Phone","Email","Last Message","Window Expires"].join(","),...he.map(bn=>[bn.name,bn.phone,bn.email,`"${bn.lastMessage}"`,bn.windowExpires].join(","))].join(`
`),Ye=new Blob([at],{type:"text/csv"}),Yt=URL.createObjectURL(Ye),Hn=document.createElement("a");Hn.href=Yt,Hn.download="24hour_window_contacts.csv",Hn.click(),URL.revokeObjectURL(Yt),fe.success("List downloaded successfully")},be=he=>{const qe=new Date(he),Ye=new Date().getTime()-qe.getTime(),Yt=Math.floor(Ye/(1e3*60*60)),Hn=Math.floor(Ye%(1e3*60*60)/(1e3*60));return Yt===0?`${Hn} min ago`:Yt<24?`${Yt} hr ${Hn} min ago`:qe.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})},Re=he=>{if(!he)return"Unknown";const qe=new Date(he),at=new Date,Ye=qe.getTime()-at.getTime();if(Ye<=0)return"Expired";const Yt=Math.floor(Ye/(1e3*60*60)),Hn=Math.floor(Ye%(1e3*60*60)/(1e3*60));return`${Yt} hr ${Hn} min left`},Ze=he=>{const qe=z(he);return qe.startsWith("+")?qe.slice(-2):qe.split(" ").map(at=>at[0]).join("").slice(0,2).toUpperCase()},Ot=q.filter(he=>he.contact.name.toLowerCase().includes(n.toLowerCase())||he.contact.phone.includes(n)).sort((he,qe)=>{const at=he.lastMessageTime||he.lastInboundMessageTime||he.windowExpiresAt||"",Ye=qe.lastMessageTime||qe.lastInboundMessageTime||qe.windowExpiresAt||"";return new Date(Ye).getTime()-new Date(at).getTime()}),Ht=B.filter(he=>he.status==="approved");return a.jsxs(pt,{children:[a.jsxs("div",{className:"h-[calc(100vh-80px)] md:h-[calc(100vh-100px)] flex flex-col gap-2 md:gap-4 animate-in fade-in slide-in-from-bottom-4 duration-500 overflow-hidden",children:[a.jsxs("div",{className:`flex flex-col md:flex-row md:items-center justify-between gap-2 flex-shrink-0 ${S==="chat"?"hidden md:flex":"flex"}`,children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-lg md:text-2xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(Kt,{className:"h-5 w-5 md:h-7 md:w-7 text-primary"}),"24-Hour Window Inbox"]}),a.jsx("p",{className:"text-xs md:text-sm text-muted-foreground hidden md:block",children:"Customers who messaged in the last 24 hours. Send free-form messages without templates."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{variant:"outline",size:"sm",className:"md:size-default",onClick:vn,children:[a.jsx(Tr,{className:"h-4 w-4 md:mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Download List"})]}),l.length>0&&a.jsxs(ee,{size:"sm",className:"md:size-default",onClick:()=>f(!0),children:[a.jsx(dr,{className:"h-4 w-4 md:mr-2"}),a.jsx("span",{className:"hidden md:inline",children:"Send to"})," ",l.length]})]})]}),a.jsxs("div",{className:`flex items-center gap-2 md:gap-4 p-2 md:p-3 bg-muted/50 rounded-lg flex-shrink-0 ${S==="chat"?"hidden md:flex":"flex"}`,children:[a.jsx(Zr,{checked:l.length===q.length&&q.length>0,onCheckedChange:en}),a.jsxs("span",{className:"text-xs md:text-sm font-medium",children:["Select All (",q.length," contacts)"]}),l.length>0&&a.jsxs(ke,{variant:"secondary",className:"text-xs",children:[l.length," selected"]})]}),a.jsxs("div",{className:"flex-1 min-h-0 flex flex-col md:flex-row bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[a.jsxs("div",{className:`w-full md:w-80 lg:w-96 md:border-r border-border flex flex-col bg-background min-h-0 h-full ${S==="chat"?"hidden md:flex":"flex"}`,children:[a.jsx("div",{className:"p-3 md:p-4 border-b border-border",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search contacts...",className:"pl-9 bg-secondary/50",value:n,onChange:he=>r(he.target.value)})]})}),a.jsx(ws,{className:"flex-1",children:H?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):Ot.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-8 text-muted-foreground text-center px-4",children:[a.jsx(Kt,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{children:"No contacts in 24-hour window"}),a.jsx("p",{className:"text-xs mt-1",children:"Contacts appear here when they message you"})]}):a.jsx("div",{className:"divide-y divide-border",children:Ot.map(he=>a.jsxs("div",{className:`p-3 flex items-start gap-2 hover:bg-muted/50 cursor-pointer transition-colors ${he.id===e?"bg-muted/50":""}`,children:[a.jsx(Zr,{checked:l.includes(he.contactId),onCheckedChange:()=>mn(he.contactId),onClick:qe=>qe.stopPropagation(),className:"mt-1"}),a.jsxs("div",{className:"flex-1 flex items-start gap-2",onClick:()=>re(he.id),children:[a.jsx(Xr,{className:"h-9 w-9",children:a.jsx(Qr,{className:"bg-primary/10 text-primary text-sm",children:Ze(he.contact)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-sm font-medium truncate ${he.unreadCount>0?"font-bold":""}`,children:z(he.contact)}),he.unreadCount>0&&a.jsx("span",{className:"h-4 w-4 rounded-full bg-primary text-primary-foreground text-[9px] flex items-center justify-center font-medium",children:he.unreadCount})]}),a.jsx("span",{className:"text-[11px] text-muted-foreground whitespace-nowrap",children:he.lastInboundMessageTime?be(he.lastInboundMessageTime):""})]}),a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:he.lastInboundMessage||"No customer message"}),a.jsxs(ke,{variant:"outline",className:"text-[10px] bg-green-50 text-green-700 border-green-200 mt-1 py-0",children:[a.jsx(Kt,{className:"h-2.5 w-2.5 mr-0.5"}),Re(he.windowExpiresAt)]})]})]})]},he.id))})})]}),a.jsx("div",{className:`flex-1 flex flex-col bg-[#efeae2] dark:bg-zinc-900 bg-opacity-50 min-h-0 h-full ${S==="list"?"hidden md:flex":"flex"}`,children:Y?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"h-14 md:h-16 bg-background border-b border-border flex items-center justify-between px-2 md:px-6 flex-shrink-0",children:[a.jsxs("div",{className:"flex items-center gap-2 md:gap-3",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"flex md:hidden h-9 w-9 shrink-0",onClick:Oe,children:a.jsx(uq,{className:"h-5 w-5"})}),a.jsx(Xr,{className:"h-8 w-8 md:h-10 md:w-10",children:a.jsx(Qr,{className:"bg-primary/10 text-primary text-sm",children:Ze(Y.contact)})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"font-medium text-sm md:text-base truncate",children:z(Y.contact)}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2 flex-wrap",children:[a.jsx("span",{className:"text-[10px] md:text-xs text-muted-foreground truncate",children:Y.contact.phone}),a.jsxs(ke,{variant:"outline",className:"text-[9px] md:text-xs bg-green-50 text-green-700 border-green-200 py-0",children:[a.jsx(Kt,{className:"h-2.5 w-2.5 md:h-3 md:w-3 mr-0.5 md:mr-1"}),Re(Y.windowExpiresAt)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"hidden md:flex",children:a.jsx(uc,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"hidden md:flex",children:a.jsx(Hy,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(zy,{className:"h-5 w-5 text-muted-foreground"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>pe.mutate(Y.contactId),children:[a.jsx(BC,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}),a.jsxs(Rn,{className:"text-destructive",onClick:()=>{le({phone:Y.contact.phone,name:Y.contact.name}),Ae(!0)},children:[a.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Block Contact"]})]})]})]})]}),a.jsx("div",{className:"flex-1 min-h-0 overflow-y-auto p-3 md:p-6",children:Z?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):G.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground text-sm",children:"No messages yet. Start the conversation!"}):a.jsxs("div",{className:"space-y-3 md:space-y-4",children:[G.map(he=>a.jsx("div",{className:`flex ${he.direction==="inbound"?"justify-start":"justify-end"} group`,children:a.jsxs("div",{className:`flex items-start gap-1 ${he.direction==="inbound"?"flex-row":"flex-row-reverse"}`,children:[he.direction==="inbound"&&a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity hidden md:flex",onClick:()=>N(he),children:a.jsx(Ya,{className:"h-3 w-3"})}),a.jsxs("div",{className:`
                                max-w-[85%] md:max-w-[70%] rounded-lg px-3 md:px-4 py-2 shadow-sm relative break-words
                                ${he.direction==="inbound"?"bg-white dark:bg-card text-card-foreground rounded-tl-none":"bg-[#d9fdd3] dark:bg-primary/20 text-foreground rounded-tr-none"}
                              `,children:[he.replyToContent&&a.jsxs("div",{className:"mb-2 p-2 bg-black/5 dark:bg-white/10 rounded border-l-2 border-primary/50 text-xs text-muted-foreground",children:[a.jsx(Ya,{className:"h-3 w-3 inline mr-1"}),he.replyToContent.substring(0,60),he.replyToContent.length>60&&"..."]}),a.jsx("div",{className:"text-sm leading-relaxed",children:V(he)}),a.jsxs("span",{className:"text-[10px] text-muted-foreground/80 block text-right mt-1",children:[be(he.timestamp),he.direction==="outbound"&&a.jsx("span",{className:`ml-1 ${he.status==="read"?"text-blue-500":he.status==="failed"?"text-red-500":""}`,children:he.status==="read"||he.status==="delivered"?"":he.status==="failed"?"":""})]})]})]})},he.id)),a.jsx("div",{ref:M})]})}),a.jsxs("div",{className:"p-2 md:p-4 bg-background border-t border-border flex-shrink-0",children:[C&&a.jsxs("div",{className:"mb-2 p-2 bg-muted rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs md:text-sm min-w-0",children:[a.jsx(Ya,{className:"h-3 w-3 md:h-4 md:w-4 text-muted-foreground shrink-0"}),a.jsx("span",{className:"text-muted-foreground hidden md:inline",children:"Replying to:"}),a.jsx("span",{className:"truncate max-w-[150px] md:max-w-[300px]",children:C.content})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 shrink-0",onClick:()=>N(null),children:a.jsx(Ho,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-1 md:gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground hidden md:flex",children:a.jsx(UC,{className:"h-6 w-6"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground h-8 w-8 md:h-10 md:w-10",children:a.jsx(FC,{className:"h-5 w-5 md:h-6 md:w-6"})}),a.jsx(De,{placeholder:"Type a message...",className:"flex-1 bg-secondary/50 border-none focus-visible:ring-1 text-sm h-9 md:h-10",value:s,onChange:he=>i(he.target.value),onKeyPress:rt}),a.jsx(ee,{size:"icon",className:"rounded-full h-9 w-9 md:h-10 md:w-10 shrink-0",onClick:Ue,disabled:!s.trim()||ge.isPending,children:ge.isPending?a.jsx(Be,{className:"h-4 w-4 md:h-5 md:w-5 animate-spin"}):a.jsx(dr,{className:"h-4 w-4 md:h-5 md:w-5"})})]})]})]}):a.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground p-4",children:[a.jsx(Kt,{className:"h-12 w-12 md:h-16 md:w-16 mb-4 opacity-50"}),a.jsx("p",{className:"text-base md:text-lg font-medium text-center",children:"Select a contact to chat"}),a.jsx("p",{className:"text-xs md:text-sm text-center",children:"Send messages without templates within the 24-hour window"})]})})]})]}),a.jsx(sn,{open:d,onOpenChange:f,children:a.jsxs(Qt,{className:"max-w-2xl",children:[a.jsx(Zt,{children:a.jsxs(Jt,{className:"flex items-center gap-2",children:[a.jsx(dr,{className:"h-5 w-5"}),"Send Message to ",l.length," Contacts"]})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-950/30 rounded-lg text-sm text-green-700 dark:text-green-400",children:[a.jsx(Kt,{className:"h-4 w-4 inline mr-2"}),"All selected contacts are within the 24-hour window. You can send custom messages without templates."]}),a.jsxs(kr,{value:p,onValueChange:he=>m(he),children:[a.jsxs(br,{className:"grid w-full grid-cols-3",children:[a.jsxs(mt,{value:"template",className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-4 w-4"}),"Template"]}),a.jsxs(mt,{value:"custom",className:"flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4"}),"Custom"]}),a.jsxs(mt,{value:"ai",className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),"AI Agent"]})]}),a.jsxs(bt,{value:"template",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select Template"}),a.jsxs(dt,{value:g,onValueChange:v,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose a template"})}),a.jsx(ct,{children:Ht.map(he=>a.jsx(xe,{value:he.id,children:he.name},he.id))})]})]}),g&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:B.find(he=>he.id===g)?.content})})]}),a.jsx(bt,{value:"custom",className:"space-y-4 pt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Custom Message"}),a.jsx(En,{placeholder:"Type your message here...",value:j,onChange:he=>_(he.target.value),rows:5}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Custom messages work only within the 24-hour window after customer contact."})]})}),a.jsxs(bt,{value:"ai",className:"space-y-4 pt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select AI Agent"}),a.jsxs(dt,{value:w,onValueChange:y,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose an AI Agent"})}),a.jsx(ct,{children:L.filter(he=>he.isActive).map(he=>a.jsx(xe,{value:he.id,children:he.name},he.id))})]})]}),w&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:L.find(he=>he.id===w)?.description||"AI Agent will generate personalized responses."})})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsxs(ee,{onClick:Un,disabled:Se.isPending,children:[Se.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Send to ",l.length," Contact",l.length>1?"s":""]})]})]})}),a.jsx(cd,{open:ce,onOpenChange:Ae,children:a.jsxs(ec,{children:[a.jsxs(tc,{children:[a.jsx(rc,{children:"Block Contact"}),a.jsxs(ac,{children:["Are you sure you want to block ",_e?.name||_e?.phone,"? They will no longer be able to send you messages."]})]}),a.jsxs(nc,{children:[a.jsx(ic,{children:"Cancel"}),a.jsx(sc,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>_e&&$e.mutate(_e),children:"Block"})]})]})})]})}function CNe(){const[e,t]=b.useState(null),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState([]),[d,f]=b.useState(!1),[p,m]=b.useState("custom"),[g,v]=b.useState(""),[w,y]=b.useState(""),[j,_]=b.useState(""),[C,N]=b.useState(null),[S,O]=b.useState("all"),M=b.useRef(null),T=er(),P=b.useRef(null),$=b.useRef(0),K=b.useRef(!1);b.useEffect(()=>{const be="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2telehs/hMGyjnYsT2fJ0sJxIBw4d7O5s4VYQXzQ182bhlltndzV0JqJe3aap7KopZmRjI+TmJ6cmZePhoJ+fHx8fH2AgYSGiYyPkZOVlZaWlpWUkpCNioaDgX9+fX19fn+BhIiMkJOXmpyenp6dnJqXlJGOioaDgYB/f4CBg4aJjZCTlpmbnZ2dnJqYlZKPjImGhIKBgICAgIGChYiLjpGUl5manJ2dnJuZl5WSkI2KiIaEg4KCgoKDhIaIi42QkpWXmZqbnJybmpiWlJKQjoqJh4aFhISEhISFhoiKjI6QkpSWmJmam5uamZeWlJKQjoyKiIeGhoWFhYWGh4iKjI6QkpSVl5iZmZmYl5aUkpCOjIqIh4aFhYWFhYaHiImLjI6QkpOVlpeYmJiXlpWUkpCOjIqIh4aFhYWFhoaHiImLjY+QkpOVlpeXl5eWlZSSkI+NjIqIh4aFhYWFhoaHiImLjI6PkZKUlZaWlpaVlJOSkI+NjIqJh4aGhYaGhoaHiImKjI2PkJGTlJWVlZWVlJOSkI+OjIuJiIeGhoaGhoaHiImKi42OkJGSk5SUlJSUk5KRkI+OjIuKiYiHh4aGh4eHiImKi4yNj5CRkpOTk5OTkpGQj46NjIuKiYiHh4eHh4eIiImKi4yNjo+QkZGRkZGRkI+Pjo2MjIuKiYmIiIeIiIiIiYmKi4yNjo+PkJCQkJCQj4+OjY2MjIuKiomIiIiIiIiJiYqKi4yNjY6Pj4+Pj4+Pjo6NjYyMi4uKiomJiIiIiIiJiYqKi4yMjY2Ojo6Ojo6OjY2NjIyMi4uKiomJiYiJiYmJiYqKi4uMjI2NjY2NjY2NjY2MjIyMi4uLioqJiYmJiYmJioqKi4uMjIyMjY2NjY2NjI2MjIyMi4uLioqKiomJiYmJiYqKioqLi4uMjIyMjIyMjIyMjIyMi4uLi4uKi4qKioqKioqKioqLi4uLjIyMjIyMjIyMjIyLi4uLi4uLioqKioqKioqKioqLi4uLi4yMjIyMjIyMjIuLi4uLi4uLioqKioqKioqKioqKi4uLi4yMjIyMjIyLi4uLi4uLi4uKioqKioqKioqKi4uLi4uLi4yMjIyMi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uMjIyLi4uLi4uLi4uLi4qKioqKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKioqLi4uLi4uLi4uLi4uLi4uLi4uLioqKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqKi4uLi4uLi4uLi4uLi4uLi4uLi4uKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKioqLi4uLi4uLi4uLi4uLi4uLi4uLi4qKi4uLi4uLi4uLi4uLi4uLi4uLi4uLioqLi4uLi4uLi4uLi4uLi4uLi4uLi4uKi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4qLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4uLi4u...";P.current=new Audio(be),P.current.volume=.5;const Re=()=>{K.current=!0,P.current&&(P.current.play().catch(()=>{}),P.current.pause(),P.current.currentTime=0)};return document.addEventListener("click",Re,{once:!0}),document.addEventListener("keydown",Re,{once:!0}),document.addEventListener("touchstart",Re,{once:!0}),()=>{document.removeEventListener("click",Re),document.removeEventListener("keydown",Re),document.removeEventListener("touchstart",Re)}},[]);const{data:q=[],isLoading:H}=Ve({queryKey:["/api/chats/whatsapp-leads"],refetchInterval:5e3});b.useEffect(()=>{const be=q.reduce((Re,Ze)=>Re+Ze.unreadCount,0);be>$.current&&K.current&&P.current&&(P.current.currentTime=0,P.current.play().catch(Re=>console.log("Audio play failed:",Re))),$.current=be},[q]);const{data:B=[]}=Ve({queryKey:["/api/templates"]}),{data:L=[]}=Ve({queryKey:["/api/agents"]}),D=b.useMemo(()=>q.find(be=>be.id===e),[q,e]),k=D?.contactId,{data:I=[],isLoading:z}=Ve({queryKey:["/api/messages",k],enabled:!!k}),V=b.useMemo(()=>{let be=q;if(S==="unread"&&(be=be.filter(Re=>Re.unreadCount>0)),n){const Re=n.toLowerCase();be=be.filter(Ze=>Ze.contact.name.toLowerCase().includes(Re)||Ze.contact.phone.includes(Re))}return be},[q,n,S]),Y=be=>be.name&&!be.name.startsWith("WhatsApp ")&&!be.name.startsWith("+")?be.name:be.phone,U=be=>{const Re=Y(be);return Re.startsWith("+")||Re.match(/^\d/)?Re.slice(-2):Re.split(" ").map(Ze=>Ze[0]).join("").toUpperCase().slice(0,2)},F=be=>{try{const Re=new Date(be);return isNaN(Re.getTime())?"":Re.toLocaleString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit",hour12:!0})}catch{return""}},G=be=>{const Re=be.content,Ze=be.mediaUrl;if(be.type==="image"||Re.startsWith("[Image")){if(Ze){const Ot=Re.replace(/^\[Image\]\s*/,"").replace(/^\[Image message\]$/,"");return a.jsxs("div",{className:"space-y-2",children:[a.jsx("img",{src:`/api/webhook/whatsapp/media/${Ze}`,alt:"Shared image",className:"max-w-[280px] max-h-[300px] rounded-lg object-cover cursor-pointer hover:opacity-90 transition-opacity",onClick:()=>window.open(`/api/webhook/whatsapp/media/${Ze}`,"_blank"),onError:Ht=>{Ht.target.style.display="none",Ht.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Image expired or unavailable"}),Ot&&a.jsx("p",{className:"text-sm",children:Ot})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]})}else if(be.type==="video"||Re.startsWith("[Video")){if(Ze){const Ot=Re.replace(/^\[Video\]\s*/,"").replace(/^\[Video message\]$/,"");return a.jsxs("div",{className:"space-y-2",children:[a.jsx("video",{src:`/api/webhook/whatsapp/media/${Ze}`,controls:!0,className:"max-w-[280px] max-h-[300px] rounded-lg",onError:Ht=>{Ht.target.style.display="none",Ht.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Video expired or unavailable"}),Ot&&a.jsx("p",{className:"text-sm",children:Ot})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]})}else{if(be.type==="audio"||Re.startsWith("[Audio"))return Ze?a.jsxs("div",{className:"space-y-2",children:[a.jsx("audio",{src:`/api/webhook/whatsapp/media/${Ze}`,controls:!0,className:"max-w-[280px]",onError:Ot=>{Ot.target.style.display="none",Ot.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Audio expired or unavailable"})]}):a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]});if(be.type==="sticker"||Re.startsWith("[Sticker"))return Ze?a.jsxs("div",{children:[a.jsx("img",{src:`/api/webhook/whatsapp/media/${Ze}`,alt:"Sticker",className:"max-w-[150px] max-h-[150px]",onError:Ot=>{Ot.target.style.display="none",Ot.target.nextElementSibling?.classList.remove("hidden")}}),a.jsx("span",{className:"hidden text-muted-foreground italic text-sm",children:"Sticker expired or unavailable"})]}):a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]});if(be.type==="document"||Re.startsWith("[Document")){if(Ze){const Ot=Re.match(/\[Document: ([^\]]+)\]/)?.[1]||"document";return a.jsxs("a",{href:`/api/webhook/whatsapp/media/${Ze}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 p-2 bg-muted rounded-lg hover:bg-muted/80 transition-colors",children:[a.jsx("span",{className:"text-lg",children:""}),a.jsx("span",{className:"text-sm underline",children:Ot})]})}return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]})}else{if(Re.startsWith("[Location"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]});if(Re.startsWith("[Contact"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]});if(Re.startsWith("[Reaction"))return a.jsx("span",{className:"flex items-center gap-1",children:Re});if(Re.startsWith("[Unsupported"))return a.jsxs("span",{className:"flex items-center gap-1 text-muted-foreground italic",children:[" ",Re]})}}return a.jsx("span",{children:Re})},Z=et({mutationFn:async({content:be,phone:Re,contactId:Ze,replyToMessageId:Ot,replyToContent:Ht})=>{const he=await xn("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Re,message:Ht?`> ${Ht.substring(0,50)}${Ht.length>50?"...":""}

${be}`:be})});if(!he.ok){const at=await he.json();throw new Error(at.error||"Failed to send WhatsApp message")}const qe=await xn("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:Ze,content:be,type:"text",direction:"outbound",status:"sent",replyToMessageId:Ot,replyToContent:Ht})});if(!qe.ok)throw new Error("Failed to save message");return{result:await qe.json(),contactId:Ze}},onSuccess:be=>{T.invalidateQueries({queryKey:["/api/messages",be.contactId]}),T.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),i(""),N(null),fe.success("Message sent via WhatsApp")},onError:be=>{fe.error(be.message||"Failed to send message")}}),ge=et({mutationFn:async be=>{const Re={success:0,failed:0};for(const Ze of be.contacts){const Ot=q.find(he=>he.id===Ze);if(!Ot)continue;const Ht=Ot.contact.phone.replace(/\D/g,"");try{await xn("/api/webhook/whatsapp/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:Ht,message:be.content})}),await xn("/api/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactId:Ot.contactId,content:be.content,type:"text",direction:"outbound",status:"sent"})}),Re.success++}catch{Re.failed++}}return Re},onSuccess:be=>{T.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),T.invalidateQueries({queryKey:["/api/chats"]}),u([]),f(!1),_(""),v(""),y(""),be.failed>0?fe.success(`Sent to ${be.success} contacts, ${be.failed} failed`):fe.success(`Message sent to ${be.success} contact${be.success>1?"s":""}`)},onError:()=>{fe.error("Failed to send messages")}}),Se=et({mutationFn:async be=>{const Re=await xn(`/api/chats/${be}/mark-read`,{method:"POST"});if(!Re.ok)throw new Error("Failed to mark as read");return Re.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),T.invalidateQueries({queryKey:["/api/chats"]})}}),Q=et({mutationFn:async be=>{const Re=await xn(`/api/chats/${be}/mark-unread`,{method:"POST"});if(!Re.ok)throw new Error("Failed to mark as unread");return Re.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),T.invalidateQueries({queryKey:["/api/chats"]}),fe.success("Marked as unread")}}),[pe,ce]=b.useState(!1),[Ae,_e]=b.useState(null),le=et({mutationFn:async({phone:be,name:Re})=>{const Ze=await xn("/api/contacts/block",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:be,name:Re,reason:"Blocked from WhatsApp Leads"})});if(!Ze.ok)throw new Error("Failed to block contact");return Ze.json()},onSuccess:()=>{T.invalidateQueries({queryKey:["/api/chats/whatsapp-leads"]}),T.invalidateQueries({queryKey:["/api/chats"]}),ce(!1),_e(null),t(null),fe.success("Contact blocked successfully")},onError:()=>{fe.error("Failed to block contact")}}),$e=be=>{t(be);const Re=q.find(Ze=>Ze.id===be);Re&&Re.unreadCount>0&&Se.mutate(Re.contactId)};b.useEffect(()=>{M.current?.scrollIntoView({behavior:"smooth"})},[I]);const re=()=>{if(!s.trim()||!D||!k)return;const be=D.contact.phone.replace(/\D/g,"");Z.mutate({content:s,phone:be,contactId:k,replyToMessageId:C?.id,replyToContent:C?.content})},Oe=be=>{be.key==="Enter"&&!be.shiftKey&&(be.preventDefault(),re())},Ue=be=>{u(be?V.map(Re=>Re.id):[])},rt=(be,Re)=>{u(Re?[...l,be]:l.filter(Ze=>Ze!==be))},en=()=>{if(l.length===0){fe.error("Please select at least one contact");return}f(!0)},mn=()=>{let be="";if(p==="template"?be=B.find(Ze=>Ze.id===g)?.content||"":p==="custom"?be=j:p==="ai"&&(be=L.find(Ze=>Ze.id===w)?.description||"AI agent will respond"),!be){fe.error("Please enter a message or select a template");return}ge.mutate({contacts:l,messageType:p,content:be})},Un=()=>{const be=[["Name","Phone","Last Message","Last Message Time"].join(","),...V.map(Ht=>[Y(Ht.contact),Ht.contact.phone,`"${(Ht.lastInboundMessage||"").replace(/"/g,'""')}"`,Ht.lastInboundMessageTime||""].join(","))].join(`
`),Re=new Blob([be],{type:"text/csv"}),Ze=URL.createObjectURL(Re),Ot=document.createElement("a");Ot.href=Ze,Ot.download=`whatsapp-leads-${new Date().toISOString().split("T")[0]}.csv`,Ot.click(),URL.revokeObjectURL(Ze)},vn=q.reduce((be,Re)=>be+Re.unreadCount,0);return a.jsxs(pt,{children:[a.jsxs("div",{className:"h-full flex flex-col gap-4",children:[a.jsxs("div",{className:"flex items-center justify-between flex-shrink-0",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(zn,{className:"h-6 w-6 text-primary"}),"WhatsApp Leads"]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"New contacts who messaged you (not in your contact list). Assign AI agents based on their first message."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[l.length>0&&a.jsxs(ee,{onClick:en,className:"gap-2",children:[a.jsx(dr,{className:"h-4 w-4"}),"Send to ",l.length," Selected"]}),a.jsxs(ee,{variant:"outline",onClick:Un,className:"gap-2",children:[a.jsx(Tr,{className:"h-4 w-4"}),"Download List"]})]})]}),a.jsxs("div",{className:"flex flex-1 min-h-0 bg-card border border-border rounded-lg overflow-hidden shadow-sm",children:[a.jsxs("div",{className:"w-96 border-r border-border flex flex-col bg-background min-h-0",children:[a.jsxs("div",{className:"p-3 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Zr,{checked:l.length===V.length&&V.length>0,onCheckedChange:be=>Ue(be)}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Select All (",V.length," leads)"]})]}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search leads...",className:"pl-9",value:n,onChange:be=>r(be.target.value)})]}),a.jsx(kr,{value:S,onValueChange:be=>O(be),children:a.jsxs(br,{className:"grid w-full grid-cols-2",children:[a.jsx(mt,{value:"all",children:"All"}),a.jsxs(mt,{value:"unread",className:"gap-1",children:["Unread",vn>0&&a.jsx(ke,{variant:"destructive",className:"h-5 px-1.5 text-xs",children:vn})]})]})})]}),a.jsx(ws,{className:"flex-1",children:H?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):V.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[a.jsx(zn,{className:"h-8 w-8 mb-2"}),a.jsx("p",{className:"text-sm",children:"No WhatsApp leads yet"}),a.jsx("p",{className:"text-xs",children:"New contacts will appear here"})]}):a.jsx("div",{className:"divide-y divide-border",children:V.map(be=>a.jsxs("div",{className:`flex items-start gap-2 p-3 cursor-pointer hover:bg-muted/50 transition-colors ${e===be.id?"bg-muted/50":""}`,children:[a.jsx(Zr,{checked:l.includes(be.id),onCheckedChange:Re=>rt(be.id,Re),onClick:Re=>Re.stopPropagation(),className:"mt-1"}),a.jsxs("div",{className:"flex-1 min-w-0 flex items-start gap-2",onClick:()=>$e(be.id),children:[a.jsx(Xr,{className:"h-9 w-9",children:a.jsx(Qr,{className:"bg-primary/10 text-primary text-sm",children:U(be.contact)})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"text-sm font-medium truncate",children:Y(be.contact)}),be.unreadCount>0&&a.jsx("span",{className:"h-4 w-4 rounded-full bg-primary text-primary-foreground text-[9px] flex items-center justify-center font-medium",children:be.unreadCount})]})}),a.jsx("p",{className:"text-xs text-muted-foreground truncate mt-0.5",children:be.lastInboundMessage||"No message"}),a.jsxs(ke,{variant:"outline",className:"text-[10px] bg-blue-50 text-blue-700 border-blue-200 mt-1 py-0",children:[a.jsx(Fl,{className:"h-2.5 w-2.5 mr-0.5"}),"New Lead"]})]})]})]},be.id))})})]}),D?a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsxs("div",{className:"p-4 border-b border-border flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xr,{className:"h-10 w-10",children:a.jsx(Qr,{className:"bg-primary/10 text-primary",children:U(D.contact)})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:Y(D.contact)}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:D.contact.phone}),a.jsxs(ke,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-200",children:[a.jsx(Fl,{className:"h-3 w-3 mr-1"}),"WhatsApp Lead"]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(uc,{className:"h-5 w-5 text-muted-foreground"})}),a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(Hy,{className:"h-5 w-5 text-muted-foreground"})}),a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(zy,{className:"h-5 w-5 text-muted-foreground"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>Q.mutate(D.contactId),children:[a.jsx(BC,{className:"mr-2 h-4 w-4"}),"Mark as Unread"]}),a.jsxs(Rn,{className:"text-destructive",onClick:()=>{_e({phone:D.contact.phone,name:D.contact.name}),ce(!0)},children:[a.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Block Contact"]})]})]})]})]}),a.jsx(ws,{className:"flex-1 p-6",children:z?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):I.length===0?a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No messages yet. Start the conversation!"}):a.jsxs("div",{className:"space-y-4",children:[I.map(be=>a.jsx("div",{className:`flex ${be.direction==="inbound"?"justify-start":"justify-end"} group`,children:a.jsxs("div",{className:`flex items-start gap-1 ${be.direction==="inbound"?"flex-row":"flex-row-reverse"}`,children:[be.direction==="inbound"&&a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>N(be),children:a.jsx(Ya,{className:"h-3 w-3"})}),a.jsxs("div",{className:`
                              max-w-[70%] rounded-lg px-4 py-2 shadow-sm relative
                              ${be.direction==="inbound"?"bg-white dark:bg-card text-card-foreground rounded-tl-none":"bg-[#d9fdd3] dark:bg-primary/20 text-foreground rounded-tr-none"}
                            `,children:[be.replyToContent&&a.jsxs("div",{className:"mb-2 p-2 bg-black/5 dark:bg-white/10 rounded border-l-2 border-primary/50 text-xs text-muted-foreground",children:[a.jsx(Ya,{className:"h-3 w-3 inline mr-1"}),be.replyToContent.substring(0,60),be.replyToContent.length>60&&"..."]}),a.jsx("div",{className:"text-sm leading-relaxed",children:G(be)}),a.jsxs("span",{className:"text-[10px] text-muted-foreground/80 block text-right mt-1",children:[F(be.timestamp),be.direction==="outbound"&&a.jsx("span",{className:`ml-1 ${be.status==="read"?"text-blue-500":be.status==="failed"?"text-red-500":""}`,children:be.status==="read"||be.status==="delivered"?"":be.status==="failed"?"":""})]})]})]})},be.id)),a.jsx("div",{ref:M})]})}),a.jsxs("div",{className:"p-4 bg-background border-t border-border",children:[C&&a.jsxs("div",{className:"mb-2 p-2 bg-muted rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(Ya,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-muted-foreground",children:"Replying to:"}),a.jsx("span",{className:"truncate max-w-[300px]",children:C.content})]}),a.jsx(ee,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>N(null),children:a.jsx(Ho,{className:"h-4 w-4"})})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:a.jsx(UC,{className:"h-6 w-6"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"text-muted-foreground hover:text-foreground",children:a.jsx(FC,{className:"h-6 w-6"})}),a.jsx(De,{placeholder:"Type a message...",className:"flex-1 bg-secondary/50 border-none focus-visible:ring-1",value:s,onChange:be=>i(be.target.value),onKeyPress:Oe}),a.jsx(ee,{size:"icon",className:"rounded-full h-10 w-10",onClick:re,disabled:!s.trim()||Z.isPending,children:Z.isPending?a.jsx(Be,{className:"h-5 w-5 animate-spin"}):a.jsx(dr,{className:"h-5 w-5"})})]})]})]}):a.jsx("div",{className:"flex-1 flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(zn,{className:"h-16 w-16 mx-auto mb-4 opacity-20"}),a.jsx("h3",{className:"text-lg font-medium",children:"Select a Lead"}),a.jsx("p",{className:"text-sm",children:"Choose a lead from the list to view conversation"})]})})]})]}),a.jsx(sn,{open:d,onOpenChange:f,children:a.jsxs(Qt,{className:"sm:max-w-[500px]",children:[a.jsx(Zt,{children:a.jsxs(Jt,{children:["Send Message to ",l.length," Leads"]})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/30 rounded-lg text-sm text-blue-700 dark:text-blue-400",children:[a.jsx(zn,{className:"h-4 w-4 inline mr-2"}),"You can send custom messages to WhatsApp leads without template restrictions."]}),a.jsxs(kr,{value:p,onValueChange:be=>m(be),children:[a.jsxs(br,{className:"grid w-full grid-cols-3",children:[a.jsxs(mt,{value:"template",className:"gap-1",children:[a.jsx(vr,{className:"h-4 w-4"}),"Template"]}),a.jsxs(mt,{value:"custom",className:"gap-1",children:[a.jsx(an,{className:"h-4 w-4"}),"Custom"]}),a.jsxs(mt,{value:"ai",className:"gap-1",children:[a.jsx(kt,{className:"h-4 w-4"}),"AI Agent"]})]}),a.jsxs(bt,{value:"template",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select Template"}),a.jsxs(dt,{value:g,onValueChange:v,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose a template"})}),a.jsx(ct,{children:B.filter(be=>be.status==="APPROVED").map(be=>a.jsx(xe,{value:be.id,children:be.name},be.id))})]})]}),g&&a.jsx("div",{className:"p-3 bg-muted rounded-lg text-sm",children:B.find(be=>be.id===g)?.content})]}),a.jsx(bt,{value:"custom",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Custom Message"}),a.jsx(En,{placeholder:"Type your message...",value:j,onChange:be=>_(be.target.value),rows:4})]})}),a.jsxs(bt,{value:"ai",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select AI Agent"}),a.jsxs(dt,{value:w,onValueChange:y,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose an AI agent"})}),a.jsx(ct,{children:L.filter(be=>be.isActive).map(be=>a.jsx(xe,{value:be.id,children:be.name},be.id))})]})]}),w&&a.jsx("div",{className:"p-3 bg-muted rounded-lg text-sm",children:L.find(be=>be.id===w)?.description})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(ee,{onClick:mn,disabled:ge.isPending,children:ge.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Send to All"]})})]})]})}),a.jsx(cd,{open:pe,onOpenChange:ce,children:a.jsxs(ec,{children:[a.jsxs(tc,{children:[a.jsx(rc,{children:"Block Contact"}),a.jsxs(ac,{children:["Are you sure you want to block ",Ae?.name||Ae?.phone,"? They will no longer be able to send you messages."]})]}),a.jsxs(nc,{children:[a.jsx(ic,{children:"Cancel"}),a.jsx(sc,{className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",onClick:()=>Ae&&le.mutate(Ae),children:"Block"})]})]})})]})}const $t=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:Fe("w-full caption-bottom text-sm",e),...t})}));$t.displayName="Table";const qt=b.forwardRef(({className:e,...t},n)=>a.jsx("thead",{ref:n,className:Fe("[&_tr]:border-b",e),...t}));qt.displayName="TableHeader";const zt=b.forwardRef(({className:e,...t},n)=>a.jsx("tbody",{ref:n,className:Fe("[&_tr:last-child]:border-0",e),...t}));zt.displayName="TableBody";const _Ne=b.forwardRef(({className:e,...t},n)=>a.jsx("tfoot",{ref:n,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));_Ne.displayName="TableFooter";const Ke=b.forwardRef(({className:e,...t},n)=>a.jsx("tr",{ref:n,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));Ke.displayName="TableRow";const ie=b.forwardRef(({className:e,...t},n)=>a.jsx("th",{ref:n,className:Fe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));ie.displayName="TableHead";const se=b.forwardRef(({className:e,...t},n)=>a.jsx("td",{ref:n,className:Fe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t}));se.displayName="TableCell";const ENe=b.forwardRef(({className:e,...t},n)=>a.jsx("caption",{ref:n,className:Fe("mt-4 text-sm text-muted-foreground",e),...t}));ENe.displayName="TableCaption";function ONe(){const[,e]=cc(),t=er(),{data:n=[],isLoading:r}=Ve({queryKey:["/api/campaigns"],queryFn:async()=>{const m=await fetch("/api/campaigns");if(!m.ok)throw new Error("Failed to fetch campaigns");return m.json()}}),s=et({mutationFn:async m=>{const g=await fetch(`/api/campaigns/${m}/send`,{method:"POST"});if(!g.ok)throw new Error("Failed to send campaign");return g.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/campaigns"]}),fe.success("Campaign sent successfully!")},onError:()=>{fe.error("Failed to send campaign")}}),i=et({mutationFn:async m=>{if(!(await fetch(`/api/campaigns/${m}`,{method:"DELETE"})).ok)throw new Error("Failed to delete campaign")},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/campaigns"]}),fe.success("Campaign deleted successfully")},onError:()=>{fe.error("Failed to delete campaign")}}),l=n.filter(m=>m.status==="running").length,u=n.filter(m=>m.status==="scheduled").length,d=n.reduce((m,g)=>m+g.sentCount,0),f=m=>{switch(m){case"completed":return"secondary";case"running":return"default";case"scheduled":return"outline";case"draft":return"outline";default:return"secondary"}},p=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Campaigns"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your broadcast lists and scheduled messages."})]}),a.jsxs(ee,{onClick:()=>e("/campaigns/broadcast"),children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Active Campaigns"}),a.jsx(IQ,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:l}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Running right now"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Scheduled"}),a.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:u}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Upcoming"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Messages Sent"}),a.jsx(mq,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d.toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total across all campaigns"})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"All Campaigns"}),a.jsx(He,{children:"A list of all your recent broadcasts and automated sequences."})]}),a.jsx(ae,{children:r?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):n.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No campaigns yet. Create your first campaign to get started."}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Campaign Name"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Sent"}),a.jsx(ie,{children:"Delivered"}),a.jsx(ie,{children:"Read"}),a.jsx(ie,{children:"Date"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:n.map(m=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:m.name}),a.jsx(se,{children:a.jsx(ke,{variant:f(m.status),className:m.status==="running"?"bg-green-500 hover:bg-green-600":"",children:m.status.charAt(0).toUpperCase()+m.status.slice(1)})}),a.jsx(se,{children:m.sentCount.toLocaleString()}),a.jsx(se,{children:m.deliveredCount.toLocaleString()}),a.jsx(se,{children:m.readCount.toLocaleString()}),a.jsx(se,{className:"text-muted-foreground",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"h-3 w-3"}),m.scheduledAt?p(m.scheduledAt):p(m.createdAt)]})}),a.jsx(se,{className:"text-right",children:a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx($C,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>e("/campaigns/report"),children:[a.jsx(Ka,{className:"mr-2 h-4 w-4"}),"View Report"]}),(m.status==="draft"||m.status==="scheduled")&&a.jsxs(Rn,{onClick:()=>s.mutate(m.id),children:[a.jsx(jh,{className:"mr-2 h-4 w-4"}),"Send Now"]}),a.jsxs(Rn,{className:"text-destructive",onClick:()=>i.mutate(m.id),children:[a.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},m.id))})]})})]})]})})}function tr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=tr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var TNe={value:()=>{}};function Jv(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ex(n)}function ex(e){this._=e}function MNe(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ex.prototype=Jv.prototype={constructor:ex,on:function(e,t){var n=this._,r=MNe(e+"",n),s,i=-1,l=r.length;if(arguments.length<2){for(;++i<l;)if((s=(e=r[i]).type)&&(s=kNe(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<l;)if(s=(e=r[i]).type)n[s]=c$(n[s],e.name,t);else if(t==null)for(s in n)n[s]=c$(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ex(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function kNe(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function c$(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=TNe,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var dC="http://www.w3.org/1999/xhtml";const u$={svg:"http://www.w3.org/2000/svg",xhtml:dC,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function eb(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),u$.hasOwnProperty(t)?{space:u$[t],local:e}:e}function PNe(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===dC&&t.documentElement.namespaceURI===dC?t.createElement(e):t.createElementNS(n,e)}}function RNe(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function N7(e){var t=eb(e);return(t.local?RNe:PNe)(t)}function DNe(){}function zE(e){return e==null?DNe:function(){return this.querySelector(e)}}function INe(e){typeof e!="function"&&(e=zE(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],l=i.length,u=r[s]=new Array(l),d,f,p=0;p<l;++p)(d=i[p])&&(f=e.call(d,d.__data__,p,i))&&("__data__"in d&&(f.__data__=d.__data__),u[p]=f);return new Oa(r,this._parents)}function LNe(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function $Ne(){return[]}function S7(e){return e==null?$Ne:function(){return this.querySelectorAll(e)}}function qNe(e){return function(){return LNe(e.apply(this,arguments))}}function zNe(e){typeof e=="function"?e=qNe(e):e=S7(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var l=t[i],u=l.length,d,f=0;f<u;++f)(d=l[f])&&(r.push(e.call(d,d.__data__,f,l)),s.push(d));return new Oa(r,s)}function A7(e){return function(){return this.matches(e)}}function C7(e){return function(t){return t.matches(e)}}var BNe=Array.prototype.find;function FNe(e){return function(){return BNe.call(this.children,e)}}function UNe(){return this.firstElementChild}function HNe(e){return this.select(e==null?UNe:FNe(typeof e=="function"?e:C7(e)))}var VNe=Array.prototype.filter;function KNe(){return Array.from(this.children)}function WNe(e){return function(){return VNe.call(this.children,e)}}function YNe(e){return this.selectAll(e==null?KNe:WNe(typeof e=="function"?e:C7(e)))}function GNe(e){typeof e!="function"&&(e=A7(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],l=i.length,u=r[s]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&u.push(d);return new Oa(r,this._parents)}function _7(e){return new Array(e.length)}function XNe(){return new Oa(this._enter||this._groups.map(_7),this._parents)}function Sy(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Sy.prototype={constructor:Sy,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function QNe(e){return function(){return e}}function ZNe(e,t,n,r,s,i){for(var l=0,u,d=t.length,f=i.length;l<f;++l)(u=t[l])?(u.__data__=i[l],r[l]=u):n[l]=new Sy(e,i[l]);for(;l<d;++l)(u=t[l])&&(s[l]=u)}function JNe(e,t,n,r,s,i,l){var u,d,f=new Map,p=t.length,m=i.length,g=new Array(p),v;for(u=0;u<p;++u)(d=t[u])&&(g[u]=v=l.call(d,d.__data__,u,t)+"",f.has(v)?s[u]=d:f.set(v,d));for(u=0;u<m;++u)v=l.call(e,i[u],u,i)+"",(d=f.get(v))?(r[u]=d,d.__data__=i[u],f.delete(v)):n[u]=new Sy(e,i[u]);for(u=0;u<p;++u)(d=t[u])&&f.get(g[u])===d&&(s[u]=d)}function eSe(e){return e.__data__}function tSe(e,t){if(!arguments.length)return Array.from(this,eSe);var n=t?JNe:ZNe,r=this._parents,s=this._groups;typeof e!="function"&&(e=QNe(e));for(var i=s.length,l=new Array(i),u=new Array(i),d=new Array(i),f=0;f<i;++f){var p=r[f],m=s[f],g=m.length,v=nSe(e.call(p,p&&p.__data__,f,r)),w=v.length,y=u[f]=new Array(w),j=l[f]=new Array(w),_=d[f]=new Array(g);n(p,m,y,j,_,v,t);for(var C=0,N=0,S,O;C<w;++C)if(S=y[C]){for(C>=N&&(N=C+1);!(O=j[N])&&++N<w;);S._next=O||null}}return l=new Oa(l,r),l._enter=u,l._exit=d,l}function nSe(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rSe(){return new Oa(this._exit||this._groups.map(_7),this._parents)}function aSe(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function sSe(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,l=Math.min(s,i),u=new Array(s),d=0;d<l;++d)for(var f=n[d],p=r[d],m=f.length,g=u[d]=new Array(m),v,w=0;w<m;++w)(v=f[w]||p[w])&&(g[w]=v);for(;d<s;++d)u[d]=n[d];return new Oa(u,this._parents)}function iSe(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],l;--s>=0;)(l=r[s])&&(i&&l.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(l,i),i=l);return this}function oSe(e){e||(e=lSe);function t(m,g){return m&&g?e(m.__data__,g.__data__):!m-!g}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var l=n[i],u=l.length,d=s[i]=new Array(u),f,p=0;p<u;++p)(f=l[p])&&(d[p]=f);d.sort(t)}return new Oa(s,this._parents).order()}function lSe(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function cSe(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function uSe(){return Array.from(this)}function dSe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var l=r[s];if(l)return l}return null}function fSe(){let e=0;for(const t of this)++e;return e}function hSe(){return!this.node()}function mSe(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,l=s.length,u;i<l;++i)(u=s[i])&&e.call(u,u.__data__,i,s);return this}function pSe(e){return function(){this.removeAttribute(e)}}function gSe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xSe(e,t){return function(){this.setAttribute(e,t)}}function ySe(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function vSe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function bSe(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function jSe(e,t){var n=eb(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gSe:pSe:typeof t=="function"?n.local?bSe:vSe:n.local?ySe:xSe)(n,t))}function E7(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function wSe(e){return function(){this.style.removeProperty(e)}}function NSe(e,t,n){return function(){this.style.setProperty(e,t,n)}}function SSe(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ASe(e,t,n){return arguments.length>1?this.each((t==null?wSe:typeof t=="function"?SSe:NSe)(e,t,n??"")):ud(this.node(),e)}function ud(e,t){return e.style.getPropertyValue(t)||E7(e).getComputedStyle(e,null).getPropertyValue(t)}function CSe(e){return function(){delete this[e]}}function _Se(e,t){return function(){this[e]=t}}function ESe(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function OSe(e,t){return arguments.length>1?this.each((t==null?CSe:typeof t=="function"?ESe:_Se)(e,t)):this.node()[e]}function O7(e){return e.trim().split(/^|\s+/)}function BE(e){return e.classList||new T7(e)}function T7(e){this._node=e,this._names=O7(e.getAttribute("class")||"")}T7.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function M7(e,t){for(var n=BE(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function k7(e,t){for(var n=BE(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function TSe(e){return function(){M7(this,e)}}function MSe(e){return function(){k7(this,e)}}function kSe(e,t){return function(){(t.apply(this,arguments)?M7:k7)(this,e)}}function PSe(e,t){var n=O7(e+"");if(arguments.length<2){for(var r=BE(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?kSe:t?TSe:MSe)(n,t))}function RSe(){this.textContent=""}function DSe(e){return function(){this.textContent=e}}function ISe(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function LSe(e){return arguments.length?this.each(e==null?RSe:(typeof e=="function"?ISe:DSe)(e)):this.node().textContent}function $Se(){this.innerHTML=""}function qSe(e){return function(){this.innerHTML=e}}function zSe(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function BSe(e){return arguments.length?this.each(e==null?$Se:(typeof e=="function"?zSe:qSe)(e)):this.node().innerHTML}function FSe(){this.nextSibling&&this.parentNode.appendChild(this)}function USe(){return this.each(FSe)}function HSe(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function VSe(){return this.each(HSe)}function KSe(e){var t=typeof e=="function"?e:N7(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function WSe(){return null}function YSe(e,t){var n=typeof e=="function"?e:N7(e),r=t==null?WSe:typeof t=="function"?t:zE(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function GSe(){var e=this.parentNode;e&&e.removeChild(this)}function XSe(){return this.each(GSe)}function QSe(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ZSe(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function JSe(e){return this.select(e?ZSe:QSe)}function eAe(e){return arguments.length?this.property("__data__",e):this.node().__data__}function tAe(e){return function(t){e.call(this,t,this.__data__)}}function nAe(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function rAe(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function aAe(e,t,n){return function(){var r=this.__on,s,i=tAe(t);if(r){for(var l=0,u=r.length;l<u;++l)if((s=r[l]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function sAe(e,t,n){var r=nAe(e+""),s,i=r.length,l;if(arguments.length<2){var u=this.node().__on;if(u){for(var d=0,f=u.length,p;d<f;++d)for(s=0,p=u[d];s<i;++s)if((l=r[s]).type===p.type&&l.name===p.name)return p.value}return}for(u=t?aAe:rAe,s=0;s<i;++s)this.each(u(r[s],t,n));return this}function P7(e,t,n){var r=E7(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function iAe(e,t){return function(){return P7(this,e,t)}}function oAe(e,t){return function(){return P7(this,e,t.apply(this,arguments))}}function lAe(e,t){return this.each((typeof t=="function"?oAe:iAe)(e,t))}function*cAe(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,l;s<i;++s)(l=r[s])&&(yield l)}var R7=[null];function Oa(e,t){this._groups=e,this._parents=t}function Fm(){return new Oa([[document.documentElement]],R7)}function uAe(){return this}Oa.prototype=Fm.prototype={constructor:Oa,select:INe,selectAll:zNe,selectChild:HNe,selectChildren:YNe,filter:GNe,data:tSe,enter:XNe,exit:rSe,join:aSe,merge:sSe,selection:uAe,order:iSe,sort:oSe,call:cSe,nodes:uSe,node:dSe,size:fSe,empty:hSe,each:mSe,attr:jSe,style:ASe,property:OSe,classed:PSe,text:LSe,html:BSe,raise:USe,lower:VSe,append:KSe,insert:YSe,remove:XSe,clone:JSe,datum:eAe,on:sAe,dispatch:lAe,[Symbol.iterator]:cAe};function Na(e){return typeof e=="string"?new Oa([[document.querySelector(e)]],[document.documentElement]):new Oa([[e]],R7)}function dAe(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ds(e,t){if(e=dAe(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}}return[e.pageX,e.pageY]}const fAe={passive:!1},om={capture:!0,passive:!1};function ZS(e){e.stopImmediatePropagation()}function Ou(e){e.preventDefault(),e.stopImmediatePropagation()}function D7(e){var t=e.document.documentElement,n=Na(e).on("dragstart.drag",Ou,om);"onselectstart"in t?n.on("selectstart.drag",Ou,om):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function I7(e,t){var n=e.document.documentElement,r=Na(e).on("dragstart.drag",null);t&&(r.on("click.drag",Ou,om),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Bg=e=>()=>e;function fC(e,{sourceEvent:t,subject:n,target:r,identifier:s,active:i,x:l,y:u,dx:d,dy:f,dispatch:p}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:l,enumerable:!0,configurable:!0},y:{value:u,enumerable:!0,configurable:!0},dx:{value:d,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:p}})}fC.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function hAe(e){return!e.ctrlKey&&!e.button}function mAe(){return this.parentNode}function pAe(e,t){return t??{x:e.x,y:e.y}}function gAe(){return navigator.maxTouchPoints||"ontouchstart"in this}function L7(){var e=hAe,t=mAe,n=pAe,r=gAe,s={},i=Jv("start","drag","end"),l=0,u,d,f,p,m=0;function g(S){S.on("mousedown.drag",v).filter(r).on("touchstart.drag",j).on("touchmove.drag",_,fAe).on("touchend.drag touchcancel.drag",C).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function v(S,O){if(!(p||!e.call(this,S,O))){var M=N(this,t.call(this,S,O),S,O,"mouse");M&&(Na(S.view).on("mousemove.drag",w,om).on("mouseup.drag",y,om),D7(S.view),ZS(S),f=!1,u=S.clientX,d=S.clientY,M("start",S))}}function w(S){if(Ou(S),!f){var O=S.clientX-u,M=S.clientY-d;f=O*O+M*M>m}s.mouse("drag",S)}function y(S){Na(S.view).on("mousemove.drag mouseup.drag",null),I7(S.view,f),Ou(S),s.mouse("end",S)}function j(S,O){if(e.call(this,S,O)){var M=S.changedTouches,T=t.call(this,S,O),P=M.length,$,K;for($=0;$<P;++$)(K=N(this,T,S,O,M[$].identifier,M[$]))&&(ZS(S),K("start",S,M[$]))}}function _(S){var O=S.changedTouches,M=O.length,T,P;for(T=0;T<M;++T)(P=s[O[T].identifier])&&(Ou(S),P("drag",S,O[T]))}function C(S){var O=S.changedTouches,M=O.length,T,P;for(p&&clearTimeout(p),p=setTimeout(function(){p=null},500),T=0;T<M;++T)(P=s[O[T].identifier])&&(ZS(S),P("end",S,O[T]))}function N(S,O,M,T,P,$){var K=i.copy(),q=ds($||M,O),H,B,L;if((L=n.call(S,new fC("beforestart",{sourceEvent:M,target:g,identifier:P,active:l,x:q[0],y:q[1],dx:0,dy:0,dispatch:K}),T))!=null)return H=L.x-q[0]||0,B=L.y-q[1]||0,function D(k,I,z){var V=q,Y;switch(k){case"start":s[P]=D,Y=l++;break;case"end":delete s[P],--l;case"drag":q=ds(z||I,O),Y=l;break}K.call(k,S,new fC(k,{sourceEvent:I,subject:L,target:g,identifier:P,active:Y,x:q[0]+H,y:q[1]+B,dx:q[0]-V[0],dy:q[1]-V[1],dispatch:K}),T)}}return g.filter=function(S){return arguments.length?(e=typeof S=="function"?S:Bg(!!S),g):e},g.container=function(S){return arguments.length?(t=typeof S=="function"?S:Bg(S),g):t},g.subject=function(S){return arguments.length?(n=typeof S=="function"?S:Bg(S),g):n},g.touchable=function(S){return arguments.length?(r=typeof S=="function"?S:Bg(!!S),g):r},g.on=function(){var S=i.on.apply(i,arguments);return S===i?g:S},g.clickDistance=function(S){return arguments.length?(m=(S=+S)*S,g):Math.sqrt(m)},g}var dd=0,sh=0,Wf=0,$7=1e3,Ay,ih,Cy=0,oc=0,tb=0,lm=typeof performance=="object"&&performance.now?performance:Date,q7=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function FE(){return oc||(q7(xAe),oc=lm.now()+tb)}function xAe(){oc=0}function _y(){this._call=this._time=this._next=null}_y.prototype=z7.prototype={constructor:_y,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?FE():+n)+(t==null?0:+t),!this._next&&ih!==this&&(ih?ih._next=this:Ay=this,ih=this),this._call=e,this._time=n,hC()},stop:function(){this._call&&(this._call=null,this._time=1/0,hC())}};function z7(e,t,n){var r=new _y;return r.restart(e,t,n),r}function yAe(){FE(),++dd;for(var e=Ay,t;e;)(t=oc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--dd}function d$(){oc=(Cy=lm.now())+tb,dd=sh=0;try{yAe()}finally{dd=0,bAe(),oc=0}}function vAe(){var e=lm.now(),t=e-Cy;t>$7&&(tb-=t,Cy=e)}function bAe(){for(var e,t=Ay,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ay=n);ih=e,hC(r)}function hC(e){if(!dd){sh&&(sh=clearTimeout(sh));var t=e-oc;t>24?(e<1/0&&(sh=setTimeout(d$,e-lm.now()-tb)),Wf&&(Wf=clearInterval(Wf))):(Wf||(Cy=lm.now(),Wf=setInterval(vAe,$7)),dd=1,q7(d$))}}function f$(e,t,n){var r=new _y;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var jAe=Jv("start","end","cancel","interrupt"),wAe=[],B7=0,h$=1,mC=2,tx=3,m$=4,pC=5,nx=6;function nb(e,t,n,r,s,i){var l=e.__transition;if(!l)e.__transition={};else if(n in l)return;NAe(e,n,{name:t,index:r,group:s,on:jAe,tween:wAe,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:B7})}function UE(e,t){var n=As(e,t);if(n.state>B7)throw new Error("too late; already scheduled");return n}function Ws(e,t){var n=As(e,t);if(n.state>tx)throw new Error("too late; already running");return n}function As(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function NAe(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=z7(i,0,n.time);function i(f){n.state=h$,n.timer.restart(l,n.delay,n.time),n.delay<=f&&l(f-n.delay)}function l(f){var p,m,g,v;if(n.state!==h$)return d();for(p in r)if(v=r[p],v.name===n.name){if(v.state===tx)return f$(l);v.state===m$?(v.state=nx,v.timer.stop(),v.on.call("interrupt",e,e.__data__,v.index,v.group),delete r[p]):+p<t&&(v.state=nx,v.timer.stop(),v.on.call("cancel",e,e.__data__,v.index,v.group),delete r[p])}if(f$(function(){n.state===tx&&(n.state=m$,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=mC,n.on.call("start",e,e.__data__,n.index,n.group),n.state===mC){for(n.state=tx,s=new Array(g=n.tween.length),p=0,m=-1;p<g;++p)(v=n.tween[p].value.call(e,e.__data__,n.index,n.group))&&(s[++m]=v);s.length=m+1}}function u(f){for(var p=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(d),n.state=pC,1),m=-1,g=s.length;++m<g;)s[m].call(e,p);n.state===pC&&(n.on.call("end",e,e.__data__,n.index,n.group),d())}function d(){n.state=nx,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function rx(e,t){var n=e.__transition,r,s,i=!0,l;if(n){t=t==null?null:t+"";for(l in n){if((r=n[l]).name!==t){i=!1;continue}s=r.state>mC&&r.state<pC,r.state=nx,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[l]}i&&delete e.__transition}}function SAe(e){return this.each(function(){rx(this,e)})}function AAe(e,t){var n,r;return function(){var s=Ws(this,e),i=s.tween;if(i!==n){r=n=i;for(var l=0,u=r.length;l<u;++l)if(r[l].name===t){r=r.slice(),r.splice(l,1);break}}s.tween=r}}function CAe(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Ws(this,e),l=i.tween;if(l!==r){s=(r=l).slice();for(var u={name:t,value:n},d=0,f=s.length;d<f;++d)if(s[d].name===t){s[d]=u;break}d===f&&s.push(u)}i.tween=s}}function _Ae(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=As(this.node(),n).tween,s=0,i=r.length,l;s<i;++s)if((l=r[s]).name===e)return l.value;return null}return this.each((t==null?AAe:CAe)(n,e,t))}function HE(e,t,n){var r=e._id;return e.each(function(){var s=Ws(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return As(s,r).value[t]}}function F7(e,t){var n;return(typeof t=="number"?fs:t instanceof Yl?Px:(n=Yl(t))?(t=n,Px):E8)(e,t)}function EAe(e){return function(){this.removeAttribute(e)}}function OAe(e){return function(){this.removeAttributeNS(e.space,e.local)}}function TAe(e,t,n){var r,s=n+"",i;return function(){var l=this.getAttribute(e);return l===s?null:l===r?i:i=t(r=l,n)}}function MAe(e,t,n){var r,s=n+"",i;return function(){var l=this.getAttributeNS(e.space,e.local);return l===s?null:l===r?i:i=t(r=l,n)}}function kAe(e,t,n){var r,s,i;return function(){var l,u=n(this),d;return u==null?void this.removeAttribute(e):(l=this.getAttribute(e),d=u+"",l===d?null:l===r&&d===s?i:(s=d,i=t(r=l,u)))}}function PAe(e,t,n){var r,s,i;return function(){var l,u=n(this),d;return u==null?void this.removeAttributeNS(e.space,e.local):(l=this.getAttributeNS(e.space,e.local),d=u+"",l===d?null:l===r&&d===s?i:(s=d,i=t(r=l,u)))}}function RAe(e,t){var n=eb(e),r=n==="transform"?Mde:F7;return this.attrTween(e,typeof t=="function"?(n.local?PAe:kAe)(n,r,HE(this,"attr."+e,t)):t==null?(n.local?OAe:EAe)(n):(n.local?MAe:TAe)(n,r,t))}function DAe(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function IAe(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function LAe(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&IAe(e,i)),n}return s._value=t,s}function $Ae(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&DAe(e,i)),n}return s._value=t,s}function qAe(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=eb(e);return this.tween(n,(r.local?LAe:$Ae)(r,t))}function zAe(e,t){return function(){UE(this,e).delay=+t.apply(this,arguments)}}function BAe(e,t){return t=+t,function(){UE(this,e).delay=t}}function FAe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zAe:BAe)(t,e)):As(this.node(),t).delay}function UAe(e,t){return function(){Ws(this,e).duration=+t.apply(this,arguments)}}function HAe(e,t){return t=+t,function(){Ws(this,e).duration=t}}function VAe(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?UAe:HAe)(t,e)):As(this.node(),t).duration}function KAe(e,t){if(typeof t!="function")throw new Error;return function(){Ws(this,e).ease=t}}function WAe(e){var t=this._id;return arguments.length?this.each(KAe(t,e)):As(this.node(),t).ease}function YAe(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Ws(this,e).ease=n}}function GAe(e){if(typeof e!="function")throw new Error;return this.each(YAe(this._id,e))}function XAe(e){typeof e!="function"&&(e=A7(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],l=i.length,u=r[s]=[],d,f=0;f<l;++f)(d=i[f])&&e.call(d,d.__data__,f,i)&&u.push(d);return new Ri(r,this._parents,this._name,this._id)}function QAe(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),l=new Array(r),u=0;u<i;++u)for(var d=t[u],f=n[u],p=d.length,m=l[u]=new Array(p),g,v=0;v<p;++v)(g=d[v]||f[v])&&(m[v]=g);for(;u<r;++u)l[u]=t[u];return new Ri(l,this._parents,this._name,this._id)}function ZAe(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function JAe(e,t,n){var r,s,i=ZAe(t)?UE:Ws;return function(){var l=i(this,e),u=l.on;u!==r&&(s=(r=u).copy()).on(t,n),l.on=s}}function e2e(e,t){var n=this._id;return arguments.length<2?As(this.node(),n).on.on(e):this.each(JAe(n,e,t))}function t2e(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function n2e(){return this.on("end.remove",t2e(this._id))}function r2e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=zE(e));for(var r=this._groups,s=r.length,i=new Array(s),l=0;l<s;++l)for(var u=r[l],d=u.length,f=i[l]=new Array(d),p,m,g=0;g<d;++g)(p=u[g])&&(m=e.call(p,p.__data__,g,u))&&("__data__"in p&&(m.__data__=p.__data__),f[g]=m,nb(f[g],t,n,g,f,As(p,n)));return new Ri(i,this._parents,t,n)}function a2e(e){var t=this._name,n=this._id;typeof e!="function"&&(e=S7(e));for(var r=this._groups,s=r.length,i=[],l=[],u=0;u<s;++u)for(var d=r[u],f=d.length,p,m=0;m<f;++m)if(p=d[m]){for(var g=e.call(p,p.__data__,m,d),v,w=As(p,n),y=0,j=g.length;y<j;++y)(v=g[y])&&nb(v,t,n,y,g,w);i.push(g),l.push(p)}return new Ri(i,l,t,n)}var s2e=Fm.prototype.constructor;function i2e(){return new s2e(this._groups,this._parents)}function o2e(e,t){var n,r,s;return function(){var i=ud(this,e),l=(this.style.removeProperty(e),ud(this,e));return i===l?null:i===n&&l===r?s:s=t(n=i,r=l)}}function U7(e){return function(){this.style.removeProperty(e)}}function l2e(e,t,n){var r,s=n+"",i;return function(){var l=ud(this,e);return l===s?null:l===r?i:i=t(r=l,n)}}function c2e(e,t,n){var r,s,i;return function(){var l=ud(this,e),u=n(this),d=u+"";return u==null&&(d=u=(this.style.removeProperty(e),ud(this,e))),l===d?null:l===r&&d===s?i:(s=d,i=t(r=l,u))}}function u2e(e,t){var n,r,s,i="style."+t,l="end."+i,u;return function(){var d=Ws(this,e),f=d.on,p=d.value[i]==null?u||(u=U7(t)):void 0;(f!==n||s!==p)&&(r=(n=f).copy()).on(l,s=p),d.on=r}}function d2e(e,t,n){var r=(e+="")=="transform"?Tde:F7;return t==null?this.styleTween(e,o2e(e,r)).on("end.style."+e,U7(e)):typeof t=="function"?this.styleTween(e,c2e(e,r,HE(this,"style."+e,t))).each(u2e(this._id,e)):this.styleTween(e,l2e(e,r,t),n).on("end.style."+e,null)}function f2e(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function h2e(e,t,n){var r,s;function i(){var l=t.apply(this,arguments);return l!==s&&(r=(s=l)&&f2e(e,l,n)),r}return i._value=t,i}function m2e(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,h2e(e,t,n??""))}function p2e(e){return function(){this.textContent=e}}function g2e(e){return function(){var t=e(this);this.textContent=t??""}}function x2e(e){return this.tween("text",typeof e=="function"?g2e(HE(this,"text",e)):p2e(e==null?"":e+""))}function y2e(e){return function(t){this.textContent=e.call(this,t)}}function v2e(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&y2e(s)),t}return r._value=e,r}function b2e(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,v2e(e))}function j2e(){for(var e=this._name,t=this._id,n=H7(),r=this._groups,s=r.length,i=0;i<s;++i)for(var l=r[i],u=l.length,d,f=0;f<u;++f)if(d=l[f]){var p=As(d,t);nb(d,e,n,f,l,{time:p.time+p.delay+p.duration,delay:0,duration:p.duration,ease:p.ease})}return new Ri(r,this._parents,e,n)}function w2e(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,l){var u={value:l},d={value:function(){--s===0&&i()}};n.each(function(){var f=Ws(this,r),p=f.on;p!==e&&(t=(e=p).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(d)),f.on=t}),s===0&&i()})}var N2e=0;function Ri(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function H7(){return++N2e}var pi=Fm.prototype;Ri.prototype={constructor:Ri,select:r2e,selectAll:a2e,selectChild:pi.selectChild,selectChildren:pi.selectChildren,filter:XAe,merge:QAe,selection:i2e,transition:j2e,call:pi.call,nodes:pi.nodes,node:pi.node,size:pi.size,empty:pi.empty,each:pi.each,on:e2e,attr:RAe,attrTween:qAe,style:d2e,styleTween:m2e,text:x2e,textTween:b2e,remove:n2e,tween:_Ae,delay:FAe,duration:VAe,ease:WAe,easeVarying:GAe,end:w2e,[Symbol.iterator]:pi[Symbol.iterator]};function S2e(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var A2e={time:null,delay:0,duration:250,ease:S2e};function C2e(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function _2e(e){var t,n;e instanceof Ri?(t=e._id,e=e._name):(t=H7(),(n=A2e).time=FE(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var l=r[i],u=l.length,d,f=0;f<u;++f)(d=l[f])&&nb(d,e,t,f,l,n||C2e(d,t));return new Ri(r,this._parents,e,t)}Fm.prototype.interrupt=SAe;Fm.prototype.transition=_2e;const Fg=e=>()=>e;function E2e(e,{sourceEvent:t,target:n,transform:r,dispatch:s}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:s}})}function ji(e,t,n){this.k=e,this.x=t,this.y=n}ji.prototype={constructor:ji,scale:function(e){return e===1?this:new ji(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ji(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var rb=new ji(1,0,0);V7.prototype=ji.prototype;function V7(e){for(;!e.__zoom;)if(!(e=e.parentNode))return rb;return e.__zoom}function JS(e){e.stopImmediatePropagation()}function Yf(e){e.preventDefault(),e.stopImmediatePropagation()}function O2e(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function T2e(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function p$(){return this.__zoom||rb}function M2e(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function k2e(){return navigator.maxTouchPoints||"ontouchstart"in this}function P2e(e,t,n){var r=e.invertX(t[0][0])-n[0][0],s=e.invertX(t[1][0])-n[1][0],i=e.invertY(t[0][1])-n[0][1],l=e.invertY(t[1][1])-n[1][1];return e.translate(s>r?(r+s)/2:Math.min(0,r)||Math.max(0,s),l>i?(i+l)/2:Math.min(0,i)||Math.max(0,l))}function K7(){var e=O2e,t=T2e,n=P2e,r=M2e,s=k2e,i=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],u=250,d=Zg,f=Jv("start","zoom","end"),p,m,g,v=500,w=150,y=0,j=10;function _(L){L.property("__zoom",p$).on("wheel.zoom",P,{passive:!1}).on("mousedown.zoom",$).on("dblclick.zoom",K).filter(s).on("touchstart.zoom",q).on("touchmove.zoom",H).on("touchend.zoom touchcancel.zoom",B).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}_.transform=function(L,D,k,I){var z=L.selection?L.selection():L;z.property("__zoom",p$),L!==z?O(L,D,k,I):z.interrupt().each(function(){M(this,arguments).event(I).start().zoom(null,typeof D=="function"?D.apply(this,arguments):D).end()})},_.scaleBy=function(L,D,k,I){_.scaleTo(L,function(){var z=this.__zoom.k,V=typeof D=="function"?D.apply(this,arguments):D;return z*V},k,I)},_.scaleTo=function(L,D,k,I){_.transform(L,function(){var z=t.apply(this,arguments),V=this.__zoom,Y=k==null?S(z):typeof k=="function"?k.apply(this,arguments):k,U=V.invert(Y),F=typeof D=="function"?D.apply(this,arguments):D;return n(N(C(V,F),Y,U),z,l)},k,I)},_.translateBy=function(L,D,k,I){_.transform(L,function(){return n(this.__zoom.translate(typeof D=="function"?D.apply(this,arguments):D,typeof k=="function"?k.apply(this,arguments):k),t.apply(this,arguments),l)},null,I)},_.translateTo=function(L,D,k,I,z){_.transform(L,function(){var V=t.apply(this,arguments),Y=this.__zoom,U=I==null?S(V):typeof I=="function"?I.apply(this,arguments):I;return n(rb.translate(U[0],U[1]).scale(Y.k).translate(typeof D=="function"?-D.apply(this,arguments):-D,typeof k=="function"?-k.apply(this,arguments):-k),V,l)},I,z)};function C(L,D){return D=Math.max(i[0],Math.min(i[1],D)),D===L.k?L:new ji(D,L.x,L.y)}function N(L,D,k){var I=D[0]-k[0]*L.k,z=D[1]-k[1]*L.k;return I===L.x&&z===L.y?L:new ji(L.k,I,z)}function S(L){return[(+L[0][0]+ +L[1][0])/2,(+L[0][1]+ +L[1][1])/2]}function O(L,D,k,I){L.on("start.zoom",function(){M(this,arguments).event(I).start()}).on("interrupt.zoom end.zoom",function(){M(this,arguments).event(I).end()}).tween("zoom",function(){var z=this,V=arguments,Y=M(z,V).event(I),U=t.apply(z,V),F=k==null?S(U):typeof k=="function"?k.apply(z,V):k,G=Math.max(U[1][0]-U[0][0],U[1][1]-U[0][1]),Z=z.__zoom,ge=typeof D=="function"?D.apply(z,V):D,Se=d(Z.invert(F).concat(G/Z.k),ge.invert(F).concat(G/ge.k));return function(Q){if(Q===1)Q=ge;else{var pe=Se(Q),ce=G/pe[2];Q=new ji(ce,F[0]-pe[0]*ce,F[1]-pe[1]*ce)}Y.zoom(null,Q)}})}function M(L,D,k){return!k&&L.__zooming||new T(L,D)}function T(L,D){this.that=L,this.args=D,this.active=0,this.sourceEvent=null,this.extent=t.apply(L,D),this.taps=0}T.prototype={event:function(L){return L&&(this.sourceEvent=L),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(L,D){return this.mouse&&L!=="mouse"&&(this.mouse[1]=D.invert(this.mouse[0])),this.touch0&&L!=="touch"&&(this.touch0[1]=D.invert(this.touch0[0])),this.touch1&&L!=="touch"&&(this.touch1[1]=D.invert(this.touch1[0])),this.that.__zoom=D,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(L){var D=Na(this.that).datum();f.call(L,this.that,new E2e(L,{sourceEvent:this.sourceEvent,target:_,transform:this.that.__zoom,dispatch:f}),D)}};function P(L,...D){if(!e.apply(this,arguments))return;var k=M(this,D).event(L),I=this.__zoom,z=Math.max(i[0],Math.min(i[1],I.k*Math.pow(2,r.apply(this,arguments)))),V=ds(L);if(k.wheel)(k.mouse[0][0]!==V[0]||k.mouse[0][1]!==V[1])&&(k.mouse[1]=I.invert(k.mouse[0]=V)),clearTimeout(k.wheel);else{if(I.k===z)return;k.mouse=[V,I.invert(V)],rx(this),k.start()}Yf(L),k.wheel=setTimeout(Y,w),k.zoom("mouse",n(N(C(I,z),k.mouse[0],k.mouse[1]),k.extent,l));function Y(){k.wheel=null,k.end()}}function $(L,...D){if(g||!e.apply(this,arguments))return;var k=L.currentTarget,I=M(this,D,!0).event(L),z=Na(L.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",G,!0),V=ds(L,k),Y=L.clientX,U=L.clientY;D7(L.view),JS(L),I.mouse=[V,this.__zoom.invert(V)],rx(this),I.start();function F(Z){if(Yf(Z),!I.moved){var ge=Z.clientX-Y,Se=Z.clientY-U;I.moved=ge*ge+Se*Se>y}I.event(Z).zoom("mouse",n(N(I.that.__zoom,I.mouse[0]=ds(Z,k),I.mouse[1]),I.extent,l))}function G(Z){z.on("mousemove.zoom mouseup.zoom",null),I7(Z.view,I.moved),Yf(Z),I.event(Z).end()}}function K(L,...D){if(e.apply(this,arguments)){var k=this.__zoom,I=ds(L.changedTouches?L.changedTouches[0]:L,this),z=k.invert(I),V=k.k*(L.shiftKey?.5:2),Y=n(N(C(k,V),I,z),t.apply(this,D),l);Yf(L),u>0?Na(this).transition().duration(u).call(O,Y,I,L):Na(this).call(_.transform,Y,I,L)}}function q(L,...D){if(e.apply(this,arguments)){var k=L.touches,I=k.length,z=M(this,D,L.changedTouches.length===I).event(L),V,Y,U,F;for(JS(L),Y=0;Y<I;++Y)U=k[Y],F=ds(U,this),F=[F,this.__zoom.invert(F),U.identifier],z.touch0?!z.touch1&&z.touch0[2]!==F[2]&&(z.touch1=F,z.taps=0):(z.touch0=F,V=!0,z.taps=1+!!p);p&&(p=clearTimeout(p)),V&&(z.taps<2&&(m=F[0],p=setTimeout(function(){p=null},v)),rx(this),z.start())}}function H(L,...D){if(this.__zooming){var k=M(this,D).event(L),I=L.changedTouches,z=I.length,V,Y,U,F;for(Yf(L),V=0;V<z;++V)Y=I[V],U=ds(Y,this),k.touch0&&k.touch0[2]===Y.identifier?k.touch0[0]=U:k.touch1&&k.touch1[2]===Y.identifier&&(k.touch1[0]=U);if(Y=k.that.__zoom,k.touch1){var G=k.touch0[0],Z=k.touch0[1],ge=k.touch1[0],Se=k.touch1[1],Q=(Q=ge[0]-G[0])*Q+(Q=ge[1]-G[1])*Q,pe=(pe=Se[0]-Z[0])*pe+(pe=Se[1]-Z[1])*pe;Y=C(Y,Math.sqrt(Q/pe)),U=[(G[0]+ge[0])/2,(G[1]+ge[1])/2],F=[(Z[0]+Se[0])/2,(Z[1]+Se[1])/2]}else if(k.touch0)U=k.touch0[0],F=k.touch0[1];else return;k.zoom("touch",n(N(Y,U,F),k.extent,l))}}function B(L,...D){if(this.__zooming){var k=M(this,D).event(L),I=L.changedTouches,z=I.length,V,Y;for(JS(L),g&&clearTimeout(g),g=setTimeout(function(){g=null},v),V=0;V<z;++V)Y=I[V],k.touch0&&k.touch0[2]===Y.identifier?delete k.touch0:k.touch1&&k.touch1[2]===Y.identifier&&delete k.touch1;if(k.touch1&&!k.touch0&&(k.touch0=k.touch1,delete k.touch1),k.touch0)k.touch0[1]=this.__zoom.invert(k.touch0[0]);else if(k.end(),k.taps===2&&(Y=ds(Y,this),Math.hypot(m[0]-Y[0],m[1]-Y[1])<j)){var U=Na(this).on("dblclick.zoom");U&&U.apply(this,arguments)}}}return _.wheelDelta=function(L){return arguments.length?(r=typeof L=="function"?L:Fg(+L),_):r},_.filter=function(L){return arguments.length?(e=typeof L=="function"?L:Fg(!!L),_):e},_.touchable=function(L){return arguments.length?(s=typeof L=="function"?L:Fg(!!L),_):s},_.extent=function(L){return arguments.length?(t=typeof L=="function"?L:Fg([[+L[0][0],+L[0][1]],[+L[1][0],+L[1][1]]]),_):t},_.scaleExtent=function(L){return arguments.length?(i[0]=+L[0],i[1]=+L[1],_):[i[0],i[1]]},_.translateExtent=function(L){return arguments.length?(l[0][0]=+L[0][0],l[1][0]=+L[1][0],l[0][1]=+L[0][1],l[1][1]=+L[1][1],_):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},_.constrain=function(L){return arguments.length?(n=L,_):n},_.duration=function(L){return arguments.length?(u=+L,_):u},_.interpolate=function(L){return arguments.length?(d=L,_):d},_.on=function(){var L=f.on.apply(f,arguments);return L===f?_:L},_.clickDistance=function(L){return arguments.length?(y=(L=+L)*L,_):Math.sqrt(y)},_.tapDistance=function(L){return arguments.length?(j=+L,_):j},_}const Fs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>`Node type "${e}" not found. Using fallback type "default".`,error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>`The old edge with id=${e} does not exist.`,error009:e=>`Marker type "${e}" doesn't exist.`,error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>`Couldn't create edge for ${e} handle id: "${e==="source"?n:r}", edge id: ${t}.`,error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>`Edge type "${e}" not found. Using fallback type "default".`,error012:e=>`Node with id "${e}" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.`,error013:(e="react")=>`It seems that you haven't loaded the styles. Please import '@xyflow/${e}/dist/style.css' or base.css to make sure everything is working properly.`,error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},cm=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],W7=["Enter"," ","Escape"],Y7={"node.a11yDescription.default":"Press enter or space to select a node. Press delete to remove it and escape to cancel.","node.a11yDescription.keyboardDisabled":"Press enter or space to select a node. You can then use the arrow keys to move the node around. Press delete to remove it and escape to cancel.","node.a11yDescription.ariaLiveMessage":({direction:e,x:t,y:n})=>`Moved selected node ${e}. New position, x: ${t}, y: ${n}`,"edge.a11yDescription.default":"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.","controls.ariaLabel":"Control Panel","controls.zoomIn.ariaLabel":"Zoom In","controls.zoomOut.ariaLabel":"Zoom Out","controls.fitView.ariaLabel":"Fit View","controls.interactive.ariaLabel":"Toggle Interactivity","minimap.ariaLabel":"Mini Map","handle.ariaLabel":"Handle"};var fd;(function(e){e.Strict="strict",e.Loose="loose"})(fd||(fd={}));var Il;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Il||(Il={}));var um;(function(e){e.Partial="partial",e.Full="full"})(um||(um={}));const G7={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null,pointer:null};var Eo;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(Eo||(Eo={}));var Ey;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(Ey||(Ey={}));var it;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(it||(it={}));const g$={[it.Left]:it.Right,[it.Right]:it.Left,[it.Top]:it.Bottom,[it.Bottom]:it.Top};function X7(e){return e===null?null:e?"valid":"invalid"}const Q7=e=>"id"in e&&"source"in e&&"target"in e,R2e=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),VE=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),Um=(e,t=[0,0])=>{const{width:n,height:r}=Fi(e),s=e.origin??t,i=n*s[0],l=r*s[1];return{x:e.position.x-i,y:e.position.y-l}},D2e=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,s)=>{const i=typeof s=="string";let l=!t.nodeLookup&&!i?s:void 0;t.nodeLookup&&(l=i?t.nodeLookup.get(s):VE(s)?s:t.nodeLookup.get(s.id));const u=l?Oy(l,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return ab(r,u)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return sb(n)},Hm=(e,t={})=>{let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0},r=!1;return e.forEach(s=>{(t.filter===void 0||t.filter(s))&&(n=ab(n,Oy(s)),r=!0)}),r?sb(n):{x:0,y:0,width:0,height:0}},KE=(e,t,[n,r,s]=[0,0,1],i=!1,l=!1)=>{const u={...Km(t,[n,r,s]),width:t.width/s,height:t.height/s},d=[];for(const f of e.values()){const{measured:p,selectable:m=!0,hidden:g=!1}=f;if(l&&!m||g)continue;const v=p.width??f.width??f.initialWidth??null,w=p.height??f.height??f.initialHeight??null,y=dm(u,md(f)),j=(v??0)*(w??0),_=i&&y>0;(!f.internals.handleBounds||_||y>=j||f.dragging)&&d.push(f)}return d},I2e=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function L2e(e,t){const n=new Map,r=t?.nodes?new Set(t.nodes.map(s=>s.id)):null;return e.forEach(s=>{s.measured.width&&s.measured.height&&(t?.includeHiddenNodes||!s.hidden)&&(!r||r.has(s.id))&&n.set(s.id,s)}),n}async function $2e({nodes:e,width:t,height:n,panZoom:r,minZoom:s,maxZoom:i},l){if(e.size===0)return Promise.resolve(!0);const u=L2e(e,l),d=Hm(u),f=WE(d,t,n,l?.minZoom??s,l?.maxZoom??i,l?.padding??.1);return await r.setViewport(f,{duration:l?.duration,ease:l?.ease,interpolate:l?.interpolate}),Promise.resolve(!0)}function Z7({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:s,onError:i}){const l=n.get(e),u=l.parentId?n.get(l.parentId):void 0,{x:d,y:f}=u?u.internals.positionAbsolute:{x:0,y:0},p=l.origin??r;let m=l.extent||s;if(l.extent==="parent"&&!l.expandParent)if(!u)i?.("005",Fs.error005());else{const v=u.measured.width,w=u.measured.height;v&&w&&(m=[[d,f],[d+v,f+w]])}else u&&pd(l.extent)&&(m=[[l.extent[0][0]+d,l.extent[0][1]+f],[l.extent[1][0]+d,l.extent[1][1]+f]]);const g=pd(m)?lc(t,m,l.measured):t;return(l.measured.width===void 0||l.measured.height===void 0)&&i?.("015",Fs.error015()),{position:{x:g.x-d+(l.measured.width??0)*p[0],y:g.y-f+(l.measured.height??0)*p[1]},positionAbsolute:g}}async function q2e({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:s}){const i=new Set(e.map(g=>g.id)),l=[];for(const g of n){if(g.deletable===!1)continue;const v=i.has(g.id),w=!v&&g.parentId&&l.find(y=>y.id===g.parentId);(v||w)&&l.push(g)}const u=new Set(t.map(g=>g.id)),d=r.filter(g=>g.deletable!==!1),p=I2e(l,d);for(const g of d)u.has(g.id)&&!p.find(w=>w.id===g.id)&&p.push(g);if(!s)return{edges:p,nodes:l};const m=await s({nodes:l,edges:p});return typeof m=="boolean"?m?{edges:p,nodes:l}:{edges:[],nodes:[]}:m}const hd=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),lc=(e={x:0,y:0},t,n)=>({x:hd(e.x,t[0][0],t[1][0]-(n?.width??0)),y:hd(e.y,t[0][1],t[1][1]-(n?.height??0))});function J7(e,t,n){const{width:r,height:s}=Fi(n),{x:i,y:l}=n.internals.positionAbsolute;return lc(e,[[i,l],[i+r,l+s]],t)}const x$=(e,t,n)=>e<t?hd(Math.abs(e-t),1,t)/t:e>n?-hd(Math.abs(e-n),1,t)/t:0,eV=(e,t,n=15,r=40)=>{const s=x$(e.x,r,t.width-r)*n,i=x$(e.y,r,t.height-r)*n;return[s,i]},ab=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),gC=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),sb=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),md=(e,t=[0,0])=>{const{x:n,y:r}=VE(e)?e.internals.positionAbsolute:Um(e,t);return{x:n,y:r,width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}},Oy=(e,t=[0,0])=>{const{x:n,y:r}=VE(e)?e.internals.positionAbsolute:Um(e,t);return{x:n,y:r,x2:n+(e.measured?.width??e.width??e.initialWidth??0),y2:r+(e.measured?.height??e.height??e.initialHeight??0)}},tV=(e,t)=>sb(ab(gC(e),gC(t))),dm=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},y$=e=>ms(e.width)&&ms(e.height)&&ms(e.x)&&ms(e.y),ms=e=>!isNaN(e)&&isFinite(e),z2e=(e,t)=>{},Vm=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),Km=({x:e,y:t},[n,r,s],i=!1,l=[1,1])=>{const u={x:(e-n)/s,y:(t-r)/s};return i?Vm(u,l):u},Ty=({x:e,y:t},[n,r,s])=>({x:e*s+n,y:t*s+r});function hu(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error(`[React Flow] The padding value "${e}" is invalid. Please provide a number or a string with a valid unit (px or %).`),0}function B2e(e,t,n){if(typeof e=="string"||typeof e=="number"){const r=hu(e,n),s=hu(e,t);return{top:r,right:s,bottom:r,left:s,x:s*2,y:r*2}}if(typeof e=="object"){const r=hu(e.top??e.y??0,n),s=hu(e.bottom??e.y??0,n),i=hu(e.left??e.x??0,t),l=hu(e.right??e.x??0,t);return{top:r,right:l,bottom:s,left:i,x:i+l,y:r+s}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function F2e(e,t,n,r,s,i){const{x:l,y:u}=Ty(e,[t,n,r]),{x:d,y:f}=Ty({x:e.x+e.width,y:e.y+e.height},[t,n,r]),p=s-d,m=i-f;return{left:Math.floor(l),top:Math.floor(u),right:Math.floor(p),bottom:Math.floor(m)}}const WE=(e,t,n,r,s,i)=>{const l=B2e(i,t,n),u=(t-l.x)/e.width,d=(n-l.y)/e.height,f=Math.min(u,d),p=hd(f,r,s),m=e.x+e.width/2,g=e.y+e.height/2,v=t/2-m*p,w=n/2-g*p,y=F2e(e,v,w,p,t,n),j={left:Math.min(y.left-l.left,0),top:Math.min(y.top-l.top,0),right:Math.min(y.right-l.right,0),bottom:Math.min(y.bottom-l.bottom,0)};return{x:v-j.left+j.right,y:w-j.top+j.bottom,zoom:p}},fm=()=>typeof navigator<"u"&&navigator?.userAgent?.indexOf("Mac")>=0;function pd(e){return e!=null&&e!=="parent"}function Fi(e){return{width:e.measured?.width??e.width??e.initialWidth??0,height:e.measured?.height??e.height??e.initialHeight??0}}function nV(e){return(e.measured?.width??e.width??e.initialWidth)!==void 0&&(e.measured?.height??e.height??e.initialHeight)!==void 0}function rV(e,t={width:0,height:0},n,r,s){const i={...e},l=r.get(n);if(l){const u=l.origin||s;i.x+=l.internals.positionAbsolute.x-(t.width??0)*u[0],i.y+=l.internals.positionAbsolute.y-(t.height??0)*u[1]}return i}function v$(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function U2e(){let e,t;return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}function H2e(e){return{...Y7,...e||{}}}function yh(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:s}){const{x:i,y:l}=ps(e),u=Km({x:i-(s?.left??0),y:l-(s?.top??0)},r),{x:d,y:f}=n?Vm(u,t):u;return{xSnapped:d,ySnapped:f,...u}}const YE=e=>({width:e.offsetWidth,height:e.offsetHeight}),aV=e=>e?.getRootNode?.()||window?.document,V2e=["INPUT","SELECT","TEXTAREA"];function sV(e){const t=e.composedPath?.()?.[0]||e.target;return t?.nodeType!==1?!1:V2e.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const iV=e=>"clientX"in e,ps=(e,t)=>{const n=iV(e),r=n?e.clientX:e.touches?.[0].clientX,s=n?e.clientY:e.touches?.[0].clientY;return{x:r-(t?.left??0),y:s-(t?.top??0)}},b$=(e,t,n,r,s)=>{const i=t.querySelectorAll(`.${e}`);return!i||!i.length?null:Array.from(i).map(l=>{const u=l.getBoundingClientRect();return{id:l.getAttribute("data-handleid"),type:e,nodeId:s,position:l.getAttribute("data-handlepos"),x:(u.left-n.left)/r,y:(u.top-n.top)/r,...YE(l)}})};function oV({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:s,sourceControlY:i,targetControlX:l,targetControlY:u}){const d=e*.125+s*.375+l*.375+n*.125,f=t*.125+i*.375+u*.375+r*.125,p=Math.abs(d-e),m=Math.abs(f-t);return[d,f,p,m]}function Ug(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function j$({pos:e,x1:t,y1:n,x2:r,y2:s,c:i}){switch(e){case it.Left:return[t-Ug(t-r,i),n];case it.Right:return[t+Ug(r-t,i),n];case it.Top:return[t,n-Ug(n-s,i)];case it.Bottom:return[t,n+Ug(s-n,i)]}}function lV({sourceX:e,sourceY:t,sourcePosition:n=it.Bottom,targetX:r,targetY:s,targetPosition:i=it.Top,curvature:l=.25}){const[u,d]=j$({pos:n,x1:e,y1:t,x2:r,y2:s,c:l}),[f,p]=j$({pos:i,x1:r,y1:s,x2:e,y2:t,c:l}),[m,g,v,w]=oV({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:u,sourceControlY:d,targetControlX:f,targetControlY:p});return[`M${e},${t} C${u},${d} ${f},${p} ${r},${s}`,m,g,v,w]}function cV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const s=Math.abs(n-e)/2,i=n<e?n+s:n-s,l=Math.abs(r-t)/2,u=r<t?r+l:r-l;return[i,u,s,l]}function K2e({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r,elevateOnSelect:s=!1}){if(r!==void 0)return r;const i=s&&n?1e3:0,l=Math.max(e.parentId||s&&e.selected?e.internals.z:0,t.parentId||s&&t.selected?t.internals.z:0);return i+l}function W2e({sourceNode:e,targetNode:t,width:n,height:r,transform:s}){const i=ab(Oy(e),Oy(t));i.x===i.x2&&(i.x2+=1),i.y===i.y2&&(i.y2+=1);const l={x:-s[0]/s[2],y:-s[1]/s[2],width:n/s[2],height:r/s[2]};return dm(l,sb(i))>0}const Y2e=({source:e,sourceHandle:t,target:n,targetHandle:r})=>`xy-edge__${e}${t||""}-${n}${r||""}`,G2e=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),uV=(e,t)=>{if(!e.source||!e.target)return t;let n;return Q7(e)?n={...e}:n={...e,id:Y2e(e)},G2e(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function dV({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[s,i,l,u]=cV({sourceX:e,sourceY:t,targetX:n,targetY:r});return[`M ${e},${t}L ${n},${r}`,s,i,l,u]}const w$={[it.Left]:{x:-1,y:0},[it.Right]:{x:1,y:0},[it.Top]:{x:0,y:-1},[it.Bottom]:{x:0,y:1}},X2e=({source:e,sourcePosition:t=it.Bottom,target:n})=>t===it.Left||t===it.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},N$=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function Q2e({source:e,sourcePosition:t=it.Bottom,target:n,targetPosition:r=it.Top,center:s,offset:i,stepPosition:l}){const u=w$[t],d=w$[r],f={x:e.x+u.x*i,y:e.y+u.y*i},p={x:n.x+d.x*i,y:n.y+d.y*i},m=X2e({source:f,sourcePosition:t,target:p}),g=m.x!==0?"x":"y",v=m[g];let w=[],y,j;const _={x:0,y:0},C={x:0,y:0},[,,N,S]=cV({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(u[g]*d[g]===-1){g==="x"?(y=s.x??f.x+(p.x-f.x)*l,j=s.y??(f.y+p.y)/2):(y=s.x??(f.x+p.x)/2,j=s.y??f.y+(p.y-f.y)*l);const M=[{x:y,y:f.y},{x:y,y:p.y}],T=[{x:f.x,y:j},{x:p.x,y:j}];u[g]===v?w=g==="x"?M:T:w=g==="x"?T:M}else{const M=[{x:f.x,y:p.y}],T=[{x:p.x,y:f.y}];if(g==="x"?w=u.x===v?T:M:w=u.y===v?M:T,t===r){const H=Math.abs(e[g]-n[g]);if(H<=i){const B=Math.min(i-1,i-H);u[g]===v?_[g]=(f[g]>e[g]?-1:1)*B:C[g]=(p[g]>n[g]?-1:1)*B}}if(t!==r){const H=g==="x"?"y":"x",B=u[g]===d[H],L=f[H]>p[H],D=f[H]<p[H];(u[g]===1&&(!B&&L||B&&D)||u[g]!==1&&(!B&&D||B&&L))&&(w=g==="x"?M:T)}const P={x:f.x+_.x,y:f.y+_.y},$={x:p.x+C.x,y:p.y+C.y},K=Math.max(Math.abs(P.x-w[0].x),Math.abs($.x-w[0].x)),q=Math.max(Math.abs(P.y-w[0].y),Math.abs($.y-w[0].y));K>=q?(y=(P.x+$.x)/2,j=w[0].y):(y=w[0].x,j=(P.y+$.y)/2)}return[[e,{x:f.x+_.x,y:f.y+_.y},...w,{x:p.x+C.x,y:p.y+C.y},n],y,j,N,S]}function Z2e(e,t,n,r){const s=Math.min(N$(e,t)/2,N$(t,n)/2,r),{x:i,y:l}=t;if(e.x===i&&i===n.x||e.y===l&&l===n.y)return`L${i} ${l}`;if(e.y===l){const f=e.x<n.x?-1:1,p=e.y<n.y?1:-1;return`L ${i+s*f},${l}Q ${i},${l} ${i},${l+s*p}`}const u=e.x<n.x?1:-1,d=e.y<n.y?-1:1;return`L ${i},${l+s*d}Q ${i},${l} ${i+s*u},${l}`}function xC({sourceX:e,sourceY:t,sourcePosition:n=it.Bottom,targetX:r,targetY:s,targetPosition:i=it.Top,borderRadius:l=5,centerX:u,centerY:d,offset:f=20,stepPosition:p=.5}){const[m,g,v,w,y]=Q2e({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:s},targetPosition:i,center:{x:u,y:d},offset:f,stepPosition:p});return[m.reduce((_,C,N)=>{let S="";return N>0&&N<m.length-1?S=Z2e(m[N-1],C,m[N+1],l):S=`${N===0?"M":"L"}${C.x} ${C.y}`,_+=S,_},""),g,v,w,y]}function S$(e){return e&&!!(e.internals.handleBounds||e.handles?.length)&&!!(e.measured.width||e.width||e.initialWidth)}function J2e(e){const{sourceNode:t,targetNode:n}=e;if(!S$(t)||!S$(n))return null;const r=t.internals.handleBounds||A$(t.handles),s=n.internals.handleBounds||A$(n.handles),i=C$(r?.source??[],e.sourceHandle),l=C$(e.connectionMode===fd.Strict?s?.target??[]:(s?.target??[]).concat(s?.source??[]),e.targetHandle);if(!i||!l)return e.onError?.("008",Fs.error008(i?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const u=i?.position||it.Bottom,d=l?.position||it.Top,f=hm(t,i,u),p=hm(n,l,d);return{sourceX:f.x,sourceY:f.y,targetX:p.x,targetY:p.y,sourcePosition:u,targetPosition:d}}function A$(e){if(!e)return null;const t=[],n=[];for(const r of e)r.width=r.width??1,r.height=r.height??1,r.type==="source"?t.push(r):r.type==="target"&&n.push(r);return{source:t,target:n}}function hm(e,t,n=it.Left,r=!1){const s=(t?.x??0)+e.internals.positionAbsolute.x,i=(t?.y??0)+e.internals.positionAbsolute.y,{width:l,height:u}=t??Fi(e);if(r)return{x:s+l/2,y:i+u/2};switch(t?.position??n){case it.Top:return{x:s+l/2,y:i};case it.Right:return{x:s+l,y:i+u/2};case it.Bottom:return{x:s+l/2,y:i+u};case it.Left:return{x:s,y:i+u/2}}}function C$(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function yC(e,t){return e?typeof e=="string"?e:`${t?`${t}__`:""}${Object.keys(e).sort().map(r=>`${r}=${e[r]}`).join("&")}`:""}function eCe(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:s}){const i=new Set;return e.reduce((l,u)=>([u.markerStart||r,u.markerEnd||s].forEach(d=>{if(d&&typeof d=="object"){const f=yC(d,t);i.has(f)||(l.push({id:f,color:d.color||n,...d}),i.add(f))}}),l),[]).sort((l,u)=>l.id.localeCompare(u.id))}const fV=1e3,tCe=10,GE={nodeOrigin:[0,0],nodeExtent:cm,elevateNodesOnSelect:!0,defaults:{}},nCe={...GE,checkEquality:!0};function XE(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function rCe(e,t,n){const r=XE(GE,n);for(const s of e.values())if(s.parentId)QE(s,e,t,r);else{const i=Um(s,r.nodeOrigin),l=pd(s.extent)?s.extent:r.nodeExtent,u=lc(i,l,Fi(s));s.internals.positionAbsolute=u}}function aCe(e,t){if(!e.handles)return e.measured?t?.internals.handleBounds:void 0;const n=[],r=[];for(const s of e.handles){const i={id:s.id,width:s.width??1,height:s.height??1,nodeId:e.id,x:s.x,y:s.y,position:s.position,type:s.type};s.type==="source"?n.push(i):s.type==="target"&&r.push(i)}return{source:n,target:r}}function vC(e,t,n,r){const s=XE(nCe,r);let i={i:-1},l=e.length>0;const u=new Map(t),d=s?.elevateNodesOnSelect?fV:0;t.clear(),n.clear();for(const f of e){let p=u.get(f.id);if(s.checkEquality&&f===p?.internals.userNode)t.set(f.id,p);else{const m=Um(f,s.nodeOrigin),g=pd(f.extent)?f.extent:s.nodeExtent,v=lc(m,g,Fi(f));p={...s.defaults,...f,measured:{width:f.measured?.width,height:f.measured?.height},internals:{positionAbsolute:v,handleBounds:aCe(f,p),z:hV(f,d),userNode:f}},t.set(f.id,p)}(p.measured===void 0||p.measured.width===void 0||p.measured.height===void 0)&&!p.hidden&&(l=!1),f.parentId&&QE(p,t,n,r,i)}return l}function sCe(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function QE(e,t,n,r,s){const{elevateNodesOnSelect:i,nodeOrigin:l,nodeExtent:u}=XE(GE,r),d=e.parentId,f=t.get(d);if(!f){console.warn(`Parent node ${d} not found. Please make sure that parent nodes are in front of their child nodes in the nodes array.`);return}sCe(e,n),s&&!f.parentId&&f.internals.rootParentIndex===void 0&&(f.internals.rootParentIndex=++s.i,f.internals.z=f.internals.z+s.i*tCe),s&&f.internals.rootParentIndex!==void 0&&(s.i=f.internals.rootParentIndex);const p=i?fV:0,{x:m,y:g,z:v}=iCe(e,f,l,u,p),{positionAbsolute:w}=e.internals,y=m!==w.x||g!==w.y;(y||v!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:y?{x:m,y:g}:w,z:v}})}function hV(e,t){return(ms(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function iCe(e,t,n,r,s){const{x:i,y:l}=t.internals.positionAbsolute,u=Fi(e),d=Um(e,n),f=pd(e.extent)?lc(d,e.extent,u):d;let p=lc({x:i+f.x,y:l+f.y},r,u);e.extent==="parent"&&(p=J7(p,u,t));const m=hV(e,s),g=t.internals.z??0;return{x:p.x,y:p.y,z:g>=m?g+1:m}}function ZE(e,t,n,r=[0,0]){const s=[],i=new Map;for(const l of e){const u=t.get(l.parentId);if(!u)continue;const d=i.get(l.parentId)?.expandedRect??md(u),f=tV(d,l.rect);i.set(l.parentId,{expandedRect:f,parent:u})}return i.size>0&&i.forEach(({expandedRect:l,parent:u},d)=>{const f=u.internals.positionAbsolute,p=Fi(u),m=u.origin??r,g=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,v=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,w=Math.max(p.width,Math.round(l.width)),y=Math.max(p.height,Math.round(l.height)),j=(w-p.width)*m[0],_=(y-p.height)*m[1];(g>0||v>0||j||_)&&(s.push({id:d,type:"position",position:{x:u.position.x-g+j,y:u.position.y-v+_}}),n.get(d)?.forEach(C=>{e.some(N=>N.id===C.id)||s.push({id:C.id,type:"position",position:{x:C.position.x+g,y:C.position.y+v}})})),(p.width<l.width||p.height<l.height||g||v)&&s.push({id:d,type:"dimensions",setAttributes:!0,dimensions:{width:w+(g?m[0]*g-j:0),height:y+(v?m[1]*v-_:0)}})}),s}function oCe(e,t,n,r,s,i){const l=r?.querySelector(".xyflow__viewport");let u=!1;if(!l)return{changes:[],updatedInternals:u};const d=[],f=window.getComputedStyle(l),{m22:p}=new window.DOMMatrixReadOnly(f.transform),m=[];for(const g of e.values()){const v=t.get(g.id);if(!v)continue;if(v.hidden){t.set(v.id,{...v,internals:{...v.internals,handleBounds:void 0}}),u=!0;continue}const w=YE(g.nodeElement),y=v.measured.width!==w.width||v.measured.height!==w.height;if(!!(w.width&&w.height&&(y||!v.internals.handleBounds||g.force))){const _=g.nodeElement.getBoundingClientRect(),C=pd(v.extent)?v.extent:i;let{positionAbsolute:N}=v.internals;v.parentId&&v.extent==="parent"?N=J7(N,w,t.get(v.parentId)):C&&(N=lc(N,C,w));const S={...v,measured:w,internals:{...v.internals,positionAbsolute:N,handleBounds:{source:b$("source",g.nodeElement,_,p,v.id),target:b$("target",g.nodeElement,_,p,v.id)}}};t.set(v.id,S),v.parentId&&QE(S,t,n,{nodeOrigin:s}),u=!0,y&&(d.push({id:v.id,type:"dimensions",dimensions:w}),v.expandParent&&v.parentId&&m.push({id:v.id,parentId:v.parentId,rect:md(S,s)}))}}if(m.length>0){const g=ZE(m,t,n,s);d.push(...g)}return{changes:d,updatedInternals:u}}async function lCe({delta:e,panZoom:t,transform:n,translateExtent:r,width:s,height:i}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const l=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[s,i]],r),u=!!l&&(l.x!==n[0]||l.y!==n[1]||l.k!==n[2]);return Promise.resolve(u)}function _$(e,t,n,r,s,i){let l=s;const u=r.get(l)||new Map;r.set(l,u.set(n,t)),l=`${s}-${e}`;const d=r.get(l)||new Map;if(r.set(l,d.set(n,t)),i){l=`${s}-${e}-${i}`;const f=r.get(l)||new Map;r.set(l,f.set(n,t))}}function mV(e,t,n){e.clear(),t.clear();for(const r of n){const{source:s,target:i,sourceHandle:l=null,targetHandle:u=null}=r,d={edgeId:r.id,source:s,target:i,sourceHandle:l,targetHandle:u},f=`${s}-${l}--${i}-${u}`,p=`${i}-${u}--${s}-${l}`;_$("source",d,p,e,s,l),_$("target",d,f,e,i,u),t.set(r.id,r)}}function pV(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:pV(n,t):!1}function E$(e,t,n){let r=e;do{if(r?.matches?.(t))return!0;if(r===n)return!1;r=r?.parentElement}while(r);return!1}function cCe(e,t,n,r){const s=new Map;for(const[i,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!pV(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const u=e.get(i);u&&s.set(i,{id:i,position:u.position||{x:0,y:0},distance:{x:n.x-u.internals.positionAbsolute.x,y:n.y-u.internals.positionAbsolute.y},extent:u.extent,parentId:u.parentId,origin:u.origin,expandParent:u.expandParent,internals:{positionAbsolute:u.internals.positionAbsolute||{x:0,y:0}},measured:{width:u.measured.width??0,height:u.measured.height??0}})}return s}function eA({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){const s=[];for(const[l,u]of t){const d=n.get(l)?.internals.userNode;d&&s.push({...d,position:u.position,dragging:r})}if(!e)return[s[0],s];const i=n.get(e)?.internals.userNode;return[i?{...i,position:t.get(e)?.position||i.position,dragging:r}:s[0],s]}function uCe({dragItems:e,snapGrid:t,x:n,y:r}){const s=e.values().next().value;if(!s)return null;const i={x:n-s.distance.x,y:r-s.distance.y},l=Vm(i,t);return{x:l.x-i.x,y:l.y-i.y}}function dCe({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:s}){let i={x:null,y:null},l=0,u=new Map,d=!1,f={x:0,y:0},p=null,m=!1,g=null,v=!1,w=!1,y=null;function j({noDragClassName:C,handleSelector:N,domNode:S,isSelectable:O,nodeId:M,nodeClickDistance:T=0}){g=Na(S);function P({x:H,y:B}){const{nodeLookup:L,nodeExtent:D,snapGrid:k,snapToGrid:I,nodeOrigin:z,onNodeDrag:V,onSelectionDrag:Y,onError:U,updateNodePositions:F}=t();i={x:H,y:B};let G=!1;const Z=u.size>1,ge=Z&&D?gC(Hm(u)):null,Se=Z&&I?uCe({dragItems:u,snapGrid:k,x:H,y:B}):null;for(const[Q,pe]of u){if(!L.has(Q))continue;let ce={x:H-pe.distance.x,y:B-pe.distance.y};I&&(ce=Se?{x:Math.round(ce.x+Se.x),y:Math.round(ce.y+Se.y)}:Vm(ce,k));let Ae=null;if(Z&&D&&!pe.extent&&ge){const{positionAbsolute:$e}=pe.internals,re=$e.x-ge.x+D[0][0],Oe=$e.x+pe.measured.width-ge.x2+D[1][0],Ue=$e.y-ge.y+D[0][1],rt=$e.y+pe.measured.height-ge.y2+D[1][1];Ae=[[re,Ue],[Oe,rt]]}const{position:_e,positionAbsolute:le}=Z7({nodeId:Q,nextPosition:ce,nodeLookup:L,nodeExtent:Ae||D,nodeOrigin:z,onError:U});G=G||pe.position.x!==_e.x||pe.position.y!==_e.y,pe.position=_e,pe.internals.positionAbsolute=le}if(w=w||G,!!G&&(F(u,!0),y&&(r||V||!M&&Y))){const[Q,pe]=eA({nodeId:M,dragItems:u,nodeLookup:L});r?.(y,u,Q,pe),V?.(y,Q,pe),M||Y?.(y,pe)}}async function $(){if(!p)return;const{transform:H,panBy:B,autoPanSpeed:L,autoPanOnNodeDrag:D}=t();if(!D){d=!1,cancelAnimationFrame(l);return}const[k,I]=eV(f,p,L);(k!==0||I!==0)&&(i.x=(i.x??0)-k/H[2],i.y=(i.y??0)-I/H[2],await B({x:k,y:I})&&P(i)),l=requestAnimationFrame($)}function K(H){const{nodeLookup:B,multiSelectionActive:L,nodesDraggable:D,transform:k,snapGrid:I,snapToGrid:z,selectNodesOnDrag:V,onNodeDragStart:Y,onSelectionDragStart:U,unselectNodesAndEdges:F}=t();m=!0,(!V||!O)&&!L&&M&&(B.get(M)?.selected||F()),O&&V&&M&&e?.(M);const G=yh(H.sourceEvent,{transform:k,snapGrid:I,snapToGrid:z,containerBounds:p});if(i=G,u=cCe(B,D,G,M),u.size>0&&(n||Y||!M&&U)){const[Z,ge]=eA({nodeId:M,dragItems:u,nodeLookup:B});n?.(H.sourceEvent,u,Z,ge),Y?.(H.sourceEvent,Z,ge),M||U?.(H.sourceEvent,ge)}}const q=L7().clickDistance(T).on("start",H=>{const{domNode:B,nodeDragThreshold:L,transform:D,snapGrid:k,snapToGrid:I}=t();p=B?.getBoundingClientRect()||null,v=!1,w=!1,y=H.sourceEvent,L===0&&K(H),i=yh(H.sourceEvent,{transform:D,snapGrid:k,snapToGrid:I,containerBounds:p}),f=ps(H.sourceEvent,p)}).on("drag",H=>{const{autoPanOnNodeDrag:B,transform:L,snapGrid:D,snapToGrid:k,nodeDragThreshold:I,nodeLookup:z}=t(),V=yh(H.sourceEvent,{transform:L,snapGrid:D,snapToGrid:k,containerBounds:p});if(y=H.sourceEvent,(H.sourceEvent.type==="touchmove"&&H.sourceEvent.touches.length>1||M&&!z.has(M))&&(v=!0),!v){if(!d&&B&&m&&(d=!0,$()),!m){const Y=ps(H.sourceEvent,p),U=Y.x-f.x,F=Y.y-f.y;Math.sqrt(U*U+F*F)>I&&K(H)}(i.x!==V.xSnapped||i.y!==V.ySnapped)&&u&&m&&(f=ps(H.sourceEvent,p),P(V))}}).on("end",H=>{if(!(!m||v)&&(d=!1,m=!1,cancelAnimationFrame(l),u.size>0)){const{nodeLookup:B,updateNodePositions:L,onNodeDragStop:D,onSelectionDragStop:k}=t();if(w&&(L(u,!1),w=!1),s||D||!M&&k){const[I,z]=eA({nodeId:M,dragItems:u,nodeLookup:B,dragging:!1});s?.(H.sourceEvent,u,I,z),D?.(H.sourceEvent,I,z),M||k?.(H.sourceEvent,z)}}}).filter(H=>{const B=H.target;return!H.button&&(!C||!E$(B,`.${C}`,S))&&(!N||E$(B,N,S))});g.call(q)}function _(){g?.on(".drag",null)}return{update:j,destroy:_}}function fCe(e,t,n){const r=[],s={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const i of t.values())dm(s,md(i))>0&&r.push(i);return r}const hCe=250;function mCe(e,t,n,r){let s=[],i=1/0;const l=fCe(e,n,t+hCe);for(const u of l){const d=[...u.internals.handleBounds?.source??[],...u.internals.handleBounds?.target??[]];for(const f of d){if(r.nodeId===f.nodeId&&r.type===f.type&&r.id===f.id)continue;const{x:p,y:m}=hm(u,f,f.position,!0),g=Math.sqrt(Math.pow(p-e.x,2)+Math.pow(m-e.y,2));g>t||(g<i?(s=[{...f,x:p,y:m}],i=g):g===i&&s.push({...f,x:p,y:m}))}}if(!s.length)return null;if(s.length>1){const u=r.type==="source"?"target":"source";return s.find(d=>d.type===u)??s[0]}return s[0]}function gV(e,t,n,r,s,i=!1){const l=r.get(e);if(!l)return null;const u=s==="strict"?l.internals.handleBounds?.[t]:[...l.internals.handleBounds?.source??[],...l.internals.handleBounds?.target??[]],d=(n?u?.find(f=>f.id===n):u?.[0])??null;return d&&i?{...d,...hm(l,d,d.position,!0)}:d}function xV(e,t){return e||(t?.classList.contains("target")?"target":t?.classList.contains("source")?"source":null)}function pCe(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const yV=()=>!0;function gCe(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:s,edgeUpdaterType:i,isTarget:l,domNode:u,nodeLookup:d,lib:f,autoPanOnConnect:p,flowId:m,panBy:g,cancelConnection:v,onConnectStart:w,onConnect:y,onConnectEnd:j,isValidConnection:_=yV,onReconnectEnd:C,updateConnection:N,getTransform:S,getFromHandle:O,autoPanSpeed:M,dragThreshold:T=1,handleDomNode:P}){const $=aV(e.target);let K=0,q;const{x:H,y:B}=ps(e),L=xV(i,P),D=u?.getBoundingClientRect();let k=!1;if(!D||!L)return;const I=gV(s,L,r,d,t);if(!I)return;let z=ps(e,D),V=!1,Y=null,U=!1,F=null;function G(){if(!p||!D)return;const[_e,le]=eV(z,D,M);g({x:_e,y:le}),K=requestAnimationFrame(G)}const Z={...I,nodeId:s,type:L,position:I.position},ge=d.get(s);let Q={inProgress:!0,isValid:null,from:hm(ge,Z,it.Left,!0),fromHandle:Z,fromPosition:Z.position,fromNode:ge,to:z,toHandle:null,toPosition:g$[Z.position],toNode:null,pointer:z};function pe(){k=!0,N(Q),w?.(e,{nodeId:s,handleId:r,handleType:L})}T===0&&pe();function ce(_e){if(!k){const{x:Oe,y:Ue}=ps(_e),rt=Oe-H,en=Ue-B;if(!(rt*rt+en*en>T*T))return;pe()}if(!O()||!Z){Ae(_e);return}const le=S();z=ps(_e,D),q=mCe(Km(z,le,!1,[1,1]),n,d,Z),V||(G(),V=!0);const $e=vV(_e,{handle:q,connectionMode:t,fromNodeId:s,fromHandleId:r,fromType:l?"target":"source",isValidConnection:_,doc:$,lib:f,flowId:m,nodeLookup:d});F=$e.handleDomNode,Y=$e.connection,U=pCe(!!q,$e.isValid);const re={...Q,isValid:U,to:$e.toHandle&&U?Ty({x:$e.toHandle.x,y:$e.toHandle.y},le):z,toHandle:$e.toHandle,toPosition:U&&$e.toHandle?$e.toHandle.position:g$[Z.position],toNode:$e.toHandle?d.get($e.toHandle.nodeId):null,pointer:z};N(re),Q=re}function Ae(_e){if(!("touches"in _e&&_e.touches.length>0)){if(k){(q||F)&&Y&&U&&y?.(Y);const{inProgress:le,...$e}=Q,re={...$e,toPosition:Q.toHandle?Q.toPosition:null};j?.(_e,re),i&&C?.(_e,re)}v(),cancelAnimationFrame(K),V=!1,U=!1,Y=null,F=null,$.removeEventListener("mousemove",ce),$.removeEventListener("mouseup",Ae),$.removeEventListener("touchmove",ce),$.removeEventListener("touchend",Ae)}}$.addEventListener("mousemove",ce),$.addEventListener("mouseup",Ae),$.addEventListener("touchmove",ce),$.addEventListener("touchend",Ae)}function vV(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:s,fromType:i,doc:l,lib:u,flowId:d,isValidConnection:f=yV,nodeLookup:p}){const m=i==="target",g=t?l.querySelector(`.${u}-flow__handle[data-id="${d}-${t?.nodeId}-${t?.id}-${t?.type}"]`):null,{x:v,y:w}=ps(e),y=l.elementFromPoint(v,w),j=y?.classList.contains(`${u}-flow__handle`)?y:g,_={handleDomNode:j,isValid:!1,connection:null,toHandle:null};if(j){const C=xV(void 0,j),N=j.getAttribute("data-nodeid"),S=j.getAttribute("data-handleid"),O=j.classList.contains("connectable"),M=j.classList.contains("connectableend");if(!N||!C)return _;const T={source:m?N:r,sourceHandle:m?S:s,target:m?r:N,targetHandle:m?s:S};_.connection=T;const $=O&&M&&(n===fd.Strict?m&&C==="source"||!m&&C==="target":N!==r||S!==s);_.isValid=$&&f(T),_.toHandle=gV(N,C,S,p,n,!0)}return _}const bC={onPointerDown:gCe,isValid:vV};function xCe({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const s=Na(e);function i({translateExtent:u,width:d,height:f,zoomStep:p=1,pannable:m=!0,zoomable:g=!0,inversePan:v=!1}){const w=N=>{if(N.sourceEvent.type!=="wheel"||!t)return;const S=n(),O=N.sourceEvent.ctrlKey&&fm()?10:1,M=-N.sourceEvent.deltaY*(N.sourceEvent.deltaMode===1?.05:N.sourceEvent.deltaMode?1:.002)*p,T=S[2]*Math.pow(2,M*O);t.scaleTo(T)};let y=[0,0];const j=N=>{(N.sourceEvent.type==="mousedown"||N.sourceEvent.type==="touchstart")&&(y=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY])},_=N=>{const S=n();if(N.sourceEvent.type!=="mousemove"&&N.sourceEvent.type!=="touchmove"||!t)return;const O=[N.sourceEvent.clientX??N.sourceEvent.touches[0].clientX,N.sourceEvent.clientY??N.sourceEvent.touches[0].clientY],M=[O[0]-y[0],O[1]-y[1]];y=O;const T=r()*Math.max(S[2],Math.log(S[2]))*(v?-1:1),P={x:S[0]-M[0]*T,y:S[1]-M[1]*T},$=[[0,0],[d,f]];t.setViewportConstrained({x:P.x,y:P.y,zoom:S[2]},$,u)},C=K7().on("start",j).on("zoom",m?_:null).on("zoom.wheel",g?w:null);s.call(C,{})}function l(){s.on("zoom",null)}return{update:i,destroy:l,pointer:ds}}const ib=e=>({x:e.x,y:e.y,zoom:e.k}),tA=({x:e,y:t,zoom:n})=>rb.translate(e,t).scale(n),bu=(e,t)=>e.target.closest(`.${t}`),bV=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),yCe=e=>((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2,nA=(e,t=0,n=yCe,r=()=>{})=>{const s=typeof t=="number"&&t>0;return s||r(),s?e.transition().duration(t).ease(n).on("end",r):e},jV=e=>{const t=e.ctrlKey&&fm()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function vCe({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:s,panOnScrollSpeed:i,zoomOnPinch:l,onPanZoomStart:u,onPanZoom:d,onPanZoomEnd:f}){return p=>{if(bu(p,t))return p.ctrlKey&&p.preventDefault(),!1;p.preventDefault(),p.stopImmediatePropagation();const m=n.property("__zoom").k||1;if(p.ctrlKey&&l){const j=ds(p),_=jV(p),C=m*Math.pow(2,_);r.scaleTo(n,C,j,p);return}const g=p.deltaMode===1?20:1;let v=s===Il.Vertical?0:p.deltaX*g,w=s===Il.Horizontal?0:p.deltaY*g;!fm()&&p.shiftKey&&s!==Il.Vertical&&(v=p.deltaY*g,w=0),r.translateBy(n,-(v/m)*i,-(w/m)*i,{internal:!0});const y=ib(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling?(d?.(p,y),e.panScrollTimeout=setTimeout(()=>{f?.(p,y),e.isPanScrolling=!1},150)):(e.isPanScrolling=!0,u?.(p,y))}}function bCe({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,s){const i=r.type==="wheel",l=!t&&i&&!r.ctrlKey,u=bu(r,e);if(r.ctrlKey&&i&&u&&r.preventDefault(),l||u)return null;r.preventDefault(),n.call(this,r,s)}}function jCe({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{if(r.sourceEvent?.internal)return;const s=ib(r.transform);e.mouseButton=r.sourceEvent?.button||0,e.isZoomingOrPanning=!0,e.prevViewport=s,r.sourceEvent?.type==="mousedown"&&t(!0),n&&n?.(r.sourceEvent,s)}}function wCe({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:s}){return i=>{e.usedRightMouseButton=!!(n&&bV(t,e.mouseButton??0)),i.sourceEvent?.sync||r([i.transform.x,i.transform.y,i.transform.k]),s&&!i.sourceEvent?.internal&&s?.(i.sourceEvent,ib(i.transform))}}function NCe({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:s,onPaneContextMenu:i}){return l=>{if(!l.sourceEvent?.internal&&(e.isZoomingOrPanning=!1,i&&bV(t,e.mouseButton??0)&&!e.usedRightMouseButton&&l.sourceEvent&&i(l.sourceEvent),e.usedRightMouseButton=!1,r(!1),s)){const u=ib(l.transform);e.prevViewport=u,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{s?.(l.sourceEvent,u)},n?150:0)}}}function SCe({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:s,zoomOnDoubleClick:i,userSelectionActive:l,noWheelClassName:u,noPanClassName:d,lib:f,connectionInProgress:p}){return m=>{const g=e||t,v=n&&m.ctrlKey,w=m.type==="wheel";if(m.button===1&&m.type==="mousedown"&&(bu(m,`${f}-flow__node`)||bu(m,`${f}-flow__edge`)))return!0;if(!r&&!g&&!s&&!i&&!n||l||p&&!w||bu(m,u)&&w||bu(m,d)&&(!w||s&&w&&!e)||!n&&m.ctrlKey&&w)return!1;if(!n&&m.type==="touchstart"&&m.touches?.length>1)return m.preventDefault(),!1;if(!g&&!s&&!v&&w||!r&&(m.type==="mousedown"||m.type==="touchstart")||Array.isArray(r)&&!r.includes(m.button)&&m.type==="mousedown")return!1;const y=Array.isArray(r)&&r.includes(m.button)||!m.button||m.button<=1;return(!m.ctrlKey||w)&&y}}function ACe({domNode:e,minZoom:t,maxZoom:n,translateExtent:r,viewport:s,onPanZoom:i,onPanZoomStart:l,onPanZoomEnd:u,onDraggingChange:d}){const f={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},p=e.getBoundingClientRect(),m=K7().scaleExtent([t,n]).translateExtent(r),g=Na(e).call(m);C({x:s.x,y:s.y,zoom:hd(s.zoom,t,n)},[[0,0],[p.width,p.height]],r);const v=g.on("wheel.zoom"),w=g.on("dblclick.zoom");m.wheelDelta(jV);function y(q,H){return g?new Promise(B=>{m?.interpolate(H?.interpolate==="linear"?Ni:Zg).transform(nA(g,H?.duration,H?.ease,()=>B(!0)),q)}):Promise.resolve(!1)}function j({noWheelClassName:q,noPanClassName:H,onPaneContextMenu:B,userSelectionActive:L,panOnScroll:D,panOnDrag:k,panOnScrollMode:I,panOnScrollSpeed:z,preventScrolling:V,zoomOnPinch:Y,zoomOnScroll:U,zoomOnDoubleClick:F,zoomActivationKeyPressed:G,lib:Z,onTransformChange:ge,connectionInProgress:Se,paneClickDistance:Q,selectionOnDrag:pe}){L&&!f.isZoomingOrPanning&&_();const ce=D&&!G&&!L;m.clickDistance(pe?1/0:!ms(Q)||Q<0?0:Q);const Ae=ce?vCe({zoomPanValues:f,noWheelClassName:q,d3Selection:g,d3Zoom:m,panOnScrollMode:I,panOnScrollSpeed:z,zoomOnPinch:Y,onPanZoomStart:l,onPanZoom:i,onPanZoomEnd:u}):bCe({noWheelClassName:q,preventScrolling:V,d3ZoomHandler:v});if(g.on("wheel.zoom",Ae,{passive:!1}),!L){const le=jCe({zoomPanValues:f,onDraggingChange:d,onPanZoomStart:l});m.on("start",le);const $e=wCe({zoomPanValues:f,panOnDrag:k,onPaneContextMenu:!!B,onPanZoom:i,onTransformChange:ge});m.on("zoom",$e);const re=NCe({zoomPanValues:f,panOnDrag:k,panOnScroll:D,onPaneContextMenu:B,onPanZoomEnd:u,onDraggingChange:d});m.on("end",re)}const _e=SCe({zoomActivationKeyPressed:G,panOnDrag:k,zoomOnScroll:U,panOnScroll:D,zoomOnDoubleClick:F,zoomOnPinch:Y,userSelectionActive:L,noPanClassName:H,noWheelClassName:q,lib:Z,connectionInProgress:Se});m.filter(_e),F?g.on("dblclick.zoom",w):g.on("dblclick.zoom",null)}function _(){m.on("zoom",null)}async function C(q,H,B){const L=tA(q),D=m?.constrain()(L,H,B);return D&&await y(D),new Promise(k=>k(D))}async function N(q,H){const B=tA(q);return await y(B,H),new Promise(L=>L(B))}function S(q){if(g){const H=tA(q),B=g.property("__zoom");(B.k!==q.zoom||B.x!==q.x||B.y!==q.y)&&m?.transform(g,H,null,{sync:!0})}}function O(){const q=g?V7(g.node()):{x:0,y:0,k:1};return{x:q.x,y:q.y,zoom:q.k}}function M(q,H){return g?new Promise(B=>{m?.interpolate(H?.interpolate==="linear"?Ni:Zg).scaleTo(nA(g,H?.duration,H?.ease,()=>B(!0)),q)}):Promise.resolve(!1)}function T(q,H){return g?new Promise(B=>{m?.interpolate(H?.interpolate==="linear"?Ni:Zg).scaleBy(nA(g,H?.duration,H?.ease,()=>B(!0)),q)}):Promise.resolve(!1)}function P(q){m?.scaleExtent(q)}function $(q){m?.translateExtent(q)}function K(q){const H=!ms(q)||q<0?0:q;m?.clickDistance(H)}return{update:j,destroy:_,setViewport:N,setViewportConstrained:C,getViewport:O,scaleTo:M,scaleBy:T,setScaleExtent:P,setTranslateExtent:$,syncViewport:S,setClickDistance:K}}var gd;(function(e){e.Line="line",e.Handle="handle"})(gd||(gd={}));function CCe({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:s,affectsY:i}){const l=e-t,u=n-r,d=[l>0?1:l<0?-1:0,u>0?1:u<0?-1:0];return l&&s&&(d[0]=d[0]*-1),u&&i&&(d[1]=d[1]*-1),d}function O$(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),s=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:s}}function bo(e,t){return Math.max(0,t-e)}function jo(e,t){return Math.max(0,e-t)}function Hg(e,t,n){return Math.max(0,t-e,e-n)}function T$(e,t){return e?!t:t}function _Ce(e,t,n,r,s,i,l,u){let{affectsX:d,affectsY:f}=t;const{isHorizontal:p,isVertical:m}=t,g=p&&m,{xSnapped:v,ySnapped:w}=n,{minWidth:y,maxWidth:j,minHeight:_,maxHeight:C}=r,{x:N,y:S,width:O,height:M,aspectRatio:T}=e;let P=Math.floor(p?v-e.pointerX:0),$=Math.floor(m?w-e.pointerY:0);const K=O+(d?-P:P),q=M+(f?-$:$),H=-i[0]*O,B=-i[1]*M;let L=Hg(K,y,j),D=Hg(q,_,C);if(l){let z=0,V=0;d&&P<0?z=bo(N+P+H,l[0][0]):!d&&P>0&&(z=jo(N+K+H,l[1][0])),f&&$<0?V=bo(S+$+B,l[0][1]):!f&&$>0&&(V=jo(S+q+B,l[1][1])),L=Math.max(L,z),D=Math.max(D,V)}if(u){let z=0,V=0;d&&P>0?z=jo(N+P,u[0][0]):!d&&P<0&&(z=bo(N+K,u[1][0])),f&&$>0?V=jo(S+$,u[0][1]):!f&&$<0&&(V=bo(S+q,u[1][1])),L=Math.max(L,z),D=Math.max(D,V)}if(s){if(p){const z=Hg(K/T,_,C)*T;if(L=Math.max(L,z),l){let V=0;!d&&!f||d&&!f&&g?V=jo(S+B+K/T,l[1][1])*T:V=bo(S+B+(d?P:-P)/T,l[0][1])*T,L=Math.max(L,V)}if(u){let V=0;!d&&!f||d&&!f&&g?V=bo(S+K/T,u[1][1])*T:V=jo(S+(d?P:-P)/T,u[0][1])*T,L=Math.max(L,V)}}if(m){const z=Hg(q*T,y,j)/T;if(D=Math.max(D,z),l){let V=0;!d&&!f||f&&!d&&g?V=jo(N+q*T+H,l[1][0])/T:V=bo(N+(f?$:-$)*T+H,l[0][0])/T,D=Math.max(D,V)}if(u){let V=0;!d&&!f||f&&!d&&g?V=bo(N+q*T,u[1][0])/T:V=jo(N+(f?$:-$)*T,u[0][0])/T,D=Math.max(D,V)}}}$=$+($<0?D:-D),P=P+(P<0?L:-L),s&&(g?K>q*T?$=(T$(d,f)?-P:P)/T:P=(T$(d,f)?-$:$)*T:p?($=P/T,f=d):(P=$*T,d=f));const k=d?N+P:N,I=f?S+$:S;return{width:O+(d?-P:P),height:M+(f?-$:$),x:i[0]*P*(d?-1:1)+k,y:i[1]*$*(f?-1:1)+I}}const wV={width:0,height:0,x:0,y:0},ECe={...wV,pointerX:0,pointerY:0,aspectRatio:1};function OCe(e){return[[0,0],[e.measured.width,e.measured.height]]}function TCe(e,t,n){const r=t.position.x+e.position.x,s=t.position.y+e.position.y,i=e.measured.width??0,l=e.measured.height??0,u=n[0]*i,d=n[1]*l;return[[r-u,s-d],[r+i-u,s+l-d]]}function MCe({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:s}){const i=Na(e);let l={controlDirection:O$("bottom-right"),boundaries:{minWidth:0,minHeight:0,maxWidth:Number.MAX_VALUE,maxHeight:Number.MAX_VALUE},resizeDirection:void 0,keepAspectRatio:!1};function u({controlPosition:f,boundaries:p,keepAspectRatio:m,resizeDirection:g,onResizeStart:v,onResize:w,onResizeEnd:y,shouldResize:j}){let _={...wV},C={...ECe};l={boundaries:p,resizeDirection:g,keepAspectRatio:m,controlDirection:O$(f)};let N,S=null,O=[],M,T,P,$=!1;const K=L7().on("start",q=>{const{nodeLookup:H,transform:B,snapGrid:L,snapToGrid:D,nodeOrigin:k,paneDomNode:I}=n();if(N=H.get(t),!N)return;S=I?.getBoundingClientRect()??null;const{xSnapped:z,ySnapped:V}=yh(q.sourceEvent,{transform:B,snapGrid:L,snapToGrid:D,containerBounds:S});_={width:N.measured.width??0,height:N.measured.height??0,x:N.position.x??0,y:N.position.y??0},C={..._,pointerX:z,pointerY:V,aspectRatio:_.width/_.height},M=void 0,N.parentId&&(N.extent==="parent"||N.expandParent)&&(M=H.get(N.parentId),T=M&&N.extent==="parent"?OCe(M):void 0),O=[],P=void 0;for(const[Y,U]of H)if(U.parentId===t&&(O.push({id:Y,position:{...U.position},extent:U.extent}),U.extent==="parent"||U.expandParent)){const F=TCe(U,N,U.origin??k);P?P=[[Math.min(F[0][0],P[0][0]),Math.min(F[0][1],P[0][1])],[Math.max(F[1][0],P[1][0]),Math.max(F[1][1],P[1][1])]]:P=F}v?.(q,{..._})}).on("drag",q=>{const{transform:H,snapGrid:B,snapToGrid:L,nodeOrigin:D}=n(),k=yh(q.sourceEvent,{transform:H,snapGrid:B,snapToGrid:L,containerBounds:S}),I=[];if(!N)return;const{x:z,y:V,width:Y,height:U}=_,F={},G=N.origin??D,{width:Z,height:ge,x:Se,y:Q}=_Ce(C,l.controlDirection,k,l.boundaries,l.keepAspectRatio,G,T,P),pe=Z!==Y,ce=ge!==U,Ae=Se!==z&&pe,_e=Q!==V&&ce;if(!Ae&&!_e&&!pe&&!ce)return;if((Ae||_e||G[0]===1||G[1]===1)&&(F.x=Ae?Se:_.x,F.y=_e?Q:_.y,_.x=F.x,_.y=F.y,O.length>0)){const Oe=Se-z,Ue=Q-V;for(const rt of O)rt.position={x:rt.position.x-Oe+G[0]*(Z-Y),y:rt.position.y-Ue+G[1]*(ge-U)},I.push(rt)}if((pe||ce)&&(F.width=pe&&(!l.resizeDirection||l.resizeDirection==="horizontal")?Z:_.width,F.height=ce&&(!l.resizeDirection||l.resizeDirection==="vertical")?ge:_.height,_.width=F.width,_.height=F.height),M&&N.expandParent){const Oe=G[0]*(F.width??0);F.x&&F.x<Oe&&(_.x=Oe,C.x=C.x-(F.x-Oe));const Ue=G[1]*(F.height??0);F.y&&F.y<Ue&&(_.y=Ue,C.y=C.y-(F.y-Ue))}const le=CCe({width:_.width,prevWidth:Y,height:_.height,prevHeight:U,affectsX:l.controlDirection.affectsX,affectsY:l.controlDirection.affectsY}),$e={..._,direction:le};j?.(q,$e)!==!1&&($=!0,w?.(q,$e),r(F,I))}).on("end",q=>{$&&(y?.(q,{..._}),s?.({..._}),$=!1)});i.call(K)}function d(){i.on(".drag",null)}return{update:u,destroy:d}}var rA={exports:{}},aA={};var M$;function kCe(){if(M$)return aA;M$=1;var e=gm(),t=g6();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,i=e.useRef,l=e.useEffect,u=e.useMemo,d=e.useDebugValue;return aA.useSyncExternalStoreWithSelector=function(f,p,m,g,v){var w=i(null);if(w.current===null){var y={hasValue:!1,value:null};w.current=y}else y=w.current;w=u(function(){function _(M){if(!C){if(C=!0,N=M,M=g(M),v!==void 0&&y.hasValue){var T=y.value;if(v(T,M))return S=T}return S=M}if(T=S,r(N,M))return T;var P=g(M);return v!==void 0&&v(T,P)?(N=M,T):(N=M,S=P)}var C=!1,N,S,O=m===void 0?null:m;return[function(){return _(p())},O===null?void 0:function(){return _(O())}]},[p,m,g,v]);var j=s(f,w[0],w[1]);return l(function(){y.hasValue=!0,y.value=j},[j]),d(j),j},aA}var k$;function PCe(){return k$||(k$=1,rA.exports=kCe()),rA.exports}var RCe=PCe();const DCe=Wt(RCe),ICe={},P$=e=>{let t;const n=new Set,r=(p,m)=>{const g=typeof p=="function"?p(t):p;if(!Object.is(g,t)){const v=t;t=m??(typeof g!="object"||g===null)?g:Object.assign({},t,g),n.forEach(w=>w(t,v))}},s=()=>t,d={setState:r,getState:s,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(ICe?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=t=e(r,s,d);return d},LCe=e=>e?P$(e):P$,{useDebugValue:$Ce}=X,{useSyncExternalStoreWithSelector:qCe}=DCe,zCe=e=>e;function NV(e,t=zCe,n){const r=qCe(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return $Ce(r),r}const R$=(e,t)=>{const n=LCe(e),r=(s,i=t)=>NV(n,s,i);return Object.assign(r,n),r},BCe=(e,t)=>e?R$(e,t):R$;function Dn(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const ob=b.createContext(null),FCe=ob.Provider,SV=Fs.error001();function Lt(e,t){const n=b.useContext(ob);if(n===null)throw new Error(SV);return NV(n,e,t)}function On(){const e=b.useContext(ob);if(e===null)throw new Error(SV);return b.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const D$={display:"none"},UCe={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},AV="react-flow__node-desc",CV="react-flow__edge-desc",HCe="react-flow__aria-live",VCe=e=>e.ariaLiveMessage,KCe=e=>e.ariaLabelConfig;function WCe({rfId:e}){const t=Lt(VCe);return a.jsx("div",{id:`${HCe}-${e}`,"aria-live":"assertive","aria-atomic":"true",style:UCe,children:t})}function YCe({rfId:e,disableKeyboardA11y:t}){const n=Lt(KCe);return a.jsxs(a.Fragment,{children:[a.jsx("div",{id:`${AV}-${e}`,style:D$,children:t?n["node.a11yDescription.default"]:n["node.a11yDescription.keyboardDisabled"]}),a.jsx("div",{id:`${CV}-${e}`,style:D$,children:n["edge.a11yDescription.default"]}),!t&&a.jsx(WCe,{rfId:e})]})}const lb=b.forwardRef(({position:e="top-left",children:t,className:n,style:r,...s},i)=>{const l=`${e}`.split("-");return a.jsx("div",{className:tr(["react-flow__panel",n,...l]),style:r,ref:i,...s,children:t})});lb.displayName="Panel";function GCe({proOptions:e,position:t="bottom-right"}){return e?.hideAttribution?null:a.jsx(lb,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:a.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const XCe=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},Vg=e=>e.id;function QCe(e,t){return Dn(e.selectedNodes.map(Vg),t.selectedNodes.map(Vg))&&Dn(e.selectedEdges.map(Vg),t.selectedEdges.map(Vg))}function ZCe({onSelectionChange:e}){const t=On(),{selectedNodes:n,selectedEdges:r}=Lt(XCe,QCe);return b.useEffect(()=>{const s={nodes:n,edges:r};e?.(s),t.getState().onSelectionChangeHandlers.forEach(i=>i(s))},[n,r,e]),null}const JCe=e=>!!e.onSelectionChangeHandlers;function e_e({onSelectionChange:e}){const t=Lt(JCe);return e||t?a.jsx(ZCe,{onSelectionChange:e}):null}const _V=[0,0],t_e={x:0,y:0,zoom:1},n_e=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","autoPanOnNodeFocus","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","connectionDragThreshold","onBeforeDelete","debug","autoPanSpeed","ariaLabelConfig"],I$=[...n_e,"rfId"],r_e=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges}),L$={translateExtent:cm,nodeOrigin:_V,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1"};function a_e(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:s,setTranslateExtent:i,setNodeExtent:l,reset:u,setDefaultNodesAndEdges:d}=Lt(r_e,Dn),f=On();b.useEffect(()=>(d(e.defaultNodes,e.defaultEdges),()=>{p.current=L$,u()}),[]);const p=b.useRef(L$);return b.useEffect(()=>{for(const m of I$){const g=e[m],v=p.current[m];g!==v&&(typeof e[m]>"u"||(m==="nodes"?t(g):m==="edges"?n(g):m==="minZoom"?r(g):m==="maxZoom"?s(g):m==="translateExtent"?i(g):m==="nodeExtent"?l(g):m==="ariaLabelConfig"?f.setState({ariaLabelConfig:H2e(g)}):m==="fitView"?f.setState({fitViewQueued:g}):m==="fitViewOptions"?f.setState({fitViewOptions:g}):f.setState({[m]:g})))}p.current=e},I$.map(m=>e[m])),null}function $$(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function s_e(e){const[t,n]=b.useState(e==="system"?null:e);return b.useEffect(()=>{if(e!=="system"){n(e);return}const r=$$(),s=()=>n(r?.matches?"dark":"light");return s(),r?.addEventListener("change",s),()=>{r?.removeEventListener("change",s)}},[e]),t!==null?t:$$()?.matches?"dark":"light"}const q$=typeof document<"u"?document:null;function mm(e=null,t={target:q$,actInsideInputWithModifier:!0}){const[n,r]=b.useState(!1),s=b.useRef(!1),i=b.useRef(new Set([])),[l,u]=b.useMemo(()=>{if(e!==null){const f=(Array.isArray(e)?e:[e]).filter(m=>typeof m=="string").map(m=>m.replace("+",`
`).replace(`

`,`
+`).split(`
`)),p=f.reduce((m,g)=>m.concat(...g),[]);return[f,p]}return[[],[]]},[e]);return b.useEffect(()=>{const d=t?.target??q$,f=t?.actInsideInputWithModifier??!0;if(e!==null){const p=v=>{if(s.current=v.ctrlKey||v.metaKey||v.shiftKey||v.altKey,(!s.current||s.current&&!f)&&sV(v))return!1;const y=B$(v.code,u);if(i.current.add(v[y]),z$(l,i.current,!1)){const j=v.composedPath?.()?.[0]||v.target,_=j?.nodeName==="BUTTON"||j?.nodeName==="A";t.preventDefault!==!1&&(s.current||!_)&&v.preventDefault(),r(!0)}},m=v=>{const w=B$(v.code,u);z$(l,i.current,!0)?(r(!1),i.current.clear()):i.current.delete(v[w]),v.key==="Meta"&&i.current.clear(),s.current=!1},g=()=>{i.current.clear(),r(!1)};return d?.addEventListener("keydown",p),d?.addEventListener("keyup",m),window.addEventListener("blur",g),window.addEventListener("contextmenu",g),()=>{d?.removeEventListener("keydown",p),d?.removeEventListener("keyup",m),window.removeEventListener("blur",g),window.removeEventListener("contextmenu",g)}}},[e,r]),n}function z$(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(s=>t.has(s)))}function B$(e,t){return t.includes(e)?"code":"key"}const i_e=()=>{const e=On();return b.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t?.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n?.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{const{transform:[r,s,i],panZoom:l}=e.getState();return l?(await l.setViewport({x:t.x??r,y:t.y??s,zoom:t.zoom??i},n),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>e.getState().setCenter(t,n,r),fitBounds:async(t,n)=>{const{width:r,height:s,minZoom:i,maxZoom:l,panZoom:u}=e.getState(),d=WE(t,r,s,i,l,n?.padding??.1);return u?(await u.setViewport(d,{duration:n?.duration,ease:n?.ease,interpolate:n?.interpolate}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{const{transform:r,snapGrid:s,snapToGrid:i,domNode:l}=e.getState();if(!l)return t;const{x:u,y:d}=l.getBoundingClientRect(),f={x:t.x-u,y:t.y-d},p=n.snapGrid??s,m=n.snapToGrid??i;return Km(f,r,m,p)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:s,y:i}=r.getBoundingClientRect(),l=Ty(t,n);return{x:l.x+s,y:l.y+i}}}),[])};function EV(e,t){const n=[],r=new Map,s=[];for(const i of e)if(i.type==="add"){s.push(i);continue}else if(i.type==="remove"||i.type==="replace")r.set(i.id,[i]);else{const l=r.get(i.id);l?l.push(i):r.set(i.id,[i])}for(const i of t){const l=r.get(i.id);if(!l){n.push(i);continue}if(l[0].type==="remove")continue;if(l[0].type==="replace"){n.push({...l[0].item});continue}const u={...i};for(const d of l)o_e(d,u);n.push(u)}return s.length&&s.forEach(i=>{i.index!==void 0?n.splice(i.index,0,{...i.item}):n.push({...i.item})}),n}function o_e(e,t){switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&(t.measured??={},t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function OV(e,t){return EV(e,t)}function TV(e,t){return EV(e,t)}function Sl(e,t){return{id:e,type:"select",selected:t}}function ju(e,t=new Set,n=!1){const r=[];for(const[s,i]of e){const l=t.has(s);!(i.selected===void 0&&!l)&&i.selected!==l&&(n&&(i.selected=l),r.push(Sl(i.id,l)))}return r}function F$({items:e=[],lookup:t}){const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,i]of e.entries()){const l=t.get(i.id),u=l?.internals?.userNode??l;u!==void 0&&u!==i&&n.push({id:i.id,item:i,type:"replace"}),u===void 0&&n.push({item:i,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function U$(e){return{id:e.id,type:"remove"}}const H$=e=>R2e(e),l_e=e=>Q7(e);function MV(e){return b.forwardRef(e)}const c_e=typeof window<"u"?b.useLayoutEffect:b.useEffect;function V$(e){const[t,n]=b.useState(BigInt(0)),[r]=b.useState(()=>u_e(()=>n(s=>s+BigInt(1))));return c_e(()=>{const s=r.get();s.length&&(e(s),r.reset())},[t]),r}function u_e(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const kV=b.createContext(null);function d_e({children:e}){const t=On(),n=b.useCallback(u=>{const{nodes:d=[],setNodes:f,hasDefaultNodes:p,onNodesChange:m,nodeLookup:g,fitViewQueued:v}=t.getState();let w=d;for(const j of u)w=typeof j=="function"?j(w):j;const y=F$({items:w,lookup:g});p&&f(w),y.length>0?m?.(y):v&&window.requestAnimationFrame(()=>{const{fitViewQueued:j,nodes:_,setNodes:C}=t.getState();j&&C(_)})},[]),r=V$(n),s=b.useCallback(u=>{const{edges:d=[],setEdges:f,hasDefaultEdges:p,onEdgesChange:m,edgeLookup:g}=t.getState();let v=d;for(const w of u)v=typeof w=="function"?w(v):w;p?f(v):m&&m(F$({items:v,lookup:g}))},[]),i=V$(s),l=b.useMemo(()=>({nodeQueue:r,edgeQueue:i}),[]);return a.jsx(kV.Provider,{value:l,children:e})}function f_e(){const e=b.useContext(kV);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const h_e=e=>!!e.panZoom;function JE(){const e=i_e(),t=On(),n=f_e(),r=Lt(h_e),s=b.useMemo(()=>{const i=m=>t.getState().nodeLookup.get(m),l=m=>{n.nodeQueue.push(m)},u=m=>{n.edgeQueue.push(m)},d=m=>{const{nodeLookup:g,nodeOrigin:v}=t.getState(),w=H$(m)?m:g.get(m.id),y=w.parentId?rV(w.position,w.measured,w.parentId,g,v):w.position,j={...w,position:y,width:w.measured?.width??w.width,height:w.measured?.height??w.height};return md(j)},f=(m,g,v={replace:!1})=>{l(w=>w.map(y=>{if(y.id===m){const j=typeof g=="function"?g(y):g;return v.replace&&H$(j)?j:{...y,...j}}return y}))},p=(m,g,v={replace:!1})=>{u(w=>w.map(y=>{if(y.id===m){const j=typeof g=="function"?g(y):g;return v.replace&&l_e(j)?j:{...y,...j}}return y}))};return{getNodes:()=>t.getState().nodes.map(m=>({...m})),getNode:m=>i(m)?.internals.userNode,getInternalNode:i,getEdges:()=>{const{edges:m=[]}=t.getState();return m.map(g=>({...g}))},getEdge:m=>t.getState().edgeLookup.get(m),setNodes:l,setEdges:u,addNodes:m=>{const g=Array.isArray(m)?m:[m];n.nodeQueue.push(v=>[...v,...g])},addEdges:m=>{const g=Array.isArray(m)?m:[m];n.edgeQueue.push(v=>[...v,...g])},toObject:()=>{const{nodes:m=[],edges:g=[],transform:v}=t.getState(),[w,y,j]=v;return{nodes:m.map(_=>({..._})),edges:g.map(_=>({..._})),viewport:{x:w,y,zoom:j}}},deleteElements:async({nodes:m=[],edges:g=[]})=>{const{nodes:v,edges:w,onNodesDelete:y,onEdgesDelete:j,triggerNodeChanges:_,triggerEdgeChanges:C,onDelete:N,onBeforeDelete:S}=t.getState(),{nodes:O,edges:M}=await q2e({nodesToRemove:m,edgesToRemove:g,nodes:v,edges:w,onBeforeDelete:S}),T=M.length>0,P=O.length>0;if(T){const $=M.map(U$);j?.(M),C($)}if(P){const $=O.map(U$);y?.(O),_($)}return(P||T)&&N?.({nodes:O,edges:M}),{deletedNodes:O,deletedEdges:M}},getIntersectingNodes:(m,g=!0,v)=>{const w=y$(m),y=w?m:d(m),j=v!==void 0;return y?(v||t.getState().nodes).filter(_=>{const C=t.getState().nodeLookup.get(_.id);if(C&&!w&&(_.id===m.id||!C.internals.positionAbsolute))return!1;const N=md(j?_:C),S=dm(N,y);return g&&S>0||S>=N.width*N.height||S>=y.width*y.height}):[]},isNodeIntersecting:(m,g,v=!0)=>{const y=y$(m)?m:d(m);if(!y)return!1;const j=dm(y,g);return v&&j>0||j>=g.width*g.height||j>=y.width*y.height},updateNode:f,updateNodeData:(m,g,v={replace:!1})=>{f(m,w=>{const y=typeof g=="function"?g(w):g;return v.replace?{...w,data:y}:{...w,data:{...w.data,...y}}},v)},updateEdge:p,updateEdgeData:(m,g,v={replace:!1})=>{p(m,w=>{const y=typeof g=="function"?g(w):g;return v.replace?{...w,data:y}:{...w,data:{...w.data,...y}}},v)},getNodesBounds:m=>{const{nodeLookup:g,nodeOrigin:v}=t.getState();return D2e(m,{nodeLookup:g,nodeOrigin:v})},getHandleConnections:({type:m,id:g,nodeId:v})=>Array.from(t.getState().connectionLookup.get(`${v}-${m}${g?`-${g}`:""}`)?.values()??[]),getNodeConnections:({type:m,handleId:g,nodeId:v})=>Array.from(t.getState().connectionLookup.get(`${v}${m?g?`-${m}-${g}`:`-${m}`:""}`)?.values()??[]),fitView:async m=>{const g=t.getState().fitViewResolver??U2e();return t.setState({fitViewQueued:!0,fitViewOptions:m,fitViewResolver:g}),n.nodeQueue.push(v=>[...v]),g.promise}}},[]);return b.useMemo(()=>({...s,...e,viewportInitialized:r}),[r])}const K$=e=>e.selected,m_e=typeof window<"u"?window:void 0;function p_e({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=On(),{deleteElements:r}=JE(),s=mm(e,{actInsideInputWithModifier:!1}),i=mm(t,{target:m_e});b.useEffect(()=>{if(s){const{edges:l,nodes:u}=n.getState();r({nodes:u.filter(K$),edges:l.filter(K$)}),n.setState({nodesSelectionActive:!1})}},[s]),b.useEffect(()=>{n.setState({multiSelectionActive:i})},[i])}function g_e(e){const t=On();b.useEffect(()=>{const n=()=>{if(!e.current||!(e.current.checkVisibility?.()??!0))return!1;const r=YE(e.current);(r.height===0||r.width===0)&&t.getState().onError?.("004",Fs.error004()),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const cb={position:"absolute",width:"100%",height:"100%",top:0,left:0},x_e=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib,connectionInProgress:e.connection.inProgress});function y_e({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:s=.5,panOnScrollMode:i=Il.Free,zoomOnDoubleClick:l=!0,panOnDrag:u=!0,defaultViewport:d,translateExtent:f,minZoom:p,maxZoom:m,zoomActivationKeyCode:g,preventScrolling:v=!0,children:w,noWheelClassName:y,noPanClassName:j,onViewportChange:_,isControlledViewport:C,paneClickDistance:N,selectionOnDrag:S}){const O=On(),M=b.useRef(null),{userSelectionActive:T,lib:P,connectionInProgress:$}=Lt(x_e,Dn),K=mm(g),q=b.useRef();g_e(M);const H=b.useCallback(B=>{_?.({x:B[0],y:B[1],zoom:B[2]}),C||O.setState({transform:B})},[_,C]);return b.useEffect(()=>{if(M.current){q.current=ACe({domNode:M.current,minZoom:p,maxZoom:m,translateExtent:f,viewport:d,onDraggingChange:k=>O.setState({paneDragging:k}),onPanZoomStart:(k,I)=>{const{onViewportChangeStart:z,onMoveStart:V}=O.getState();V?.(k,I),z?.(I)},onPanZoom:(k,I)=>{const{onViewportChange:z,onMove:V}=O.getState();V?.(k,I),z?.(I)},onPanZoomEnd:(k,I)=>{const{onViewportChangeEnd:z,onMoveEnd:V}=O.getState();V?.(k,I),z?.(I)}});const{x:B,y:L,zoom:D}=q.current.getViewport();return O.setState({panZoom:q.current,transform:[B,L,D],domNode:M.current.closest(".react-flow")}),()=>{q.current?.destroy()}}},[]),b.useEffect(()=>{q.current?.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:s,panOnScrollMode:i,zoomOnDoubleClick:l,panOnDrag:u,zoomActivationKeyPressed:K,preventScrolling:v,noPanClassName:j,userSelectionActive:T,noWheelClassName:y,lib:P,onTransformChange:H,connectionInProgress:$,selectionOnDrag:S,paneClickDistance:N})},[e,t,n,r,s,i,l,u,K,v,j,T,y,P,H,$,S,N]),a.jsx("div",{className:"react-flow__renderer",ref:M,style:cb,children:w})}const v_e=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function b_e(){const{userSelectionActive:e,userSelectionRect:t}=Lt(v_e,Dn);return e&&t?a.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:`translate(${t.x}px, ${t.y}px)`}}):null}const sA=(e,t)=>n=>{n.target===t.current&&e?.(n)},j_e=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function w_e({isSelecting:e,selectionKeyPressed:t,selectionMode:n=um.Full,panOnDrag:r,paneClickDistance:s,selectionOnDrag:i,onSelectionStart:l,onSelectionEnd:u,onPaneClick:d,onPaneContextMenu:f,onPaneScroll:p,onPaneMouseEnter:m,onPaneMouseMove:g,onPaneMouseLeave:v,children:w}){const y=On(),{userSelectionActive:j,elementsSelectable:_,dragging:C,connectionInProgress:N}=Lt(j_e,Dn),S=_&&(e||j),O=b.useRef(null),M=b.useRef(),T=b.useRef(new Set),P=b.useRef(new Set),$=b.useRef(!1),K=z=>{if($.current||N){$.current=!1;return}d?.(z),y.getState().resetSelectedElements(),y.setState({nodesSelectionActive:!1})},q=z=>{if(Array.isArray(r)&&r?.includes(2)){z.preventDefault();return}f?.(z)},H=p?z=>p(z):void 0,B=z=>{$.current&&(z.stopPropagation(),$.current=!1)},L=z=>{const{domNode:V}=y.getState();if(M.current=V?.getBoundingClientRect(),!M.current)return;const Y=z.target===O.current;if(!Y&&!!z.target.closest(".nokey")||!e||!(i&&Y||t)||z.button!==0||!z.isPrimary)return;z.target?.setPointerCapture?.(z.pointerId),$.current=!1;const{x:G,y:Z}=ps(z.nativeEvent,M.current);y.setState({userSelectionRect:{width:0,height:0,startX:G,startY:Z,x:G,y:Z}}),Y||(z.stopPropagation(),z.preventDefault())},D=z=>{const{userSelectionRect:V,transform:Y,nodeLookup:U,edgeLookup:F,connectionLookup:G,triggerNodeChanges:Z,triggerEdgeChanges:ge,defaultEdgeOptions:Se,resetSelectedElements:Q}=y.getState();if(!M.current||!V)return;const{x:pe,y:ce}=ps(z.nativeEvent,M.current),{startX:Ae,startY:_e}=V;if(!$.current){const Ue=t?0:s;if(Math.hypot(pe-Ae,ce-_e)<=Ue)return;Q(),l?.(z)}$.current=!0;const le={startX:Ae,startY:_e,x:pe<Ae?pe:Ae,y:ce<_e?ce:_e,width:Math.abs(pe-Ae),height:Math.abs(ce-_e)},$e=T.current,re=P.current;T.current=new Set(KE(U,le,Y,n===um.Partial,!0).map(Ue=>Ue.id)),P.current=new Set;const Oe=Se?.selectable??!0;for(const Ue of T.current){const rt=G.get(Ue);if(rt)for(const{edgeId:en}of rt.values()){const mn=F.get(en);mn&&(mn.selectable??Oe)&&P.current.add(en)}}if(!v$($e,T.current)){const Ue=ju(U,T.current,!0);Z(Ue)}if(!v$(re,P.current)){const Ue=ju(F,P.current);ge(Ue)}y.setState({userSelectionRect:le,userSelectionActive:!0,nodesSelectionActive:!1})},k=z=>{z.button===0&&(z.target?.releasePointerCapture?.(z.pointerId),!j&&z.target===O.current&&y.getState().userSelectionRect&&K?.(z),y.setState({userSelectionActive:!1,userSelectionRect:null}),$.current&&(u?.(z),y.setState({nodesSelectionActive:T.current.size>0})))},I=r===!0||Array.isArray(r)&&r.includes(0);return a.jsxs("div",{className:tr(["react-flow__pane",{draggable:I,dragging:C,selection:e}]),onClick:S?void 0:sA(K,O),onContextMenu:sA(q,O),onWheel:sA(H,O),onPointerEnter:S?void 0:m,onPointerMove:S?D:g,onPointerUp:S?k:void 0,onPointerDownCapture:S?L:void 0,onClickCapture:S?B:void 0,onPointerLeave:v,ref:O,style:cb,children:[w,a.jsx(b_e,{})]})}function jC({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:s,unselectNodesAndEdges:i,multiSelectionActive:l,nodeLookup:u,onError:d}=t.getState(),f=u.get(e);if(!f){d?.("012",Fs.error012(e));return}t.setState({nodesSelectionActive:!1}),f.selected?(n||f.selected&&l)&&(i({nodes:[f],edges:[]}),requestAnimationFrame(()=>r?.current?.blur())):s([e])}function PV({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:s,isSelectable:i,nodeClickDistance:l}){const u=On(),[d,f]=b.useState(!1),p=b.useRef();return b.useEffect(()=>{p.current=dCe({getStoreItems:()=>u.getState(),onNodeMouseDown:m=>{jC({id:m,store:u,nodeRef:e})},onDragStart:()=>{f(!0)},onDragStop:()=>{f(!1)}})},[]),b.useEffect(()=>{if(t)p.current?.destroy();else if(e.current)return p.current?.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:i,nodeId:s,nodeClickDistance:l}),()=>{p.current?.destroy()}},[n,r,t,i,e,s]),d}const N_e=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function RV(){const e=On();return b.useCallback(n=>{const{nodeExtent:r,snapToGrid:s,snapGrid:i,nodesDraggable:l,onError:u,updateNodePositions:d,nodeLookup:f,nodeOrigin:p}=e.getState(),m=new Map,g=N_e(l),v=s?i[0]:5,w=s?i[1]:5,y=n.direction.x*v*n.factor,j=n.direction.y*w*n.factor;for(const[,_]of f){if(!g(_))continue;let C={x:_.internals.positionAbsolute.x+y,y:_.internals.positionAbsolute.y+j};s&&(C=Vm(C,i));const{position:N,positionAbsolute:S}=Z7({nodeId:_.id,nextPosition:C,nodeLookup:f,nodeExtent:r,nodeOrigin:p,onError:u});_.position=N,_.internals.positionAbsolute=S,m.set(_.id,_)}d(m)},[])}const eO=b.createContext(null),S_e=eO.Provider;eO.Consumer;const DV=()=>b.useContext(eO),A_e=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),C_e=(e,t,n)=>r=>{const{connectionClickStartHandle:s,connectionMode:i,connection:l}=r,{fromHandle:u,toHandle:d,isValid:f}=l,p=d?.nodeId===e&&d?.id===t&&d?.type===n;return{connectingFrom:u?.nodeId===e&&u?.id===t&&u?.type===n,connectingTo:p,clickConnecting:s?.nodeId===e&&s?.id===t&&s?.type===n,isPossibleEndHandle:i===fd.Strict?u?.type!==n:e!==u?.nodeId||t!==u?.id,connectionInProcess:!!u,clickConnectionInProcess:!!s,valid:p&&f}};function __e({type:e="source",position:t=it.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:s=!0,isConnectableEnd:i=!0,id:l,onConnect:u,children:d,className:f,onMouseDown:p,onTouchStart:m,...g},v){const w=l||null,y=e==="target",j=On(),_=DV(),{connectOnClick:C,noPanClassName:N,rfId:S}=Lt(A_e,Dn),{connectingFrom:O,connectingTo:M,clickConnecting:T,isPossibleEndHandle:P,connectionInProcess:$,clickConnectionInProcess:K,valid:q}=Lt(C_e(_,w,e),Dn);_||j.getState().onError?.("010",Fs.error010());const H=D=>{const{defaultEdgeOptions:k,onConnect:I,hasDefaultEdges:z}=j.getState(),V={...k,...D};if(z){const{edges:Y,setEdges:U}=j.getState();U(uV(V,Y))}I?.(V),u?.(V)},B=D=>{if(!_)return;const k=iV(D.nativeEvent);if(s&&(k&&D.button===0||!k)){const I=j.getState();bC.onPointerDown(D.nativeEvent,{handleDomNode:D.currentTarget,autoPanOnConnect:I.autoPanOnConnect,connectionMode:I.connectionMode,connectionRadius:I.connectionRadius,domNode:I.domNode,nodeLookup:I.nodeLookup,lib:I.lib,isTarget:y,handleId:w,nodeId:_,flowId:I.rfId,panBy:I.panBy,cancelConnection:I.cancelConnection,onConnectStart:I.onConnectStart,onConnectEnd:I.onConnectEnd,updateConnection:I.updateConnection,onConnect:H,isValidConnection:n||I.isValidConnection,getTransform:()=>j.getState().transform,getFromHandle:()=>j.getState().connection.fromHandle,autoPanSpeed:I.autoPanSpeed,dragThreshold:I.connectionDragThreshold})}k?p?.(D):m?.(D)},L=D=>{const{onClickConnectStart:k,onClickConnectEnd:I,connectionClickStartHandle:z,connectionMode:V,isValidConnection:Y,lib:U,rfId:F,nodeLookup:G,connection:Z}=j.getState();if(!_||!z&&!s)return;if(!z){k?.(D.nativeEvent,{nodeId:_,handleId:w,handleType:e}),j.setState({connectionClickStartHandle:{nodeId:_,type:e,id:w}});return}const ge=aV(D.target),Se=n||Y,{connection:Q,isValid:pe}=bC.isValid(D.nativeEvent,{handle:{nodeId:_,id:w,type:e},connectionMode:V,fromNodeId:z.nodeId,fromHandleId:z.id||null,fromType:z.type,isValidConnection:Se,flowId:F,doc:ge,lib:U,nodeLookup:G});pe&&Q&&H(Q);const ce=structuredClone(Z);delete ce.inProgress,ce.toPosition=ce.toHandle?ce.toHandle.position:null,I?.(D,ce),j.setState({connectionClickStartHandle:null})};return a.jsx("div",{"data-handleid":w,"data-nodeid":_,"data-handlepos":t,"data-id":`${S}-${_}-${w}-${e}`,className:tr(["react-flow__handle",`react-flow__handle-${t}`,"nodrag",N,f,{source:!y,target:y,connectable:r,connectablestart:s,connectableend:i,clickconnecting:T,connectingfrom:O,connectingto:M,valid:q,connectionindicator:r&&(!$||P)&&($||K?i:s)}]),onMouseDown:B,onTouchStart:B,onClick:C?L:void 0,ref:v,...g,children:d})}const $s=b.memo(MV(__e));function E_e({data:e,isConnectable:t,sourcePosition:n=it.Bottom}){return a.jsxs(a.Fragment,{children:[e?.label,a.jsx($s,{type:"source",position:n,isConnectable:t})]})}function O_e({data:e,isConnectable:t,targetPosition:n=it.Top,sourcePosition:r=it.Bottom}){return a.jsxs(a.Fragment,{children:[a.jsx($s,{type:"target",position:n,isConnectable:t}),e?.label,a.jsx($s,{type:"source",position:r,isConnectable:t})]})}function T_e(){return null}function M_e({data:e,isConnectable:t,targetPosition:n=it.Top}){return a.jsxs(a.Fragment,{children:[a.jsx($s,{type:"target",position:n,isConnectable:t}),e?.label]})}const My={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},W$={input:E_e,default:O_e,output:M_e,group:T_e};function k_e(e){return e.internals.handleBounds===void 0?{width:e.width??e.initialWidth??e.style?.width,height:e.height??e.initialHeight??e.style?.height}:{width:e.width??e.style?.width,height:e.height??e.style?.height}}const P_e=e=>{const{width:t,height:n,x:r,y:s}=Hm(e.nodeLookup,{filter:i=>!!i.selected});return{width:ms(t)?t:null,height:ms(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]}) translate(${r}px,${s}px)`}};function R_e({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=On(),{width:s,height:i,transformString:l,userSelectionActive:u}=Lt(P_e,Dn),d=RV(),f=b.useRef(null);if(b.useEffect(()=>{n||f.current?.focus({preventScroll:!0})},[n]),PV({nodeRef:f}),u||!s||!i)return null;const p=e?g=>{const v=r.getState().nodes.filter(w=>w.selected);e(g,v)}:void 0,m=g=>{Object.prototype.hasOwnProperty.call(My,g.key)&&(g.preventDefault(),d({direction:My[g.key],factor:g.shiftKey?4:1}))};return a.jsx("div",{className:tr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:l},children:a.jsx("div",{ref:f,className:"react-flow__nodesselection-rect",onContextMenu:p,tabIndex:n?void 0:-1,onKeyDown:n?void 0:m,style:{width:s,height:i}})})}const Y$=typeof window<"u"?window:void 0,D_e=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function IV({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,paneClickDistance:u,deleteKeyCode:d,selectionKeyCode:f,selectionOnDrag:p,selectionMode:m,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:w,panActivationKeyCode:y,zoomActivationKeyCode:j,elementsSelectable:_,zoomOnScroll:C,zoomOnPinch:N,panOnScroll:S,panOnScrollSpeed:O,panOnScrollMode:M,zoomOnDoubleClick:T,panOnDrag:P,defaultViewport:$,translateExtent:K,minZoom:q,maxZoom:H,preventScrolling:B,onSelectionContextMenu:L,noWheelClassName:D,noPanClassName:k,disableKeyboardA11y:I,onViewportChange:z,isControlledViewport:V}){const{nodesSelectionActive:Y,userSelectionActive:U}=Lt(D_e),F=mm(f,{target:Y$}),G=mm(y,{target:Y$}),Z=G||P,ge=G||S,Se=p&&Z!==!0,Q=F||U||Se;return p_e({deleteKeyCode:d,multiSelectionKeyCode:w}),a.jsx(y_e,{onPaneContextMenu:i,elementsSelectable:_,zoomOnScroll:C,zoomOnPinch:N,panOnScroll:ge,panOnScrollSpeed:O,panOnScrollMode:M,zoomOnDoubleClick:T,panOnDrag:!F&&Z,defaultViewport:$,translateExtent:K,minZoom:q,maxZoom:H,zoomActivationKeyCode:j,preventScrolling:B,noWheelClassName:D,noPanClassName:k,onViewportChange:z,isControlledViewport:V,paneClickDistance:u,selectionOnDrag:Se,children:a.jsxs(w_e,{onSelectionStart:g,onSelectionEnd:v,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:s,onPaneContextMenu:i,onPaneScroll:l,panOnDrag:Z,isSelecting:!!Q,selectionMode:m,selectionKeyPressed:F,paneClickDistance:u,selectionOnDrag:Se,children:[e,Y&&a.jsx(R_e,{onSelectionContextMenu:L,noPanClassName:k,disableKeyboardA11y:I})]})})}IV.displayName="FlowRenderer";const I_e=b.memo(IV),L_e=e=>t=>e?KE(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function $_e(e){return Lt(b.useCallback(L_e(e),[e]),Dn)}const q_e=e=>e.updateNodeInternals;function z_e(){const e=Lt(q_e),[t]=b.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(s=>{const i=s.target.getAttribute("data-id");r.set(i,{id:i,nodeElement:s.target,force:!0})}),e(r)}));return b.useEffect(()=>()=>{t?.disconnect()},[t]),t}function B_e({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const s=On(),i=b.useRef(null),l=b.useRef(null),u=b.useRef(e.sourcePosition),d=b.useRef(e.targetPosition),f=b.useRef(t),p=n&&!!e.internals.handleBounds;return b.useEffect(()=>{i.current&&!e.hidden&&(!p||l.current!==i.current)&&(l.current&&r?.unobserve(l.current),r?.observe(i.current),l.current=i.current)},[p,e.hidden]),b.useEffect(()=>()=>{l.current&&(r?.unobserve(l.current),l.current=null)},[]),b.useEffect(()=>{if(i.current){const m=f.current!==t,g=u.current!==e.sourcePosition,v=d.current!==e.targetPosition;(m||g||v)&&(f.current=t,u.current=e.sourcePosition,d.current=e.targetPosition,s.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:i.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),i}function F_e({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:s,onContextMenu:i,onDoubleClick:l,nodesDraggable:u,elementsSelectable:d,nodesConnectable:f,nodesFocusable:p,resizeObserver:m,noDragClassName:g,noPanClassName:v,disableKeyboardA11y:w,rfId:y,nodeTypes:j,nodeClickDistance:_,onError:C}){const{node:N,internals:S,isParent:O}=Lt(pe=>{const ce=pe.nodeLookup.get(e),Ae=pe.parentLookup.has(e);return{node:ce,internals:ce.internals,isParent:Ae}},Dn);let M=N.type||"default",T=j?.[M]||W$[M];T===void 0&&(C?.("003",Fs.error003(M)),M="default",T=j?.default||W$.default);const P=!!(N.draggable||u&&typeof N.draggable>"u"),$=!!(N.selectable||d&&typeof N.selectable>"u"),K=!!(N.connectable||f&&typeof N.connectable>"u"),q=!!(N.focusable||p&&typeof N.focusable>"u"),H=On(),B=nV(N),L=B_e({node:N,nodeType:M,hasDimensions:B,resizeObserver:m}),D=PV({nodeRef:L,disabled:N.hidden||!P,noDragClassName:g,handleSelector:N.dragHandle,nodeId:e,isSelectable:$,nodeClickDistance:_}),k=RV();if(N.hidden)return null;const I=Fi(N),z=k_e(N),V=$||P||t||n||r||s,Y=n?pe=>n(pe,{...S.userNode}):void 0,U=r?pe=>r(pe,{...S.userNode}):void 0,F=s?pe=>s(pe,{...S.userNode}):void 0,G=i?pe=>i(pe,{...S.userNode}):void 0,Z=l?pe=>l(pe,{...S.userNode}):void 0,ge=pe=>{const{selectNodesOnDrag:ce,nodeDragThreshold:Ae}=H.getState();$&&(!ce||!P||Ae>0)&&jC({id:e,store:H,nodeRef:L}),t&&t(pe,{...S.userNode})},Se=pe=>{if(!(sV(pe.nativeEvent)||w)){if(W7.includes(pe.key)&&$){const ce=pe.key==="Escape";jC({id:e,store:H,unselect:ce,nodeRef:L})}else if(P&&N.selected&&Object.prototype.hasOwnProperty.call(My,pe.key)){pe.preventDefault();const{ariaLabelConfig:ce}=H.getState();H.setState({ariaLiveMessage:ce["node.a11yDescription.ariaLiveMessage"]({direction:pe.key.replace("Arrow","").toLowerCase(),x:~~S.positionAbsolute.x,y:~~S.positionAbsolute.y})}),k({direction:My[pe.key],factor:pe.shiftKey?4:1})}}},Q=()=>{if(w||!L.current?.matches(":focus-visible"))return;const{transform:pe,width:ce,height:Ae,autoPanOnNodeFocus:_e,setCenter:le}=H.getState();if(!_e)return;KE(new Map([[e,N]]),{x:0,y:0,width:ce,height:Ae},pe,!0).length>0||le(N.position.x+I.width/2,N.position.y+I.height/2,{zoom:pe[2]})};return a.jsx("div",{className:tr(["react-flow__node",`react-flow__node-${M}`,{[v]:P},N.className,{selected:N.selected,selectable:$,parent:O,draggable:P,dragging:D}]),ref:L,style:{zIndex:S.z,transform:`translate(${S.positionAbsolute.x}px,${S.positionAbsolute.y}px)`,pointerEvents:V?"all":"none",visibility:B?"visible":"hidden",...N.style,...z},"data-id":e,"data-testid":`rf__node-${e}`,onMouseEnter:Y,onMouseMove:U,onMouseLeave:F,onContextMenu:G,onClick:ge,onDoubleClick:Z,onKeyDown:q?Se:void 0,tabIndex:q?0:void 0,onFocus:q?Q:void 0,role:N.ariaRole??(q?"group":void 0),"aria-roledescription":"node","aria-describedby":w?void 0:`${AV}-${y}`,"aria-label":N.ariaLabel,...N.domAttributes,children:a.jsx(S_e,{value:e,children:a.jsx(T,{id:e,data:N.data,type:M,positionAbsoluteX:S.positionAbsolute.x,positionAbsoluteY:S.positionAbsolute.y,selected:N.selected??!1,selectable:$,draggable:P,deletable:N.deletable??!0,isConnectable:K,sourcePosition:N.sourcePosition,targetPosition:N.targetPosition,dragging:D,dragHandle:N.dragHandle,zIndex:S.z,parentId:N.parentId,...I})})})}var U_e=b.memo(F_e);const H_e=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function LV(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,onError:i}=Lt(H_e,Dn),l=$_e(e.onlyRenderVisibleElements),u=z_e();return a.jsx("div",{className:"react-flow__nodes",style:cb,children:l.map(d=>a.jsx(U_e,{id:d,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:u,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:s,nodeClickDistance:e.nodeClickDistance,onError:i},d))})}LV.displayName="NodeRenderer";const V_e=b.memo(LV);function K_e(e){return Lt(b.useCallback(n=>{if(!e)return n.edges.map(s=>s.id);const r=[];if(n.width&&n.height)for(const s of n.edges){const i=n.nodeLookup.get(s.source),l=n.nodeLookup.get(s.target);i&&l&&W2e({sourceNode:i,targetNode:l,width:n.width,height:n.height,transform:n.transform})&&r.push(s.id)}return r},[e]),Dn)}const W_e=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e}};return a.jsx("polyline",{className:"arrow",style:n,strokeLinecap:"round",fill:"none",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4"})},Y_e=({color:e="none",strokeWidth:t=1})=>{const n={strokeWidth:t,...e&&{stroke:e,fill:e}};return a.jsx("polyline",{className:"arrowclosed",style:n,strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"})},G$={[Ey.Arrow]:W_e,[Ey.ArrowClosed]:Y_e};function G_e(e){const t=On();return b.useMemo(()=>Object.prototype.hasOwnProperty.call(G$,e)?G$[e]:(t.getState().onError?.("009",Fs.error009(e)),null),[e])}const X_e=({id:e,type:t,color:n,width:r=12.5,height:s=12.5,markerUnits:i="strokeWidth",strokeWidth:l,orient:u="auto-start-reverse"})=>{const d=G_e(t);return d?a.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:`${r}`,markerHeight:`${s}`,viewBox:"-10 -10 20 20",markerUnits:i,orient:u,refX:"0",refY:"0",children:a.jsx(d,{color:n,strokeWidth:l})}):null},$V=({defaultColor:e,rfId:t})=>{const n=Lt(i=>i.edges),r=Lt(i=>i.defaultEdgeOptions),s=b.useMemo(()=>eCe(n,{id:t,defaultColor:e,defaultMarkerStart:r?.markerStart,defaultMarkerEnd:r?.markerEnd}),[n,r,t,e]);return s.length?a.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:a.jsx("defs",{children:s.map(i=>a.jsx(X_e,{id:i.id,type:i.type,color:i.color,width:i.width,height:i.height,markerUnits:i.markerUnits,strokeWidth:i.strokeWidth,orient:i.orient},i.id))})}):null};$V.displayName="MarkerDefinitions";var Q_e=b.memo($V);function qV({x:e,y:t,label:n,labelStyle:r,labelShowBg:s=!0,labelBgStyle:i,labelBgPadding:l=[2,4],labelBgBorderRadius:u=2,children:d,className:f,...p}){const[m,g]=b.useState({x:1,y:0,width:0,height:0}),v=tr(["react-flow__edge-textwrapper",f]),w=b.useRef(null);return b.useEffect(()=>{if(w.current){const y=w.current.getBBox();g({x:y.x,y:y.y,width:y.width,height:y.height})}},[n]),n?a.jsxs("g",{transform:`translate(${e-m.width/2} ${t-m.height/2})`,className:v,visibility:m.width?"visible":"hidden",...p,children:[s&&a.jsx("rect",{width:m.width+2*l[0],x:-l[0],y:-l[1],height:m.height+2*l[1],className:"react-flow__edge-textbg",style:i,rx:u,ry:u}),a.jsx("text",{className:"react-flow__edge-text",y:m.height/2,dy:"0.3em",ref:w,style:r,children:n}),d]}):null}qV.displayName="EdgeText";const Z_e=b.memo(qV);function ub({path:e,labelX:t,labelY:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d,interactionWidth:f=20,...p}){return a.jsxs(a.Fragment,{children:[a.jsx("path",{...p,d:e,fill:"none",className:tr(["react-flow__edge-path",p.className])}),f?a.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:f,className:"react-flow__edge-interaction"}):null,r&&ms(t)&&ms(n)?a.jsx(Z_e,{x:t,y:n,label:r,labelStyle:s,labelShowBg:i,labelBgStyle:l,labelBgPadding:u,labelBgBorderRadius:d}):null]})}function X$({pos:e,x1:t,y1:n,x2:r,y2:s}){return e===it.Left||e===it.Right?[.5*(t+r),n]:[t,.5*(n+s)]}function zV({sourceX:e,sourceY:t,sourcePosition:n=it.Bottom,targetX:r,targetY:s,targetPosition:i=it.Top}){const[l,u]=X$({pos:n,x1:e,y1:t,x2:r,y2:s}),[d,f]=X$({pos:i,x1:r,y1:s,x2:e,y2:t}),[p,m,g,v]=oV({sourceX:e,sourceY:t,targetX:r,targetY:s,sourceControlX:l,sourceControlY:u,targetControlX:d,targetControlY:f});return[`M${e},${t} C${l},${u} ${d},${f} ${r},${s}`,p,m,g,v]}function BV(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:l,targetPosition:u,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:y,markerStart:j,interactionWidth:_})=>{const[C,N,S]=zV({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:i,targetPosition:u}),O=e.isInternal?void 0:t;return a.jsx(ub,{id:O,path:C,labelX:N,labelY:S,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:y,markerStart:j,interactionWidth:_})})}const J_e=BV({isInternal:!1}),FV=BV({isInternal:!0});J_e.displayName="SimpleBezierEdge";FV.displayName="SimpleBezierEdgeInternal";function UV(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,sourcePosition:v=it.Bottom,targetPosition:w=it.Top,markerEnd:y,markerStart:j,pathOptions:_,interactionWidth:C})=>{const[N,S,O]=xC({sourceX:n,sourceY:r,sourcePosition:v,targetX:s,targetY:i,targetPosition:w,borderRadius:_?.borderRadius,offset:_?.offset,stepPosition:_?.stepPosition}),M=e.isInternal?void 0:t;return a.jsx(ub,{id:M,path:N,labelX:S,labelY:O,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:y,markerStart:j,interactionWidth:C})})}const HV=UV({isInternal:!1}),VV=UV({isInternal:!0});HV.displayName="SmoothStepEdge";VV.displayName="SmoothStepEdgeInternal";function KV(e){return b.memo(({id:t,...n})=>{const r=e.isInternal?void 0:t;return a.jsx(HV,{...n,id:r,pathOptions:b.useMemo(()=>({borderRadius:0,offset:n.pathOptions?.offset}),[n.pathOptions?.offset])})})}const eEe=KV({isInternal:!1}),WV=KV({isInternal:!0});eEe.displayName="StepEdge";WV.displayName="StepEdgeInternal";function YV(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:w,interactionWidth:y})=>{const[j,_,C]=dV({sourceX:n,sourceY:r,targetX:s,targetY:i}),N=e.isInternal?void 0:t;return a.jsx(ub,{id:N,path:j,labelX:_,labelY:C,label:l,labelStyle:u,labelShowBg:d,labelBgStyle:f,labelBgPadding:p,labelBgBorderRadius:m,style:g,markerEnd:v,markerStart:w,interactionWidth:y})})}const tEe=YV({isInternal:!1}),GV=YV({isInternal:!0});tEe.displayName="StraightEdge";GV.displayName="StraightEdgeInternal";function XV(e){return b.memo(({id:t,sourceX:n,sourceY:r,targetX:s,targetY:i,sourcePosition:l=it.Bottom,targetPosition:u=it.Top,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:y,markerStart:j,pathOptions:_,interactionWidth:C})=>{const[N,S,O]=lV({sourceX:n,sourceY:r,sourcePosition:l,targetX:s,targetY:i,targetPosition:u,curvature:_?.curvature}),M=e.isInternal?void 0:t;return a.jsx(ub,{id:M,path:N,labelX:S,labelY:O,label:d,labelStyle:f,labelShowBg:p,labelBgStyle:m,labelBgPadding:g,labelBgBorderRadius:v,style:w,markerEnd:y,markerStart:j,interactionWidth:C})})}const nEe=XV({isInternal:!1}),QV=XV({isInternal:!0});nEe.displayName="BezierEdge";QV.displayName="BezierEdgeInternal";const Q$={default:QV,straight:GV,step:WV,smoothstep:VV,simplebezier:FV},Z$={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},rEe=(e,t,n)=>n===it.Left?e-t:n===it.Right?e+t:e,aEe=(e,t,n)=>n===it.Top?e-t:n===it.Bottom?e+t:e,J$="react-flow__edgeupdater";function e6({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:s,onMouseEnter:i,onMouseOut:l,type:u}){return a.jsx("circle",{onMouseDown:s,onMouseEnter:i,onMouseOut:l,className:tr([J$,`${J$}-${u}`]),cx:rEe(t,r,e),cy:aEe(n,r,e),r,stroke:"transparent",fill:"transparent"})}function sEe({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:s,targetX:i,targetY:l,sourcePosition:u,targetPosition:d,onReconnect:f,onReconnectStart:p,onReconnectEnd:m,setReconnecting:g,setUpdateHover:v}){const w=On(),y=(S,O)=>{if(S.button!==0)return;const{autoPanOnConnect:M,domNode:T,isValidConnection:P,connectionMode:$,connectionRadius:K,lib:q,onConnectStart:H,onConnectEnd:B,cancelConnection:L,nodeLookup:D,rfId:k,panBy:I,updateConnection:z}=w.getState(),V=O.type==="target",Y=(G,Z)=>{g(!1),m?.(G,n,O.type,Z)},U=G=>f?.(n,G),F=(G,Z)=>{g(!0),p?.(S,n,O.type),H?.(G,Z)};bC.onPointerDown(S.nativeEvent,{autoPanOnConnect:M,connectionMode:$,connectionRadius:K,domNode:T,handleId:O.id,nodeId:O.nodeId,nodeLookup:D,isTarget:V,edgeUpdaterType:O.type,lib:q,flowId:k,cancelConnection:L,panBy:I,isValidConnection:P,onConnect:U,onConnectStart:F,onConnectEnd:B,onReconnectEnd:Y,updateConnection:z,getTransform:()=>w.getState().transform,getFromHandle:()=>w.getState().connection.fromHandle,dragThreshold:w.getState().connectionDragThreshold,handleDomNode:S.currentTarget})},j=S=>y(S,{nodeId:n.target,id:n.targetHandle??null,type:"target"}),_=S=>y(S,{nodeId:n.source,id:n.sourceHandle??null,type:"source"}),C=()=>v(!0),N=()=>v(!1);return a.jsxs(a.Fragment,{children:[(e===!0||e==="source")&&a.jsx(e6,{position:u,centerX:r,centerY:s,radius:t,onMouseDown:j,onMouseEnter:C,onMouseOut:N,type:"source"}),(e===!0||e==="target")&&a.jsx(e6,{position:d,centerX:i,centerY:l,radius:t,onMouseDown:_,onMouseEnter:C,onMouseOut:N,type:"target"})]})}function iEe({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:s,onDoubleClick:i,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,rfId:w,edgeTypes:y,noPanClassName:j,onError:_,disableKeyboardA11y:C}){let N=Lt(le=>le.edgeLookup.get(e));const S=Lt(le=>le.defaultEdgeOptions);N=S?{...S,...N}:N;let O=N.type||"default",M=y?.[O]||Q$[O];M===void 0&&(_?.("011",Fs.error011(O)),O="default",M=y?.default||Q$.default);const T=!!(N.focusable||t&&typeof N.focusable>"u"),P=typeof m<"u"&&(N.reconnectable||n&&typeof N.reconnectable>"u"),$=!!(N.selectable||r&&typeof N.selectable>"u"),K=b.useRef(null),[q,H]=b.useState(!1),[B,L]=b.useState(!1),D=On(),{zIndex:k,sourceX:I,sourceY:z,targetX:V,targetY:Y,sourcePosition:U,targetPosition:F}=Lt(b.useCallback(le=>{const $e=le.nodeLookup.get(N.source),re=le.nodeLookup.get(N.target);if(!$e||!re)return{zIndex:N.zIndex,...Z$};const Oe=J2e({id:e,sourceNode:$e,targetNode:re,sourceHandle:N.sourceHandle||null,targetHandle:N.targetHandle||null,connectionMode:le.connectionMode,onError:_});return{zIndex:K2e({selected:N.selected,zIndex:N.zIndex,sourceNode:$e,targetNode:re,elevateOnSelect:le.elevateEdgesOnSelect}),...Oe||Z$}},[N.source,N.target,N.sourceHandle,N.targetHandle,N.selected,N.zIndex]),Dn),G=b.useMemo(()=>N.markerStart?`url('#${yC(N.markerStart,w)}')`:void 0,[N.markerStart,w]),Z=b.useMemo(()=>N.markerEnd?`url('#${yC(N.markerEnd,w)}')`:void 0,[N.markerEnd,w]);if(N.hidden||I===null||z===null||V===null||Y===null)return null;const ge=le=>{const{addSelectedEdges:$e,unselectNodesAndEdges:re,multiSelectionActive:Oe}=D.getState();$&&(D.setState({nodesSelectionActive:!1}),N.selected&&Oe?(re({nodes:[],edges:[N]}),K.current?.blur()):$e([e])),s&&s(le,N)},Se=i?le=>{i(le,{...N})}:void 0,Q=l?le=>{l(le,{...N})}:void 0,pe=u?le=>{u(le,{...N})}:void 0,ce=d?le=>{d(le,{...N})}:void 0,Ae=f?le=>{f(le,{...N})}:void 0,_e=le=>{if(!C&&W7.includes(le.key)&&$){const{unselectNodesAndEdges:$e,addSelectedEdges:re}=D.getState();le.key==="Escape"?(K.current?.blur(),$e({edges:[N]})):re([e])}};return a.jsx("svg",{style:{zIndex:k},children:a.jsxs("g",{className:tr(["react-flow__edge",`react-flow__edge-${O}`,N.className,j,{selected:N.selected,animated:N.animated,inactive:!$&&!s,updating:q,selectable:$}]),onClick:ge,onDoubleClick:Se,onContextMenu:Q,onMouseEnter:pe,onMouseMove:ce,onMouseLeave:Ae,onKeyDown:T?_e:void 0,tabIndex:T?0:void 0,role:N.ariaRole??(T?"group":"img"),"aria-roledescription":"edge","data-id":e,"data-testid":`rf__edge-${e}`,"aria-label":N.ariaLabel===null?void 0:N.ariaLabel||`Edge from ${N.source} to ${N.target}`,"aria-describedby":T?`${CV}-${w}`:void 0,ref:K,...N.domAttributes,children:[!B&&a.jsx(M,{id:e,source:N.source,target:N.target,type:N.type,selected:N.selected,animated:N.animated,selectable:$,deletable:N.deletable??!0,label:N.label,labelStyle:N.labelStyle,labelShowBg:N.labelShowBg,labelBgStyle:N.labelBgStyle,labelBgPadding:N.labelBgPadding,labelBgBorderRadius:N.labelBgBorderRadius,sourceX:I,sourceY:z,targetX:V,targetY:Y,sourcePosition:U,targetPosition:F,data:N.data,style:N.style,sourceHandleId:N.sourceHandle,targetHandleId:N.targetHandle,markerStart:G,markerEnd:Z,pathOptions:"pathOptions"in N?N.pathOptions:void 0,interactionWidth:N.interactionWidth}),P&&a.jsx(sEe,{edge:N,isReconnectable:P,reconnectRadius:p,onReconnect:m,onReconnectStart:g,onReconnectEnd:v,sourceX:I,sourceY:z,targetX:V,targetY:Y,sourcePosition:U,targetPosition:F,setUpdateHover:H,setReconnecting:L})]})})}var oEe=b.memo(iEe);const lEe=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function ZV({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:s,onReconnect:i,onEdgeContextMenu:l,onEdgeMouseEnter:u,onEdgeMouseMove:d,onEdgeMouseLeave:f,onEdgeClick:p,reconnectRadius:m,onEdgeDoubleClick:g,onReconnectStart:v,onReconnectEnd:w,disableKeyboardA11y:y}){const{edgesFocusable:j,edgesReconnectable:_,elementsSelectable:C,onError:N}=Lt(lEe,Dn),S=K_e(t);return a.jsxs("div",{className:"react-flow__edges",children:[a.jsx(Q_e,{defaultColor:e,rfId:n}),S.map(O=>a.jsx(oEe,{id:O,edgesFocusable:j,edgesReconnectable:_,elementsSelectable:C,noPanClassName:s,onReconnect:i,onContextMenu:l,onMouseEnter:u,onMouseMove:d,onMouseLeave:f,onClick:p,reconnectRadius:m,onDoubleClick:g,onReconnectStart:v,onReconnectEnd:w,rfId:n,onError:N,edgeTypes:r,disableKeyboardA11y:y},O))]})}ZV.displayName="EdgeRenderer";const cEe=b.memo(ZV),uEe=e=>`translate(${e.transform[0]}px,${e.transform[1]}px) scale(${e.transform[2]})`;function dEe({children:e}){const t=Lt(uEe);return a.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function fEe(e){const t=JE(),n=b.useRef(!1);b.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const hEe=e=>e.panZoom?.syncViewport;function mEe(e){const t=Lt(hEe),n=On();return b.useEffect(()=>{e&&(t?.(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function pEe(e){return e.connection.inProgress?{...e.connection,to:Km(e.connection.to,e.transform)}:{...e.connection}}function gEe(e){return pEe}function xEe(e){const t=gEe();return Lt(t,Dn)}const yEe=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function vEe({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:s,width:i,height:l,isValid:u,inProgress:d}=Lt(yEe,Dn);return!(i&&s&&d)?null:a.jsx("svg",{style:e,width:i,height:l,className:"react-flow__connectionline react-flow__container",children:a.jsx("g",{className:tr(["react-flow__connection",X7(u)]),children:a.jsx(JV,{style:t,type:n,CustomComponent:r,isValid:u})})})}const JV=({style:e,type:t=Eo.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:s,from:i,fromNode:l,fromHandle:u,fromPosition:d,to:f,toNode:p,toHandle:m,toPosition:g,pointer:v}=xEe();if(!s)return;if(n)return a.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:l,fromHandle:u,fromX:i.x,fromY:i.y,toX:f.x,toY:f.y,fromPosition:d,toPosition:g,connectionStatus:X7(r),toNode:p,toHandle:m,pointer:v});let w="";const y={sourceX:i.x,sourceY:i.y,sourcePosition:d,targetX:f.x,targetY:f.y,targetPosition:g};switch(t){case Eo.Bezier:[w]=lV(y);break;case Eo.SimpleBezier:[w]=zV(y);break;case Eo.Step:[w]=xC({...y,borderRadius:0});break;case Eo.SmoothStep:[w]=xC(y);break;default:[w]=dV(y)}return a.jsx("path",{d:w,fill:"none",className:"react-flow__connection-path",style:e})};JV.displayName="ConnectionLine";const bEe={};function t6(e=bEe){b.useRef(e),On(),b.useEffect(()=>{},[e])}function jEe(){On(),b.useRef(!1),b.useEffect(()=>{},[])}function eK({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:s,onNodeDoubleClick:i,onEdgeDoubleClick:l,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,onSelectionContextMenu:m,onSelectionStart:g,onSelectionEnd:v,connectionLineType:w,connectionLineStyle:y,connectionLineComponent:j,connectionLineContainerStyle:_,selectionKeyCode:C,selectionOnDrag:N,selectionMode:S,multiSelectionKeyCode:O,panActivationKeyCode:M,zoomActivationKeyCode:T,deleteKeyCode:P,onlyRenderVisibleElements:$,elementsSelectable:K,defaultViewport:q,translateExtent:H,minZoom:B,maxZoom:L,preventScrolling:D,defaultMarkerColor:k,zoomOnScroll:I,zoomOnPinch:z,panOnScroll:V,panOnScrollSpeed:Y,panOnScrollMode:U,zoomOnDoubleClick:F,panOnDrag:G,onPaneClick:Z,onPaneMouseEnter:ge,onPaneMouseMove:Se,onPaneMouseLeave:Q,onPaneScroll:pe,onPaneContextMenu:ce,paneClickDistance:Ae,nodeClickDistance:_e,onEdgeContextMenu:le,onEdgeMouseEnter:$e,onEdgeMouseMove:re,onEdgeMouseLeave:Oe,reconnectRadius:Ue,onReconnect:rt,onReconnectStart:en,onReconnectEnd:mn,noDragClassName:Un,noWheelClassName:vn,noPanClassName:be,disableKeyboardA11y:Re,nodeExtent:Ze,rfId:Ot,viewport:Ht,onViewportChange:he}){return t6(e),t6(t),jEe(),fEe(n),mEe(Ht),a.jsx(I_e,{onPaneClick:Z,onPaneMouseEnter:ge,onPaneMouseMove:Se,onPaneMouseLeave:Q,onPaneContextMenu:ce,onPaneScroll:pe,paneClickDistance:Ae,deleteKeyCode:P,selectionKeyCode:C,selectionOnDrag:N,selectionMode:S,onSelectionStart:g,onSelectionEnd:v,multiSelectionKeyCode:O,panActivationKeyCode:M,zoomActivationKeyCode:T,elementsSelectable:K,zoomOnScroll:I,zoomOnPinch:z,zoomOnDoubleClick:F,panOnScroll:V,panOnScrollSpeed:Y,panOnScrollMode:U,panOnDrag:G,defaultViewport:q,translateExtent:H,minZoom:B,maxZoom:L,onSelectionContextMenu:m,preventScrolling:D,noDragClassName:Un,noWheelClassName:vn,noPanClassName:be,disableKeyboardA11y:Re,onViewportChange:he,isControlledViewport:!!Ht,children:a.jsxs(dEe,{children:[a.jsx(cEe,{edgeTypes:t,onEdgeClick:s,onEdgeDoubleClick:l,onReconnect:rt,onReconnectStart:en,onReconnectEnd:mn,onlyRenderVisibleElements:$,onEdgeContextMenu:le,onEdgeMouseEnter:$e,onEdgeMouseMove:re,onEdgeMouseLeave:Oe,reconnectRadius:Ue,defaultMarkerColor:k,noPanClassName:be,disableKeyboardA11y:Re,rfId:Ot}),a.jsx(vEe,{style:y,type:w,component:j,containerStyle:_}),a.jsx("div",{className:"react-flow__edgelabel-renderer"}),a.jsx(V_e,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:i,onNodeMouseEnter:u,onNodeMouseMove:d,onNodeMouseLeave:f,onNodeContextMenu:p,nodeClickDistance:_e,onlyRenderVisibleElements:$,noPanClassName:be,noDragClassName:Un,disableKeyboardA11y:Re,nodeExtent:Ze,rfId:Ot}),a.jsx("div",{className:"react-flow__viewport-portal"})]})})}eK.displayName="GraphView";const wEe=b.memo(eK),n6=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:l,fitViewOptions:u,minZoom:d=.5,maxZoom:f=2,nodeOrigin:p,nodeExtent:m}={})=>{const g=new Map,v=new Map,w=new Map,y=new Map,j=r??t??[],_=n??e??[],C=p??[0,0],N=m??cm;mV(w,y,j);const S=vC(_,g,v,{nodeOrigin:C,nodeExtent:N,elevateNodesOnSelect:!1});let O=[0,0,1];if(l&&s&&i){const M=Hm(g,{filter:K=>!!((K.width||K.initialWidth)&&(K.height||K.initialHeight))}),{x:T,y:P,zoom:$}=WE(M,s,i,d,f,u?.padding??.1);O=[T,P,$]}return{rfId:"1",width:s??0,height:i??0,transform:O,nodes:_,nodesInitialized:S,nodeLookup:g,parentLookup:v,edges:j,edgeLookup:y,connectionLookup:w,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:d,maxZoom:f,translateExtent:cm,nodeExtent:N,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:fd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:C,nodeDragThreshold:1,connectionDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:l??!1,fitViewOptions:u,fitViewResolver:null,connection:{...G7},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanOnNodeFocus:!0,autoPanSpeed:15,connectionRadius:20,onError:z2e,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1,ariaLabelConfig:Y7}},NEe=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:m})=>BCe((g,v)=>{async function w(){const{nodeLookup:y,panZoom:j,fitViewOptions:_,fitViewResolver:C,width:N,height:S,minZoom:O,maxZoom:M}=v();j&&(await $2e({nodes:y,width:N,height:S,panZoom:j,minZoom:O,maxZoom:M},_),C?.resolve(!0),g({fitViewResolver:null}))}return{...n6({nodes:e,edges:t,width:s,height:i,fitView:l,fitViewOptions:u,minZoom:d,maxZoom:f,nodeOrigin:p,nodeExtent:m,defaultNodes:n,defaultEdges:r}),setNodes:y=>{const{nodeLookup:j,parentLookup:_,nodeOrigin:C,elevateNodesOnSelect:N,fitViewQueued:S}=v(),O=vC(y,j,_,{nodeOrigin:C,nodeExtent:m,elevateNodesOnSelect:N,checkEquality:!0});S&&O?(w(),g({nodes:y,nodesInitialized:O,fitViewQueued:!1,fitViewOptions:void 0})):g({nodes:y,nodesInitialized:O})},setEdges:y=>{const{connectionLookup:j,edgeLookup:_}=v();mV(j,_,y),g({edges:y})},setDefaultNodesAndEdges:(y,j)=>{if(y){const{setNodes:_}=v();_(y),g({hasDefaultNodes:!0})}if(j){const{setEdges:_}=v();_(j),g({hasDefaultEdges:!0})}},updateNodeInternals:y=>{const{triggerNodeChanges:j,nodeLookup:_,parentLookup:C,domNode:N,nodeOrigin:S,nodeExtent:O,debug:M,fitViewQueued:T}=v(),{changes:P,updatedInternals:$}=oCe(y,_,C,N,S,O);$&&(rCe(_,C,{nodeOrigin:S,nodeExtent:O}),T?(w(),g({fitViewQueued:!1,fitViewOptions:void 0})):g({}),P?.length>0&&(M&&console.log("React Flow: trigger node changes",P),j?.(P)))},updateNodePositions:(y,j=!1)=>{const _=[],C=[],{nodeLookup:N,triggerNodeChanges:S}=v();for(const[O,M]of y){const T=N.get(O),P=!!(T?.expandParent&&T?.parentId&&M?.position),$={id:O,type:"position",position:P?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:j};P&&T.parentId&&_.push({id:O,parentId:T.parentId,rect:{...M.internals.positionAbsolute,width:M.measured.width??0,height:M.measured.height??0}}),C.push($)}if(_.length>0){const{parentLookup:O,nodeOrigin:M}=v(),T=ZE(_,N,O,M);C.push(...T)}S(C)},triggerNodeChanges:y=>{const{onNodesChange:j,setNodes:_,nodes:C,hasDefaultNodes:N,debug:S}=v();if(y?.length){if(N){const O=OV(y,C);_(O)}S&&console.log("React Flow: trigger node changes",y),j?.(y)}},triggerEdgeChanges:y=>{const{onEdgesChange:j,setEdges:_,edges:C,hasDefaultEdges:N,debug:S}=v();if(y?.length){if(N){const O=TV(y,C);_(O)}S&&console.log("React Flow: trigger edge changes",y),j?.(y)}},addSelectedNodes:y=>{const{multiSelectionActive:j,edgeLookup:_,nodeLookup:C,triggerNodeChanges:N,triggerEdgeChanges:S}=v();if(j){const O=y.map(M=>Sl(M,!0));N(O);return}N(ju(C,new Set([...y]),!0)),S(ju(_))},addSelectedEdges:y=>{const{multiSelectionActive:j,edgeLookup:_,nodeLookup:C,triggerNodeChanges:N,triggerEdgeChanges:S}=v();if(j){const O=y.map(M=>Sl(M,!0));S(O);return}S(ju(_,new Set([...y]))),N(ju(C,new Set,!0))},unselectNodesAndEdges:({nodes:y,edges:j}={})=>{const{edges:_,nodes:C,nodeLookup:N,triggerNodeChanges:S,triggerEdgeChanges:O}=v(),M=y||C,T=j||_,P=M.map(K=>{const q=N.get(K.id);return q&&(q.selected=!1),Sl(K.id,!1)}),$=T.map(K=>Sl(K.id,!1));S(P),O($)},setMinZoom:y=>{const{panZoom:j,maxZoom:_}=v();j?.setScaleExtent([y,_]),g({minZoom:y})},setMaxZoom:y=>{const{panZoom:j,minZoom:_}=v();j?.setScaleExtent([_,y]),g({maxZoom:y})},setTranslateExtent:y=>{v().panZoom?.setTranslateExtent(y),g({translateExtent:y})},resetSelectedElements:()=>{const{edges:y,nodes:j,triggerNodeChanges:_,triggerEdgeChanges:C,elementsSelectable:N}=v();if(!N)return;const S=j.reduce((M,T)=>T.selected?[...M,Sl(T.id,!1)]:M,[]),O=y.reduce((M,T)=>T.selected?[...M,Sl(T.id,!1)]:M,[]);_(S),C(O)},setNodeExtent:y=>{const{nodes:j,nodeLookup:_,parentLookup:C,nodeOrigin:N,elevateNodesOnSelect:S,nodeExtent:O}=v();y[0][0]===O[0][0]&&y[0][1]===O[0][1]&&y[1][0]===O[1][0]&&y[1][1]===O[1][1]||(vC(j,_,C,{nodeOrigin:N,nodeExtent:y,elevateNodesOnSelect:S,checkEquality:!1}),g({nodeExtent:y}))},panBy:y=>{const{transform:j,width:_,height:C,panZoom:N,translateExtent:S}=v();return lCe({delta:y,panZoom:N,transform:j,translateExtent:S,width:_,height:C})},setCenter:async(y,j,_)=>{const{width:C,height:N,maxZoom:S,panZoom:O}=v();if(!O)return Promise.resolve(!1);const M=typeof _?.zoom<"u"?_.zoom:S;return await O.setViewport({x:C/2-y*M,y:N/2-j*M,zoom:M},{duration:_?.duration,ease:_?.ease,interpolate:_?.interpolate}),Promise.resolve(!0)},cancelConnection:()=>{g({connection:{...G7}})},updateConnection:y=>{g({connection:y})},reset:()=>g({...n6()})}},Object.is);function SEe({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:s,initialHeight:i,initialMinZoom:l,initialMaxZoom:u,initialFitViewOptions:d,fitView:f,nodeOrigin:p,nodeExtent:m,children:g}){const[v]=b.useState(()=>NEe({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:s,height:i,fitView:f,minZoom:l,maxZoom:u,fitViewOptions:d,nodeOrigin:p,nodeExtent:m}));return a.jsx(FCe,{value:v,children:a.jsx(d_e,{children:g})})}function AEe({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:s,width:i,height:l,fitView:u,fitViewOptions:d,minZoom:f,maxZoom:p,nodeOrigin:m,nodeExtent:g}){return b.useContext(ob)?a.jsx(a.Fragment,{children:e}):a.jsx(SEe,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:s,initialWidth:i,initialHeight:l,fitView:u,initialFitViewOptions:d,initialMinZoom:f,initialMaxZoom:p,nodeOrigin:m,nodeExtent:g,children:e})}const CEe={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function _Ee({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:s,nodeTypes:i,edgeTypes:l,onNodeClick:u,onEdgeClick:d,onInit:f,onMove:p,onMoveStart:m,onMoveEnd:g,onConnect:v,onConnectStart:w,onConnectEnd:y,onClickConnectStart:j,onClickConnectEnd:_,onNodeMouseEnter:C,onNodeMouseMove:N,onNodeMouseLeave:S,onNodeContextMenu:O,onNodeDoubleClick:M,onNodeDragStart:T,onNodeDrag:P,onNodeDragStop:$,onNodesDelete:K,onEdgesDelete:q,onDelete:H,onSelectionChange:B,onSelectionDragStart:L,onSelectionDrag:D,onSelectionDragStop:k,onSelectionContextMenu:I,onSelectionStart:z,onSelectionEnd:V,onBeforeDelete:Y,connectionMode:U,connectionLineType:F=Eo.Bezier,connectionLineStyle:G,connectionLineComponent:Z,connectionLineContainerStyle:ge,deleteKeyCode:Se="Backspace",selectionKeyCode:Q="Shift",selectionOnDrag:pe=!1,selectionMode:ce=um.Full,panActivationKeyCode:Ae="Space",multiSelectionKeyCode:_e=fm()?"Meta":"Control",zoomActivationKeyCode:le=fm()?"Meta":"Control",snapToGrid:$e,snapGrid:re,onlyRenderVisibleElements:Oe=!1,selectNodesOnDrag:Ue,nodesDraggable:rt,autoPanOnNodeFocus:en,nodesConnectable:mn,nodesFocusable:Un,nodeOrigin:vn=_V,edgesFocusable:be,edgesReconnectable:Re,elementsSelectable:Ze=!0,defaultViewport:Ot=t_e,minZoom:Ht=.5,maxZoom:he=2,translateExtent:qe=cm,preventScrolling:at=!0,nodeExtent:Ye,defaultMarkerColor:Yt="#b1b1b7",zoomOnScroll:Hn=!0,zoomOnPinch:bn=!0,panOnScroll:jn=!1,panOnScrollSpeed:hr=.5,panOnScrollMode:mr=Il.Free,zoomOnDoubleClick:qd=!0,panOnDrag:vc=!0,onPaneClick:zd,onPaneMouseEnter:Ui,onPaneMouseMove:oe,onPaneMouseLeave:ze,onPaneScroll:st,onPaneContextMenu:ot,paneClickDistance:It=1,nodeClickDistance:Pr=0,children:nr,onReconnect:Ta,onReconnectStart:el,onReconnectEnd:mb,onEdgeContextMenu:Wm,onEdgeDoubleClick:Ym,onEdgeMouseEnter:Gm,onEdgeMouseMove:Bd,onEdgeMouseLeave:Fd,reconnectRadius:Xm=10,onNodesChange:Qm,onEdgesChange:Cs,noDragClassName:rr="nodrag",noWheelClassName:Rr="nowheel",noPanClassName:Ys="nopan",fitView:bc,fitViewOptions:Zm,connectOnClick:pb,attributionPosition:Jm,proOptions:tl,defaultEdgeOptions:Ud,elevateNodesOnSelect:Hi,elevateEdgesOnSelect:Vi,disableKeyboardA11y:Ki=!1,autoPanOnConnect:Wi,autoPanOnNodeDrag:Wn,autoPanSpeed:ep,connectionRadius:tp,isValidConnection:Gs,onError:Yi,style:gb,id:Hd,nodeDragThreshold:np,connectionDragThreshold:xb,viewport:jc,onViewportChange:wc,width:rs,height:ea,colorMode:rp="light",debug:yb,onScroll:Nc,ariaLabelConfig:ap,...Sc},vb){const Dr=Hd||"1",Vd=s_e(rp),sp=b.useCallback(Ac=>{Ac.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),Nc?.(Ac)},[Nc]);return a.jsx("div",{"data-testid":"rf__wrapper",...Sc,onScroll:sp,style:{...gb,...CEe},ref:vb,className:tr(["react-flow",s,Vd]),id:Hd,role:"application",children:a.jsxs(AEe,{nodes:e,edges:t,width:rs,height:ea,fitView:bc,fitViewOptions:Zm,minZoom:Ht,maxZoom:he,nodeOrigin:vn,nodeExtent:Ye,children:[a.jsx(wEe,{onInit:f,onNodeClick:u,onEdgeClick:d,onNodeMouseEnter:C,onNodeMouseMove:N,onNodeMouseLeave:S,onNodeContextMenu:O,onNodeDoubleClick:M,nodeTypes:i,edgeTypes:l,connectionLineType:F,connectionLineStyle:G,connectionLineComponent:Z,connectionLineContainerStyle:ge,selectionKeyCode:Q,selectionOnDrag:pe,selectionMode:ce,deleteKeyCode:Se,multiSelectionKeyCode:_e,panActivationKeyCode:Ae,zoomActivationKeyCode:le,onlyRenderVisibleElements:Oe,defaultViewport:Ot,translateExtent:qe,minZoom:Ht,maxZoom:he,preventScrolling:at,zoomOnScroll:Hn,zoomOnPinch:bn,zoomOnDoubleClick:qd,panOnScroll:jn,panOnScrollSpeed:hr,panOnScrollMode:mr,panOnDrag:vc,onPaneClick:zd,onPaneMouseEnter:Ui,onPaneMouseMove:oe,onPaneMouseLeave:ze,onPaneScroll:st,onPaneContextMenu:ot,paneClickDistance:It,nodeClickDistance:Pr,onSelectionContextMenu:I,onSelectionStart:z,onSelectionEnd:V,onReconnect:Ta,onReconnectStart:el,onReconnectEnd:mb,onEdgeContextMenu:Wm,onEdgeDoubleClick:Ym,onEdgeMouseEnter:Gm,onEdgeMouseMove:Bd,onEdgeMouseLeave:Fd,reconnectRadius:Xm,defaultMarkerColor:Yt,noDragClassName:rr,noWheelClassName:Rr,noPanClassName:Ys,rfId:Dr,disableKeyboardA11y:Ki,nodeExtent:Ye,viewport:jc,onViewportChange:wc}),a.jsx(a_e,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:v,onConnectStart:w,onConnectEnd:y,onClickConnectStart:j,onClickConnectEnd:_,nodesDraggable:rt,autoPanOnNodeFocus:en,nodesConnectable:mn,nodesFocusable:Un,edgesFocusable:be,edgesReconnectable:Re,elementsSelectable:Ze,elevateNodesOnSelect:Hi,elevateEdgesOnSelect:Vi,minZoom:Ht,maxZoom:he,nodeExtent:Ye,onNodesChange:Qm,onEdgesChange:Cs,snapToGrid:$e,snapGrid:re,connectionMode:U,translateExtent:qe,connectOnClick:pb,defaultEdgeOptions:Ud,fitView:bc,fitViewOptions:Zm,onNodesDelete:K,onEdgesDelete:q,onDelete:H,onNodeDragStart:T,onNodeDrag:P,onNodeDragStop:$,onSelectionDrag:D,onSelectionDragStart:L,onSelectionDragStop:k,onMove:p,onMoveStart:m,onMoveEnd:g,noPanClassName:Ys,nodeOrigin:vn,rfId:Dr,autoPanOnConnect:Wi,autoPanOnNodeDrag:Wn,autoPanSpeed:ep,onError:Yi,connectionRadius:tp,isValidConnection:Gs,selectNodesOnDrag:Ue,nodeDragThreshold:np,connectionDragThreshold:xb,onBeforeDelete:Y,debug:yb,ariaLabelConfig:ap}),a.jsx(e_e,{onSelectionChange:B}),nr,a.jsx(GCe,{proOptions:tl,position:Jm}),a.jsx(YCe,{rfId:Dr,disableKeyboardA11y:Ki})]})})}var EEe=MV(_Ee);function OEe(e){const[t,n]=b.useState(e),r=b.useCallback(s=>n(i=>OV(s,i)),[]);return[t,n,r]}function TEe(e){const[t,n]=b.useState(e),r=b.useCallback(s=>n(i=>TV(s,i)),[]);return[t,n,r]}function MEe({dimensions:e,lineWidth:t,variant:n,className:r}){return a.jsx("path",{strokeWidth:t,d:`M${e[0]/2} 0 V${e[1]} M0 ${e[1]/2} H${e[0]}`,className:tr(["react-flow__background-pattern",n,r])})}function kEe({radius:e,className:t}){return a.jsx("circle",{cx:e,cy:e,r:e,className:tr(["react-flow__background-pattern","dots",t])})}var Ai;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Ai||(Ai={}));const PEe={[Ai.Dots]:1,[Ai.Lines]:1,[Ai.Cross]:6},REe=e=>({transform:e.transform,patternId:`pattern-${e.rfId}`});function tK({id:e,variant:t=Ai.Dots,gap:n=20,size:r,lineWidth:s=1,offset:i=0,color:l,bgColor:u,style:d,className:f,patternClassName:p}){const m=b.useRef(null),{transform:g,patternId:v}=Lt(REe,Dn),w=r||PEe[t],y=t===Ai.Dots,j=t===Ai.Cross,_=Array.isArray(n)?n:[n,n],C=[_[0]*g[2]||1,_[1]*g[2]||1],N=w*g[2],S=Array.isArray(i)?i:[i,i],O=j?[N,N]:C,M=[S[0]*g[2]||1+O[0]/2,S[1]*g[2]||1+O[1]/2],T=`${v}${e||""}`;return a.jsxs("svg",{className:tr(["react-flow__background",f]),style:{...d,...cb,"--xy-background-color-props":u,"--xy-background-pattern-color-props":l},ref:m,"data-testid":"rf__background",children:[a.jsx("pattern",{id:T,x:g[0]%C[0],y:g[1]%C[1],width:C[0],height:C[1],patternUnits:"userSpaceOnUse",patternTransform:`translate(-${M[0]},-${M[1]})`,children:y?a.jsx(kEe,{radius:N/2,className:p}):a.jsx(MEe,{dimensions:O,lineWidth:s,variant:t,className:p})}),a.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:`url(#${T})`})]})}tK.displayName="Background";const DEe=b.memo(tK);function IEe(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:a.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function LEe(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:a.jsx("path",{d:"M0 0h32v4.2H0z"})})}function $Ee(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:a.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function qEe(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function zEe(){return a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:a.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function Kg({children:e,className:t,...n}){return a.jsx("button",{type:"button",className:tr(["react-flow__controls-button",t]),...n,children:e})}const BEe=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom,ariaLabelConfig:e.ariaLabelConfig});function nK({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:s,onZoomIn:i,onZoomOut:l,onFitView:u,onInteractiveChange:d,className:f,children:p,position:m="bottom-left",orientation:g="vertical","aria-label":v}){const w=On(),{isInteractive:y,minZoomReached:j,maxZoomReached:_,ariaLabelConfig:C}=Lt(BEe,Dn),{zoomIn:N,zoomOut:S,fitView:O}=JE(),M=()=>{N(),i?.()},T=()=>{S(),l?.()},P=()=>{O(s),u?.()},$=()=>{w.setState({nodesDraggable:!y,nodesConnectable:!y,elementsSelectable:!y}),d?.(!y)},K=g==="horizontal"?"horizontal":"vertical";return a.jsxs(lb,{className:tr(["react-flow__controls",K,f]),position:m,style:e,"data-testid":"rf__controls","aria-label":v??C["controls.ariaLabel"],children:[t&&a.jsxs(a.Fragment,{children:[a.jsx(Kg,{onClick:M,className:"react-flow__controls-zoomin",title:C["controls.zoomIn.ariaLabel"],"aria-label":C["controls.zoomIn.ariaLabel"],disabled:_,children:a.jsx(IEe,{})}),a.jsx(Kg,{onClick:T,className:"react-flow__controls-zoomout",title:C["controls.zoomOut.ariaLabel"],"aria-label":C["controls.zoomOut.ariaLabel"],disabled:j,children:a.jsx(LEe,{})})]}),n&&a.jsx(Kg,{className:"react-flow__controls-fitview",onClick:P,title:C["controls.fitView.ariaLabel"],"aria-label":C["controls.fitView.ariaLabel"],children:a.jsx($Ee,{})}),r&&a.jsx(Kg,{className:"react-flow__controls-interactive",onClick:$,title:C["controls.interactive.ariaLabel"],"aria-label":C["controls.interactive.ariaLabel"],children:y?a.jsx(zEe,{}):a.jsx(qEe,{})}),p]})}nK.displayName="Controls";const FEe=b.memo(nK);function UEe({id:e,x:t,y:n,width:r,height:s,style:i,color:l,strokeColor:u,strokeWidth:d,className:f,borderRadius:p,shapeRendering:m,selected:g,onClick:v}){const{background:w,backgroundColor:y}=i||{},j=l||w||y;return a.jsx("rect",{className:tr(["react-flow__minimap-node",{selected:g},f]),x:t,y:n,rx:p,ry:p,width:r,height:s,style:{fill:j,stroke:u,strokeWidth:d},shapeRendering:m,onClick:v?_=>v(_,e):void 0})}const HEe=b.memo(UEe),VEe=e=>e.nodes.map(t=>t.id),iA=e=>e instanceof Function?e:()=>e;function KEe({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:s,nodeComponent:i=HEe,onClick:l}){const u=Lt(VEe,Dn),d=iA(t),f=iA(e),p=iA(n),m=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return a.jsx(a.Fragment,{children:u.map(g=>a.jsx(YEe,{id:g,nodeColorFunc:d,nodeStrokeColorFunc:f,nodeClassNameFunc:p,nodeBorderRadius:r,nodeStrokeWidth:s,NodeComponent:i,onClick:l,shapeRendering:m},g))})}function WEe({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:s,nodeStrokeWidth:i,shapeRendering:l,NodeComponent:u,onClick:d}){const{node:f,x:p,y:m,width:g,height:v}=Lt(w=>{const{internals:y}=w.nodeLookup.get(e),j=y.userNode,{x:_,y:C}=y.positionAbsolute,{width:N,height:S}=Fi(j);return{node:j,x:_,y:C,width:N,height:S}},Dn);return!f||f.hidden||!nV(f)?null:a.jsx(u,{x:p,y:m,width:g,height:v,style:f.style,selected:!!f.selected,className:r(f),color:t(f),borderRadius:s,strokeColor:n(f),strokeWidth:i,shapeRendering:l,onClick:d,id:f.id})}const YEe=b.memo(WEe);var GEe=b.memo(KEe);const XEe=200,QEe=150,ZEe=e=>!e.hidden,JEe=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?tV(Hm(e.nodeLookup,{filter:ZEe}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height,ariaLabelConfig:e.ariaLabelConfig}},eOe="react-flow__minimap-desc";function rK({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:s="",nodeBorderRadius:i=5,nodeStrokeWidth:l,nodeComponent:u,bgColor:d,maskColor:f,maskStrokeColor:p,maskStrokeWidth:m,position:g="bottom-right",onClick:v,onNodeClick:w,pannable:y=!1,zoomable:j=!1,ariaLabel:_,inversePan:C,zoomStep:N=1,offsetScale:S=5}){const O=On(),M=b.useRef(null),{boundingRect:T,viewBB:P,rfId:$,panZoom:K,translateExtent:q,flowWidth:H,flowHeight:B,ariaLabelConfig:L}=Lt(JEe,Dn),D=e?.width??XEe,k=e?.height??QEe,I=T.width/D,z=T.height/k,V=Math.max(I,z),Y=V*D,U=V*k,F=S*V,G=T.x-(Y-T.width)/2-F,Z=T.y-(U-T.height)/2-F,ge=Y+F*2,Se=U+F*2,Q=`${eOe}-${$}`,pe=b.useRef(0),ce=b.useRef();pe.current=V,b.useEffect(()=>{if(M.current&&K)return ce.current=xCe({domNode:M.current,panZoom:K,getTransform:()=>O.getState().transform,getViewScale:()=>pe.current}),()=>{ce.current?.destroy()}},[K]),b.useEffect(()=>{ce.current?.update({translateExtent:q,width:H,height:B,inversePan:C,pannable:y,zoomStep:N,zoomable:j})},[y,j,C,N,q,H,B]);const Ae=v?$e=>{const[re,Oe]=ce.current?.pointer($e)||[0,0];v($e,{x:re,y:Oe})}:void 0,_e=w?b.useCallback(($e,re)=>{const Oe=O.getState().nodeLookup.get(re).internals.userNode;w($e,Oe)},[]):void 0,le=_??L["minimap.ariaLabel"];return a.jsx(lb,{position:g,style:{...e,"--xy-minimap-background-color-props":typeof d=="string"?d:void 0,"--xy-minimap-mask-background-color-props":typeof f=="string"?f:void 0,"--xy-minimap-mask-stroke-color-props":typeof p=="string"?p:void 0,"--xy-minimap-mask-stroke-width-props":typeof m=="number"?m*V:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof l=="number"?l:void 0},className:tr(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:a.jsxs("svg",{width:D,height:k,viewBox:`${G} ${Z} ${ge} ${Se}`,className:"react-flow__minimap-svg",role:"img","aria-labelledby":Q,ref:M,onClick:Ae,children:[le&&a.jsx("title",{id:Q,children:le}),a.jsx(GEe,{onClick:_e,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:i,nodeClassName:s,nodeStrokeWidth:l,nodeComponent:u}),a.jsx("path",{className:"react-flow__minimap-mask",d:`M${G-F},${Z-F}h${ge+F*2}v${Se+F*2}h${-ge-F*2}z
        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fillRule:"evenodd",pointerEvents:"none"})]})})}rK.displayName="MiniMap";const tOe=b.memo(rK),nOe=e=>t=>e?`${Math.max(1/t.transform[2],1)}`:void 0,rOe={[gd.Line]:"right",[gd.Handle]:"bottom-right"};function aOe({nodeId:e,position:t,variant:n=gd.Handle,className:r,style:s=void 0,children:i,color:l,minWidth:u=10,minHeight:d=10,maxWidth:f=Number.MAX_VALUE,maxHeight:p=Number.MAX_VALUE,keepAspectRatio:m=!1,resizeDirection:g,autoScale:v=!0,shouldResize:w,onResizeStart:y,onResize:j,onResizeEnd:_}){const C=DV(),N=typeof e=="string"?e:C,S=On(),O=b.useRef(null),M=n===gd.Handle,T=Lt(b.useCallback(nOe(M&&v),[M,v]),Dn),P=b.useRef(null),$=t??rOe[n];b.useEffect(()=>{if(!(!O.current||!N))return P.current||(P.current=MCe({domNode:O.current,nodeId:N,getStoreItems:()=>{const{nodeLookup:q,transform:H,snapGrid:B,snapToGrid:L,nodeOrigin:D,domNode:k}=S.getState();return{nodeLookup:q,transform:H,snapGrid:B,snapToGrid:L,nodeOrigin:D,paneDomNode:k}},onChange:(q,H)=>{const{triggerNodeChanges:B,nodeLookup:L,parentLookup:D,nodeOrigin:k}=S.getState(),I=[],z={x:q.x,y:q.y},V=L.get(N);if(V&&V.expandParent&&V.parentId){const Y=V.origin??k,U=q.width??V.measured.width??0,F=q.height??V.measured.height??0,G={id:V.id,parentId:V.parentId,rect:{width:U,height:F,...rV({x:q.x??V.position.x,y:q.y??V.position.y},{width:U,height:F},V.parentId,L,Y)}},Z=ZE([G],L,D,k);I.push(...Z),z.x=q.x?Math.max(Y[0]*U,q.x):void 0,z.y=q.y?Math.max(Y[1]*F,q.y):void 0}if(z.x!==void 0&&z.y!==void 0){const Y={id:N,type:"position",position:{...z}};I.push(Y)}if(q.width!==void 0&&q.height!==void 0){const U={id:N,type:"dimensions",resizing:!0,setAttributes:g?g==="horizontal"?"width":"height":!0,dimensions:{width:q.width,height:q.height}};I.push(U)}for(const Y of H){const U={...Y,type:"position"};I.push(U)}B(I)},onEnd:({width:q,height:H})=>{const B={id:N,type:"dimensions",resizing:!1,dimensions:{width:q,height:H}};S.getState().triggerNodeChanges([B])}})),P.current.update({controlPosition:$,boundaries:{minWidth:u,minHeight:d,maxWidth:f,maxHeight:p},keepAspectRatio:m,resizeDirection:g,onResizeStart:y,onResize:j,onResizeEnd:_,shouldResize:w}),()=>{P.current?.destroy()}},[$,u,d,f,p,m,y,j,_,w]);const K=$.split("-");return a.jsx("div",{className:tr(["react-flow__resize-control","nodrag",...K,n,r]),ref:O,style:{...s,scale:T,...l&&{[M?"backgroundColor":"borderColor"]:l}},children:i})}b.memo(aOe);const sOe=({data:e})=>a.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border-2 border-primary min-w-[150px]",children:[a.jsx("div",{className:"font-bold text-sm text-primary mb-1",children:"Trigger"}),a.jsx("div",{className:"text-xs text-gray-500",children:e.label}),a.jsx($s,{type:"source",position:it.Bottom,className:"w-3 h-3 bg-primary"})]}),iOe=({data:e})=>a.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-gray-200 min-w-[150px]",children:[a.jsx($s,{type:"target",position:it.Top,className:"w-3 h-3 bg-gray-400"}),a.jsx("div",{className:"font-bold text-sm text-gray-700 mb-1",children:"Send Message"}),a.jsx("div",{className:"text-xs text-gray-500",children:e.label}),a.jsx($s,{type:"source",position:it.Bottom,className:"w-3 h-3 bg-gray-400"})]}),oOe=({data:e})=>a.jsxs("div",{className:"px-4 py-2 shadow-md rounded-md bg-white border border-orange-300 min-w-[150px] relative",children:[a.jsx($s,{type:"target",position:it.Top,className:"w-3 h-3 bg-gray-400"}),a.jsx("div",{className:"font-bold text-sm text-orange-600 mb-1",children:"Condition"}),a.jsx("div",{className:"text-xs text-gray-500",children:e.label}),a.jsx("div",{className:"absolute -bottom-6 left-1/4 text-[10px] text-gray-500",children:"Yes"}),a.jsx($s,{type:"source",position:it.Bottom,id:"a",className:"w-3 h-3 bg-green-500 left-1/4"}),a.jsx("div",{className:"absolute -bottom-6 right-1/4 text-[10px] text-gray-500",children:"No"}),a.jsx($s,{type:"source",position:it.Bottom,id:"b",className:"w-3 h-3 bg-red-500 left-3/4"})]}),lOe={trigger:sOe,message:iOe,condition:oOe},cOe=[{id:"1",type:"trigger",position:{x:250,y:0},data:{label:'Incoming Message: "Hello"'}},{id:"2",type:"message",position:{x:250,y:100},data:{label:"Reply: Welcome to our service!"}},{id:"3",type:"condition",position:{x:250,y:200},data:{label:"Is Business Hours?"}},{id:"4",type:"message",position:{x:100,y:300},data:{label:"Reply: How can we help?"}},{id:"5",type:"message",position:{x:400,y:300},data:{label:"Reply: We are closed."}}],uOe=[{id:"e1-2",source:"1",target:"2"},{id:"e2-3",source:"2",target:"3"},{id:"e3-4",source:"3",target:"4",sourceHandle:"a",label:"Yes"},{id:"e3-5",source:"3",target:"5",sourceHandle:"b",label:"No"}];function dOe(){const[e,t,n]=OEe(cOe),[r,s,i]=TEe(uOe),l=b.useCallback(u=>s(d=>uV(u,d)),[s]);return a.jsx(pt,{children:a.jsxs("div",{className:"flex flex-col h-[calc(100vh-8rem)] space-y-4 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between shrink-0",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Automation Builder"}),a.jsx("p",{className:"text-muted-foreground",children:"Design your chatbot flows visually."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(ee,{variant:"outline",children:[a.jsx(jh,{className:"mr-2 h-4 w-4"}),"Test Flow"]}),a.jsxs(ee,{children:[a.jsx(HZ,{className:"mr-2 h-4 w-4"}),"Save Flow"]})]})]}),a.jsxs("div",{className:"flex-1 flex gap-4 min-h-0",children:[a.jsxs(te,{className:"w-60 shrink-0 p-4 flex flex-col gap-3 overflow-y-auto",children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Elements"}),a.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm border-l-4 border-l-primary",children:[a.jsx("span",{className:"font-medium text-sm",children:"Trigger"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Start flow"})]}),a.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm",children:[a.jsx("span",{className:"font-medium text-sm",children:"Send Message"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Text, Image, Video"})]}),a.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm border-l-4 border-l-orange-400",children:[a.jsx("span",{className:"font-medium text-sm",children:"Condition"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Branch logic"})]}),a.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm",children:[a.jsx("span",{className:"font-medium text-sm",children:"Wait"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Delay execution"})]}),a.jsxs("div",{className:"p-3 border rounded cursor-grab hover:bg-secondary transition-colors bg-white shadow-sm",children:[a.jsx("span",{className:"font-medium text-sm",children:"Assign to Agent"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Handover"})]})]}),a.jsx(te,{className:"flex-1 overflow-hidden border-2 border-muted",children:a.jsxs(EEe,{nodes:e,edges:r,onNodesChange:n,onEdgesChange:i,onConnect:l,nodeTypes:lOe,fitView:!0,children:[a.jsx(FEe,{}),a.jsx(tOe,{}),a.jsx(DEe,{variant:Ai.Dots,gap:12,size:1})]})})]})]})})}function fOe(){const[e,t]=b.useState(""),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[p,m]=b.useState({name:"",phone:"",email:"",tags:"",notes:""}),[g,v]=b.useState(""),w=er(),{data:y=[],isLoading:j}=Ve({queryKey:["/api/contacts"],queryFn:async()=>{const k=await fetch("/api/contacts");if(!k.ok)throw new Error("Failed to fetch contacts");return k.json()}}),{data:_=[],isLoading:C}=Ve({queryKey:["/api/broadcast/imported-contacts"],queryFn:async()=>{const k=await fetch("/api/broadcast/imported-contacts");if(!k.ok)throw new Error("Failed to fetch imported contacts");return k.json()}}),N=[...y,..._.map(k=>({...k,tags:k.tags||[],source:k.source||"import"}))],S=j||C,O=et({mutationFn:async k=>{const I=await fetch("/api/contacts",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});if(!I.ok)throw new Error("Failed to create contact");return I.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/contacts"]}),r(!1),m({name:"",phone:"",email:"",tags:"",notes:""}),fe.success("Contact created successfully")},onError:()=>{fe.error("Failed to create contact")}}),M=et({mutationFn:async({id:k,data:I})=>{const z=await fetch(`/api/contacts/${k}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(I)});if(!z.ok)throw new Error("Failed to update contact");return z.json()},onSuccess:()=>{w.invalidateQueries({queryKey:["/api/contacts"]}),i(!1),f(null),fe.success("Contact updated successfully")},onError:()=>{fe.error("Failed to update contact")}}),T=et({mutationFn:async k=>{const I=k.source==="import"||k.source==="excel"||k.source==="csv",z=I?`/api/broadcast/imported-contacts/${k.id}`:`/api/contacts/${k.id}`;if(!(await fetch(z,{method:"DELETE"})).ok)throw new Error("Failed to delete contact");return I},onSuccess:k=>{k?w.invalidateQueries({queryKey:["/api/broadcast/imported-contacts"]}):w.invalidateQueries({queryKey:["/api/contacts"]}),fe.success("Contact deleted successfully")},onError:()=>{fe.error("Failed to delete contact")}}),P=et({mutationFn:async k=>{const I=await fetch("/api/contacts/import",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contacts:k})});if(!I.ok)throw new Error("Failed to import contacts");return I.json()},onSuccess:k=>{w.invalidateQueries({queryKey:["/api/contacts"]}),u(!1),v(""),fe.success(`Imported ${k.imported} contacts successfully`)},onError:()=>{fe.error("Failed to import contacts")}}),$=()=>{O.mutate({name:p.name,phone:p.phone,email:p.email||void 0,tags:p.tags.split(",").map(k=>k.trim()).filter(Boolean),notes:p.notes||void 0})},K=()=>{d&&M.mutate({id:d.id,data:{name:p.name,phone:p.phone,email:p.email||void 0,tags:p.tags.split(",").map(k=>k.trim()).filter(Boolean),notes:p.notes||void 0}})},q=()=>{try{const I=g.trim().split(`
`).map(z=>{const[V,Y,U,F]=z.split(",").map(G=>G.trim());return{name:V||"Unknown",phone:Y||"",email:U||void 0,tags:F?F.split(";").map(G=>G.trim()):[]}}).filter(z=>z.phone);P.mutate(I)}catch{fe.error("Invalid import format")}},H=()=>{const k=N.map(Y=>`${Y.name},${Y.phone},${Y.email||""},${Y.tags.join(";")}`).join(`
`),I=new Blob([`Name,Phone,Email,Tags
${k}`],{type:"text/csv"}),z=URL.createObjectURL(I),V=document.createElement("a");V.href=z,V.download="contacts.csv",V.click(),fe.success("Contacts exported successfully")},B=k=>{f(k),m({name:k.name,phone:k.phone,email:k.email||"",tags:k.tags.join(", "),notes:k.notes||""}),i(!0)},L=N.filter(k=>k.name.toLowerCase().includes(e.toLowerCase())||k.phone.includes(e)||k.tags.some(I=>I.toLowerCase().includes(e.toLowerCase()))),D=k=>{const I=Date.now()-new Date(k).getTime(),z=Math.floor(I/6e4),V=Math.floor(I/36e5),Y=Math.floor(I/864e5);return Y>0?`${Y} day${Y>1?"s":""} ago`:V>0?`${V} hour${V>1?"s":""} ago`:z>0?`${z} min${z>1?"s":""} ago`:"Just now"};return a.jsxs(pt,{children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Contacts"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your customer database and segments."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(sn,{open:l,onOpenChange:u,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{variant:"outline",children:[a.jsx(fJ,{className:"mr-2 h-4 w-4"}),"Import"]})}),a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Import Contacts"}),a.jsx(ca,{children:"Paste CSV data (Name,Phone,Email,Tags). Tags separated by semicolons."})]}),a.jsx("div",{className:"space-y-4 py-4",children:a.jsx(En,{placeholder:"John Doe,+1234567890,john@email.com,VIP;Customer",value:g,onChange:k=>v(k.target.value),rows:6})}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>u(!1),children:"Cancel"}),a.jsxs(ee,{onClick:q,disabled:P.isPending,children:[P.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Import"]})]})]})]}),a.jsxs(ee,{variant:"outline",onClick:H,children:[a.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Export"]}),a.jsxs(sn,{open:n,onOpenChange:r,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Add Contact"]})}),a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Add New Contact"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Name *"}),a.jsx(De,{placeholder:"John Doe",value:p.name,onChange:k=>m({...p,name:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Phone Number *"}),a.jsx(De,{placeholder:"+1234567890",value:p.phone,onChange:k=>m({...p,phone:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Email"}),a.jsx(De,{type:"email",placeholder:"john@example.com",value:p.email,onChange:k=>m({...p,email:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Tags (comma-separated)"}),a.jsx(De,{placeholder:"VIP, Customer, Lead",value:p.tags,onChange:k=>m({...p,tags:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Notes"}),a.jsx(En,{placeholder:"Additional notes...",value:p.notes,onChange:k=>m({...p,notes:k.target.value})})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsxs(ee,{onClick:$,disabled:O.isPending||!p.name||!p.phone,children:[O.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Contact"]})]})]})]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(de,{children:"All Contacts"}),a.jsxs(He,{children:["Total ",N.length," contacts in your database."]})]}),a.jsxs("div",{className:"flex items-center gap-2 w-full md:w-auto",children:[a.jsxs("div",{className:"relative w-64",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search contacts...",className:"pl-9",value:e,onChange:k=>t(k.target.value)})]}),a.jsx(ee,{variant:"outline",size:"icon",children:a.jsx(qC,{className:"h-4 w-4"})})]})]})}),a.jsx(ae,{children:S?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{className:"w-[250px]",children:"Name"}),a.jsx(ie,{children:"Phone Number"}),a.jsx(ie,{children:"Tags"}),a.jsx(ie,{children:"Last Updated"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:L.map(k=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xr,{className:"h-8 w-8",children:a.jsx(Qr,{className:"text-xs bg-primary/10 text-primary",children:k.name.split(" ").map(I=>I[0]).join("").slice(0,2)})}),a.jsxs("div",{children:[a.jsx("div",{children:k.name}),k.email&&a.jsx("div",{className:"text-xs text-muted-foreground",children:k.email})]})]})}),a.jsx(se,{children:k.phone}),a.jsx(se,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:k.tags.map(I=>a.jsx(ke,{variant:"secondary",className:"text-xs font-normal",children:I},I))})}),a.jsx(se,{className:"text-muted-foreground",children:D(k.updatedAt)}),a.jsx(se,{className:"text-right",children:a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx($C,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>B(k),children:[a.jsx(_i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rn,{className:"text-destructive",onClick:()=>T.mutate(k),children:[a.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})})]},k.id))})]})})]})]}),a.jsx(sn,{open:s,onOpenChange:i,children:a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Edit Contact"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Name *"}),a.jsx(De,{placeholder:"John Doe",value:p.name,onChange:k=>m({...p,name:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Phone Number *"}),a.jsx(De,{placeholder:"+1234567890",value:p.phone,onChange:k=>m({...p,phone:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Email"}),a.jsx(De,{type:"email",placeholder:"john@example.com",value:p.email,onChange:k=>m({...p,email:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Tags (comma-separated)"}),a.jsx(De,{placeholder:"VIP, Customer, Lead",value:p.tags,onChange:k=>m({...p,tags:k.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Notes"}),a.jsx(En,{placeholder:"Additional notes...",value:p.notes,onChange:k=>m({...p,notes:k.target.value})})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),a.jsxs(ee,{onClick:K,disabled:M.isPending||!p.name||!p.phone,children:[M.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})})]})}var db="Switch",[hOe]=Fr(db),[mOe,pOe]=hOe(db),aK=b.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:i,required:l,disabled:u,value:d="on",onCheckedChange:f,form:p,...m}=e,[g,v]=b.useState(null),w=wt(t,N=>v(N)),y=b.useRef(!1),j=g?p||!!g.closest("form"):!0,[_,C]=vs({prop:s,defaultProp:i??!1,onChange:f,caller:db});return a.jsxs(mOe,{scope:n,checked:_,disabled:u,children:[a.jsx(Je.button,{type:"button",role:"switch","aria-checked":_,"aria-required":l,"data-state":lK(_),"data-disabled":u?"":void 0,disabled:u,value:d,...m,ref:w,onClick:Le(e.onClick,N=>{C(S=>!S),j&&(y.current=N.isPropagationStopped(),y.current||N.stopPropagation())})}),j&&a.jsx(oK,{control:g,bubbles:!y.current,name:r,value:d,checked:_,required:l,disabled:u,form:p,style:{transform:"translateX(-100%)"}})]})});aK.displayName=db;var sK="SwitchThumb",iK=b.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=pOe(sK,n);return a.jsx(Je.span,{"data-state":lK(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});iK.displayName=sK;var gOe="SwitchBubbleInput",oK=b.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},i)=>{const l=b.useRef(null),u=wt(l,i),d=Kv(n),f=Gy(t);return b.useEffect(()=>{const p=l.current;if(!p)return;const m=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(m,"checked").set;if(d!==n&&v){const w=new Event("click",{bubbles:r});v.call(p,n),p.dispatchEvent(w)}},[d,n,r]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:u,style:{...s.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oK.displayName=gOe;function lK(e){return e?"checked":"unchecked"}var cK=aK,xOe=iK;const yr=b.forwardRef(({className:e,...t},n)=>a.jsx(cK,{className:Fe("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:a.jsx(xOe,{className:Fe("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));yr.displayName=cK.displayName;function yOe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences."})]}),a.jsxs(kr,{defaultValue:"general",className:"space-y-4",children:[a.jsxs(br,{children:[a.jsx(mt,{value:"general",children:"General"}),a.jsx(mt,{value:"business",children:"Business Profile"}),a.jsx(mt,{value:"api",children:"API & Webhooks"}),a.jsx(mt,{value:"notifications",children:"Notifications"})]}),a.jsxs(bt,{value:"general",className:"space-y-4",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Profile Information"}),a.jsx(He,{children:"Update your account profile details."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs(Xr,{className:"h-20 w-20",children:[a.jsx(u_,{src:"https://github.com/shadcn.png"}),a.jsx(Qr,{children:"CN"})]}),a.jsx(ee,{variant:"outline",children:"Change Avatar"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"name",children:"Display Name"}),a.jsx(De,{id:"name",defaultValue:"Acme Inc Admin"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"email",children:"Email"}),a.jsx(De,{id:"email",defaultValue:"admin@acme.com"})]})]}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Changes"})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Appearance"}),a.jsx(He,{children:"Customize how the dashboard looks on your device."})]}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Dark Mode"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable dark mode for the dashboard."})]}),a.jsx(yr,{})]})})]})]}),a.jsx(bt,{value:"business",className:"space-y-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"WhatsApp Business Profile"}),a.jsx(He,{children:"This information will be visible to your customers on WhatsApp."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Business Name"}),a.jsx(De,{defaultValue:"Acme Corporation"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Description"}),a.jsx(De,{defaultValue:"We provide the best widgets in the world."})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Address"}),a.jsx(De,{defaultValue:"123 Widget St, Tech City"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Email"}),a.jsx(De,{defaultValue:"support@acme.com"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Website"}),a.jsx(De,{defaultValue:"https://acme.com"})]})]}),a.jsx(Er,{children:a.jsx(ee,{children:"Update Profile"})})]})}),a.jsxs(bt,{value:"api",className:"space-y-4",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"API Credentials"}),a.jsx(He,{children:"Manage your API keys and authentication tokens."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Phone Number ID"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{value:"10928374655",readOnly:!0,className:"font-mono bg-muted"}),a.jsx(ee,{variant:"outline",size:"icon",children:a.jsx(lx,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"WhatsApp Business Account ID"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{value:"19283746556",readOnly:!0,className:"font-mono bg-muted"}),a.jsx(ee,{variant:"outline",size:"icon",children:a.jsx(lx,{className:"h-4 w-4"})})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Permanent Access Token"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{value:"EAABw...",type:"password",readOnly:!0,className:"font-mono bg-muted"}),a.jsx(ee,{variant:"outline",children:"Regenerate"})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Integrations"}),a.jsx(He,{children:"Connect with other platforms."})]}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"flex items-center justify-between border p-4 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-10 w-10 bg-blue-600 rounded-full flex items-center justify-center text-white",children:a.jsx(wm,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Facebook Leads"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Sync leads from Facebook & Instagram Ads."})]})]}),a.jsx(ee,{variant:"outline",children:"Connect"})]})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Webhooks"}),a.jsx(He,{children:"Configure where we send real-time events."})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Callback URL"}),a.jsx(De,{placeholder:"https://your-domain.com/webhook"})]}),a.jsxs("div",{className:"grid gap-2 mt-4",children:[a.jsx(we,{children:"Verify Token"}),a.jsx(De,{placeholder:"random_string"})]})]}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Webhook"})})]})]}),a.jsx(bt,{value:"notifications",className:"space-y-4",children:a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{children:"Email Notifications"})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Weekly Reports"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive a summary of your activity every Monday."})]}),a.jsx(yr,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"System Alerts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about API errors or downtime."})]}),a.jsx(yr,{defaultChecked:!0})]})]})]})})]})]})})}function vOe(){const[e,t]=b.useState(!1),[n,r]=b.useState({name:"",email:"",role:"agent"}),s=er(),{data:i=[],isLoading:l}=Ve({queryKey:["/api/team-members"],queryFn:async()=>{const p=await fetch("/api/team-members");if(!p.ok)throw new Error("Failed to fetch team members");return p.json()}}),u=et({mutationFn:async p=>{const m=await fetch("/api/team-members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:`user-${Date.now()}`,...p,permissions:p.role==="admin"?["all"]:["inbox","contacts"],isActive:!0})});if(!m.ok)throw new Error("Failed to add team member");return m.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/team-members"]}),t(!1),r({name:"",email:"",role:"agent"}),fe.success("Team member added successfully")},onError:()=>{fe.error("Failed to add team member")}}),d=et({mutationFn:async p=>{if(!(await fetch(`/api/team-members/${p}`,{method:"DELETE"})).ok)throw new Error("Failed to delete team member")},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/team-members"]}),fe.success("Team member removed successfully")},onError:()=>{fe.error("Failed to remove team member")}}),f=()=>{if(!n.name||!n.email){fe.error("Please fill in all fields");return}u.mutate(n)};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Team Members"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your team and their roles."})]}),a.jsxs(sn,{open:e,onOpenChange:t,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Add Member"]})}),a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Add Team Member"}),a.jsx(ca,{children:"Invite a new user to your organization."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"name",children:"Name"}),a.jsx(De,{id:"name",placeholder:"John Doe",value:n.name,onChange:p=>r({...n,name:p.target.value})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"email",children:"Email"}),a.jsx(De,{id:"email",type:"email",placeholder:"john@example.com",value:n.email,onChange:p=>r({...n,email:p.target.value})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"role",children:"Role"}),a.jsxs(dt,{value:n.role,onValueChange:p=>r({...n,role:p}),children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select role"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"admin",children:"Admin"}),a.jsx(xe,{value:"agent",children:"Agent"})]})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{onClick:f,disabled:u.isPending,children:[u.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Member"]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"All Members"}),a.jsx(He,{children:"A list of all users with access to this account."})]}),a.jsx(ae,{children:l?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"User"}),a.jsx(ie,{children:"Role"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:i.map(p=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xr,{children:a.jsx(Qr,{className:"bg-primary/10 text-primary",children:p.name.split(" ").map(m=>m[0]).join("").slice(0,2)})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:p.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:p.email})]})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[p.role==="admin"?a.jsx(Bl,{className:"h-3 w-3 text-primary"}):a.jsx(Ul,{className:"h-3 w-3 text-muted-foreground"}),a.jsx("span",{className:"capitalize",children:p.role})]})}),a.jsx(se,{children:a.jsx(ke,{variant:p.isActive?"default":"secondary",children:p.isActive?"Active":"Inactive"})}),a.jsx(se,{className:"text-right",children:a.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive hover:text-destructive",onClick:()=>d.mutate(p.id),disabled:d.isPending,children:a.jsx(Ea,{className:"h-4 w-4"})})})]},p.id))})]})})]})]})})}function bOe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Permissions"}),a.jsx("p",{className:"text-muted-foreground",children:"Control access levels for different roles."})]}),a.jsxs(kr,{defaultValue:"agent",className:"w-full",children:[a.jsxs(br,{children:[a.jsx(mt,{value:"admin",children:"Admin Role"}),a.jsx(mt,{value:"agent",children:"Agent Role"})]}),a.jsx(bt,{value:"agent",className:"space-y-4 mt-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Module Access"}),a.jsx(He,{children:"Define which modules agents can access."})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Dashboard"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View analytics and overview stats."})]}),a.jsx(yr,{defaultChecked:!0,disabled:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Inbox"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Read and reply to messages."})]}),a.jsx(yr,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Campaigns"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Create and send broadcasts."})]}),a.jsx(yr,{})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Contacts"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"View and edit contact details."})]}),a.jsx(yr,{defaultChecked:!0})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-0.5",children:[a.jsx(we,{children:"Settings"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Access global settings."})]}),a.jsx(yr,{})]})]})]})}),a.jsx(bt,{value:"admin",children:a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Admins have full access to all modules by default."})})})})]})]})})}function jOe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"WhatsApp Number Settings"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your connected phone numbers."})]}),a.jsxs(te,{className:"border-l-4 border-l-green-500",children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"h-5 w-5"}),"+1 (555) 123-4567"]}),a.jsx(He,{children:"Default Sending Number"})]}),a.jsx(ke,{className:"bg-green-500 hover:bg-green-600",children:"Active"})]})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Quality Rating"}),a.jsx("span",{className:"font-medium text-green-600",children:"High"})]}),a.jsx("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500 w-full"})})]}),a.jsx("div",{className:"grid gap-2",children:a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-muted-foreground",children:"Messaging Limit"}),a.jsx("span",{className:"font-medium",children:"1,000 conversations / 24h"})]})})]}),a.jsxs(Er,{className:"flex justify-end gap-2",children:[a.jsx(ee,{variant:"outline",size:"sm",children:"Verify"}),a.jsx(ee,{variant:"destructive",size:"sm",children:"Disconnect"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Add New Number"}),a.jsx(He,{children:"Connect another WhatsApp Business number."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Phone Number"}),a.jsx(De,{placeholder:"+1 (555) 000-0000"})]}),a.jsx(ee,{children:"Send Verification Code"})]})]})]})})}const r6={super_admin:{label:"Super Admin",color:"bg-red-100 text-red-800 border-red-200",icon:a.jsx(WQ,{className:"h-3 w-3"})},sub_admin:{label:"Sub Admin",color:"bg-purple-100 text-purple-800 border-purple-200",icon:a.jsx(GZ,{className:"h-3 w-3"})},manager:{label:"Manager",color:"bg-blue-100 text-blue-800 border-blue-200",icon:a.jsx(Uy,{className:"h-3 w-3"})},user:{label:"User",color:"bg-gray-100 text-gray-800 border-gray-200",icon:a.jsx(Ul,{className:"h-3 w-3"})},admin:{label:"Admin",color:"bg-emerald-100 text-emerald-800 border-emerald-200",icon:a.jsx(Bl,{className:"h-3 w-3"})}};function wOe(e){return e.split(" ").map(t=>t[0]).join("").toUpperCase().slice(0,2)}function NOe(){const{user:e,checkAuth:t}=Am(),[n,r]=b.useState("utc"),[s,i]=b.useState({name:e?.name||"",email:e?.email||"",phone:""}),l=et({mutationFn:async d=>{const f=await fetch("/api/auth/update-profile",{method:"PUT",headers:{"Content-Type":"application/json",...Mn()},body:JSON.stringify(d)});if(!f.ok){const p=await f.json();throw new Error(p.error||"Failed to update profile")}return f.json()},onSuccess:()=>{t(),fe.success("Profile updated successfully")},onError:d=>{fe.error(d.message)}}),u=r6[e?.role||"user"]||r6.user;return e?a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Profile Details"}),a.jsx("p",{className:"text-muted-foreground",children:"View and update your account information."})]}),a.jsxs(ke,{className:`${u.color} flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium`,children:[u.icon,u.label]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Account Information"}),a.jsx(He,{children:"Your login and role details."})]}),a.jsxs(ae,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(Xr,{className:"h-20 w-20 border-2 border-primary/20",children:a.jsx(Qr,{className:"bg-primary/10 text-primary text-xl font-semibold",children:wOe(e.name)})}),a.jsxs("div",{className:"space-y-1",children:[a.jsx("h3",{className:"text-xl font-semibold",children:e.name}),a.jsxs(ke,{variant:"outline",className:`${u.color} flex items-center gap-1 w-fit`,children:[u.icon,u.label]})]})]}),a.jsxs("div",{className:"space-y-4 pt-2",children:[a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx(dq,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Username"}),a.jsx("p",{className:"font-medium",children:e.username})]})]}),e.email&&a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx(Fy,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"Email Address"}),a.jsx("p",{className:"font-medium",children:e.email})]})]}),a.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg bg-muted/50",children:[a.jsx(Bl,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-muted-foreground",children:"User ID"}),a.jsx("p",{className:"font-mono text-sm",children:e.id})]})]}),e.pageAccess&&e.pageAccess.length>0&&a.jsxs("div",{className:"p-3 rounded-lg bg-muted/50",children:[a.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Page Access"}),a.jsx("div",{className:"flex flex-wrap gap-1.5",children:e.pageAccess.map(d=>a.jsx(ke,{variant:"secondary",className:"text-xs capitalize",children:d.replace(/_/g," ")},d))})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Edit Profile"}),a.jsx(He,{children:"Update your personal information."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"name",children:"Full Name"}),a.jsx(De,{id:"name",value:s.name,onChange:d=>i({...s,name:d.target.value}),placeholder:"Enter your full name"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"email",children:"Email Address"}),a.jsx(De,{id:"email",type:"email",value:s.email,onChange:d=>i({...s,email:d.target.value}),placeholder:"Enter your email"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"phone",children:"Phone Number"}),a.jsx(De,{id:"phone",value:s.phone,onChange:d=>i({...s,phone:d.target.value}),placeholder:"Enter your phone number"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Timezone"}),a.jsxs(dt,{value:n,onValueChange:r,children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"utc",children:"UTC (GMT+0)"}),a.jsx(xe,{value:"ist",children:"IST (GMT+5:30)"}),a.jsx(xe,{value:"est",children:"EST (GMT-5)"}),a.jsx(xe,{value:"pst",children:"PST (GMT-8)"})]})]})]})]}),a.jsx(Er,{children:a.jsxs(ee,{onClick:()=>l.mutate(s),disabled:l.isPending,children:[l.isPending&&a.jsx(Be,{className:"h-4 w-4 mr-2 animate-spin"}),"Update Profile"]})})]})]})]})}):a.jsx(pt,{children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})})})}const SOe=wd("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ll=b.forwardRef(({className:e,variant:t,...n},r)=>a.jsx("div",{ref:r,role:"alert",className:Fe(SOe({variant:t}),e),...n}));Ll.displayName="Alert";const ky=b.forwardRef(({className:e,...t},n)=>a.jsx("h5",{ref:n,className:Fe("mb-1 font-medium leading-none tracking-tight",e),...t}));ky.displayName="AlertTitle";const $l=b.forwardRef(({className:e,...t},n)=>a.jsx("div",{ref:n,className:Fe("text-sm [&_p]:leading-relaxed",e),...t}));$l.displayName="AlertDescription";function AOe(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(""),[w,y]=b.useState(""),[j,_]=b.useState(""),[C,N]=b.useState(""),[S,O]=b.useState(""),[M,T]=b.useState(""),[P,$]=b.useState(""),[K,q]=b.useState(""),H=er(),{data:B,isLoading:L}=Ve({queryKey:["/api/credentials"],queryFn:async()=>{const Q=await xn("/api/credentials");if(!Q.ok)throw new Error("Failed to fetch credentials");return Q.json()}}),D=et({mutationFn:async Q=>{const pe=await xn("/api/credentials",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)});if(!pe.ok)throw new Error("Failed to save credentials");return pe.json()},onSuccess:()=>{H.invalidateQueries({queryKey:["/api/credentials"]}),fe.success("Credentials saved and encrypted successfully"),f(""),m(""),v(""),y(""),_(""),N(""),O(""),T(""),$(""),q("")},onError:()=>{fe.error("Failed to save credentials")}}),k=et({mutationFn:async()=>{const Q=await xn("/api/credentials/test/whatsapp",{method:"POST"}),pe=await Q.json();if(!Q.ok)throw new Error(pe.error||pe.details||"Test failed");return pe},onSuccess:Q=>{H.invalidateQueries({queryKey:["/api/credentials"]}),fe.success(`WhatsApp connected: ${Q.verifiedName||Q.phoneNumber}`)},onError:Q=>{fe.error(Q.message||"WhatsApp connection test failed")}}),I=et({mutationFn:async()=>{const Q=await xn("/api/credentials/test/openai",{method:"POST"}),pe=await Q.json();if(!Q.ok)throw new Error(pe.error||pe.details||"Test failed");return pe},onSuccess:()=>{fe.success("OpenAI API connection successful")},onError:Q=>{fe.error(Q.message||"OpenAI connection test failed")}}),z=et({mutationFn:async()=>{const Q=await xn("/api/credentials/test/facebook",{method:"POST"}),pe=await Q.json();if(!Q.ok)throw new Error(pe.error||pe.details||"Test failed");return pe},onSuccess:Q=>{fe.success(`Facebook connected: ${Q.name}`)},onError:Q=>{fe.error(Q.message||"Facebook connection test failed")}}),V=()=>{const Q={};if(d&&(Q.whatsappToken=d),p&&(Q.phoneNumberId=p),g&&(Q.businessAccountId=g),w&&(Q.webhookVerifyToken=w),j&&(Q.appId=j),C&&(Q.appSecret=C),Object.keys(Q).length===0){fe.error("Please enter at least one credential");return}D.mutate(Q)},Y=()=>{if(!S){fe.error("Please enter your OpenAI API key");return}D.mutate({openaiApiKey:S})},U=()=>{if(!M){fe.error("Please enter your Gemini API key");return}D.mutate({geminiApiKey:M})},F=()=>{const Q={};if(P&&(Q.facebookAccessToken=P),K&&(Q.facebookPageId=K),Object.keys(Q).length===0){fe.error("Please enter at least one credential");return}D.mutate(Q)},G=Q=>{navigator.clipboard.writeText(Q),fe.success("Copied to clipboard")},Z=typeof window<"u"?`${window.location.origin}/api/webhook/whatsapp`:"",ge=B?.status||{hasWhatsApp:!1,hasOpenAI:!1,hasGemini:!1,hasFacebook:!1,isVerified:!1},Se=B?.credentials||{};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"API Credentials"}),a.jsx("p",{className:"text-muted-foreground",children:"Securely manage your API keys and webhook configurations."})]}),a.jsxs("div",{className:"flex gap-2",children:[ge.hasWhatsApp&&a.jsx(ke,{variant:ge.isVerified?"default":"secondary",className:"gap-1",children:ge.isVerified?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"h-3 w-3"})," WhatsApp Connected"]}):a.jsxs(a.Fragment,{children:[a.jsx(Ho,{className:"h-3 w-3"})," WhatsApp Not Verified"]})}),ge.hasOpenAI&&a.jsxs(ke,{variant:"default",className:"gap-1 bg-purple-600",children:[a.jsx(kt,{className:"h-3 w-3"})," AI Ready"]})]})]}),a.jsxs(Ll,{className:"bg-blue-50 border-blue-200",children:[a.jsx(Bl,{className:"h-4 w-4 text-blue-600"}),a.jsx(ky,{className:"text-blue-800",children:"Secure Storage"}),a.jsx($l,{className:"text-blue-700",children:"All your API keys are encrypted using AES-256-GCM before being stored. Your credentials are never exposed in plain text after saving."})]}),a.jsxs(kr,{defaultValue:"whatsapp",className:"space-y-4",children:[a.jsxs(br,{children:[a.jsxs(mt,{value:"whatsapp",className:"gap-2",children:[a.jsx(CP,{className:"h-4 w-4"}),"WhatsApp API"]}),a.jsxs(mt,{value:"openai",className:"gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),"OpenAI"]}),a.jsxs(mt,{value:"gemini",className:"gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),"Gemini"]}),a.jsxs(mt,{value:"facebook",className:"gap-2",children:[a.jsx(ix,{className:"h-4 w-4"}),"Facebook"]}),a.jsxs(mt,{value:"webhook",className:"gap-2",children:[a.jsx(Co,{className:"h-4 w-4"}),"Webhook"]})]}),a.jsx(bt,{value:"whatsapp",className:"space-y-4",children:a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-green-500 flex items-center justify-center text-white",children:a.jsx(CP,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx(de,{children:"WhatsApp Business API"}),a.jsx(He,{children:"Connect your WhatsApp Business account"})]})]})}),a.jsxs(ae,{className:"space-y-4",children:[ge.hasWhatsApp&&Se.whatsappToken&&a.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-green-700",children:[a.jsx(cr,{className:"h-4 w-4 inline mr-1"}),"Credentials saved. Token: ",Se.whatsappToken]})}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Access Token"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(De,{type:e?"text":"password",placeholder:ge.hasWhatsApp?"Enter new token to update...":"Enter your WhatsApp Access Token",value:d,onChange:Q=>f(Q.target.value)}),a.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>t(!e),children:e?a.jsx(vg,{className:"h-4 w-4"}):a.jsx(Ka,{className:"h-4 w-4"})})]})})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Phone Number ID"}),a.jsx(De,{placeholder:ge.hasWhatsApp?Se.phoneNumberId||"Enter to update...":"Phone Number ID",value:p,onChange:Q=>m(Q.target.value)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Business Account ID (WABA ID)"}),a.jsx(De,{placeholder:ge.hasWhatsApp?Se.businessAccountId||"Enter to update...":"WABA ID",value:g,onChange:Q=>v(Q.target.value)})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"App ID"}),a.jsx(De,{placeholder:ge.hasWhatsApp?Se.appId||"Enter to update...":"Meta App ID",value:j,onChange:Q=>_(Q.target.value)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"App Secret"}),a.jsx(De,{type:"password",placeholder:ge.hasWhatsApp?"Enter to update...":"Meta App Secret",value:C,onChange:Q=>N(Q.target.value)})]})]})]}),a.jsxs(Er,{className:"flex justify-between bg-muted/50 border-t p-6",children:[a.jsxs(ee,{variant:"outline",onClick:()=>k.mutate(),disabled:k.isPending||!ge.hasWhatsApp,children:[k.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Co,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),a.jsxs(ee,{onClick:V,disabled:D.isPending,children:[D.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})]})]})}),a.jsx(bt,{value:"openai",className:"space-y-4",children:a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-purple-500 flex items-center justify-center text-white",children:a.jsx(kt,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx(de,{children:"OpenAI API"}),a.jsx(He,{children:"Connect your OpenAI account for AI agent responses"})]})]})}),a.jsxs(ae,{className:"space-y-4",children:[ge.hasOpenAI&&Se.openaiApiKey&&a.jsx("div",{className:"p-3 bg-purple-50 border border-purple-200 rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-purple-700",children:[a.jsx(cr,{className:"h-4 w-4 inline mr-1"}),"API Key saved: ",Se.openaiApiKey]})}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"OpenAI API Key"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(De,{type:n?"text":"password",placeholder:ge.hasOpenAI?"Enter new key to update...":"sk-...",value:S,onChange:Q=>O(Q.target.value)}),a.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>r(!n),children:n?a.jsx(vg,{className:"h-4 w-4"}):a.jsx(Ka,{className:"h-4 w-4"})})]})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get your API key from"," ",a.jsx("a",{href:"https://platform.openai.com/api-keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"OpenAI Platform"})]})]})]}),a.jsxs(Er,{className:"flex justify-between bg-muted/50 border-t p-6",children:[a.jsxs(ee,{variant:"outline",onClick:()=>I.mutate(),disabled:I.isPending||!ge.hasOpenAI,children:[I.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Co,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),a.jsxs(ee,{onClick:Y,disabled:D.isPending,children:[D.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})]})]})}),a.jsx(bt,{value:"gemini",className:"space-y-4",children:a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-500 flex items-center justify-center text-white",children:a.jsx(kt,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx(de,{children:"Google Gemini API"}),a.jsx(He,{children:"Connect your Google AI account for Gemini-powered agents"})]})]})}),a.jsxs(ae,{className:"space-y-4",children:[ge.hasGemini&&Se.geminiApiKey&&a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx(cr,{className:"h-4 w-4 inline mr-1"}),"API Key saved: ",Se.geminiApiKey]})}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Gemini API Key"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(De,{type:s?"text":"password",placeholder:ge.hasGemini?"Enter new key to update...":"AIza...",value:M,onChange:Q=>T(Q.target.value)}),a.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>i(!s),children:s?a.jsx(vg,{className:"h-4 w-4"}):a.jsx(Ka,{className:"h-4 w-4"})})]})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Get your API key from"," ",a.jsx("a",{href:"https://aistudio.google.com/app/apikey",target:"_blank",rel:"noopener noreferrer",className:"text-primary underline",children:"Google AI Studio"})]})]})]}),a.jsx(Er,{className:"flex justify-end bg-muted/50 border-t p-6",children:a.jsxs(ee,{onClick:U,disabled:D.isPending,children:[D.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})})]})}),a.jsx(bt,{value:"facebook",className:"space-y-4",children:a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-blue-600 flex items-center justify-center text-white",children:a.jsx(ix,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx(de,{children:"Facebook API"}),a.jsx(He,{children:"Connect for Facebook Lead Forms integration"})]})]})}),a.jsxs(ae,{className:"space-y-4",children:[ge.hasFacebook&&Se.facebookAccessToken&&a.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg mb-4",children:a.jsxs("p",{className:"text-sm text-blue-700",children:[a.jsx(cr,{className:"h-4 w-4 inline mr-1"}),"Token saved: ",Se.facebookAccessToken]})}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Facebook Access Token"}),a.jsx("div",{className:"flex gap-2",children:a.jsxs("div",{className:"relative flex-1",children:[a.jsx(De,{type:l?"text":"password",placeholder:ge.hasFacebook?"Enter new token to update...":"Your Facebook Page Access Token",value:P,onChange:Q=>$(Q.target.value)}),a.jsx(ee,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-full",onClick:()=>u(!l),children:l?a.jsx(vg,{className:"h-4 w-4"}):a.jsx(Ka,{className:"h-4 w-4"})})]})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Facebook Page ID"}),a.jsx(De,{placeholder:ge.hasFacebook?Se.facebookPageId||"Enter to update...":"Your Facebook Page ID",value:K,onChange:Q=>q(Q.target.value)})]})]}),a.jsxs(Er,{className:"flex justify-between bg-muted/50 border-t p-6",children:[a.jsxs(ee,{variant:"outline",onClick:()=>z.mutate(),disabled:z.isPending||!ge.hasFacebook,children:[z.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Co,{className:"mr-2 h-4 w-4"}),"Test Connection"]}),a.jsxs(ee,{onClick:F,disabled:D.isPending,children:[D.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Encrypt"]})]})]})}),a.jsx(bt,{value:"webhook",className:"space-y-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Webhook Configuration"}),a.jsx(He,{children:"Configure your WhatsApp webhook in Meta Developer Console"})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Callback URL"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{value:Z,readOnly:!0,className:"font-mono bg-muted"}),a.jsx(ee,{variant:"outline",size:"icon",onClick:()=>G(Z),children:a.jsx(LC,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use this URL as the Callback URL in your Meta Developer Console webhook settings."})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Webhook Verify Token"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{placeholder:"Enter to update your verify token",value:w,onChange:Q=>y(Q.target.value)}),a.jsx(ee,{onClick:()=>{w&&D.mutate({webhookVerifyToken:w})},disabled:D.isPending||!w,children:"Save"})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Set a custom verify token that matches what you configure in Meta Developer Console."})]}),a.jsxs(Ll,{children:[a.jsx(Co,{className:"h-4 w-4"}),a.jsx(ky,{children:"Setup Instructions"}),a.jsxs($l,{className:"space-y-2",children:[a.jsx("p",{children:"1. Go to your Meta Developer Console"}),a.jsxs("p",{children:["2. Navigate to WhatsApp ",">"," Configuration ",">"," Webhook"]}),a.jsx("p",{children:"3. Set the Callback URL to the URL shown above"}),a.jsx("p",{children:"4. Set the Verify Token to match what you saved above"}),a.jsx("p",{children:"5. Subscribe to: messages, message_deliveries, message_reads"})]})]})]})]})})]})]})})}function COe(){const[e,t]=b.useState(!1),[n,r]=b.useState(""),s=er(),{data:i,isLoading:l}=Ve({queryKey:["/api/billing"],queryFn:async()=>{const m=await fetch("/api/billing");if(!m.ok)throw new Error("Failed to fetch billing");return m.json()}}),u=et({mutationFn:async m=>{const g=await fetch("/api/billing/purchase",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:m})});if(!g.ok)throw new Error("Failed to purchase credits");return g.json()},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/billing"]}),t(!1),r(""),fe.success("Credits purchased successfully!")},onError:()=>{fe.error("Failed to purchase credits")}}),d=()=>{const m=parseInt(n);if(!m||m<=0){fe.error("Please enter a valid amount");return}u.mutate(m)},f=m=>new Date(m).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),p=()=>i?i.transactions.filter(m=>m.type==="usage").reduce((m,g)=>m+Math.abs(g.amount),0):0;return l?a.jsx(pt,{children:a.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})})}):a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Billing & Credits"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your subscription and conversation credits."})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(te,{className:"bg-primary text-primary-foreground border-none",children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-lg font-medium opacity-90",children:"Available Credits"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-4xl font-bold",children:i?.credits?.toLocaleString()||0}),a.jsxs(sn,{open:e,onOpenChange:t,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{variant:"secondary",className:"w-full mt-4 text-primary",children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"})," Recharge"]})}),a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Purchase Credits"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Amount"}),a.jsx(De,{type:"number",placeholder:"Enter amount (e.g., 1000)",value:n,onChange:m=>r(m.target.value)})]}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:[500,1e3,2e3].map(m=>a.jsx(ee,{variant:"outline",onClick:()=>r(m.toString()),children:m},m))})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{onClick:d,disabled:u.isPending,children:[u.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Purchase"]})]})]})]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-lg font-medium",children:"Credits Used"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-4xl font-bold",children:p().toLocaleString()}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Total usage"}),a.jsx("div",{className:"mt-4 h-2 bg-secondary rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-blue-500 transition-all",style:{width:`${i?.credits?Math.min(p()/(i.credits+p())*100,100):0}%`}})})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-lg font-medium",children:"Payment Method"})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx(VQ,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"font-medium",children:"Demo Mode"})]}),a.jsx(ee,{variant:"outline",className:"w-full",onClick:()=>fe.info("Payment methods will be available in production"),children:"Manage Cards"})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Transaction History"}),a.jsx(He,{children:"Recent purchases and usage charges."})]}),a.jsx(ae,{children:i?.transactions&&i.transactions.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Date"}),a.jsx(ie,{children:"Description"}),a.jsx(ie,{children:"Type"}),a.jsx(ie,{className:"text-right",children:"Amount"}),a.jsx(ie,{className:"text-right",children:"Invoice"})]})}),a.jsx(zt,{children:i.transactions.slice().reverse().map(m=>a.jsxs(Ke,{children:[a.jsx(se,{children:f(m.createdAt)}),a.jsx(se,{children:m.description}),a.jsx(se,{children:a.jsx(ke,{variant:m.type==="purchase"?"default":"secondary",children:m.type==="purchase"?"Purchase":"Usage"})}),a.jsxs(se,{className:`text-right font-medium ${m.amount>0?"text-green-600":"text-red-600"}`,children:[m.amount>0?"+":"",m.amount.toLocaleString()]}),a.jsx(se,{className:"text-right",children:a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>fe.success("Invoice downloaded"),children:a.jsx(Tr,{className:"h-4 w-4"})})})]},m.id))})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No transactions yet."})})]})]})})}const _Oe=[{id:1,name:"welcome_message",language:"en_US",status:"Approved",category:"Marketing",type:"text",preview:"Hi {{1}}, welcome to our store! We're excited to have you here. Check out our latest collection here: {{2}}"},{id:2,name:"order_confirmation",language:"en_US",status:"Approved",category:"Utility",type:"text",preview:"Hello {{1}}, your order #{{2}} has been confirmed and will be shipped soon."},{id:3,name:"promo_image_header",language:"es_ES",status:"Pending",category:"Marketing",type:"image",preview:"Hola {{1}}, tenemos una oferta especial para ti! 20% de descuento en tu prxima compra."},{id:4,name:"shipping_update",language:"en_US",status:"Rejected",category:"Utility",type:"text",preview:"Your package is on the way! Track it here: {{1}}"},{id:5,name:"appointment_reminder",language:"en_US",status:"Approved",category:"Utility",type:"text",preview:"Hi {{1}}, just a reminder for your appointment tomorrow at {{2}}."}];function EOe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Message Templates"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage WhatsApp message templates."})]}),a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"New Template"]})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:_Oe.map(e=>a.jsxs(te,{className:"flex flex-col",children:[a.jsxs(ue,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[e.type==="image"?a.jsx(dZ,{className:"h-4 w-4 text-muted-foreground"}):e.type==="video"?a.jsx(Hy,{className:"h-4 w-4 text-muted-foreground"}):e.type==="location"?a.jsx(EZ,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(vr,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(de,{className:"text-base font-medium truncate",children:e.name})]}),a.jsx(ke,{variant:e.status==="Approved"?"default":e.status==="Pending"?"secondary":"destructive",className:e.status==="Approved"?"bg-green-500 hover:bg-green-600":"",children:e.status})]}),a.jsxs("div",{className:"flex gap-2 mt-2",children:[a.jsx(ke,{variant:"outline",className:"text-xs font-normal",children:e.language}),a.jsx(ke,{variant:"outline",className:"text-xs font-normal",children:e.category})]})]}),a.jsx(ae,{className:"flex-1",children:a.jsx("div",{className:"bg-muted/30 p-3 rounded-md text-sm text-muted-foreground border border-border h-full",children:e.preview})}),a.jsx(Er,{className:"border-t pt-4",children:a.jsx(ee,{variant:"ghost",size:"sm",className:"w-full",children:"Edit Template"})})]},e.id))})]})})}function OOe(){cc();const[e,t]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(""),[w,y]=b.useState("template"),[j,_]=b.useState(""),[C,N]=b.useState(!1),[S,O]=b.useState(""),[M,T]=b.useState(""),[P,$]=b.useState(!1),[K,q]=b.useState(!1),[H,B]=b.useState(""),L=b.useRef(null),D=er(),{data:k=[]}=Ve({queryKey:["/api/contacts"],queryFn:async()=>{const re=await fetch("/api/contacts");if(!re.ok)throw new Error("Failed to fetch contacts");return re.json()}}),{data:I=[]}=Ve({queryKey:["/api/broadcast/imported-contacts"],queryFn:async()=>{const re=await fetch("/api/broadcast/imported-contact");if(!re.ok)throw new Error("Failed to fetch imported contacts");return re.json()}}),z=b.useMemo(()=>[...k,...I.map(re=>({id:re.id,name:re.name,phone:re.phone,tags:re.tags||[]}))],[k,I]),V=b.useMemo(()=>{if(!H.trim())return z;const re=H.toLowerCase();return z.filter(Oe=>Oe.name.toLowerCase().includes(re)||Oe.phone.includes(H))},[z,H]),{data:Y=[]}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const re=await fetch("/api/templates");if(!re.ok)throw new Error("Failed to fetch templates");return re.json()}}),{data:U=[]}=Ve({queryKey:["/api/agents"],queryFn:async()=>{const re=await fetch("/api/agents");if(!re.ok)throw new Error("Failed to fetch agents");return re.json()}}),{data:F=[]}=Ve({queryKey:["/api/broadcast/lists"],queryFn:async()=>{const re=await fetch("/api/broadcast/lists");if(!re.ok)throw new Error("Failed to fetch broadcast lists");return re.json()}}),G=Y.filter(re=>re.status==="approved"),Z=U.filter(re=>re.isActive),ge=et({mutationFn:async re=>{const Oe=new FormData;Oe.append("file",re);const Ue=await fetch("/api/broadcast/import-excel",{method:"POST",body:Oe}),rt=await Ue.json();if(!Ue.ok)throw new Error(rt.error||"Failed to import file");return rt},onSuccess:re=>{r(re.contacts),re.errors&&re.errors.length>0?fe.warning(`Imported ${re.validContacts} of ${re.totalRows} rows. ${re.errors.length} rows had issues.`):fe.success(`Successfully imported ${re.validContacts} contacts from ${re.totalRows} rows`)},onError:re=>{fe.error(re.message||"Failed to import file. Check that your file has 'Name' and 'Mobile' columns.")}}),Se=et({mutationFn:async re=>{const Oe=await fetch("/api/broadcast/lists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(!Oe.ok)throw new Error("Failed to create list");return Oe.json()},onSuccess:()=>{D.invalidateQueries({queryKey:["/api/broadcast/lists"]}),fe.success("Broadcast list created successfully"),$(!1),T("")},onError:()=>{fe.error("Failed to create broadcast list")}}),Q=re=>{const Oe=re.target.files?.[0];Oe&&ge.mutate(Oe)},pe=re=>{if(f(re),re==="hello_world")m("hello_world"),i("Welcome and congratulations!! This message demonstrates your ability to send a WhatsApp message notification from the Cloud API, hosted by Meta.");else{const Oe=Y.find(Ue=>Ue.id===re);Oe&&(m(Oe.name),i(Oe.content))}},ce=(re,Oe)=>{t(Oe===!0?rt=>[...rt,re]:rt=>rt.filter(en=>en!==re))},Ae=()=>{e.length===V.length?t([]):t(V.map(re=>re.id))},_e=async()=>{if(!l.trim()){fe.error("Campaign name is required! Please enter a campaign name.");return}let re=[];if(S){const Oe=F.find(Ue=>Ue.id===S);Oe&&(re=Oe.contacts)}else n.length>0?re=n:e.length>0&&(re=z.filter(Oe=>e.includes(Oe.id)).map(Oe=>({name:Oe.name,phone:Oe.phone})));if(re.length===0){fe.error("Please select contacts or import from Excel");return}if(w==="template"&&!d){fe.error("Please select a template");return}if(w==="custom"&&!s.trim()){fe.error("Please enter a message");return}if(w==="ai_agent"&&!g){fe.error("Please select an AI agent");return}if(C){if(!j){fe.error("Please select a schedule time");return}if(new Date(j)<=new Date){fe.error("Scheduled time must be in the future");return}}q(!0);try{const Oe={contacts:re,messageType:w,templateName:w==="template"?p||"hello_world":void 0,customMessage:w==="custom"?s:void 0,agentId:w==="ai_agent"?g:void 0,campaignName:l.trim(),isScheduled:C,scheduledTime:C?new Date(j).toISOString():void 0};console.log(" Sending broadcast payload:",Oe);const Ue=await fetch("/api/broadcast/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Oe)}),rt=await Ue.json();if(console.log(" Broadcast response:",rt),!Ue.ok){fe.error(rt.error||`Failed to send broadcast (${Ue.status})`),q(!1);return}C?fe.success(`Broadcast scheduled successfully for ${new Date(j).toLocaleString()}`):rt.failed>0?fe.warning(`Broadcast partially sent: ${rt.successful} successful, ${rt.failed} failed`):fe.success(`Broadcast sent successfully to ${rt.successful} contacts`),t([]),r([]),u(""),f(""),m(""),i(""),N(!1),_(""),q(!1)}catch(Oe){console.error(" Broadcast error:",Oe),fe.error(Oe.message||"Failed to send broadcast"),q(!1)}},le=()=>{if(!M.trim()){fe.error("Please enter a list name");return}let re=[];if(n.length>0?re=n:e.length>0&&(re=z.filter(Oe=>e.includes(Oe.id)).map(Oe=>({name:Oe.name,phone:Oe.phone}))),re.length===0){fe.error("No contacts to add to the list");return}Se.mutate({name:M,contacts:re})},$e=S?F.find(re=>re.id===S)?.contacts.length||0:n.length>0?n.length:e.length;return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Send Broadcast"}),a.jsx("p",{className:"text-muted-foreground",children:"Send bulk messages to your contact lists."})]}),a.jsxs(Ll,{children:[a.jsx(bh,{className:"h-4 w-4"}),a.jsxs($l,{children:[a.jsx("strong",{children:"Campaign name is required"})," to track and analyze your broadcasts."]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(we,{children:["Campaign Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(De,{placeholder:"e.g., Black Friday Sale, Product Launch 2024",value:l,onChange:re=>u(re.target.value),className:l.trim()?"":"border-red-300 focus-visible:ring-red-500"}),!l.trim()&&a.jsx("p",{className:"text-sm text-red-500",children:"Campaign name is required to send broadcasts"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),"1. Select Audience"]}),a.jsxs(He,{children:["Choose who will receive this message. Selected: ",$e," contacts"]})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-2 flex-wrap",children:[a.jsx("input",{type:"file",ref:L,onChange:Q,accept:".xlsx,.xls,.csv",className:"hidden"}),a.jsxs(ee,{variant:"outline",size:"sm",type:"button",onClick:()=>L.current?.click(),disabled:ge.isPending,children:[ge.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(By,{className:"mr-2 h-4 w-4"}),"Import Excel/CSV"]}),a.jsxs(sn,{open:P,onOpenChange:$,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{variant:"outline",size:"sm",type:"button",children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Save as List"]})}),a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Create Broadcast List"}),a.jsx(ca,{children:"Save selected contacts as a reusable list"})]}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"List Name"}),a.jsx(De,{placeholder:"e.g., VIP Customers",value:M,onChange:re=>T(re.target.value)})]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["This will save"," ",n.length>0?n.length:e.length," ","contacts to the list."]})]}),a.jsx(dn,{children:a.jsxs(ee,{type:"button",onClick:le,disabled:Se.isPending,children:[Se.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Create List"]})})]})]})]}),F.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Or Select Existing List"}),a.jsxs(dt,{value:S,onValueChange:re=>{O(re),re&&(t([]),r([]))},children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Choose a broadcast list..."})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"",children:"None (Select manually)"}),F.map(re=>a.jsxs(xe,{value:re.id,children:[re.name," (",re.contacts.length," contacts)"]},re.id))]})]})]}),n.length>0&&a.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[a.jsxs("p",{className:"text-sm font-medium text-green-800 dark:text-green-200",children:[n.length," contacts imported from Excel"]}),a.jsx(ee,{variant:"ghost",size:"sm",type:"button",className:"mt-2 text-xs",onClick:()=>r([]),children:"Clear imported"})]}),!S&&n.length===0&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),a.jsx(De,{placeholder:"Search contacts by name or phone...",className:"pl-10",value:H,onChange:re=>B(re.target.value)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ee,{variant:"outline",size:"sm",type:"button",onClick:Ae,children:e.length===V.length?"Deselect All":"Select All"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:[V.length," contacts found"]})]}),a.jsx("div",{className:"border rounded-lg max-h-[300px] overflow-y-auto",children:V.length>0?V.map(re=>a.jsxs("div",{className:"flex items-center gap-3 p-3 border-b last:border-b-0 hover:bg-muted/50 cursor-pointer",onClick:()=>ce(re.id,!e.includes(re.id)),children:[a.jsx(Zr,{checked:e.includes(re.id),onCheckedChange:Oe=>ce(re.id,Oe===!0)}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"font-medium",children:re.name}),a.jsx("div",{className:"text-sm text-muted-foreground",children:re.phone})]}),e.includes(re.id)&&a.jsx(jm,{className:"h-4 w-4 text-primary"})]},re.id)):a.jsx("p",{className:"p-4 text-center text-sm text-muted-foreground",children:"No contacts match your search."})})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(an,{className:"h-5 w-5"}),"2. Compose Message"]}),a.jsx(He,{children:"Select a template, write custom message, or use AI Agent."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs(kr,{value:w,onValueChange:re=>y(re),children:[a.jsxs(br,{className:"w-full",children:[a.jsx(mt,{value:"template",className:"flex-1",children:"Template"}),a.jsx(mt,{value:"custom",className:"flex-1",children:"Custom"}),a.jsxs(mt,{value:"ai_agent",className:"flex-1",children:[a.jsx(kt,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),a.jsxs(bt,{value:"template",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select Template"}),a.jsxs(dt,{value:d,onValueChange:pe,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select a template..."})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"hello_world",children:"hello_world (Default)"}),G.map(re=>a.jsx(xe,{value:re.id,children:re.name},re.id))]})]})]}),d&&a.jsxs("div",{className:"p-3 bg-muted rounded-lg",children:[a.jsxs("p",{className:"text-sm font-medium mb-1",children:["Template: ",p]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:s})]})]}),a.jsx(bt,{value:"custom",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Message Text"}),a.jsx(En,{placeholder:"Type your message here... Use {{name}} for personalization",className:"min-h-[150px]",value:s,onChange:re=>i(re.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Custom messages require the recipient to have messaged you first (24-hour window rule)."})]})}),a.jsx(bt,{value:"ai_agent",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select AI Agent"}),a.jsxs(dt,{value:g,onValueChange:v,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an AI agent..."})}),a.jsx(ct,{children:Z.length===0?a.jsx(xe,{value:"none",disabled:!0,children:"No active agents. Create one first."}):Z.map(re=>a.jsx(xe,{value:re.id,children:re.name},re.id))})]}),g&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"The AI agent will generate personalized messages for each recipient using the hello_world template."})]})})]}),a.jsxs("div",{className:"flex items-center gap-2 pt-4 border-t",children:[a.jsx(Zr,{id:"schedule",checked:C,onCheckedChange:re=>N(re===!0)}),a.jsx(we,{htmlFor:"schedule",className:"cursor-pointer",children:"Schedule for later"})]}),C&&a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Schedule Time"}),a.jsx(De,{type:"datetime-local",value:j,onChange:re=>_(re.target.value),min:new Date().toISOString().slice(0,16)}),j&&new Date(j)<=new Date&&a.jsx("p",{className:"text-xs text-red-500",children:"Time must be in the future"})]}),a.jsxs(ee,{className:"w-full",type:"button",onClick:_e,disabled:K||!l.trim(),children:[K?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):C?a.jsx(Ci,{className:"mr-2 h-4 w-4"}):a.jsx(dr,{className:"mr-2 h-4 w-4"}),K?"Processing...":C?"Schedule Broadcast":`Send to ${$e} Contacts`]}),!l.trim()&&a.jsx("p",{className:"text-xs text-red-500 text-center",children:"Please enter a campaign name to send"})]})]})]})]})})}function TOe(){const[e,t]=b.useState([]),[n,r]=b.useState(""),[s,i]=b.useState("template"),[l,u]=b.useState(""),[d,f]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(!1),{data:w=[],isLoading:y}=Ve({queryKey:["/api/contacts"],queryFn:async()=>{const B=await fetch("/api/contacts");if(!B.ok)throw new Error("Failed to fetch contacts");return B.json()}}),{data:j=[],isLoading:_}=Ve({queryKey:["/api/broadcast/imported-contacts"],queryFn:async()=>{const B=await fetch("/api/broadcast/imported-contacts");if(!B.ok)throw new Error("Failed to fetch imported contacts");return B.json()}}),C=[...w,...j.map(B=>({id:B.id,name:B.name,phone:B.phone,email:B.email,tags:B.tags||[],source:B.source||"import"}))],N=y||_,{data:S=[]}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const B=await fetch("/api/templates");if(!B.ok)throw new Error("Failed to fetch templates");return B.json()}}),{data:O=[]}=Ve({queryKey:["/api/agents"],queryFn:async()=>{const B=await fetch("/api/agents");if(!B.ok)throw new Error("Failed to fetch agents");return B.json()}}),M=S.filter(B=>B.status==="approved"),T=O.filter(B=>B.isActive),P=et({mutationFn:async B=>{const L=await fetch("/api/broadcast/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(B)});if(!L.ok)throw new Error("Failed to send messages");return L.json()},onSuccess:B=>{fe.success(`Sent: ${B.successful} successful, ${B.failed} failed`),v(!1),t([])},onError:()=>{fe.error("Failed to send messages")}}),$=B=>{e.includes(B)?t(e.filter(L=>L!==B)):t([...e,B])},K=()=>{e.length===H.length?t([]):t(H.map(B=>B.id))},q=()=>{if(e.length===0){fe.error("Please select at least one contact");return}if(s==="template"&&!l){fe.error("Please select a template");return}if(s==="custom"&&!p.trim()){fe.error("Please enter a message");return}if(s==="ai_agent"&&!d){fe.error("Please select an AI agent");return}const B=C.filter(L=>e.includes(L.id)).map(L=>({name:L.name,phone:L.phone}));P.mutate({contacts:B,messageType:s,templateName:s==="template"?S.find(L=>L.id===l)?.name||"hello_world":void 0,customMessage:s==="custom"?p:void 0,agentId:s==="ai_agent"?d:void 0})},H=C.filter(B=>B.name.toLowerCase().includes(n.toLowerCase())||B.phone.includes(n));return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Send to Selected"}),a.jsx("p",{className:"text-muted-foreground",children:"Select specific contacts and send a targeted message."})]}),a.jsxs(sn,{open:g,onOpenChange:v,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{disabled:e.length===0,children:[a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Send to ",e.length," Contacts"]})}),a.jsxs(Qt,{className:"sm:max-w-[500px]",children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Compose Message"})}),a.jsx("div",{className:"grid gap-4 py-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Message Type"}),a.jsxs(kr,{value:s,onValueChange:B=>i(B),children:[a.jsxs(br,{className:"w-full",children:[a.jsxs(mt,{value:"template",className:"flex-1",children:[a.jsx(vr,{className:"mr-1 h-4 w-4"}),"Template"]}),a.jsxs(mt,{value:"custom",className:"flex-1",children:[a.jsx(an,{className:"mr-1 h-4 w-4"}),"Custom"]}),a.jsxs(mt,{value:"ai_agent",className:"flex-1",children:[a.jsx(kt,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),a.jsx(bt,{value:"template",className:"mt-4",children:a.jsxs(dt,{value:l,onValueChange:u,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select a template..."})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"hello_world",children:"hello_world (Default)"}),M.map(B=>a.jsx(xe,{value:B.id,children:B.name},B.id))]})]})}),a.jsxs(bt,{value:"custom",className:"mt-4",children:[a.jsx(En,{placeholder:"Type your message here...",value:p,onChange:B=>m(B.target.value),className:"min-h-[100px]"}),a.jsx("p",{className:"text-xs text-muted-foreground mt-2",children:"Note: Custom messages require the recipient to have messaged you first."})]}),a.jsx(bt,{value:"ai_agent",className:"mt-4",children:a.jsxs(dt,{value:d,onValueChange:f,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an AI agent..."})}),a.jsx(ct,{children:T.length===0?a.jsx(xe,{value:"",disabled:!0,children:"No active agents available"}):T.map(B=>a.jsx(xe,{value:B.id,children:B.name},B.id))})]})})]})]})}),a.jsx(dn,{children:a.jsxs(ee,{onClick:q,disabled:P.isPending,children:[P.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(de,{children:"Contact List"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs("div",{className:"relative w-64",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search contacts...",className:"pl-9",value:n,onChange:B=>r(B.target.value)})]})})]})}),a.jsx(ae,{children:N?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin"})}):H.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No contacts found"}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{className:"w-[50px]",children:a.jsx(Zr,{checked:e.length===H.length&&H.length>0,onCheckedChange:K})}),a.jsx(ie,{children:"Name"}),a.jsx(ie,{children:"Phone"}),a.jsx(ie,{children:"Tags"})]})}),a.jsx(zt,{children:H.map(B=>a.jsxs(Ke,{className:e.includes(B.id)?"bg-muted/50":"",children:[a.jsx(se,{children:a.jsx(Zr,{checked:e.includes(B.id),onCheckedChange:()=>$(B.id)})}),a.jsx(se,{className:"font-medium",children:B.name}),a.jsx(se,{children:B.phone}),a.jsx(se,{children:B.tags?.map(L=>a.jsx(ke,{variant:"secondary",className:"mr-1",children:L},L))})]},B.id))})]})})]})]})})}function MOe(){const[e,t]=b.useState(!1),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState("template"),[d,f]=b.useState(""),[p,m]=b.useState(""),[g,v]=b.useState(""),[w,y]=b.useState([]),j=b.useRef(null),_=er(),{data:C=[],isLoading:N}=Ve({queryKey:["/api/broadcast/schedules"],queryFn:async()=>{const F=await fetch("/api/broadcast/schedules");if(!F.ok)throw new Error("Failed to fetch schedules");return F.json()}}),{data:S=[],isLoading:O,refetch:M}=Ve({queryKey:["/api/broadcast/scheduled-broadcasts"],queryFn:async()=>{const F=await fetch("/api/broadcast/scheduled-broadcasts");if(!F.ok)throw new Error("Failed to fetch scheduled broadcasts");return F.json()},refetchInterval:3e4}),{data:T=[]}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const F=await fetch("/api/templates");if(!F.ok)throw new Error("Failed to fetch templates");return F.json()}}),{data:P=[]}=Ve({queryKey:["/api/agents"],queryFn:async()=>{const F=await fetch("/api/agents");if(!F.ok)throw new Error("Failed to fetch agents");return F.json()}}),$=T.filter(F=>F.status==="approved"),K=P.filter(F=>F.isActive),q=et({mutationFn:async F=>{const G=new FormData;G.append("file",F);const Z=await fetch("/api/broadcast/import-excel",{method:"POST",body:G});if(!Z.ok)throw new Error("Failed to import file");return Z.json()},onSuccess:F=>{y(F.contacts),fe.success(`Imported ${F.validContacts} contacts`)},onError:()=>{fe.error("Failed to import file")}}),H=et({mutationFn:async F=>{const G=await fetch("/api/broadcast/schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(!G.ok)throw new Error("Failed to create schedule");return G.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["/api/broadcast/schedules"]}),fe.success("Schedule created successfully"),z()},onError:()=>{fe.error("Failed to create schedule")}}),B=et({mutationFn:async F=>{if(!(await fetch(`/api/broadcast/schedules/${F}`,{method:"DELETE"})).ok)throw new Error("Failed to delete schedule")},onSuccess:()=>{_.invalidateQueries({queryKey:["/api/broadcast/schedules"]}),fe.success("Schedule deleted")},onError:()=>{fe.error("Failed to delete schedule")}}),L=et({mutationFn:async({id:F,status:G})=>{const Z=await fetch(`/api/broadcast/schedules/${F}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:G})});if(!Z.ok)throw new Error("Failed to update schedule");return Z.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["/api/broadcast/schedules"]}),fe.success("Schedule updated")},onError:()=>{fe.error("Failed to update schedule")}}),D=et({mutationFn:async F=>{const G=await fetch(`/api/broadcast/scheduled-broadcasts/${F}/cancel`,{method:"POST"});if(!G.ok)throw new Error("Failed to cancel scheduled broadcast");return G.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["/api/broadcast/scheduled-broadcasts"]}),fe.success("Scheduled broadcast cancelled")},onError:()=>{fe.error("Failed to cancel scheduled broadcast")}}),k=et({mutationFn:async F=>{const G=await fetch(`/api/broadcast/scheduled-broadcasts/${F}`,{method:"DELETE"});if(!G.ok)throw new Error("Failed to delete scheduled broadcast");return G.json()},onSuccess:()=>{_.invalidateQueries({queryKey:["/api/broadcast/scheduled-broadcasts"]}),fe.success("Scheduled broadcast deleted")},onError:()=>{fe.error("Failed to delete scheduled broadcast")}}),I=F=>{const G=F.target.files?.[0];G&&q.mutate(G)},z=()=>{t(!1),r(""),i(""),u("template"),f(""),m(""),v(""),y([])},V=()=>{if(!n.trim()){fe.error("Please enter a schedule name");return}if(!s){fe.error("Please select a schedule time");return}if(w.length===0){fe.error("Please import contacts from Excel/CSV");return}if(l==="template"&&!d){fe.error("Please select a template");return}if(l==="custom"&&!g.trim()){fe.error("Please enter a message");return}if(l==="ai_agent"&&!p){fe.error("Please select an AI agent");return}H.mutate({name:n,messageType:l,templateName:l==="template"?T.find(F=>F.id===d)?.name||"hello_world":void 0,customMessage:l==="custom"?g:void 0,agentId:l==="ai_agent"?p:void 0,scheduledAt:s,recipientCount:w.length})},Y=F=>new Date(F).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}),U={scheduled:"bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300",sending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300",sent:"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-300",cancelled:"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-300"};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Schedule Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage your upcoming scheduled campaigns."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:()=>M(),disabled:O,children:[O?a.jsx(Be,{className:"h-4 w-4 animate-spin"}):a.jsx(Or,{className:"h-4 w-4"}),a.jsx("span",{className:"ml-2",children:"Refresh"})]}),a.jsxs(sn,{open:e,onOpenChange:t,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"New Schedule"]})}),a.jsxs(Qt,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Create Scheduled Message"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Campaign Name *"}),a.jsx(De,{placeholder:"e.g., Weekly Newsletter",value:n,onChange:F=>r(F.target.value)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Schedule Time *"}),a.jsx(De,{type:"datetime-local",value:s,onChange:F=>i(F.target.value),min:new Date().toISOString().slice(0,16)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Import Contacts *"}),a.jsx("input",{type:"file",ref:j,onChange:I,accept:".xlsx,.xls,.csv",className:"hidden"}),a.jsxs(ee,{variant:"outline",onClick:()=>j.current?.click(),disabled:q.isPending,children:[q.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(By,{className:"mr-2 h-4 w-4"}),"Upload Excel/CSV"]}),w.length>0&&a.jsxs("p",{className:"text-sm text-green-600",children:[w.length," contacts imported"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Message Type"}),a.jsxs(kr,{value:l,onValueChange:F=>u(F),children:[a.jsxs(br,{className:"w-full",children:[a.jsxs(mt,{value:"template",className:"flex-1",children:[a.jsx(vr,{className:"mr-1 h-4 w-4"}),"Template"]}),a.jsxs(mt,{value:"custom",className:"flex-1",children:[a.jsx(an,{className:"mr-1 h-4 w-4"}),"Custom"]}),a.jsxs(mt,{value:"ai_agent",className:"flex-1",children:[a.jsx(kt,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),a.jsx(bt,{value:"template",className:"mt-4",children:a.jsxs(dt,{value:d,onValueChange:f,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select a template..."})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"hello_world",children:"hello_world (Default)"}),$.map(F=>a.jsx(xe,{value:F.id,children:F.name},F.id))]})]})}),a.jsx(bt,{value:"custom",className:"mt-4",children:a.jsx(En,{placeholder:"Type your message...",value:g,onChange:F=>v(F.target.value),className:"min-h-[100px]"})}),a.jsx(bt,{value:"ai_agent",className:"mt-4",children:a.jsxs(dt,{value:p,onValueChange:m,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an AI agent..."})}),a.jsx(ct,{children:K.map(F=>a.jsx(xe,{value:F.id,children:F.name},F.id))})]})})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:z,children:"Cancel"}),a.jsxs(ee,{onClick:V,disabled:H.isPending,children:[H.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Create Schedule"]})]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(Ci,{className:"h-5 w-5"}),"Scheduled Broadcasts"]}),a.jsx(He,{children:"Broadcasts scheduled from the Broadcast page. These will be sent automatically at the scheduled time."})]}),a.jsx(ae,{children:O?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):S.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Kt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No scheduled broadcasts"}),a.jsx("p",{className:"text-sm",children:"Go to Broadcast page and schedule a message to see it here"})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Campaign Name"}),a.jsx(ie,{children:"Type"}),a.jsx(ie,{children:"Scheduled Time"}),a.jsx(ie,{children:"Recipients"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Results"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:S.sort((F,G)=>new Date(F.scheduledAt).getTime()-new Date(G.scheduledAt).getTime()).map(F=>{const Z=new Date(F.scheduledAt)<=new Date;return a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:F.campaignName}),a.jsx(se,{children:a.jsxs(ke,{variant:"outline",children:[F.messageType==="template"&&a.jsx(vr,{className:"mr-1 h-3 w-3"}),F.messageType==="custom"&&a.jsx(an,{className:"mr-1 h-3 w-3"}),F.messageType==="ai_agent"&&a.jsx(kt,{className:"mr-1 h-3 w-3"}),F.messageType==="template"?F.templateName||"hello_world":F.messageType==="custom"?"Custom":"AI Agent"]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"h-3 w-3 text-muted-foreground"}),a.jsxs("span",{className:Z&&F.status==="scheduled"?"text-amber-600 dark:text-amber-400":"",children:[Y(F.scheduledAt),Z&&F.status==="scheduled"&&" (Processing...)"]})]})}),a.jsx(se,{children:F.contacts?.length||0}),a.jsx(se,{children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${U[F.status]}`,children:F.status.charAt(0).toUpperCase()+F.status.slice(1)})}),a.jsx(se,{children:F.status==="sent"||F.status==="failed"?a.jsxs("span",{className:"text-sm",children:[F.sentCount||0," sent, ",F.failedCount||0," failed"]}):a.jsx("span",{className:"text-muted-foreground text-sm",children:"-"})}),a.jsx(se,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[F.status==="scheduled"&&a.jsx(ee,{variant:"ghost",size:"icon",title:"Cancel",onClick:()=>D.mutate(F.id),disabled:D.isPending,children:D.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin"}):a.jsx(Ho,{className:"h-4 w-4"})}),(F.status==="sent"||F.status==="failed"||F.status==="cancelled")&&a.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive",title:"Delete",onClick:()=>k.mutate(F.id),disabled:k.isPending,children:k.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin"}):a.jsx(Ea,{className:"h-4 w-4"})})]})})]},F.id)})})]})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Upcoming Schedules (Legacy)"}),a.jsx(He,{children:"View and manage your automated dispatch queue."})]}),a.jsx(ae,{children:N?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin"})}):C.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:'No scheduled messages. Create one using the "New Schedule" button above.'}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Campaign Name"}),a.jsx(ie,{children:"Type"}),a.jsx(ie,{children:"Scheduled Time"}),a.jsx(ie,{children:"Recipients"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:C.map(F=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:F.name}),a.jsx(se,{children:a.jsxs(ke,{variant:"outline",children:[F.messageType==="template"&&a.jsx(vr,{className:"mr-1 h-3 w-3"}),F.messageType==="custom"&&a.jsx(an,{className:"mr-1 h-3 w-3"}),F.messageType==="ai_agent"&&a.jsx(kt,{className:"mr-1 h-3 w-3"}),F.messageType]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"h-3 w-3 text-muted-foreground"}),Y(F.scheduledAt)]})}),a.jsx(se,{children:F.recipientCount}),a.jsx(se,{children:a.jsx(ke,{variant:F.status==="scheduled"?"default":F.status==="sent"?"secondary":"outline",className:F.status==="scheduled"?"bg-blue-500":F.status==="sent"?"bg-green-500":"",children:F.status})}),a.jsx(se,{className:"text-right",children:a.jsxs("div",{className:"flex justify-end gap-2",children:[F.status==="scheduled"&&a.jsx(ee,{variant:"ghost",size:"icon",title:"Cancel",onClick:()=>L.mutate({id:F.id,status:"cancelled"}),children:a.jsx(RQ,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive",title:"Delete",onClick:()=>B.mutate(F.id),children:a.jsx(Ea,{className:"h-4 w-4"})})]})})]},F.id))})]})})]})]})})}function kOe(){const[e,t]=b.useState(""),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState(""),[d,f]=b.useState(""),[p,m]=b.useState("template"),{data:g=[]}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const S=await fetch("/api/templates");if(!S.ok)throw new Error("Failed to fetch templates");return S.json()}}),{data:v=[]}=Ve({queryKey:["/api/agents"],queryFn:async()=>{const S=await fetch("/api/agents");if(!S.ok)throw new Error("Failed to fetch agents");return S.json()}}),w=g.filter(S=>S.status==="approved"),y=v.filter(S=>S.isActive),j=et({mutationFn:async S=>{const O=await fetch("/api/broadcast/send-single",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!O.ok){const M=await O.json();throw new Error(M.error||"Failed to send message")}return O.json()},onSuccess:S=>{S.success?(fe.success("Message sent successfully!"),C()):fe.error(S.error||"Failed to send message")},onError:S=>{fe.error(S.message)}}),_=S=>{u(S);const O=g.find(M=>M.id===S);O&&i(O.content)},C=()=>{t(""),r(""),i(""),u(""),f("")},N=()=>{if(!e.trim()){fe.error("Please enter a phone number");return}if(p==="template"&&!l){fe.error("Please select a template");return}if(p==="custom"&&!s.trim()){fe.error("Please enter a message");return}if(p==="ai_agent"&&!d){fe.error("Please select an AI agent");return}j.mutate({phone:e,name:n,messageType:p,templateName:p==="template"?g.find(S=>S.id===l)?.name||"hello_world":void 0,customMessage:p==="custom"?s:void 0,agentId:p==="ai_agent"?d:void 0})};return a.jsx(pt,{children:a.jsx("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:a.jsxs("div",{className:"max-w-2xl mx-auto",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Single Message"}),a.jsx("p",{className:"text-muted-foreground",children:"Quickly send a message to a specific number."})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Compose Message"}),a.jsx(He,{children:"Send a one-off message without creating a campaign."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Phone Number *"}),a.jsxs("div",{className:"relative",children:[a.jsx(uc,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"+91 98765 43210",className:"pl-9",value:e,onChange:S=>t(S.target.value)})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Recipient Name (Optional)"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ul,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"John Doe",className:"pl-9",value:n,onChange:S=>r(S.target.value)})]})]}),a.jsxs("div",{className:"space-y-4 pt-4",children:[a.jsx(we,{children:"Message Type"}),a.jsxs(kr,{value:p,onValueChange:S=>m(S),children:[a.jsxs(br,{className:"w-full",children:[a.jsxs(mt,{value:"template",className:"flex-1",children:[a.jsx(vr,{className:"mr-1 h-4 w-4"}),"Template"]}),a.jsxs(mt,{value:"custom",className:"flex-1",children:[a.jsx(an,{className:"mr-1 h-4 w-4"}),"Custom"]}),a.jsxs(mt,{value:"ai_agent",className:"flex-1",children:[a.jsx(kt,{className:"mr-1 h-4 w-4"}),"AI Agent"]})]}),a.jsxs(bt,{value:"template",className:"space-y-4 mt-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select Template"}),a.jsxs(dt,{value:l,onValueChange:_,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select a template..."})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"hello_world",children:"hello_world (Default)"}),w.map(S=>a.jsx(xe,{value:S.id,children:S.name},S.id))]})]})]}),l&&l!=="hello_world"&&a.jsx("div",{className:"p-3 bg-muted rounded-lg",children:a.jsx("p",{className:"text-sm",children:s})})]}),a.jsx(bt,{value:"custom",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Message Text"}),a.jsx(En,{placeholder:"Type your message here...",className:"min-h-[150px]",value:s,onChange:S=>i(S.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Note: Custom messages require the recipient to have messaged you first (24-hour window rule)."})]})}),a.jsx(bt,{value:"ai_agent",className:"space-y-4 mt-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Select AI Agent"}),a.jsxs(dt,{value:d,onValueChange:f,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an AI agent..."})}),a.jsx(ct,{children:y.length===0?a.jsx(xe,{value:"",disabled:!0,children:"No active agents available"}):y.map(S=>a.jsx(xe,{value:S.id,children:S.name},S.id))})]}),d&&a.jsx("p",{className:"text-sm text-muted-foreground",children:"The AI agent will generate a personalized welcome message."})]})})]})]})]}),a.jsxs(Er,{className:"flex justify-between border-t pt-6",children:[a.jsx(ee,{variant:"outline",onClick:C,children:"Clear Form"}),a.jsxs(ee,{onClick:N,disabled:j.isPending||!e.trim(),children:[j.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(dr,{className:"mr-2 h-4 w-4"}),"Send Now"]})]})]})]})})})}function ns(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Fo(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function POe(e,t){const n=ns(e);return isNaN(t)?Fo(e,NaN):(t&&n.setDate(n.getDate()+t),n)}const uK=6048e5,ROe=864e5;let DOe={};function fb(){return DOe}function pm(e,t){const n=fb(),r=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,s=ns(e),i=s.getDay(),l=(i<r?7:0)+i-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Py(e){return pm(e,{weekStartsOn:1})}function dK(e){const t=ns(e),n=t.getFullYear(),r=Fo(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Py(r),i=Fo(e,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=Py(i);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function a6(e){const t=ns(e);return t.setHours(0,0,0,0),t}function s6(e){const t=ns(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function IOe(e,t){const n=a6(e),r=a6(t),s=+n-s6(n),i=+r-s6(r);return Math.round((s-i)/ROe)}function LOe(e){const t=dK(e),n=Fo(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Py(n)}function $Oe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function fK(e){if(!$Oe(e)&&typeof e!="number")return!1;const t=ns(e);return!isNaN(Number(t))}function qOe(e){const t=ns(e),n=Fo(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}const zOe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},BOe=(e,t,n)=>{let r;const s=zOe[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function oA(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const FOe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},UOe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},HOe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},VOe={date:oA({formats:FOe,defaultWidth:"full"}),time:oA({formats:UOe,defaultWidth:"full"}),dateTime:oA({formats:HOe,defaultWidth:"full"})},KOe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},WOe=(e,t,n,r)=>KOe[e];function Gf(e){return(t,n)=>{const r=n?.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,u=n?.width?String(n.width):l;s=e.formattingValues[u]||e.formattingValues[l]}else{const l=e.defaultWidth,u=n?.width?String(n.width):e.defaultWidth;s=e.values[u]||e.values[l]}const i=e.argumentCallback?e.argumentCallback(t):t;return s[i]}}const YOe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},GOe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},XOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},QOe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ZOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},JOe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},eTe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},tTe={ordinalNumber:eTe,era:Gf({values:YOe,defaultWidth:"wide"}),quarter:Gf({values:GOe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Gf({values:XOe,defaultWidth:"wide"}),day:Gf({values:QOe,defaultWidth:"wide"}),dayPeriod:Gf({values:ZOe,defaultWidth:"wide",formattingValues:JOe,defaultFormattingWidth:"wide"})};function Xf(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(s);if(!i)return null;const l=i[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],d=Array.isArray(u)?rTe(u,m=>m.test(l)):nTe(u,m=>m.test(l));let f;f=e.valueCallback?e.valueCallback(d):d,f=n.valueCallback?n.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function nTe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function rTe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function aTe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],i=t.match(e.parsePattern);if(!i)return null;let l=e.valueCallback?e.valueCallback(i[0]):i[0];l=n.valueCallback?n.valueCallback(l):l;const u=t.slice(s.length);return{value:l,rest:u}}}const sTe=/^(\d+)(th|st|nd|rd)?/i,iTe=/\d+/i,oTe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lTe={any:[/^b/i,/^(a|c)/i]},cTe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},uTe={any:[/1/i,/2/i,/3/i,/4/i]},dTe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},fTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},hTe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},mTe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},pTe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},gTe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xTe={ordinalNumber:aTe({matchPattern:sTe,parsePattern:iTe,valueCallback:e=>parseInt(e,10)}),era:Xf({matchPatterns:oTe,defaultMatchWidth:"wide",parsePatterns:lTe,defaultParseWidth:"any"}),quarter:Xf({matchPatterns:cTe,defaultMatchWidth:"wide",parsePatterns:uTe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Xf({matchPatterns:dTe,defaultMatchWidth:"wide",parsePatterns:fTe,defaultParseWidth:"any"}),day:Xf({matchPatterns:hTe,defaultMatchWidth:"wide",parsePatterns:mTe,defaultParseWidth:"any"}),dayPeriod:Xf({matchPatterns:pTe,defaultMatchWidth:"any",parsePatterns:gTe,defaultParseWidth:"any"})},yTe={code:"en-US",formatDistance:BOe,formatLong:VOe,formatRelative:WOe,localize:tTe,match:xTe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function vTe(e){const t=ns(e);return IOe(t,qOe(t))+1}function bTe(e){const t=ns(e),n=+Py(t)-+LOe(t);return Math.round(n/uK)+1}function hK(e,t){const n=ns(e),r=n.getFullYear(),s=fb(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??s.firstWeekContainsDate??s.locale?.options?.firstWeekContainsDate??1,l=Fo(e,0);l.setFullYear(r+1,0,i),l.setHours(0,0,0,0);const u=pm(l,t),d=Fo(e,0);d.setFullYear(r,0,i),d.setHours(0,0,0,0);const f=pm(d,t);return n.getTime()>=u.getTime()?r+1:n.getTime()>=f.getTime()?r:r-1}function jTe(e,t){const n=fb(),r=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=hK(e,t),i=Fo(e,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),pm(i,t)}function wTe(e,t){const n=ns(e),r=+pm(n,t)-+jTe(n,t);return Math.round(r/uK)+1}function rn(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const wo={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return rn(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):rn(n+1,2)},d(e,t){return rn(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return rn(e.getHours()%12||12,t.length)},H(e,t){return rn(e.getHours(),t.length)},m(e,t){return rn(e.getMinutes(),t.length)},s(e,t){return rn(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return rn(s,t.length)}},mu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},i6={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return wo.y(e,t)},Y:function(e,t,n,r){const s=hK(e,r),i=s>0?s:1-s;if(t==="YY"){const l=i%100;return rn(l,2)}return t==="Yo"?n.ordinalNumber(i,{unit:"year"}):rn(i,t.length)},R:function(e,t){const n=dK(e);return rn(n,t.length)},u:function(e,t){const n=e.getFullYear();return rn(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return rn(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return rn(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return wo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return rn(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=wTe(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):rn(s,t.length)},I:function(e,t,n){const r=bTe(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):rn(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):wo.d(e,t)},D:function(e,t,n){const r=vTe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):rn(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return rn(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return rn(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return rn(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=mu.noon:r===0?s=mu.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=mu.evening:r>=12?s=mu.afternoon:r>=4?s=mu.morning:s=mu.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return wo.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):wo.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):rn(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):rn(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wo.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):wo.s(e,t)},S:function(e,t){return wo.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return l6(r);case"XXXX":case"XX":return Al(r);case"XXXXX":case"XXX":default:return Al(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return l6(r);case"xxxx":case"xx":return Al(r);case"xxxxx":case"xxx":default:return Al(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+o6(r,":");case"OOOO":default:return"GMT"+Al(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+o6(r,":");case"zzzz":default:return"GMT"+Al(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return rn(r,t.length)},T:function(e,t,n){const r=e.getTime();return rn(r,t.length)}};function o6(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+t+rn(i,2)}function l6(e,t){return e%60===0?(e>0?"-":"+")+rn(Math.abs(e)/60,2):Al(e,t)}function Al(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=rn(Math.trunc(r/60),2),i=rn(r%60,2);return n+s+t+i}const c6=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mK=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},NTe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return c6(e,t);let i;switch(r){case"P":i=t.dateTime({width:"short"});break;case"PP":i=t.dateTime({width:"medium"});break;case"PPP":i=t.dateTime({width:"long"});break;case"PPPP":default:i=t.dateTime({width:"full"});break}return i.replace("{{date}}",c6(r,t)).replace("{{time}}",mK(s,t))},STe={p:mK,P:NTe},ATe=/^D+$/,CTe=/^Y+$/,_Te=["D","DD","YY","YYYY"];function ETe(e){return ATe.test(e)}function OTe(e){return CTe.test(e)}function TTe(e,t,n){const r=MTe(e,t,n);if(console.warn(r),_Te.includes(e))throw new RangeError(r)}function MTe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const kTe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,PTe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,RTe=/^'([^]*?)'?$/,DTe=/''/g,ITe=/[a-zA-Z]/;function Tn(e,t,n){const r=fb(),s=r.locale??yTe,i=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,u=ns(e);if(!fK(u))throw new RangeError("Invalid time value");let d=t.match(PTe).map(p=>{const m=p[0];if(m==="p"||m==="P"){const g=STe[m];return g(p,s.formatLong)}return p}).join("").match(kTe).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const m=p[0];if(m==="'")return{isToken:!1,value:LTe(p)};if(i6[m])return{isToken:!0,value:p};if(m.match(ITe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:p}});s.localize.preprocessor&&(d=s.localize.preprocessor(u,d));const f={firstWeekContainsDate:i,weekStartsOn:l,locale:s};return d.map(p=>{if(!p.isToken)return p.value;const m=p.value;(OTe(m)||ETe(m))&&TTe(m,t,String(e));const g=i6[m[0]];return g(u,m,s.localize,f)}).join("")}function LTe(e){const t=e.match(RTe);return t?t[1].replace(DTe,"'"):e}function Ry(e,t){return POe(e,-t)}function $Te(){const[,e]=cc(),[t,n]=b.useState("7"),{data:r,isLoading:s}=Ve({queryKey:["/api/reports/campaign",t],queryFn:async()=>{const N=await fetch(`/api/reports/campaign?days=${t}`);if(!N.ok)throw new Error("Failed to fetch report");return N.json()},refetchInterval:3e4});if(s)return a.jsx(pt,{children:a.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})})});const i=r?.totalSent||0,l=r?.totalDelivered||0,u=r?.totalRead||0,d=r?.totalReplied||0,f=r?.totalCost||0,p=r?.deliveryRate||0,m=r?.readRate||0,g=r?.replyRate||0,v=r?.deliveryData||[],w=r?.dailyStats||[],y=r?.campaignStats||[],j=r?.templatePerformance||[],_=r?.costTrend||[],C=()=>{const N=["Metric","Value"],S=[["Total Sent",i.toString()],["Total Delivered",l.toString()],["Total Read",u.toString()],["Total Replied",d.toString()],["Delivery Rate",`${p}%`],["Read Rate",`${m}%`],["Reply Rate",`${g}%`],["Total Cost",`${f.toFixed(2)}`]],O=[N.join(","),...S.map($=>$.join(","))].join(`
`),M=new Blob([O],{type:"text/csv"}),T=URL.createObjectURL(M),P=document.createElement("a");P.href=T,P.download=`campaign-report-${Tn(new Date,"yyyyMMdd")}.csv`,P.click(),URL.revokeObjectURL(T)};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Campaign Reports"}),a.jsx("p",{className:"text-muted-foreground",children:"Detailed insights into message delivery, engagement, and costs."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(dt,{value:t,onValueChange:n,children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"7",children:"Last 7 Days"}),a.jsx(xe,{value:"30",children:"Last 30 Days"}),a.jsx(xe,{value:"90",children:"Last 90 Days"})]})]}),a.jsxs(ee,{variant:"outline",onClick:()=>e("/reports/user-engagement"),children:[a.jsx(HC,{className:"mr-2 h-4 w-4"}),"User Engagement Report"]}),a.jsxs(ee,{variant:"outline",onClick:C,children:[a.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[a.jsx(xi,{title:"Total Sent",value:i.toLocaleString(),icon:cr}),a.jsx(xi,{title:"Delivered",value:`${p}%`,icon:cr,className:"text-green-600"}),a.jsx(xi,{title:"Read Rate",value:`${m}%`,icon:Ka,className:"text-blue-600"}),a.jsx(xi,{title:"Reply Rate",value:`${g}%`,icon:an,className:"text-purple-600"}),a.jsx(xi,{title:"Total Cost",value:`${f.toFixed(2)}`,icon:wu})]}),a.jsxs(kr,{defaultValue:"overview",className:"space-y-4",children:[a.jsxs(br,{children:[a.jsx(mt,{value:"overview",children:"Overview"}),a.jsx(mt,{value:"campaigns",children:"Campaign Wise"}),a.jsx(mt,{value:"templates",children:"Template Performance"}),a.jsx(mt,{value:"costs",children:"Cost Analysis"})]}),a.jsx(bt,{value:"overview",className:"space-y-4",children:a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Delivery Status"}),a.jsx(He,{children:"Overall breakdown of message statuses."})]}),a.jsx(ae,{children:a.jsx("div",{className:"h-[300px] flex items-center justify-center",children:v.length>0&&v.some(N=>N.value>0)?a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(vy,{children:[a.jsx(Za,{data:v.filter(N=>N.value>0),cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",label:({name:N,value:S})=>`${N}: ${S.toLocaleString()}`,children:v.filter(N=>N.value>0).map((N,S)=>a.jsx(Ti,{fill:N.color},`cell-${S}`))}),a.jsx(kn,{formatter:N=>N.toLocaleString()}),a.jsx(qr,{})]})}):a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(an,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No message data available for this period"})]})})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Daily Engagement"}),a.jsx(He,{children:"Messages sent, read, and replied over the selected period."})]}),a.jsx(ae,{children:a.jsx("div",{className:"h-[300px]",children:w.length>0&&w.some(N=>N.sent>0)?a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:w,children:[a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(qr,{}),a.jsx(Bn,{dataKey:"sent",name:"Sent",fill:"#3b82f6",radius:[4,4,0,0]}),a.jsx(Bn,{dataKey:"read",name:"Read",fill:"#22c55e",radius:[4,4,0,0]}),a.jsx(Bn,{dataKey:"replied",name:"Replied",fill:"#8b5cf6",radius:[4,4,0,0]})]})}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No activity data for this period"})]})})})})]})]})}),a.jsx(bt,{value:"campaigns",className:"space-y-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Campaign Performance"}),a.jsx(He,{children:"Detailed breakdown of each campaign's performance."})]}),a.jsx(ae,{children:y.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Campaign"}),a.jsx(ie,{children:"Type"}),a.jsx(ie,{className:"text-right",children:"Sent"}),a.jsx(ie,{className:"text-right",children:"Delivered"}),a.jsx(ie,{className:"text-right",children:"Read"}),a.jsx(ie,{className:"text-right",children:"Replied"}),a.jsx(ie,{className:"text-right",children:"Cost ()"}),a.jsx(ie,{children:"Date"})]})}),a.jsx(zt,{children:y.map((N,S)=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:N.name}),a.jsx(se,{children:a.jsx(ke,{variant:N.type==="Marketing"?"default":"secondary",children:N.type})}),a.jsx(se,{className:"text-right",children:N.sent.toLocaleString()}),a.jsx(se,{className:"text-right text-green-600",children:N.delivered.toLocaleString()}),a.jsx(se,{className:"text-right text-blue-600",children:N.read.toLocaleString()}),a.jsx(se,{className:"text-right text-purple-600",children:N.replied.toLocaleString()}),a.jsxs(se,{className:"text-right",children:["",N.cost.toFixed(2)]}),a.jsx(se,{className:"text-muted-foreground",children:N.date?Tn(new Date(N.date),"MMM d, yyyy"):"N/A"})]},S))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No campaign data available"}),a.jsx("p",{className:"text-sm",children:"Create and run campaigns to see performance data here."})]})})]})}),a.jsx(bt,{value:"templates",className:"space-y-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-5 w-5"}),"Template Performance"]}),a.jsx(He,{children:"How each template is performing in terms of engagement."})]}),a.jsx(ae,{children:j.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Template Name"}),a.jsx(ie,{className:"text-right",children:"Sent"}),a.jsx(ie,{className:"text-right",children:"Delivered"}),a.jsx(ie,{className:"text-right",children:"Read"}),a.jsx(ie,{className:"text-right",children:"Replied"}),a.jsx(ie,{className:"text-right",children:"Read Rate"}),a.jsx(ie,{className:"text-right",children:"Reply Rate"}),a.jsx(ie,{className:"text-right",children:"Cost ()"})]})}),a.jsx(zt,{children:j.map((N,S)=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium font-mono text-sm",children:N.name}),a.jsx(se,{className:"text-right",children:N.sent.toLocaleString()}),a.jsx(se,{className:"text-right",children:N.delivered.toLocaleString()}),a.jsx(se,{className:"text-right text-blue-600",children:N.read.toLocaleString()}),a.jsx(se,{className:"text-right text-purple-600",children:N.replied.toLocaleString()}),a.jsx(se,{className:"text-right",children:a.jsxs(ke,{variant:N.readRate>=70?"default":N.readRate>=50?"secondary":"outline",children:[N.readRate,"%"]})}),a.jsx(se,{className:"text-right",children:a.jsxs(ke,{variant:N.replyRate>=25?"default":N.replyRate>=15?"secondary":"outline",children:[N.replyRate,"%"]})}),a.jsxs(se,{className:"text-right",children:["",N.cost.toFixed(2)]})]},S))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No template usage data available"}),a.jsx("p",{className:"text-sm",children:"Send messages using templates to see performance data here."})]})})]})}),a.jsxs(bt,{value:"costs",className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"Total Spend"})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["",f.toFixed(2)]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"This period"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"Cost per Message"})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["",i>0?(f/i).toFixed(4):"0.00"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Average"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"Cost per Reply"})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["",d>0?(f/d).toFixed(2):"0.00"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Average"})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Cost Trend"}),a.jsx(He,{children:"Daily spending over the selected period."})]}),a.jsx(ae,{children:a.jsx("div",{className:"h-[300px]",children:_.length>0&&_.some(N=>N.cost>0)?a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(Wwe,{data:_,children:[a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:N=>`${N}`}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"},formatter:(N,S)=>[S==="cost"?`${N.toFixed(2)}`:N.toLocaleString(),S==="cost"?"Cost":"Messages"]}),a.jsx(qr,{}),a.jsx(Bo,{type:"monotone",dataKey:"cost",name:"Cost ()",stroke:"#f59e0b",strokeWidth:2,dot:{fill:"#f59e0b"}})]})}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(wu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No cost data available for this period"})]})})})})]})]})]})]})})}function qTe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Auto-messages to Leads"}),a.jsx("p",{className:"text-muted-foreground",children:"Configure automatic welcome messages for new leads from different sources."})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600 flex items-center justify-center text-white",children:a.jsx(wm,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(de,{children:"Facebook Leads"}),a.jsx(He,{children:"Leads from FB Lead Forms"})]})]}),a.jsx(yr,{defaultChecked:!0})]})}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Welcome Message"}),a.jsx(En,{defaultValue:"Hi {{name}}, thanks for your interest in our product! We have received your inquiry and will get back to you shortly.",className:"min-h-[100px]"})]})}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Settings"})})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-pink-600 flex items-center justify-center text-white",children:a.jsx(hq,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(de,{children:"Instagram Leads"}),a.jsx(He,{children:"Leads from IG Direct"})]})]}),a.jsx(yr,{})]})}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Welcome Message"}),a.jsx(En,{defaultValue:"Hello {{name}}! Thanks for reaching out on Instagram.",className:"min-h-[100px]"})]})}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Settings"})})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-green-600 flex items-center justify-center text-white",children:a.jsx(zC,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(de,{children:"Website Form"}),a.jsx(He,{children:"Leads from your website"})]})]}),a.jsx(yr,{defaultChecked:!0})]})}),a.jsx(ae,{className:"space-y-4",children:a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Welcome Message"}),a.jsx(En,{defaultValue:"Thanks for signing up on our website, {{name}}!",className:"min-h-[100px]"})]})}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Settings"})})]})]})]})})}function zTe(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(null),[l,u]=b.useState({name:"",trigger:"",message:""}),d=er(),{data:f=[],isLoading:p}=Ve({queryKey:["/api/automations"],queryFn:async()=>{const S=await fetch("/api/automations");if(!S.ok)throw new Error("Failed to fetch automations");return S.json()}}),m=f.filter(S=>S.type==="keyword"),g=et({mutationFn:async S=>{const O=await fetch("/api/automations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...S,type:"keyword",isActive:!0})});if(!O.ok)throw new Error("Failed to create automation");return O.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]}),t(!1),j(),fe.success("Keyword rule created successfully")},onError:()=>{fe.error("Failed to create keyword rule")}}),v=et({mutationFn:async({id:S,data:O})=>{const M=await fetch(`/api/automations/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!M.ok)throw new Error("Failed to update automation");return M.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]}),r(!1),i(null),fe.success("Keyword rule updated successfully")},onError:()=>{fe.error("Failed to update keyword rule")}}),w=et({mutationFn:async S=>{if(!(await fetch(`/api/automations/${S}`,{method:"DELETE"})).ok)throw new Error("Failed to delete automation")},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]}),fe.success("Keyword rule deleted successfully")},onError:()=>{fe.error("Failed to delete keyword rule")}}),y=et({mutationFn:async({id:S,isActive:O})=>{const M=await fetch(`/api/automations/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:O})});if(!M.ok)throw new Error("Failed to toggle automation");return M.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/automations"]})},onError:()=>{fe.error("Failed to toggle automation")}}),j=()=>{u({name:"",trigger:"",message:""})},_=S=>{i(S),u({name:S.name,trigger:S.trigger,message:S.message}),r(!0)},C=()=>{if(!l.name||!l.trigger||!l.message){fe.error("Please fill in all fields");return}g.mutate(l)},N=()=>{s&&v.mutate({id:s.id,data:l})};return a.jsxs(pt,{children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Keyword Auto-replies"}),a.jsx("p",{className:"text-muted-foreground",children:"Set up triggers for specific words in incoming messages."})]}),a.jsxs(sn,{open:e,onOpenChange:t,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{onClick:()=>{j(),t(!0)},children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Add New Rule"]})}),a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"New Keyword Rule"})}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Rule Name"}),a.jsx(De,{placeholder:"e.g., Price Inquiry",value:l.name,onChange:S=>u({...l,name:S.target.value})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Keyword Trigger"}),a.jsx(De,{placeholder:"e.g., price, pricing, cost",value:l.trigger,onChange:S=>u({...l,trigger:S.target.value})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Enter the word or phrase that triggers this response"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Reply Message"}),a.jsx(En,{placeholder:"The automated response...",value:l.message,onChange:S=>u({...l,message:S.target.value}),rows:4})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{onClick:C,disabled:g.isPending,children:[g.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Rule"]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Active Rules"}),a.jsx(He,{children:"Messages that trigger an automatic response."})]}),a.jsx(ae,{children:p?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):m.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No keyword rules yet. Create your first rule to get started."}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Name"}),a.jsx(ie,{children:"Keyword"}),a.jsx(ie,{children:"Reply Preview"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:m.map(S=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:S.name}),a.jsx(se,{className:"font-mono font-bold text-primary",children:S.trigger}),a.jsx(se,{className:"text-muted-foreground truncate max-w-[300px]",children:S.message}),a.jsx(se,{children:a.jsx(yr,{checked:S.isActive,onCheckedChange:O=>y.mutate({id:S.id,isActive:O})})}),a.jsxs(se,{className:"text-right space-x-2",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>_(S),children:a.jsx(_i,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>w.mutate(S.id),children:a.jsx(Ea,{className:"h-4 w-4"})})]})]},S.id))})]})})]})]}),a.jsx(sn,{open:n,onOpenChange:r,children:a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Edit Keyword Rule"})}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Rule Name"}),a.jsx(De,{value:l.name,onChange:S=>u({...l,name:S.target.value})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Keyword Trigger"}),a.jsx(De,{value:l.trigger,onChange:S=>u({...l,trigger:S.target.value})})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Reply Message"}),a.jsx(En,{value:l.message,onChange:S=>u({...l,message:S.target.value}),rows:4})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsxs(ee,{onClick:N,disabled:v.isPending,children:[v.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})})]})}function BTe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Follow-up Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Re-engage leads who haven't responded."})]}),a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Add Follow-up"]})]}),a.jsxs("div",{className:"grid gap-4",children:[a.jsx(te,{children:a.jsxs(ae,{className:"p-6 flex items-start gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 shrink-0",children:a.jsx(Kt,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-3 items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"text-muted-foreground",children:"Trigger"}),a.jsx("div",{className:"font-medium",children:"After 24 Hours of Inactivity"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(we,{className:"text-muted-foreground",children:"Message"}),a.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:"Hi there! Just wanted to check if you had any further questions? We are here to help!"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(ee,{variant:"outline",size:"sm",children:"Edit"}),a.jsx(ee,{variant:"ghost",size:"sm",className:"text-destructive",children:"Delete"})]})]})}),a.jsx(te,{children:a.jsxs(ae,{className:"p-6 flex items-start gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-orange-100 flex items-center justify-center text-orange-600 shrink-0",children:a.jsx(Kt,{className:"h-6 w-6"})}),a.jsxs("div",{className:"flex-1 grid gap-4 md:grid-cols-3 items-start",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"text-muted-foreground",children:"Trigger"}),a.jsx("div",{className:"font-medium",children:"After 48 Hours of No Reply"})]}),a.jsxs("div",{className:"space-y-2 md:col-span-2",children:[a.jsx(we,{className:"text-muted-foreground",children:"Message"}),a.jsx("div",{className:"p-3 bg-muted rounded-md text-sm",children:"Hey! We noticed you haven't completed your profile. Need any assistance?"})]})]}),a.jsxs("div",{className:"flex flex-col gap-2",children:[a.jsx(ee,{variant:"outline",size:"sm",children:"Edit"}),a.jsx(ee,{variant:"ghost",size:"sm",className:"text-destructive",children:"Delete"})]})]})})]})]})})}function FTe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Drip Campaigns"}),a.jsx("p",{className:"text-muted-foreground",children:"Create multi-day sequences for onboarding or nurturing."})]}),a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"New Campaign"]})]}),a.jsx(te,{className:"bg-muted/20 border-dashed border-2",children:a.jsxs(ae,{className:"p-10 flex flex-col items-center justify-center text-center space-y-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:a.jsx(Ci,{className:"h-6 w-6"})}),a.jsx("h3",{className:"text-xl font-semibold",children:"New Customer Onboarding Sequence"}),a.jsx("p",{className:"text-muted-foreground max-w-md",children:'This sequence triggers when a new tag "Customer" is added to a contact.'}),a.jsxs("div",{className:"w-full max-w-3xl mt-8 relative",children:[a.jsx("div",{className:"absolute left-[20px] top-8 bottom-8 w-0.5 bg-border"}),a.jsxs("div",{className:"relative flex gap-6 mb-8 text-left",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold z-10 shrink-0",children:"1"}),a.jsxs(te,{className:"flex-1",children:[a.jsx(ue,{className:"py-3",children:a.jsxs(de,{className:"text-base flex items-center justify-between",children:[a.jsx("span",{children:"Day 1: Welcome Message"}),a.jsx(ke,{children:"Active"})]})}),a.jsx(ae,{className:"py-3 text-sm text-muted-foreground",children:'"Welcome to the family! Here is your getting started guide..."'})]})]}),a.jsxs("div",{className:"relative flex gap-6 mb-8 text-left",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold z-10 shrink-0",children:"3"}),a.jsxs(te,{className:"flex-1",children:[a.jsx(ue,{className:"py-3",children:a.jsxs(de,{className:"text-base flex items-center justify-between",children:[a.jsx("span",{children:"Day 3: Product Tips"}),a.jsx(ke,{children:"Active"})]})}),a.jsx(ae,{className:"py-3 text-sm text-muted-foreground",children:'"Did you know you can do X with our product? Check this out..."'})]})]}),a.jsxs("div",{className:"relative flex gap-6 text-left",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-primary text-primary-foreground flex items-center justify-center font-bold z-10 shrink-0",children:"7"}),a.jsxs(te,{className:"flex-1",children:[a.jsx(ue,{className:"py-3",children:a.jsxs(de,{className:"text-base flex items-center justify-between",children:[a.jsx("span",{children:"Day 7: Review Request"}),a.jsx(ke,{variant:"secondary",children:"Draft"})]})}),a.jsx(ae,{className:"py-3 text-sm text-muted-foreground",children:'"How are you liking it so far? We would love your feedback..."'})]})]})]}),a.jsxs(ee,{variant:"outline",className:"mt-4",children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"})," Add Step"]})]})})]})})}function UTe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"New Lead Alerts"}),a.jsx("p",{className:"text-muted-foreground",children:"Notify your team when a new lead comes in."})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-primary/10 text-primary rounded-lg flex items-center justify-center",children:a.jsx(Fy,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(de,{children:"Email Notifications"}),a.jsx(He,{children:"Send an email to admins."})]})]})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(we,{children:"Enable Email Alerts"}),a.jsx(yr,{defaultChecked:!0})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Recipient Email(s)"}),a.jsx(De,{defaultValue:"admin@acme.com, sales@acme.com"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Comma separated for multiple emails."})]})]}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Settings"})})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 bg-green-100 text-green-600 rounded-lg flex items-center justify-center",children:a.jsx(ZZ,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx(de,{children:"WhatsApp Admin Alert"}),a.jsx(He,{children:"Send a WhatsApp message to your phone."})]})]})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(we,{children:"Enable WhatsApp Alerts"}),a.jsx(yr,{})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Admin Phone Number"}),a.jsx(De,{placeholder:"+1 555 123 4567"})]})]}),a.jsx(Er,{children:a.jsx(ee,{children:"Save Settings"})})]})]})]})})}function HTe(){const e=[{name:"Facebook Leads",description:"Sync leads from Facebook Ads",icon:wm,color:"bg-blue-600"},{name:"Instagram",description:"Connect Instagram Direct Messages",icon:hq,color:"bg-pink-600"},{name:"Webhooks",description:"Receive real-time data via webhooks",icon:bJ,color:"bg-purple-600"},{name:"Google Sheets",description:"Sync contacts and messages",icon:By,color:"bg-green-600"},{name:"Zapier",description:"Connect with 5000+ apps",icon:zC,color:"bg-orange-600"},{name:"Shopify",description:"Send order updates automatically",icon:an,color:"bg-green-500"}];return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Connect Apps"}),a.jsx("p",{className:"text-muted-foreground",children:"Integrate with your favorite tools and services."})]}),a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search for apps...",className:"pl-9"})]}),a.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:e.map(t=>a.jsxs(te,{className:"hover:shadow-md transition-shadow",children:[a.jsxs(ue,{className:"flex flex-row items-center gap-4",children:[a.jsx("div",{className:`h-12 w-12 rounded-lg flex items-center justify-center text-white ${t.color}`,children:a.jsx(t.icon,{className:"h-6 w-6"})}),a.jsx("div",{children:a.jsx(de,{className:"text-base",children:t.name})})]}),a.jsxs(ae,{children:[a.jsx(He,{className:"mb-4 h-10",children:t.description}),a.jsx(ee,{variant:"outline",className:"w-full",children:"Connect"})]})]},t.name))})]})})}function VTe(){const[,e]=cc(),t=er(),[n,r]=b.useState(""),[s,i]=b.useState(""),[l,u]=b.useState("en_US"),[d,f]=b.useState("none"),[p,m]=b.useState(""),[g,v]=b.useState(""),[w,y]=b.useState(""),j=et({mutationFn:async C=>{const N=await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!N.ok){const S=await N.json();throw new Error(S.error||"Failed to create template")}return N.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/templates"]}),fe.success("Template created successfully!"),e("/templates/manage")},onError:C=>{fe.error(C.message)}}),_=()=>{if(!n.trim()){fe.error("Please enter a template name");return}if(!s){fe.error("Please select a category");return}if(!g.trim()){fe.error("Please enter body text");return}const C=n.toLowerCase().replace(/[^a-z0-9_]/g,"_");j.mutate({name:C,category:s,language:l,headerType:d==="none"?null:d,headerText:d==="text"?p:null,content:g,footer:w||null,status:"pending"})};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Add New Template"}),a.jsx("p",{className:"text-muted-foreground",children:"Create a WhatsApp message template for approval"})]}),a.jsxs("div",{className:"grid gap-6 lg:grid-cols-3",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Template Details"}),a.jsx(He,{children:"Fill in the details for your new template"})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"name",children:"Template Name *"}),a.jsx(De,{id:"name",placeholder:"e.g., welcome_message_v2",value:n,onChange:C=>r(C.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use lowercase letters, numbers, and underscores only"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Category *"}),a.jsxs(dt,{value:s,onValueChange:i,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select category"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"marketing",children:"Marketing"}),a.jsx(xe,{value:"utility",children:"Utility"}),a.jsx(xe,{value:"authentication",children:"Authentication"})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Language"}),a.jsxs(dt,{value:l,onValueChange:u,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select language"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"en_US",children:"English (US)"}),a.jsx(xe,{value:"en_GB",children:"English (UK)"}),a.jsx(xe,{value:"es_ES",children:"Spanish"}),a.jsx(xe,{value:"hi",children:"Hindi"}),a.jsx(xe,{value:"pt_BR",children:"Portuguese (Brazil)"})]})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Header (Optional)"}),a.jsxs(dt,{value:d,onValueChange:f,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"None"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"none",children:"None"}),a.jsx(xe,{value:"text",children:"Text"}),a.jsx(xe,{value:"image",children:"Image"}),a.jsx(xe,{value:"video",children:"Video"}),a.jsx(xe,{value:"document",children:"Document"})]})]})]}),d==="text"&&a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Header Text"}),a.jsx(De,{placeholder:"Enter header text",value:p,onChange:C=>m(C.target.value)})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{htmlFor:"body",children:"Body Text *"}),a.jsx(En,{id:"body",placeholder:"Enter your message here. Use {{1}}, {{2}} for variables.",className:"min-h-[120px]",value:g,onChange:C=>v(C.target.value)}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use ","{{1}}",", ","{{2}}"," etc. for dynamic variables"]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Footer (Optional)"}),a.jsx(De,{placeholder:"e.g., Reply STOP to unsubscribe",value:w,onChange:C=>y(C.target.value)})]}),a.jsx(ee,{className:"w-full",onClick:_,disabled:j.isPending,children:j.isPending?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Creating Template..."]}):"Create Template"})]})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs(de,{className:"text-base flex items-center gap-2",children:[a.jsx(vA,{className:"h-4 w-4"}),"Template Guidelines"]})}),a.jsxs(ae,{className:"text-sm space-y-3 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(cr,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),a.jsx("span",{children:"Template names must be lowercase with underscores"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(cr,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),a.jsx("span",{children:"Marketing templates need clear opt-out option"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(cr,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),a.jsx("span",{children:"Avoid promotional language in Utility templates"})]}),a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(cr,{className:"h-4 w-4 mt-0.5 text-green-500 shrink-0"}),a.jsx("span",{children:"Use variables for personalization"})]})]})]}),g&&a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{className:"text-base",children:"Preview"})}),a.jsx(ae,{children:a.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-sm border border-green-200",children:[d==="text"&&p&&a.jsx("p",{className:"font-semibold mb-2",children:p}),a.jsx("p",{className:"whitespace-pre-wrap",children:g}),w&&a.jsx("p",{className:"text-xs text-muted-foreground mt-2 pt-2 border-t",children:w})]})})]})]})]})]})})}function KTe(){const{data:e,isLoading:t,refetch:n,isRefetching:r,error:s}=Ve({queryKey:["/api/templates/meta"],queryFn:async()=>{const p=await xn("/api/templates/meta");if(!p.ok){const m=await p.json();throw new Error(m.message||"Failed to fetch templates from Meta")}return p.json()},refetchOnWindowFocus:!1}),i=()=>{n(),fe.info("Refreshing templates from Facebook...")},l=p=>{switch(p.toLowerCase()){case"approved":return a.jsxs(ke,{className:"bg-green-500 hover:bg-green-600",children:[a.jsx(cr,{className:"mr-1 h-3 w-3"}),"Approved"]});case"rejected":return a.jsxs(ke,{variant:"destructive",children:[a.jsx(Tu,{className:"mr-1 h-3 w-3"}),"Rejected"]});case"pending":return a.jsxs(ke,{variant:"secondary",children:[a.jsx(Kt,{className:"mr-1 h-3 w-3"}),"Pending"]});case"in_appeal":return a.jsxs(ke,{className:"bg-yellow-500 hover:bg-yellow-600",children:[a.jsx(Pl,{className:"mr-1 h-3 w-3"}),"In Appeal"]});default:return a.jsx(ke,{variant:"outline",children:p})}},u=p=>{const m={marketing:"bg-purple-100 text-purple-700 border-purple-200",utility:"bg-blue-100 text-blue-700 border-blue-200",authentication:"bg-orange-100 text-orange-700 border-orange-200"};return a.jsx(ke,{variant:"outline",className:m[p.toLowerCase()]||"",children:p})},d=e?.templates||[],f=e?.summary||{total:0,approved:0,pending:0,rejected:0};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(zC,{className:"h-8 w-8 text-blue-600"}),"Template Status (Live from Facebook)"]}),a.jsx("p",{className:"text-muted-foreground",children:"View real-time approval status directly from Meta/Facebook"})]}),a.jsxs(ee,{variant:"outline",onClick:i,disabled:r,children:[r?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Refresh from Facebook"]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Total Templates"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-2xl font-bold",children:f.total})]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Approved"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{className:"text-2xl font-bold text-green-600",children:f.approved})]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Pending Review"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"h-5 w-5 text-yellow-500"}),a.jsx("span",{className:"text-2xl font-bold text-yellow-600",children:f.pending})]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Rejected"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tu,{className:"h-5 w-5 text-red-500"}),a.jsx("span",{className:"text-2xl font-bold text-red-600",children:f.rejected})]})})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Templates from Meta"}),a.jsx(He,{children:"Live data fetched directly from your WhatsApp Business Account on Facebook"})]}),a.jsx(ae,{children:t?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Pl,{className:"h-12 w-12 mx-auto mb-4 text-orange-500"}),a.jsx("h3",{className:"font-medium text-lg mb-2",children:"Unable to fetch templates"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Please configure your WhatsApp credentials in Settings."}),a.jsxs(ee,{variant:"outline",onClick:()=>n(),children:[a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Try Again"]})]}):d.length===0?a.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[a.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"font-medium",children:"No templates found"}),a.jsx("p",{className:"text-sm",children:"Create templates in the Meta Business Suite to see them here."})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Template Name"}),a.jsx(ie,{children:"Category"}),a.jsx(ie,{children:"Language"}),a.jsx(ie,{children:"Content Preview"}),a.jsx(ie,{children:"Status"})]})}),a.jsx(zt,{children:d.map(p=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:p.name}),a.jsx(se,{children:u(p.category)}),a.jsx(se,{children:a.jsx(ke,{variant:"outline",children:p.language})}),a.jsx(se,{className:"max-w-[300px] truncate text-muted-foreground",children:p.content||p.header||"(No content)"}),a.jsx(se,{children:a.jsxs("div",{className:"flex flex-col gap-1",children:[l(p.status),p.rejectedReason&&a.jsxs("span",{className:"text-xs text-red-500 mt-1",children:["Reason: ",p.rejectedReason]})]})})]},p.id))})]})})]})]})})}function WTe(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(null),[l,u]=b.useState({name:"",category:"utility",content:"",variables:""}),d=er(),{data:f=[],isLoading:p}=Ve({queryKey:["/api/templates"],queryFn:async()=>{const T=await fetch("/api/templates");if(!T.ok)throw new Error("Failed to fetch templates");return T.json()}}),m=et({mutationFn:async()=>{const T=await fetch("/api/templates/sync-meta",{method:"POST"}),P=await T.json();if(!T.ok)throw new Error(P.error||P.message||"Failed to sync templates");return P},onSuccess:T=>{d.invalidateQueries({queryKey:["/api/templates"]});const P=T.approvedTemplates?.length>0?`Approved: ${T.approvedTemplates.join(", ")}`:"No approved templates found";fe.success(T.message||`Synced ${T.synced||0} templates from Meta`,{description:P,duration:5e3})},onError:T=>{fe.error("Failed to sync META templates",{description:T.message,duration:5e3})}}),g=et({mutationFn:async T=>{const P=await fetch("/api/templates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(T)});if(!P.ok)throw new Error("Failed to create template");return P.json()},onSuccess:T=>{d.invalidateQueries({queryKey:["/api/templates"]}),r(!1),j(),fe.success("Template created successfully!",{description:"Click 'Submit' button to send it to Meta for approval.",duration:4e3})},onError:()=>{fe.error("Failed to create template")}}),v=et({mutationFn:async T=>{const P=await fetch(`/api/templates/${T}/submit-approval`,{method:"POST"}),$=await P.json();if(!P.ok)throw new Error($.error||$.message||"Failed to submit for approval");return $},onSuccess:T=>{d.invalidateQueries({queryKey:["/api/templates"]}),fe.success(T.message||"Template submitted to Meta for approval!",{description:T.metaTemplateName?`Template name in Meta: ${T.metaTemplateName}`:void 0,duration:5e3})},onError:T=>{fe.error("Failed to submit template",{description:T.message,duration:5e3})}}),w=et({mutationFn:async({id:T,data:P})=>{const $=await fetch(`/api/templates/${T}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(P)});if(!$.ok)throw new Error("Failed to update template");return $.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/templates"]}),t(!1),i(null),fe.success("Template updated successfully")},onError:()=>{fe.error("Failed to update template")}}),y=et({mutationFn:async T=>{if(!(await fetch(`/api/templates/${T}`,{method:"DELETE"})).ok)throw new Error("Failed to delete template")},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/templates"]}),fe.success("Template deleted successfully")},onError:()=>{fe.error("Failed to delete template")}}),j=()=>{u({name:"",category:"utility",content:"",variables:""})},_=T=>{i(T),u({name:T.name,category:T.category,content:T.content,variables:T.variables.join(", ")}),t(!0)},C=()=>{g.mutate({name:l.name,category:l.category,content:l.content,variables:l.variables.split(",").map(T=>T.trim()).filter(Boolean)})},N=()=>{s&&w.mutate({id:s.id,data:{name:l.name,category:l.category,content:l.content,variables:l.variables.split(",").map(T=>T.trim()).filter(Boolean),status:"pending"}})},S=T=>{navigator.clipboard.writeText(T),fe.success("Template content copied to clipboard")},O=T=>{switch(T){case"approved":return"default";case"pending":return"secondary";case"rejected":return"destructive";default:return"secondary"}},M=T=>new Date(T).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"});return a.jsxs(pt,{children:[a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Manage Templates"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage your WhatsApp message templates."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:()=>m.mutate(),disabled:m.isPending,children:[m.isPending?a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(Or,{className:"mr-2 h-4 w-4"}),"Sync META Templates"]}),a.jsxs(ee,{onClick:()=>{j(),r(!0)},children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Create Template"]})]})]}),a.jsxs(te,{className:"border-blue-200 bg-blue-50/50 dark:bg-blue-950/20 dark:border-blue-900",children:[a.jsx(ue,{className:"pb-3",children:a.jsxs(de,{className:"text-lg flex items-center gap-2",children:[a.jsx(vA,{className:"h-5 w-5 text-blue-600"}),"WhatsApp Template Rules & Guidelines"]})}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[a.jsx(cr,{className:"h-4 w-4 text-green-600"}),"Allowed Content"]}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6 list-disc",children:[a.jsx("li",{children:"Transaction confirmations (orders, bookings)"}),a.jsx("li",{children:"Account updates and notifications"}),a.jsx("li",{children:"Customer service responses"}),a.jsx("li",{children:"One-time passwords (OTP)"}),a.jsx("li",{children:"Appointment reminders"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h4",{className:"font-semibold text-sm flex items-center gap-2",children:[a.jsx(Pl,{className:"h-4 w-4 text-red-600"}),"Not Allowed"]}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-1 pl-6 list-disc",children:[a.jsx("li",{children:"Promotional content without opt-in"}),a.jsx("li",{children:"Adult or gambling content"}),a.jsx("li",{children:"Misleading or spam messages"}),a.jsx("li",{children:"Political content"}),a.jsx("li",{children:"Cryptocurrency promotions"})]})]})]}),a.jsxs(Ll,{children:[a.jsx(vA,{className:"h-4 w-4"}),a.jsx(ky,{children:"Approval Process"}),a.jsxs($l,{children:["Templates must be approved by Meta before use. Marketing templates may take 24-48 hours. Utility and authentication templates are usually approved faster.",a.jsxs("a",{href:"https://developers.facebook.com/docs/whatsapp/message-templates/guidelines",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 ml-2 text-blue-600 hover:underline",children:["View Full Guidelines ",a.jsx(JQ,{className:"h-3 w-3"})]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"All Templates"}),a.jsxs(He,{children:[f.length," template",f.length!==1?"s":""," in your library. Note that editing an approved template will require re-approval."]})]}),a.jsx(ae,{children:p?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):f.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No templates yet. Create your first template or sync from Meta to get started."}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Name"}),a.jsx(ie,{children:"Category"}),a.jsx(ie,{children:"Language"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Variables"}),a.jsx(ie,{children:"Last Updated"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:f.map(T=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:T.name}),a.jsx(se,{children:a.jsx(ke,{variant:"outline",className:"capitalize",children:T.category})}),a.jsx(se,{children:T.language||"en"}),a.jsx(se,{children:a.jsx(ke,{variant:O(T.metaStatus?.toLowerCase()||T.status),className:"capitalize",children:T.metaStatus?.toLowerCase()||T.status})}),a.jsx(se,{children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[T.variables.slice(0,3).map(P=>a.jsx(ke,{variant:"secondary",className:"text-xs",children:`{{${P}}}`},P)),T.variables.length>3&&a.jsxs(ke,{variant:"secondary",className:"text-xs",children:["+",T.variables.length-3]})]})}),a.jsx(se,{className:"text-muted-foreground",children:M(T.updatedAt)}),a.jsx(se,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[(T.metaStatus?.toLowerCase()||T.status)==="pending"&&!T.metaTemplateId&&a.jsxs(ee,{size:"sm",variant:"outline",onClick:()=>v.mutate(T.id),disabled:v.isPending,children:[a.jsx(dr,{className:"mr-1 h-3 w-3"}),"Submit"]}),a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx($C,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>S(T.content),children:[a.jsx(LC,{className:"mr-2 h-4 w-4"}),"Copy Content"]}),a.jsxs(Rn,{onClick:()=>_(T),children:[a.jsx(_i,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsxs(Rn,{className:"text-destructive",onClick:()=>y.mutate(T.id),children:[a.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Delete"]})]})]})]})})]},T.id))})]})})]})]}),a.jsx(sn,{open:n,onOpenChange:r,children:a.jsxs(Qt,{className:"max-w-2xl",children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Create Template"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs(Ll,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20",children:[a.jsx(Pl,{className:"h-4 w-4 text-yellow-600"}),a.jsx($l,{className:"text-sm",children:"This template will be submitted to Meta for approval. Approval may take up to 24-48 hours for marketing templates."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Template Name *"}),a.jsx(De,{placeholder:"welcome_message",value:l.name,onChange:T=>u({...l,name:T.target.value.toLowerCase().replace(/\s+/g,"_")})}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Use lowercase with underscores (no spaces)"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Category *"}),a.jsxs(dt,{value:l.category,onValueChange:T=>u({...l,category:T}),children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"marketing",children:"Marketing (Promotional)"}),a.jsx(xe,{value:"utility",children:"Utility (Transactional)"}),a.jsx(xe,{value:"authentication",children:"Authentication (OTP)"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Message Content *"}),a.jsx(En,{placeholder:"Hello {{name}}, welcome to our service!",value:l.content,onChange:T=>u({...l,content:T.target.value}),rows:5}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Use ","{{variable}}"," syntax for dynamic content. Max 1024 characters."]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Variables (comma-separated)"}),a.jsx(De,{placeholder:"name, order_id, delivery_date",value:l.variables,onChange:T=>u({...l,variables:T.target.value})})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsxs(ee,{onClick:C,disabled:g.isPending||!l.name||!l.content,children:[g.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Create & Submit for Approval"]})]})]})}),a.jsx(sn,{open:e,onOpenChange:t,children:a.jsxs(Qt,{className:"max-w-2xl",children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Edit Template"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[s?.status==="approved"&&a.jsxs(Ll,{className:"bg-yellow-50 border-yellow-200 dark:bg-yellow-950/20",children:[a.jsx(Pl,{className:"h-4 w-4 text-yellow-600"}),a.jsx($l,{className:"text-sm",children:"Editing this approved template will require re-approval from Meta."})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Template Name"}),a.jsx(De,{value:l.name,onChange:T=>u({...l,name:T.target.value.toLowerCase().replace(/\s+/g,"_")})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Category"}),a.jsxs(dt,{value:l.category,onValueChange:T=>u({...l,category:T}),children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"marketing",children:"Marketing"}),a.jsx(xe,{value:"utility",children:"Utility"}),a.jsx(xe,{value:"authentication",children:"Authentication"})]})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Message Content"}),a.jsx(En,{value:l.content,onChange:T=>u({...l,content:T.target.value}),rows:5})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Variables (comma-separated)"}),a.jsx(De,{value:l.variables,onChange:T=>u({...l,variables:T.target.value})})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{onClick:N,disabled:w.isPending||!l.name||!l.content,children:[w.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save & Resubmit"]})]})]})})]})}var pK=["PageUp","PageDown"],gK=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],xK={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},$d="Slider",[wC,YTe,GTe]=ym($d),[yK]=Fr($d,[GTe]),[XTe,hb]=yK($d),vK=b.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:i=1,orientation:l="horizontal",disabled:u=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:p,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:v=!1,form:w,...y}=e,j=b.useRef(new Set),_=b.useRef(0),N=l==="horizontal"?QTe:ZTe,[S=[],O]=vs({prop:p,defaultProp:f,onChange:q=>{[...j.current][_.current]?.focus(),m(q)}}),M=b.useRef(S);function T(q){const H=rMe(S,q);K(q,H)}function P(q){K(q,_.current)}function $(){const q=M.current[_.current];S[_.current]!==q&&g(S)}function K(q,H,{commit:B}={commit:!1}){const L=oMe(i),D=lMe(Math.round((q-r)/i)*i+r,L),k=im(D,[r,s]);O((I=[])=>{const z=tMe(I,k,H);if(iMe(z,d*i)){_.current=z.indexOf(k);const V=String(z)!==String(I);return V&&B&&g(z),V?z:I}else return I})}return a.jsx(XTe,{scope:e.__scopeSlider,name:n,disabled:u,min:r,max:s,valueIndexToChangeRef:_,thumbs:j.current,values:S,orientation:l,form:w,children:a.jsx(wC.Provider,{scope:e.__scopeSlider,children:a.jsx(wC.Slot,{scope:e.__scopeSlider,children:a.jsx(N,{"aria-disabled":u,"data-disabled":u?"":void 0,...y,ref:t,onPointerDown:Le(y.onPointerDown,()=>{u||(M.current=S)}),min:r,max:s,inverted:v,onSlideStart:u?void 0:T,onSlideMove:u?void 0:P,onSlideEnd:u?void 0:$,onHomeKeyDown:()=>!u&&K(r,0,{commit:!0}),onEndKeyDown:()=>!u&&K(s,S.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:H})=>{if(!u){const D=pK.includes(q.key)||q.shiftKey&&gK.includes(q.key)?10:1,k=_.current,I=S[k],z=i*D*H;K(I+z,k,{commit:!0})}}})})})})});vK.displayName=$d;var[bK,jK]=yK($d,{startEdge:"left",endEdge:"right",size:"width",direction:1}),QTe=b.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:i,onSlideStart:l,onSlideMove:u,onSlideEnd:d,onStepKeyDown:f,...p}=e,[m,g]=b.useState(null),v=wt(t,N=>g(N)),w=b.useRef(void 0),y=Ed(s),j=y==="ltr",_=j&&!i||!j&&i;function C(N){const S=w.current||m.getBoundingClientRect(),O=[0,S.width],T=tO(O,_?[n,r]:[r,n]);return w.current=S,T(N-S.left)}return a.jsx(bK,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:a.jsx(wK,{dir:y,"data-orientation":"horizontal",...p,ref:v,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const S=C(N.clientX);l?.(S)},onSlideMove:N=>{const S=C(N.clientX);u?.(S)},onSlideEnd:()=>{w.current=void 0,d?.()},onStepKeyDown:N=>{const O=xK[_?"from-left":"from-right"].includes(N.key);f?.({event:N,direction:O?-1:1})}})})}),ZTe=b.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:i,onSlideMove:l,onSlideEnd:u,onStepKeyDown:d,...f}=e,p=b.useRef(null),m=wt(t,p),g=b.useRef(void 0),v=!s;function w(y){const j=g.current||p.current.getBoundingClientRect(),_=[0,j.height],N=tO(_,v?[r,n]:[n,r]);return g.current=j,N(y-j.top)}return a.jsx(bK,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:a.jsx(wK,{"data-orientation":"vertical",...f,ref:m,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:y=>{const j=w(y.clientY);i?.(j)},onSlideMove:y=>{const j=w(y.clientY);l?.(j)},onSlideEnd:()=>{g.current=void 0,u?.()},onStepKeyDown:y=>{const _=xK[v?"from-bottom":"from-top"].includes(y.key);d?.({event:y,direction:_?-1:1})}})})}),wK=b.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:u,onStepKeyDown:d,...f}=e,p=hb($d,n);return a.jsx(Je.span,{...f,ref:t,onKeyDown:Le(e.onKeyDown,m=>{m.key==="Home"?(l(m),m.preventDefault()):m.key==="End"?(u(m),m.preventDefault()):pK.concat(gK).includes(m.key)&&(d(m),m.preventDefault())}),onPointerDown:Le(e.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),p.thumbs.has(g)?g.focus():r(m)}),onPointerMove:Le(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&s(m)}),onPointerUp:Le(e.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),i(m))})})}),NK="SliderTrack",SK=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=hb(NK,n);return a.jsx(Je.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});SK.displayName=NK;var NC="SliderRange",AK=b.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=hb(NC,n),i=jK(NC,n),l=b.useRef(null),u=wt(t,l),d=s.values.length,f=s.values.map(g=>EK(g,s.min,s.max)),p=d>1?Math.min(...f):0,m=100-Math.max(...f);return a.jsx(Je.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:u,style:{...e.style,[i.startEdge]:p+"%",[i.endEdge]:m+"%"}})});AK.displayName=NC;var SC="SliderThumb",CK=b.forwardRef((e,t)=>{const n=YTe(e.__scopeSlider),[r,s]=b.useState(null),i=wt(t,u=>s(u)),l=b.useMemo(()=>r?n().findIndex(u=>u.ref.current===r):-1,[n,r]);return a.jsx(JTe,{...e,ref:i,index:l})}),JTe=b.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...i}=e,l=hb(SC,n),u=jK(SC,n),[d,f]=b.useState(null),p=wt(t,C=>f(C)),m=d?l.form||!!d.closest("form"):!0,g=Gy(d),v=l.values[r],w=v===void 0?0:EK(v,l.min,l.max),y=nMe(r,l.values.length),j=g?.[u.size],_=j?aMe(j,w,u.direction):0;return b.useEffect(()=>{if(d)return l.thumbs.add(d),()=>{l.thumbs.delete(d)}},[d,l.thumbs]),a.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[u.startEdge]:`calc(${w}% + ${_}px)`},children:[a.jsx(wC.ItemSlot,{scope:e.__scopeSlider,children:a.jsx(Je.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:p,style:v===void 0?{display:"none"}:e.style,onFocus:Le(e.onFocus,()=>{l.valueIndexToChangeRef.current=r})})}),m&&a.jsx(_K,{name:s??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:v},r)]})});CK.displayName=SC;var eMe="RadioBubbleInput",_K=b.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=b.useRef(null),i=wt(s,r),l=Kv(t);return b.useEffect(()=>{const u=s.current;if(!u)return;const d=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(l!==t&&p){const m=new Event("input",{bubbles:!0});p.call(u,t),u.dispatchEvent(m)}},[l,t]),a.jsx(Je.input,{style:{display:"none"},...n,ref:i,defaultValue:t})});_K.displayName=eMe;function tMe(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,i)=>s-i)}function EK(e,t,n){const i=100/(n-t)*(e-t);return im(i,[0,100])}function nMe(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function rMe(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function aMe(e,t,n){const r=e/2,i=tO([0,50],[0,r]);return(r-i(t)*n)*n}function sMe(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function iMe(e,t){if(t>0){const n=sMe(e);return Math.min(...n)>=t}return!0}function tO(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function oMe(e){return(String(e).split(".")[1]||"").length}function lMe(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var OK=vK,cMe=SK,uMe=AK,dMe=CK;const nO=b.forwardRef(({className:e,...t},n)=>a.jsxs(OK,{ref:n,className:Fe("relative flex w-full touch-none select-none items-center",e),...t,children:[a.jsx(cMe,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:a.jsx(uMe,{className:"absolute h-full bg-primary"})}),a.jsx(dMe,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));nO.displayName=OK.displayName;function fMe(){const[,e]=cc(),{toast:t}=Uo(),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(""),[d,f]=b.useState(""),[p,m]=b.useState(null),[g,v]=b.useState({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7}),w=async()=>{if(!g.name.trim()){t({title:"Missing Name",description:"Please enter an agent name.",variant:"destructive"});return}if(!g.systemPrompt.trim()){t({title:"Missing Instructions",description:"Please enter system instructions for your agent.",variant:"destructive"});return}r(!0);try{const j=await fetch("/api/agents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...g,isActive:!0})});if(j.ok){const _=await j.json();m(_.id),t({title:"Agent Created!",description:`${_.name} has been created successfully. You can now test it.`})}else{const _=await j.json();t({title:"Failed to Create Agent",description:_.error||"Something went wrong. Please try again.",variant:"destructive"})}}catch{t({title:"Error",description:"Failed to connect to server. Please try again.",variant:"destructive"})}finally{r(!1)}},y=async()=>{if(!p){t({title:"No Agent Created",description:"Please create an agent first before testing.",variant:"destructive"});return}if(!l.trim()){t({title:"Empty Message",description:"Please enter a test message.",variant:"destructive"});return}i(!0),f("");try{const j=await fetch(`/api/agents/${p}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:l})});if(j.ok){const _=await j.json();f(_.response)}else{const _=await j.json();f(`Error: ${_.error||"Failed to get response"}`)}}catch{f("Error: Failed to connect to server.")}finally{i(!1)}};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"New AI Agent"}),a.jsx(ee,{variant:"outline",onClick:()=>e("/ai/agents"),children:"View All Agents"})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{className:"h-full",children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Agent Configuration"}),a.jsx(He,{children:"Define how your AI agent should behave."})]}),a.jsxs(ae,{className:"space-y-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Agent Name *"}),a.jsx(De,{placeholder:"e.g., Support Bot Level 1",value:g.name,onChange:j=>v(_=>({..._,name:j.target.value})),disabled:!!p})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Description"}),a.jsx(De,{placeholder:"Brief description of this agent",value:g.description,onChange:j=>v(_=>({..._,description:j.target.value})),disabled:!!p})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"AI Model"}),a.jsxs(dt,{value:g.model,onValueChange:j=>v(_=>({..._,model:j})),disabled:!!p,children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsxs(xe,{value:"gpt-4o",className:"flex items-center",children:[a.jsx("span",{className:"font-medium",children:"OpenAI GPT-4o"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Most Intelligent)"})]}),a.jsxs(xe,{value:"gpt-4o-mini",children:[a.jsx("span",{className:"font-medium",children:"OpenAI GPT-4o Mini"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Smart & Fast)"})]}),a.jsxs(xe,{value:"gpt-4-turbo",children:[a.jsx("span",{className:"font-medium",children:"OpenAI GPT-4 Turbo"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Premium)"})]}),a.jsxs(xe,{value:"gpt-3.5-turbo",children:[a.jsx("span",{className:"font-medium",children:"OpenAI GPT-3.5"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Economy)"})]}),a.jsxs(xe,{value:"gemini-2.5-flash",children:[a.jsx("span",{className:"font-medium",children:"Gemini 2.5 Flash"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Fast & Efficient)"})]}),a.jsxs(xe,{value:"gemini-2.5-pro",children:[a.jsx("span",{className:"font-medium",children:"Gemini 2.5 Pro"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Advanced Reasoning)"})]}),a.jsxs(xe,{value:"gemini-1.5-flash",children:[a.jsx("span",{className:"font-medium",children:"Gemini 1.5 Flash"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Budget Friendly)"})]}),a.jsxs(xe,{value:"gemini-1.5-pro",children:[a.jsx("span",{className:"font-medium",children:"Gemini 1.5 Pro"}),a.jsx("span",{className:"ml-2 text-xs text-muted-foreground",children:"(Multimodal)"})]})]})]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"OpenAI models require OpenAI API key | Gemini models require Gemini API key"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(we,{children:["Temperature: ",g.temperature]}),a.jsx(nO,{value:[g.temperature],min:0,max:1,step:.1,onValueChange:([j])=>v(_=>({..._,temperature:j})),disabled:!!p}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower = more focused, Higher = more creative"})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"System Instructions *"}),a.jsx(En,{className:"min-h-[200px] font-mono text-sm",placeholder:"You are a helpful support assistant for Acme Corp. You answer questions about our widgets. If you don't know the answer, politely transfer the chat to a human agent.",value:g.systemPrompt,onChange:j=>v(_=>({..._,systemPrompt:j.target.value})),disabled:!!p})]}),p?a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"p-3 bg-green-50 text-green-700 rounded-md text-sm",children:"Agent created successfully! You can now test it on the right."}),a.jsx(ee,{className:"w-full",variant:"outline",onClick:()=>{m(null),v({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7}),u(""),f("")},children:"Create Another Agent"})]}):a.jsx(ee,{className:"w-full",onClick:w,disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(Be,{className:"h-4 w-4 mr-2 animate-spin"}),"Creating..."]}):"Create Agent"})]})]}),a.jsxs(te,{className:"h-full flex flex-col",children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Test Playground"}),a.jsx(He,{children:p?"Interact with your agent to test the instructions.":"Create an agent first to test it here."})]}),a.jsxs(ae,{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"flex-1 bg-muted/50 rounded-md border p-4 mb-4 min-h-[300px] max-h-[400px] overflow-auto",children:p?d?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex gap-2 justify-end",children:a.jsx("div",{className:"bg-primary text-primary-foreground p-3 rounded-lg rounded-tr-none max-w-[80%] text-sm",children:l})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground shrink-0",children:a.jsx(kt,{className:"h-5 w-5"})}),a.jsx("div",{className:"bg-white p-3 rounded-lg rounded-tl-none shadow-sm max-w-[80%] text-sm whitespace-pre-wrap",children:d})]})]}):a.jsxs("div",{className:"flex gap-2 mb-4",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground",children:a.jsx(kt,{className:"h-5 w-5"})}),a.jsx("div",{className:"bg-white p-3 rounded-lg rounded-tl-none shadow-sm max-w-[80%] text-sm",children:"Hello! I am your AI assistant. How can I help you today?"})]}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsx("p",{children:"Create an agent to start testing"})})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{placeholder:"Type a message...",value:l,onChange:j=>u(j.target.value),onKeyDown:j=>j.key==="Enter"&&y(),disabled:!p||s}),a.jsx(ee,{size:"icon",onClick:y,disabled:!p||s||!l.trim(),children:s?a.jsx(Or,{className:"h-4 w-4 animate-spin"}):a.jsx(jh,{className:"h-4 w-4"})})]})]})]})]})]})})}function lA(){const[e,t]=b.useState([]),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(null),[d,f]=b.useState(!1),[p,m]=b.useState(null),[g,v]=b.useState(""),[w,y]=b.useState(""),[j,_]=b.useState(!1),{toast:C}=Uo(),[N,S]=b.useState({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7,isActive:!0}),O=B=>({"gpt-4o":"Bot 1","gpt-4o-mini":"Bot 2","gpt-4-turbo":"Bot 3","gpt-3.5-turbo":"Bot 4"})[B]||B,M=async()=>{r(!0);try{const B=await fetch("/api/agents");if(B.ok){const L=await B.json();t(L)}}catch(B){console.error("Error fetching agents:",B)}finally{r(!1)}};b.useEffect(()=>{M()},[]);const T=()=>{S({name:"",description:"",systemPrompt:"",model:"gpt-4o",temperature:.7,isActive:!0}),u(null)},P=B=>{u(B),S({name:B.name,description:B.description,systemPrompt:B.systemPrompt,model:B.model,temperature:B.temperature,isActive:B.isActive}),i(!0)},$=async()=>{if(!N.name||!N.systemPrompt){C({title:"Missing Fields",description:"Name and system prompt are required.",variant:"destructive"});return}try{const B=l?`/api/agents/${l.id}`:"/api/agents",D=await fetch(B,{method:l?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});if(D.ok){const k=await D.json();l?(t(I=>I.map(z=>z.id===k.id?k:z)),C({title:"Agent Updated",description:`${k.name} has been updated.`})):(t(I=>[...I,k]),C({title:"Agent Created",description:`${k.name} has been created.`})),i(!1),T()}else{const k=await D.json();C({title:"Error",description:k.error,variant:"destructive"})}}catch{C({title:"Error",description:"Failed to save agent.",variant:"destructive"})}},K=async B=>{try{(await fetch(`/api/agents/${B}`,{method:"DELETE"})).ok&&(t(D=>D.filter(k=>k.id!==B)),C({title:"Agent Deleted",description:"The agent has been removed."}))}catch{C({title:"Error",description:"Failed to delete agent.",variant:"destructive"})}},q=async B=>{try{const L=await fetch(`/api/agents/${B.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!B.isActive})});if(L.ok){const D=await L.json();t(k=>k.map(I=>I.id===B.id?D:I))}}catch{C({title:"Error",description:"Failed to update agent.",variant:"destructive"})}},H=async()=>{if(!(!p||!g)){_(!0),y("");try{const B=await fetch(`/api/agents/${p.id}/test`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:g})});if(B.ok){const L=await B.json();y(L.response)}else{const L=await B.json();y(`Error: ${L.error}`)}}catch{y("Error: Failed to test agent.")}finally{_(!1)}}};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"AI Agents"}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage AI agents for automated responses"})]}),a.jsxs(sn,{open:s,onOpenChange:B=>{i(B),B||T()},children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{children:[a.jsx(Mr,{className:"h-4 w-4 mr-2"}),"New Agent"]})}),a.jsxs(Qt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:l?"Edit Agent":"Create New Agent"}),a.jsx(ca,{children:"Configure your AI agent's behavior and personality."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Name"}),a.jsx(De,{placeholder:"e.g., Support Bot",value:N.name,onChange:B=>S(L=>({...L,name:B.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"AI Model"}),a.jsxs(dt,{value:N.model,onValueChange:B=>S(L=>({...L,model:B})),children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"gpt-4o",children:"Bot 1 (Most Intelligent)"}),a.jsx(xe,{value:"gpt-4o-mini",children:"Bot 2 (Smart & Fast)"}),a.jsx(xe,{value:"gpt-4-turbo",children:"Bot 3 (Premium)"}),a.jsx(xe,{value:"gpt-3.5-turbo",children:"Bot 4 (Economy)"})]})]})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Description"}),a.jsx(De,{placeholder:"Brief description of this agent",value:N.description,onChange:B=>S(L=>({...L,description:B.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"System Prompt"}),a.jsx(En,{className:"min-h-[150px] font-mono text-sm",placeholder:"You are a helpful assistant...",value:N.systemPrompt,onChange:B=>S(L=>({...L,systemPrompt:B.target.value}))})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsxs(we,{children:["Temperature: ",N.temperature]}),a.jsx(nO,{value:[N.temperature],min:0,max:1,step:.1,onValueChange:([B])=>S(L=>({...L,temperature:B}))}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Lower values make responses more focused, higher values more creative."})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>{i(!1),T()},children:"Cancel"}),a.jsx(ee,{onClick:$,children:l?"Update Agent":"Create Agent"})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-5 w-5"}),"Active Agents"]}),a.jsx(He,{children:"Your AI agents that can respond to WhatsApp messages automatically"})]}),a.jsx(ae,{children:n?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Or,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:'No agents created yet. Click "New Agent" to get started.'})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Name"}),a.jsx(ie,{children:"Model"}),a.jsx(ie,{children:"Description"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:e.map(B=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4 text-primary"}),B.name]})}),a.jsx(se,{children:O(B.model)}),a.jsx(se,{className:"max-w-[200px] truncate",children:B.description||"-"}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{checked:B.isActive,onCheckedChange:()=>q(B)}),a.jsx(ke,{variant:B.isActive?"default":"secondary",children:B.isActive?"Active":"Inactive"})]})}),a.jsxs(se,{className:"text-right space-x-1",children:[a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>{m(B),f(!0),v(""),y("")},children:a.jsx(jh,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>P(B),children:a.jsx(_i,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>K(B.id),children:a.jsx(Ea,{className:"h-4 w-4"})})]})]},B.id))})]})})]}),a.jsx(sn,{open:d,onOpenChange:f,children:a.jsxs(Qt,{className:"max-w-2xl",children:[a.jsxs(Zt,{children:[a.jsxs(Jt,{children:["Test Agent: ",p?.name]}),a.jsx(ca,{children:"Send a test message to see how this agent responds."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsx("div",{className:"bg-muted/50 rounded-lg p-4 min-h-[150px] max-h-[300px] overflow-auto",children:w?a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground shrink-0",children:a.jsx(kt,{className:"h-5 w-5"})}),a.jsx("div",{className:"bg-white p-3 rounded-lg rounded-tl-none shadow-sm text-sm whitespace-pre-wrap",children:w})]}):a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Send a message to see the agent's response"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{placeholder:"Type a test message...",value:g,onChange:B=>v(B.target.value),onKeyDown:B=>B.key==="Enter"&&H()}),a.jsx(ee,{onClick:H,disabled:j||!g,children:j?a.jsx(Or,{className:"h-4 w-4 animate-spin"}):a.jsx(jh,{className:"h-4 w-4"})})]})]})]})})]})})}function hMe(){const[e,t]=b.useState([]),[n,r]=b.useState([]),[s,i]=b.useState([]),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[p,m]=b.useState(""),[g,v]=b.useState(""),{toast:w}=Uo(),y=async()=>{u(!0);try{const[N,S,O]=await Promise.all([fetch("/api/map-agent"),fetch("/api/agents"),fetch("/api/facebook/forms")]);N.ok&&t(await N.json()),S.ok&&r(await S.json()),O.ok&&i(await O.json())}catch(N){console.error("Error fetching data:",N)}finally{u(!1)}};b.useEffect(()=>{y()},[]);const j=async()=>{if(!p||!g){w({title:"Missing Selection",description:"Please select both a form and an agent.",variant:"destructive"});return}const N=s.find(O=>O.id===p),S=n.find(O=>O.id===g);try{const O=await fetch("/api/map-agent",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({formId:p,formName:N?.name||"Unknown",agentId:g,agentName:S?.name||"Unknown",isActive:!0})});if(O.ok){const M=await O.json();t(T=>{const P=T.findIndex($=>$.formId===M.formId);if(P>=0){const $=[...T];return $[P]=M,$}return[...T,M]}),w({title:"Mapping Created",description:`${N?.name} is now connected to ${S?.name}`}),f(!1),m(""),v("")}else{const M=await O.json();w({title:"Failed to Create Mapping",description:M.error,variant:"destructive"})}}catch{w({title:"Error",description:"Failed to create mapping.",variant:"destructive"})}},_=async N=>{try{(await fetch(`/api/map-agent/${N}`,{method:"DELETE"})).ok&&(t(O=>O.filter(M=>M.id!==N)),w({title:"Mapping Deleted",description:"The mapping has been removed."}))}catch{w({title:"Error",description:"Failed to delete mapping.",variant:"destructive"})}},C=async N=>{try{const S=await fetch(`/api/map-agent/${N.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({isActive:!N.isActive})});if(S.ok){const O=await S.json();t(M=>M.map(T=>T.id===N.id?O:T))}}catch{w({title:"Error",description:"Failed to update mapping.",variant:"destructive"})}};return s.filter(N=>!e.some(S=>S.formId===N.id)),a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Agent-Form Mapping"}),a.jsx("p",{className:"text-muted-foreground",children:"Connect AI agents to lead forms for automatic responses"})]}),a.jsxs(sn,{open:d,onOpenChange:f,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{children:[a.jsx(Mr,{className:"h-4 w-4 mr-2"}),"Create Mapping"]})}),a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Create Agent-Form Mapping"}),a.jsx(ca,{children:"Select a lead form and an AI agent to handle responses automatically."})]}),a.jsxs("div",{className:"grid gap-4 py-4",children:[a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"Lead Form"}),a.jsxs(dt,{value:p,onValueChange:m,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select a form"})}),a.jsx(ct,{children:s.map(N=>a.jsx(xe,{value:N.id,children:N.name},N.id))})]})]}),a.jsxs("div",{className:"grid gap-2",children:[a.jsx(we,{children:"AI Agent"}),a.jsxs(dt,{value:g,onValueChange:v,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an agent"})}),a.jsx(ct,{children:n.map(N=>a.jsxs(xe,{value:N.id,children:[N.name," ",N.isActive?"(Active)":"(Inactive)"]},N.id))})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(ee,{onClick:j,children:"Create Mapping"})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(AP,{className:"h-5 w-5"}),"Active Mappings"]}),a.jsx(He,{children:"When a lead comes from a mapped form, the connected AI agent will respond via WhatsApp"})]}),a.jsx(ae,{children:e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(AP,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No mappings created yet. Connect a form to an AI agent to get started."})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Lead Form"}),a.jsx(ie,{children:"AI Agent"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Created"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:e.map(N=>a.jsxs(Ke,{children:[a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-4 w-4 text-blue-500"}),N.formName]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4 text-purple-500"}),N.agentName]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{checked:N.isActive,onCheckedChange:()=>C(N)}),a.jsx(ke,{variant:N.isActive?"default":"secondary",children:N.isActive?"Active":"Inactive"})]})}),a.jsx(se,{children:new Date(N.createdAt).toLocaleDateString()}),a.jsx(se,{className:"text-right",children:a.jsx(ee,{variant:"ghost",size:"icon",className:"text-destructive",onClick:()=>_(N.id),children:a.jsx(Ea,{className:"h-4 w-4"})})})]},N.id))})]})})]})]})})}const Qf=(e,t)=>{if(!e)return"N/A";const n=new Date(e);return fK(n)?Tn(n,t):"N/A"};function mMe(){const{toast:e}=Uo(),t=er(),[n,r]=b.useState("overview"),[s,i]=b.useState(null),[l,u]=b.useState(!1),[d,f]=b.useState(!1),[p,m]=b.useState("all"),[g,v]=b.useState("all"),[w,y]=b.useState(""),[j,_]=b.useState(""),[C,N]=b.useState(""),{data:S=[],isLoading:O}=Ve({queryKey:["/api/ai-analytics/qualifications"],refetchInterval:5e3}),{data:M}=Ve({queryKey:["/api/ai-analytics/qualifications/stats"],refetchInterval:5e3}),{data:T}=Ve({queryKey:["/api/ai-analytics/qualifications/report"],refetchInterval:1e4}),P=et({mutationFn:async({id:Y,category:U,notes:F})=>{const G=await fetch(`/api/ai-analytics/qualifications/${Y}/category`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({category:U,notes:F})});if(!G.ok)throw new Error("Failed to update category");return G.json()},onSuccess:()=>{t.invalidateQueries({queryKey:["/api/ai-analytics/qualifications"]}),t.invalidateQueries({queryKey:["/api/ai-analytics/qualifications/stats"]}),t.invalidateQueries({queryKey:["/api/ai-analytics/qualifications/report"]}),e({title:"Category Updated",description:"Lead qualification updated successfully"}),f(!1)},onError:()=>{e({title:"Error",description:"Failed to update category",variant:"destructive"})}}),$=S.filter(Y=>{if(p!=="all"&&Y.category!==p||g!=="all"&&Y.source!==g)return!1;if(w){const U=w.toLowerCase();return Y.name.toLowerCase().includes(U)||Y.phone.includes(U)||Y.keywords.some(F=>F.toLowerCase().includes(U))}return!0}),K=$.filter(Y=>Y.category==="interested"),q=$.filter(Y=>Y.category==="not_interested"),H=$.filter(Y=>Y.category==="pending"),B=Y=>{switch(Y){case"interested":return a.jsxs(ke,{className:"bg-green-500 hover:bg-green-600",children:[a.jsx(cr,{className:"w-3 h-3 mr-1"})," Interested"]});case"not_interested":return a.jsxs(ke,{className:"bg-red-500 hover:bg-red-600",children:[a.jsx(Tu,{className:"w-3 h-3 mr-1"})," Not Interested"]});case"pending":return a.jsxs(ke,{className:"bg-yellow-500 hover:bg-yellow-600",children:[a.jsx(Kt,{className:"w-3 h-3 mr-1"})," Pending"]});default:return a.jsx(ke,{variant:"secondary",children:Y})}},L=Y=>{const U={ai_chat:"bg-blue-500",campaign:"bg-purple-500",ad:"bg-orange-500",lead_form:"bg-green-500",manual:"bg-gray-500"},F={ai_chat:"AI Chat",campaign:"Campaign",ad:"Ad",lead_form:"Lead Form",manual:"Manual"};return a.jsx(ke,{className:U[Y]||"bg-gray-500",children:F[Y]||Y})},D=Y=>{i(Y),u(!0)},k=Y=>{i(Y),N(Y.category),_(Y.notes||""),f(!0)},I=()=>{s&&C&&P.mutate({id:s.id,category:C,notes:j})},z=(Y,U)=>{const F=["Name","Phone","Category","Source","Score","Messages","Keywords","First Contact","Last Message","Notes"],G=Y.map(pe=>[pe.name,pe.phone,pe.category,pe.source,pe.score.toString(),pe.totalMessages.toString(),pe.keywords.join("; "),Qf(pe.firstContactAt,"yyyy-MM-dd HH:mm"),Qf(pe.lastMessageAt,"yyyy-MM-dd HH:mm"),pe.notes||""]),Z=[F,...G].map(pe=>pe.map(ce=>`"${ce}"`).join(",")).join(`
`),ge=new Blob([Z],{type:"text/csv"}),Se=URL.createObjectURL(ge),Q=document.createElement("a");Q.href=Se,Q.download=`${U}_${Tn(new Date,"yyyy-MM-dd")}.csv`,Q.click(),URL.revokeObjectURL(Se)},V=({leads:Y,title:U})=>a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(de,{className:"text-lg",children:U}),a.jsxs(He,{children:[Y.length," leads"]})]}),a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>z(Y,U.toLowerCase().replace(/\s+/g,"_")),children:[a.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Export"]})]}),a.jsx(ae,{children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Name"}),a.jsx(ie,{children:"Phone"}),a.jsx(ie,{children:"Source"}),a.jsx(ie,{children:"Score"}),a.jsx(ie,{children:"Messages"}),a.jsx(ie,{children:"Last Contact"}),a.jsx(ie,{children:"Keywords"}),a.jsx(ie,{children:"Actions"})]})}),a.jsx(zt,{children:Y.length===0?a.jsx(Ke,{children:a.jsx(se,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No leads in this category"})}):Y.map(F=>a.jsxs(Ke,{className:"cursor-pointer hover:bg-muted/50",children:[a.jsx(se,{className:"font-medium",children:F.name}),a.jsx(se,{children:F.phone}),a.jsx(se,{children:L(F.source)}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-12 h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full ${F.score>=70?"bg-green-500":F.score>=40?"bg-yellow-500":"bg-red-500"}`,style:{width:`${F.score}%`}})}),a.jsxs("span",{className:"text-sm",children:[F.score,"%"]})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(an,{className:"w-4 h-4"}),F.totalMessages]})}),a.jsx(se,{className:"text-sm text-muted-foreground",children:Qf(F.lastMessageAt,"MMM dd, HH:mm")}),a.jsx(se,{children:a.jsxs("div",{className:"flex flex-wrap gap-1 max-w-[150px]",children:[F.keywords.slice(0,2).map((G,Z)=>a.jsx(ke,{variant:"outline",className:"text-xs",children:G},Z)),F.keywords.length>2&&a.jsxs(ke,{variant:"outline",className:"text-xs",children:["+",F.keywords.length-2]})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex gap-1",children:[a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>D(F),children:a.jsx(Ka,{className:"w-4 h-4"})}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:()=>k(F),children:a.jsx(_i,{className:"w-4 h-4"})})]})})]},F.id))})]})})]});return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"AI Agent Reports"}),a.jsx("p",{className:"text-muted-foreground",children:"Track lead qualification from AI conversations"})]}),a.jsxs(ee,{variant:"outline",onClick:()=>z(S,"all_qualifications"),children:[a.jsx(Tr,{className:"w-4 h-4 mr-2"}),"Export All"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Contacts"}),a.jsx("p",{className:"text-3xl font-bold",children:M?.total||0})]}),a.jsx(zn,{className:"w-10 h-10 text-blue-500 opacity-50"})]})})}),a.jsx(te,{className:"border-green-200 bg-green-50/50",children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-green-600",children:"Interested"}),a.jsx("p",{className:"text-3xl font-bold text-green-700",children:M?.interested||0}),a.jsxs("p",{className:"text-sm text-green-600",children:[M?.interestedPercent||0,"%"]})]}),a.jsx(dc,{className:"w-10 h-10 text-green-500 opacity-50"})]})})}),a.jsx(te,{className:"border-red-200 bg-red-50/50",children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-red-600",children:"Not Interested"}),a.jsx("p",{className:"text-3xl font-bold text-red-700",children:M?.notInterested||0}),a.jsxs("p",{className:"text-sm text-red-600",children:[M?.notInterestedPercent||0,"%"]})]}),a.jsx(oJ,{className:"w-10 h-10 text-red-500 opacity-50"})]})})}),a.jsx(te,{className:"border-yellow-200 bg-yellow-50/50",children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-yellow-600",children:"Pending"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-700",children:M?.pending||0}),a.jsxs("p",{className:"text-sm text-yellow-600",children:[M?.pendingPercent||0,"%"]})]}),a.jsx(Kt,{className:"w-10 h-10 text-yellow-500 opacity-50"})]})})})]}),a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"w-4 h-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by name, phone, or keyword...",value:w,onChange:Y=>y(Y.target.value),className:"w-64"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qC,{className:"w-4 h-4 text-muted-foreground"}),a.jsxs(dt,{value:p,onValueChange:m,children:[a.jsx(lt,{className:"w-40",children:a.jsx(ft,{placeholder:"Category"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Categories"}),a.jsx(xe,{value:"interested",children:"Interested"}),a.jsx(xe,{value:"not_interested",children:"Not Interested"}),a.jsx(xe,{value:"pending",children:"Pending"})]})]}),a.jsxs(dt,{value:g,onValueChange:v,children:[a.jsx(lt,{className:"w-40",children:a.jsx(ft,{placeholder:"Source"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Sources"}),a.jsx(xe,{value:"ai_chat",children:"AI Chat"}),a.jsx(xe,{value:"campaign",children:"Campaign"}),a.jsx(xe,{value:"ad",children:"Ad"}),a.jsx(xe,{value:"lead_form",children:"Lead Form"}),a.jsx(xe,{value:"manual",children:"Manual"})]})]})]})]})})}),a.jsxs(kr,{value:n,onValueChange:r,children:[a.jsxs(br,{className:"grid w-full max-w-md grid-cols-4",children:[a.jsx(mt,{value:"overview",children:"Overview"}),a.jsx(mt,{value:"interested",className:"text-green-600",children:"Interested"}),a.jsx(mt,{value:"not_interested",className:"text-red-600",children:"Not Interested"}),a.jsx(mt,{value:"pending",className:"text-yellow-600",children:"Pending"})]}),a.jsxs(bt,{value:"overview",className:"space-y-4",children:[T?.byAgent&&Object.keys(T.byAgent).length>0&&a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"w-5 h-5"}),a.jsx(de,{children:"By AI Agent"})]})}),a.jsx(ae,{children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Agent"}),a.jsx(ie,{children:"Total"}),a.jsx(ie,{className:"text-green-600",children:"Interested"}),a.jsx(ie,{className:"text-red-600",children:"Not Interested"}),a.jsx(ie,{className:"text-yellow-600",children:"Pending"}),a.jsx(ie,{children:"Conversion Rate"})]})}),a.jsx(zt,{children:Object.entries(T.byAgent).map(([Y,U])=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:U.agentName}),a.jsx(se,{children:U.total}),a.jsx(se,{className:"text-green-600",children:U.interested}),a.jsx(se,{className:"text-red-600",children:U.notInterested}),a.jsx(se,{className:"text-yellow-600",children:U.pending}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500",style:{width:`${U.interestedPercent}%`}})}),a.jsxs("span",{className:"text-sm font-medium",children:[U.interestedPercent,"%"]})]})})]},Y))})]})})]}),T?.bySource&&a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jf,{className:"w-5 h-5"}),a.jsx(de,{children:"By Source"})]})}),a.jsx(ae,{children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Source"}),a.jsx(ie,{children:"Total"}),a.jsx(ie,{className:"text-green-600",children:"Interested"}),a.jsx(ie,{className:"text-red-600",children:"Not Interested"}),a.jsx(ie,{className:"text-yellow-600",children:"Pending"}),a.jsx(ie,{children:"Conversion Rate"})]})}),a.jsx(zt,{children:Object.entries(T.bySource).filter(([Y,U])=>U.total>0).map(([Y,U])=>a.jsxs(Ke,{children:[a.jsx(se,{children:L(Y)}),a.jsx(se,{children:U.total}),a.jsx(se,{className:"text-green-600",children:U.interested}),a.jsx(se,{className:"text-red-600",children:U.notInterested}),a.jsx(se,{className:"text-yellow-600",children:U.pending}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500",style:{width:`${U.interestedPercent}%`}})}),a.jsxs("span",{className:"text-sm font-medium",children:[U.interestedPercent,"%"]})]})})]},Y))})]})})]}),T?.byCampaign&&Object.keys(T.byCampaign).length>0&&a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(bm,{className:"w-5 h-5"}),a.jsx(de,{children:"By Campaign"})]})}),a.jsx(ae,{children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Campaign"}),a.jsx(ie,{children:"Total"}),a.jsx(ie,{className:"text-green-600",children:"Interested"}),a.jsx(ie,{className:"text-red-600",children:"Not Interested"}),a.jsx(ie,{className:"text-yellow-600",children:"Pending"}),a.jsx(ie,{children:"Conversion Rate"})]})}),a.jsx(zt,{children:Object.entries(T.byCampaign).map(([Y,U])=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:U.campaignName}),a.jsx(se,{children:U.total}),a.jsx(se,{className:"text-green-600",children:U.interested}),a.jsx(se,{className:"text-red-600",children:U.notInterested}),a.jsx(se,{className:"text-yellow-600",children:U.pending}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-16 h-2 bg-muted rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-green-500",style:{width:`${U.interestedPercent}%`}})}),a.jsxs("span",{className:"text-sm font-medium",children:[U.interestedPercent,"%"]})]})})]},Y))})]})})]}),a.jsx(V,{leads:$,title:"All Leads"})]}),a.jsx(bt,{value:"interested",children:a.jsx(V,{leads:K,title:"Interested Leads"})}),a.jsx(bt,{value:"not_interested",children:a.jsx(V,{leads:q,title:"Not Interested Leads"})}),a.jsx(bt,{value:"pending",children:a.jsx(V,{leads:H,title:"Pending Leads"})})]}),a.jsx(sn,{open:l,onOpenChange:u,children:a.jsxs(Qt,{className:"max-w-lg",children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Lead Details"}),a.jsx(ca,{children:"Complete information about this lead"})]}),s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Name"}),a.jsx("p",{className:"font-medium",children:s.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Phone"}),a.jsx("p",{className:"font-medium",children:s.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Category"}),a.jsx("div",{className:"mt-1",children:B(s.category)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Source"}),a.jsx("div",{className:"mt-1",children:L(s.source)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Score"}),a.jsxs("p",{className:"font-medium",children:[s.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Total Messages"}),a.jsx("p",{className:"font-medium",children:s.totalMessages})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"First Contact"}),a.jsx("p",{className:"font-medium",children:Qf(s.firstContactAt,"MMM dd, yyyy HH:mm")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Last Message"}),a.jsx("p",{className:"font-medium",children:Qf(s.lastMessageAt,"MMM dd, yyyy HH:mm")})]})]}),s.agentName&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"AI Agent"}),a.jsx("p",{className:"font-medium",children:s.agentName})]}),s.campaignName&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Campaign"}),a.jsx("p",{className:"font-medium",children:s.campaignName})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Keywords Detected"}),a.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:s.keywords.length>0?s.keywords.map((Y,U)=>a.jsx(ke,{variant:"outline",children:Y},U)):a.jsx("span",{className:"text-muted-foreground text-sm",children:"No keywords detected"})})]}),s.notes&&a.jsxs("div",{children:[a.jsx("label",{className:"text-sm text-muted-foreground",children:"Notes"}),a.jsx("p",{className:"text-sm mt-1",children:s.notes})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>u(!1),children:"Close"}),a.jsxs(ee,{onClick:()=>{u(!1),s&&k(s)},children:[a.jsx(_i,{className:"w-4 h-4 mr-2"}),"Edit Category"]})]})]})}),a.jsx(sn,{open:d,onOpenChange:f,children:a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Update Lead Category"}),a.jsxs(ca,{children:["Change the qualification category for ",s?.name]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Category"}),a.jsxs(dt,{value:C,onValueChange:N,children:[a.jsx(lt,{className:"mt-1",children:a.jsx(ft,{placeholder:"Select category"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"interested",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cr,{className:"w-4 h-4 text-green-500"}),"Interested"]})}),a.jsx(xe,{value:"not_interested",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Tu,{className:"w-4 h-4 text-red-500"}),"Not Interested"]})}),a.jsx(xe,{value:"pending",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"w-4 h-4 text-yellow-500"}),"Pending"]})})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Notes (Optional)"}),a.jsx(En,{value:j,onChange:Y=>_(Y.target.value),placeholder:"Add notes about this lead...",className:"mt-1"})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),a.jsx(ee,{onClick:I,disabled:P.isPending,children:P.isPending?"Saving...":"Save Changes"})]})]})})]})}function pMe(){const[e,t]=b.useState(!1),[n,r]=b.useState(null),[s,i]=b.useState(""),[l,u]=b.useState(""),d=er(),{data:f=[],isLoading:p}=Ve({queryKey:["/api/prefilled-text"]}),{data:m=[]}=Ve({queryKey:["/api/agents"]}),g=et({mutationFn:async S=>{const O=await fetch("/api/prefilled-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(S)});if(!O.ok)throw new Error("Failed to create mapping");return O.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/prefilled-text"]}),t(!1),i(""),u(""),fe.success("Mapping created successfully")},onError:()=>{fe.error("Failed to create mapping")}}),v=et({mutationFn:async({id:S,...O})=>{const M=await fetch(`/api/prefilled-text/${S}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(O)});if(!M.ok)throw new Error("Failed to update mapping");return M.json()},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/prefilled-text"]}),r(null),i(""),u(""),fe.success("Mapping updated successfully")},onError:()=>{fe.error("Failed to update mapping")}}),w=et({mutationFn:async S=>{if(!(await fetch(`/api/prefilled-text/${S}`,{method:"DELETE"})).ok)throw new Error("Failed to delete mapping")},onSuccess:()=>{d.invalidateQueries({queryKey:["/api/prefilled-text"]}),fe.success("Mapping deleted successfully")},onError:()=>{fe.error("Failed to delete mapping")}}),y=()=>{if(!s.trim()||!l){fe.error("Please fill in all fields");return}const S=m.find(O=>O.id===l);if(!S){fe.error("Please select an agent");return}g.mutate({prefilledText:s.trim(),agentId:l,agentName:S.name})},j=()=>{if(!n)return;if(!s.trim()||!l){fe.error("Please fill in all fields");return}const S=m.find(O=>O.id===l);if(!S){fe.error("Please select an agent");return}v.mutate({id:n.id,prefilledText:s.trim(),agentId:l,agentName:S.name})},_=S=>{v.mutate({id:S.id,isActive:!S.isActive})},C=S=>{r(S),i(S.prefilledText),u(S.agentId)},N=()=>{t(!1),r(null),i(""),u("")};return a.jsxs(pt,{children:[a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(lh,{className:"h-6 w-6 text-primary"}),"Pre-filled Text Mappings"]}),a.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Automatically assign AI agents to WhatsApp leads based on their first message"})]}),a.jsxs(sn,{open:e,onOpenChange:t,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{className:"gap-2",children:[a.jsx(Mr,{className:"h-4 w-4"}),"Add Mapping"]})}),a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Add Pre-filled Text Mapping"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Pre-filled Text"}),a.jsx(De,{placeholder:"e.g., Hi, I'm interested in pricing",value:s,onChange:S=>i(S.target.value)}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"When a new contact sends a message starting with this text, the selected AI agent will respond"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"AI Agent"}),a.jsxs(dt,{value:l,onValueChange:u,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an AI agent"})}),a.jsx(ct,{children:m.filter(S=>S.isActive).map(S=>a.jsx(xe,{value:S.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),S.name]})},S.id))})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:N,children:"Cancel"}),a.jsxs(ee,{onClick:y,disabled:g.isPending,children:[g.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):null,"Create Mapping"]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{className:"text-lg",children:"How it works"}),a.jsx(He,{children:"When someone who is not in your contacts list messages you on WhatsApp, the system checks if their message matches any pre-filled text you've configured. If it matches, the assigned AI agent will automatically respond and handle the conversation."})]}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-4 p-4 bg-muted/50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(an,{className:"h-5 w-5 text-blue-500"}),a.jsx("span",{children:"User sends message"})]}),a.jsx(Dj,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(lh,{className:"h-5 w-5 text-yellow-500"}),a.jsx("span",{children:"Match pre-filled text"})]}),a.jsx(Dj,{className:"h-4 w-4 text-muted-foreground"}),a.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[a.jsx(kt,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{children:"AI Agent responds"})]})]})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{className:"text-lg",children:"Configured Mappings"}),a.jsxs(He,{children:[f.length," mapping",f.length!==1?"s":""," configured"]})]}),a.jsx(ae,{children:p?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):f.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground",children:[a.jsx(lh,{className:"h-8 w-8 mb-2"}),a.jsx("p",{children:"No mappings configured yet"}),a.jsx("p",{className:"text-xs",children:"Add a mapping to auto-assign AI agents to incoming leads"})]}):a.jsx(ws,{className:"h-[400px]",children:a.jsx("div",{className:"space-y-3",children:f.map(S=>a.jsxs("div",{className:`flex items-center justify-between p-4 border rounded-lg ${S.isActive?"bg-background":"bg-muted/30 opacity-60"}`,children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-950 rounded-lg",children:a.jsx(an,{className:"h-5 w-5 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:['"',S.prefilledText,'"']}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Messages starting with this text will trigger the AI"})]})]}),a.jsx(Dj,{className:"h-4 w-4 text-muted-foreground mx-4"}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"p-2 bg-green-100 dark:bg-green-950 rounded-lg",children:a.jsx(kt,{className:"h-5 w-5 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:S.agentName}),a.jsx(ke,{variant:S.isActive?"default":"secondary",className:"text-xs",children:S.isActive?"Active":"Inactive"})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yr,{checked:S.isActive,onCheckedChange:()=>_(S)}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>C(S),children:a.jsx(_i,{className:"h-4 w-4"})}),a.jsx(ee,{variant:"ghost",size:"icon",onClick:()=>w.mutate(S.id),children:a.jsx(Ea,{className:"h-4 w-4 text-destructive"})})]})]},S.id))})})})]})]}),a.jsx(sn,{open:!!n,onOpenChange:S=>!S&&N(),children:a.jsxs(Qt,{children:[a.jsx(Zt,{children:a.jsx(Jt,{children:"Edit Mapping"})}),a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Pre-filled Text"}),a.jsx(De,{placeholder:"e.g., Hi, I'm interested in pricing",value:s,onChange:S=>i(S.target.value)})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"AI Agent"}),a.jsxs(dt,{value:l,onValueChange:u,children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select an AI agent"})}),a.jsx(ct,{children:m.filter(S=>S.isActive).map(S=>a.jsx(xe,{value:S.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),S.name]})},S.id))})]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:N,children:"Cancel"}),a.jsxs(ee,{onClick:j,disabled:v.isPending,children:[v.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):null,"Update Mapping"]})]})]})})]})}function gMe(){const[e,t]=b.useState([]),[n,r]=b.useState(!1),[s,i]=b.useState(!1),{toast:l}=Uo(),u=async()=>{r(!0);try{const p=await fetch("/api/facebook/forms");if(p.ok){const m=await p.json();t(m)}}catch(p){console.error("Error fetching forms:",p)}finally{r(!1)}},d=async()=>{i(!0);try{const p=await fetch("/api/facebook/forms/sync",{method:"POST"});if(p.ok){const m=await p.json();t(m.forms),l({title:"Forms Synced",description:`Successfully synced ${m.count} lead form(s) from Facebook.`})}else{const m=await p.json();l({title:"Sync Failed",description:m.error||"Failed to sync forms from Facebook.",variant:"destructive"})}}catch{l({title:"Sync Failed",description:"Network error while syncing forms.",variant:"destructive"})}finally{i(!1)}},f=async p=>{try{const m=await fetch(`/api/facebook/forms/${p}/sync-leads`,{method:"POST"});if(m.ok){const g=await m.json();l({title:"Leads Synced",description:`Successfully synced ${g.count} new lead(s).`})}else{const g=await m.json();l({title:"Sync Failed",description:g.error||"Failed to sync leads.",variant:"destructive"})}}catch{l({title:"Sync Failed",description:"Network error while syncing leads.",variant:"destructive"})}};return b.useEffect(()=>{u()},[]),a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Facebook Lead Forms"}),a.jsx("p",{className:"text-muted-foreground",children:"Manage and sync your Facebook lead generation forms"})]}),a.jsxs(ee,{onClick:d,disabled:s,children:[a.jsx(Or,{className:`h-4 w-4 mr-2 ${s?"animate-spin":""}`}),s?"Syncing...":"Sync Forms"]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-5 w-5"}),"Lead Forms"]}),a.jsx(He,{children:'Your connected Facebook lead forms. Click "Sync Leads" to fetch new submissions.'})]}),a.jsx(ae,{children:n?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Or,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):e.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(vr,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:'No lead forms found. Click "Sync Forms" to fetch from Facebook.'})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Form Name"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Facebook ID"}),a.jsx(ie,{children:"Last Synced"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:e.map(p=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:p.name}),a.jsx(se,{children:a.jsx(ke,{variant:p.status==="ACTIVE"?"default":"secondary",children:p.status})}),a.jsx(se,{className:"font-mono text-xs",children:p.fbFormId}),a.jsx(se,{children:new Date(p.syncedAt).toLocaleString()}),a.jsx(se,{className:"text-right space-x-2",children:a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>f(p.id),children:[a.jsx(zn,{className:"h-4 w-4 mr-1"}),"Sync Leads"]})})]},p.id))})]})})]})]})})}function xMe(){const{toast:e}=Uo(),[t,n]=b.useState([]),[r,s]=b.useState([]),[i,l]=b.useState(!1),[u,d]=b.useState(""),[f,p]=b.useState("all"),[m,g]=b.useState(new Set),[v,w]=b.useState(!1),[y,j]=b.useState(!1),[_,C]=b.useState(""),[N,S]=b.useState(null),[O,M]=b.useState(!1),T=async()=>{l(!0);try{const I=await fetch("/api/facebook/leads");if(I.ok){const z=await I.json();n(z)}}catch(I){console.error("Error fetching leads:",I)}finally{l(!1)}},P=async()=>{try{const I=await fetch("/api/facebook/forms");if(I.ok){const z=await I.json();s(z)}}catch(I){console.error("Error fetching forms:",I)}};b.useEffect(()=>{P(),T()},[]);const $=t.filter(I=>{const z=u.toLowerCase(),V=I.name?.toLowerCase().includes(z)||!1||I.email?.toLowerCase().includes(z)||!1||I.phone?.includes(u)||!1||I.formName.toLowerCase().includes(z),Y=f==="all"||I.formId===f;return V&&Y}),K=I=>{const z=new Set(m);z.has(I)?z.delete(I):z.add(I),g(z)},q=()=>{m.size===$.length?g(new Set):g(new Set($.map(I=>I.id)))},H=()=>{const I=m.size>0?$.filter(Z=>m.has(Z.id)):$;if(I.length===0){e({title:"No Leads to Export",description:"Please select leads or ensure there are leads to export.",variant:"destructive"});return}const z=["Name","Email","Phone","Form Name","Created Date","Auto Reply Sent","Auto Reply Message"],V=I.map(Z=>[Z.name||"",Z.email||"",Z.phone||"",Z.formName,new Date(Z.createdTime).toLocaleString(),Z.autoReplySent?"Yes":"No",Z.autoReplyMessage||""]),Y=[z.join(","),...V.map(Z=>Z.map(ge=>`"${String(ge).replace(/"/g,'""')}"`).join(","))].join(`
`),U=new Blob([Y],{type:"text/csv;charset=utf-8;"}),F=URL.createObjectURL(U),G=document.createElement("a");G.href=F,G.download=`leads_export_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(G),G.click(),document.body.removeChild(G),URL.revokeObjectURL(F),e({title:"Export Successful",description:`Exported ${I.length} leads to CSV.`})},B=I=>{if(!I.phone){e({title:"No Phone Number",description:"This lead does not have a phone number.",variant:"destructive"});return}S(I),C(`Hi ${I.name||"there"}! Thank you for your interest. How can we help you today?`),j(!0)},L=async()=>{if(!(!N||!_.trim())){w(!0);try{const I=await fetch(`/api/leads/auto-reply/send/${N.id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:_})});if(I.ok)e({title:"Message Sent",description:`Message sent to ${N.name||N.phone}`}),j(!1),T();else{const z=await I.json();e({title:"Failed to Send",description:z.error||"Could not send message",variant:"destructive"})}}catch{e({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{w(!1)}}},D=async()=>{M(!0);try{const I=await fetch("/api/leads/auto-reply/process-all",{method:"POST"});if(I.ok){const z=await I.json();e({title:"Auto-Reply Processing Complete",description:`Processed ${z.processed} leads. Successful: ${z.successful}, Failed: ${z.failed}`}),T()}else{const z=await I.json();e({title:"Processing Failed",description:z.error||"Could not process leads",variant:"destructive"})}}catch{e({title:"Error",description:"Failed to process leads. Please try again.",variant:"destructive"})}finally{M(!1)}},k=t.filter(I=>I.phone&&!I.autoReplySent).length;return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Lead Management"}),a.jsx("p",{className:"text-muted-foreground",children:"View, export, and send messages to leads from Facebook forms"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:H,children:[a.jsx(By,{className:"h-4 w-4 mr-2"}),"Export ",m.size>0?`(${m.size})`:"All"]}),a.jsxs(ee,{variant:"outline",onClick:D,disabled:O||k===0,children:[a.jsx(dr,{className:`h-4 w-4 mr-2 ${O?"animate-pulse":""}`}),"Auto-Reply (",k,")"]}),a.jsxs(ee,{onClick:T,disabled:i,children:[a.jsx(Or,{className:`h-4 w-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"Total Leads"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:t.length})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"With Phone"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:t.filter(I=>I.phone).length})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"Auto-Reply Sent"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.filter(I=>I.autoReplySent).length})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium",children:"Pending Reply"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-orange-500",children:k})})]})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Gr,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by name, email, or phone...",value:u,onChange:I=>d(I.target.value),className:"pl-10"})]}),a.jsxs(dt,{value:f,onValueChange:p,children:[a.jsx(lt,{className:"w-[280px]",children:a.jsx(ft,{placeholder:"Filter by form"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Forms"}),r.map(I=>a.jsx(xe,{value:I.fbFormId,children:I.name},I.id))]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),"Leads (",$.length,")"]}),a.jsx(He,{children:"All leads collected from your Facebook lead forms. Select leads to export or send messages."})]}),a.jsx(ae,{children:i?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Or,{className:"h-6 w-6 animate-spin text-muted-foreground"})}):$.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No leads found. Sync your lead forms to fetch new leads."})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{className:"w-12",children:a.jsx(Zr,{checked:m.size===$.length&&$.length>0,onCheckedChange:q})}),a.jsx(ie,{children:"Name"}),a.jsx(ie,{children:"Email"}),a.jsx(ie,{children:"Phone"}),a.jsx(ie,{children:"Form"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Created"}),a.jsx(ie,{children:"Actions"})]})}),a.jsx(zt,{children:$.map(I=>a.jsxs(Ke,{children:[a.jsx(se,{children:a.jsx(Zr,{checked:m.has(I.id),onCheckedChange:()=>K(I.id)})}),a.jsx(se,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ul,{className:"h-4 w-4 text-muted-foreground"}),I.name||"N/A"]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Fy,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm truncate max-w-[150px]",children:I.email||"N/A"})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"h-4 w-4 text-muted-foreground"}),I.phone||"N/A"]})}),a.jsx(se,{children:a.jsx(ke,{variant:"outline",className:"text-xs truncate max-w-[120px]",children:I.formName.replace("Life Changing Networks's form - ","")})}),a.jsx(se,{children:I.autoReplySent?a.jsxs(ke,{className:"bg-green-100 text-green-700 border-green-200",children:[a.jsx(Zf,{className:"h-3 w-3 mr-1"}),"Sent"]}):I.phone?a.jsxs(ke,{variant:"outline",className:"text-orange-600 border-orange-200",children:[a.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Pending"]}):a.jsx(ke,{variant:"secondary",children:"No Phone"})}),a.jsx(se,{className:"text-sm text-muted-foreground",children:new Date(I.createdTime).toLocaleDateString()}),a.jsx(se,{children:a.jsx(ee,{size:"sm",variant:"ghost",onClick:()=>B(I),disabled:!I.phone,children:a.jsx(an,{className:"h-4 w-4"})})})]},I.id))})]})})]}),a.jsx(sn,{open:y,onOpenChange:j,children:a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Send WhatsApp Message"}),a.jsxs(ca,{children:["Send a message to ",N?.name||N?.phone]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Phone: ",N?.phone]})}),a.jsx(En,{placeholder:"Enter your message...",value:_,onChange:I=>C(I.target.value),rows:4})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),a.jsx(ee,{onClick:L,disabled:v||!_.trim(),children:v?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(dr,{className:"h-4 w-4 mr-2"}),"Send Message"]})})]})]})})]})})}function u6(){const[e,t]=b.useState("7"),{data:n,isLoading:r}=Ve({queryKey:["/api/reports/delivery",e],queryFn:async()=>{const w=await fetch(`/api/reports/delivery?days=${e}`);if(!w.ok)throw new Error("Failed to fetch report");return w.json()},refetchInterval:3e4}),s=()=>{if(!n)return;const w=["Date","Sent","Delivered","Read","Failed"],y=n.dailyData.map(S=>[S.fullDate,S.sent.toString(),S.delivered.toString(),S.read.toString(),S.failed.toString()]),j=[w.join(","),...y.map(S=>S.join(","))].join(`
`),_=new Blob([j],{type:"text/csv"}),C=URL.createObjectURL(_),N=document.createElement("a");N.href=C,N.download=`delivery-report-${Tn(new Date,"yyyyMMdd")}.csv`,N.click(),URL.revokeObjectURL(C)};if(r)return a.jsx(pt,{children:a.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-8rem)]",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})})});const i=n?.totalSent||0,l=n?.delivered||0,u=n?.read||0,d=n?.failed||0,f=n?.deliveryRate||0,p=n?.readRate||0,m=n?.failureRate||0,g=n?.dailyData||[],v=n?.hourlyData||[];return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Message Delivery Report"}),a.jsx("p",{className:"text-muted-foreground",children:"Detailed analysis of message delivery rates over time."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[140px]",children:a.jsx(ft,{placeholder:"Period"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"1",children:"Last 24 Hours"}),a.jsx(xe,{value:"7",children:"Last 7 Days"}),a.jsx(xe,{value:"30",children:"Last 30 Days"})]})]}),a.jsxs(ee,{variant:"outline",onClick:s,children:[a.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Export CSV"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Total Sent"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:i.toLocaleString()})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Delivered"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:l.toLocaleString()}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[f,"% Delivery Rate"]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Read"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:u.toLocaleString()}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[p,"% Read Rate"]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Failed"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-destructive",children:d.toLocaleString()}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[m,"% Failure Rate"]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Delivery Timeline"}),a.jsx(He,{children:"Message status trends over the selected period."})]}),a.jsx(ae,{children:a.jsx("div",{className:"h-[400px] w-full",children:g.length>0&&g.some(w=>w.sent>0)?a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(Ywe,{data:g,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"colorSent",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#8884d8",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#8884d8",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"colorDelivered",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#22c55e",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#22c55e",stopOpacity:0})]}),a.jsxs("linearGradient",{id:"colorRead",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.1}),a.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]})]}),a.jsx(zr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(qr,{}),a.jsx(_a,{type:"monotone",dataKey:"sent",stroke:"#8884d8",fillOpacity:1,fill:"url(#colorSent)",name:"Sent"}),a.jsx(_a,{type:"monotone",dataKey:"delivered",stroke:"#22c55e",fillOpacity:1,fill:"url(#colorDelivered)",name:"Delivered"}),a.jsx(_a,{type:"monotone",dataKey:"read",stroke:"#3b82f6",fillOpacity:1,fill:"url(#colorRead)",name:"Read"})]})}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(an,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No message data available for this period"}),a.jsx("p",{className:"text-sm",children:"Send messages to see delivery trends here."})]})})})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Hourly Distribution"}),a.jsx(He,{children:"Message volume by hour of day."})]}),a.jsx(ae,{children:a.jsx("div",{className:"h-[300px] w-full",children:v.length>0&&v.some(w=>w.sent>0)?a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:v,margin:{top:10,right:30,left:0,bottom:0},children:[a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"hour",stroke:"hsl(var(--muted-foreground))",fontSize:10,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(qr,{}),a.jsx(Bn,{dataKey:"sent",name:"Sent",fill:"#8884d8",radius:[4,4,0,0]}),a.jsx(Bn,{dataKey:"delivered",name:"Delivered",fill:"#22c55e",radius:[4,4,0,0]})]})}):a.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(bm,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No hourly data available"})]})})})})]})]})})}function yMe(){const[e,t]=b.useState("week"),{data:n,isLoading:r,error:s}=Ve({queryKey:["/api/reports/campaign-performance",e],queryFn:async()=>{const i=await xn(`/api/reports/campaign-performance?period=${e}`);if(!i.ok)throw new Error("Failed to fetch campaign performance");return i.json()}});return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(Jf,{className:"h-8 w-8 text-primary"}),"Campaign Performance"]}),a.jsx("p",{className:"text-muted-foreground",children:"ROI and engagement metrics for your broadcasts."})]}),a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"today",children:"Today"}),a.jsx(xe,{value:"yesterday",children:"Yesterday"}),a.jsx(xe,{value:"week",children:"Last 7 Days"}),a.jsx(xe,{value:"month",children:"Last 30 Days"})]})]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load campaign data"})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Jf,{className:"h-4 w-4"}),"Campaigns"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalCampaigns||0})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(dr,{className:"h-4 w-4"}),"Total Sent"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:(n?.summary.totalSent||0).toLocaleString()})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Ka,{className:"h-4 w-4"}),"Read Rate"]})}),a.jsx(ae,{children:a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[n?.summary.avgReadRate||0,"%"]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4"}),"Reply Rate"]})}),a.jsx(ae,{children:a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n?.summary.avgReplyRate||0,"%"]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(wu,{className:"h-4 w-4"}),"Total Cost"]})}),a.jsx(ae,{children:a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.totalCost||"0.00"]})})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Engagement Comparison"}),a.jsx(He,{children:"Compare Sent vs Read vs Replied across top campaigns."})]}),a.jsx(ae,{children:n?.chartData&&n.chartData.length>0?a.jsx("div",{className:"h-[350px] w-full",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:n.chartData,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"name",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(kn,{cursor:{fill:"hsl(var(--muted)/0.2)"},contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"}}),a.jsx(qr,{}),a.jsx(Bn,{dataKey:"sent",fill:"hsl(var(--primary))",radius:[4,4,0,0],name:"Sent"}),a.jsx(Bn,{dataKey:"read",fill:"hsl(var(--chart-2))",radius:[4,4,0,0],name:"Read"}),a.jsx(Bn,{dataKey:"replied",fill:"hsl(var(--chart-5))",radius:[4,4,0,0],name:"Replied"})]})})}):a.jsx("div",{className:"h-[350px] flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Jf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No campaign data for this period."})]})})})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{children:"Detailed Report"})}),a.jsx(ae,{children:n?.campaigns&&n.campaigns.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Campaign Name"}),a.jsx(ie,{children:"Date"}),a.jsx(ie,{children:"Sent"}),a.jsx(ie,{children:"Delivered"}),a.jsx(ie,{children:"Read Rate"}),a.jsx(ie,{children:"Reply Rate"}),a.jsx(ie,{className:"text-right",children:"Cost"})]})}),a.jsx(zt,{children:n.campaigns.map(i=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:i.name}),a.jsx(se,{className:"text-muted-foreground",children:i.date}),a.jsx(se,{children:i.sent.toLocaleString()}),a.jsx(se,{children:a.jsxs(ke,{variant:"outline",className:"text-green-600 border-green-200 bg-green-50",children:[i.deliveryRate,"%"]})}),a.jsxs(se,{children:[i.readRate,"%"]}),a.jsxs(se,{children:[i.replyRate,"%"]}),a.jsxs(se,{className:"text-right font-medium",children:["$",i.cost]})]},i.id))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Jf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No campaigns found for this period. Send a broadcast to see data here."})]})})]})]})]})})}function vMe(){const[e,t]=b.useState("week"),{data:n,isLoading:r,error:s}=Ve({queryKey:["/api/reports/customer-replies",e],queryFn:async()=>{const u=await xn(`/api/reports/customer-replies?period=${e}`);if(!u.ok)throw new Error("Failed to fetch customer replies");return u.json()}}),i=u=>{switch(u){case"Positive":return a.jsx(NA,{className:"h-4 w-4 text-green-600"});case"Negative":return a.jsx(wA,{className:"h-4 w-4 text-red-600"});default:return a.jsx(pq,{className:"h-4 w-4 text-gray-600"})}},l=u=>{const d={Positive:"text-green-600 bg-green-50 border-green-200",Negative:"text-red-600 bg-red-50 border-red-200",Neutral:"text-gray-600 bg-gray-50 border-gray-200"};return a.jsx(ke,{variant:"outline",className:d[u]||d.Neutral,children:a.jsxs("span",{className:"flex items-center gap-1",children:[i(u),u]})})};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Customers Who Replied"}),a.jsx("p",{className:"text-muted-foreground",children:"Track incoming messages and customer sentiment."})]}),a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"today",children:"Today"}),a.jsx(xe,{value:"yesterday",children:"Yesterday"}),a.jsx(xe,{value:"week",children:"Last 7 Days"}),a.jsx(xe,{value:"month",children:"Last 30 Days"})]})]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load customer replies data"})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Total Replies"})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalReplies||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["This ",e]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(NA,{className:"h-4 w-4 text-green-600"}),"Positive Sentiment"]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[n?.summary.positiveSentiment||0,"%"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n?.summary.sentimentBreakdown?.positive||0," positive replies"]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(wA,{className:"h-4 w-4 text-red-600"}),"Negative Sentiment"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:n?.summary.sentimentBreakdown?.negative||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Negative replies"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Pl,{className:"h-4 w-4 text-orange-600"}),"Unsubscribe Requests"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-orange-600",children:n?.summary.unsubscribeRequests||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Stop/unsubscribe requests"})]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{children:"Recent Replies"})}),a.jsx(ae,{children:n?.replies&&n.replies.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Customer"}),a.jsx(ie,{children:"Message"}),a.jsx(ie,{children:"Time"}),a.jsx(ie,{children:"Sentiment"}),a.jsx(ie,{className:"text-right",children:"Action"})]})}),a.jsx(zt,{children:n.replies.map(u=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xr,{className:"h-8 w-8",children:a.jsx(Qr,{className:"text-xs",children:u.name.charAt(0).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:u.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:u.phone})]})]})}),a.jsxs(se,{className:"text-muted-foreground max-w-[300px] truncate",children:['"',u.message,'"']}),a.jsx(se,{className:"text-muted-foreground",children:u.time}),a.jsx(se,{children:l(u.sentiment)}),a.jsx(se,{className:"text-right",children:a.jsxs(ee,{variant:"ghost",size:"sm",children:[a.jsx(an,{className:"mr-2 h-4 w-4"})," Reply"]})})]},u.id))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(an,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No customer replies found for this period."})]})})]})]})]})})}function bMe(){const[e,t]=b.useState("week"),{data:n,isLoading:r,error:s}=Ve({queryKey:["/api/reports/ai-agents",e],queryFn:async()=>{const l=await xn(`/api/reports/ai-agents?period=${e}`);if(!l.ok)throw new Error("Failed to fetch agent performance");return l.json()}}),i=l=>l.startsWith("gemini")?a.jsx(ke,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:"Gemini"}):a.jsx(ke,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:"OpenAI"});return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(kt,{className:"h-8 w-8 text-primary"}),"AI Agent Performance"]}),a.jsx("p",{className:"text-muted-foreground",children:"Track AI agent productivity and response metrics."})]}),a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"today",children:"Today"}),a.jsx(xe,{value:"yesterday",children:"Yesterday"}),a.jsx(xe,{value:"week",children:"Last 7 Days"}),a.jsx(xe,{value:"month",children:"Last 30 Days"})]})]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load agent performance data"})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4"}),"Total Agents"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalAgents||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[n?.summary.activeAgents||0," active"]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4"}),"Chats Handled"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalChats||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Unique conversations"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(lh,{className:"h-4 w-4"}),"Messages Generated"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.totalMessages||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"AI responses sent"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Kt,{className:"h-4 w-4"}),"Avg Response Time"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:n?.summary.avgResponseTime||"N/A"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Time to respond"})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Agent Leaderboard"}),a.jsxs(He,{children:["Top performing AI agents this ",e==="today"||e==="yesterday"?"day":e,"."]})]}),a.jsx(ae,{children:n?.agents&&n.agents.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Agent"}),a.jsx(ie,{children:"Model"}),a.jsx(ie,{className:"text-center",children:"Chats"}),a.jsx(ie,{className:"text-center",children:"Messages"}),a.jsx(ie,{children:"Avg Response"}),a.jsx(ie,{children:"Status"})]})}),a.jsx(zt,{children:n.agents.map(l=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xr,{children:a.jsx(Qr,{className:"bg-primary/10 text-primary",children:l.name.split(" ").map(u=>u[0]).join("").slice(0,2).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:l.name}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:["Temp: ",l.temperature]})]})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex flex-col gap-1",children:[i(l.model),a.jsx("span",{className:"text-xs text-muted-foreground",children:l.model})]})}),a.jsx(se,{className:"text-center",children:a.jsx("div",{className:"text-lg font-semibold",children:l.chatsHandled})}),a.jsx(se,{className:"text-center",children:a.jsx("div",{className:"text-lg font-semibold",children:l.messagesGenerated})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:l.avgResponseTime})]})}),a.jsx(se,{children:a.jsx(ke,{variant:l.isActive?"default":"secondary",children:l.isActive?"Active":"Inactive"})})]},l.id))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(kt,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No AI agents found. Create your first agent to see performance data."})]})})]})]})]})})}function jMe(){const[e,t]=b.useState("week"),{data:n,isLoading:r,error:s}=Ve({queryKey:["/api/reports/spending",e],queryFn:async()=>{const i=await xn(`/api/reports/spending?period=${e}`);if(!i.ok)throw new Error("Failed to fetch spending data");return i.json()}});return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(wu,{className:"h-8 w-8 text-green-600"}),"WhatsApp Spending"]}),a.jsx("p",{className:"text-muted-foreground",children:"Track your daily expenditure on WhatsApp conversations."})]}),a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"today",children:"Today"}),a.jsx(xe,{value:"yesterday",children:"Yesterday"}),a.jsx(xe,{value:"week",children:"Last 7 Days"}),a.jsx(xe,{value:"month",children:"Last 30 Days"})]})]})]}),r?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s?a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load spending data"})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(wu,{className:"h-4 w-4"}),"Total Spend"]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.totalSpend?.toFixed(2)||"0.00"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["This ",e]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Ci,{className:"h-4 w-4"}),"Avg Daily Spend"]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.avgDailySpend?.toFixed(2)||"0.00"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Per day average"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(dc,{className:"h-4 w-4"}),"Projected Monthly"]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.projectedMonthly?.toFixed(2)||"0.00"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Based on current usage"})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Cost Breakdown by Category"}),a.jsx(He,{children:"Daily spend split by conversation type (Marketing, Utility, Service)."})]}),a.jsx(ae,{children:n?.dailySpending&&n.dailySpending.length>0?a.jsx("div",{className:"h-[400px] w-full",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:n.dailySpending,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Bs,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{dataKey:"date",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1,tickFormatter:i=>`$${i}`}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"},formatter:i=>[`$${i.toFixed(2)}`,""]}),a.jsx(qr,{}),a.jsx(Bn,{dataKey:"marketing",name:"Marketing",stackId:"a",fill:"hsl(var(--primary))",radius:[0,0,4,4]}),a.jsx(Bn,{dataKey:"utility",name:"Utility",stackId:"a",fill:"hsl(var(--chart-2))"}),a.jsx(Bn,{dataKey:"service",name:"Service",stackId:"a",fill:"hsl(var(--chart-3))",radius:[4,4,0,0]})]})})}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(wu,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No spending data available for this period."})]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs(de,{className:"text-base flex items-center justify-between",children:["Marketing Conversations",a.jsxs(ke,{variant:"outline",className:"bg-primary/10",children:["$",n?.summary.totalMarketing?.toFixed(2)||"0.00"]})]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.marketingRate?.toFixed(2)||"0.08"," ",a.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ conv"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Promotions, offers, updates"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs(de,{className:"text-base flex items-center justify-between",children:["Utility Conversations",a.jsxs(ke,{variant:"outline",className:"bg-blue-500/10 text-blue-600",children:["$",n?.summary.totalUtility?.toFixed(2)||"0.00"]})]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.utilityRate?.toFixed(2)||"0.05"," ",a.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ conv"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Transaction updates, post-purchase"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs(de,{className:"text-base flex items-center justify-between",children:["Service Conversations",a.jsxs(ke,{variant:"outline",className:"bg-green-500/10 text-green-600",children:["$",n?.summary.totalService?.toFixed(2)||"0.00"]})]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold",children:["$",n?.summary.serviceRate?.toFixed(2)||"0.03"," ",a.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:"/ conv"})]}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"User-initiated support inquiries"})]})]})]})]})]})})}const wMe=[{id:1,date:"Nov 27, 2025",type:"Recharge",amount:"+$50.00",balance:"$74.50",status:"Success"},{id:2,date:"Nov 26, 2025",type:"Usage - Marketing",amount:"-$12.40",balance:"$24.50",status:"Success"},{id:3,date:"Nov 25, 2025",type:"Usage - Utility",amount:"-$5.20",balance:"$36.90",status:"Success"},{id:4,date:"Nov 20, 2025",type:"Recharge",amount:"+$20.00",balance:"$42.10",status:"Success"},{id:5,date:"Nov 15, 2025",type:"Monthly Subscription",amount:"-$29.00",balance:"$22.10",status:"Success"}];function NMe(){return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Credits & Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Monitor your wallet balance and usage history."})]}),a.jsxs(ee,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4"}),"Add Credits"]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[a.jsxs(te,{className:"bg-primary text-primary-foreground",children:[a.jsx(ue,{children:a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(FQ,{className:"h-5 w-5"}),"Current Balance"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-5xl font-bold",children:"$74.50"}),a.jsx("p",{className:"text-primary-foreground/80 mt-2",children:"Auto-recharge disabled"})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Low Balance Alert"}),a.jsx(He,{children:"Get notified when your credits fall below a threshold."})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-sm text-muted-foreground mb-4",children:["Current threshold: ",a.jsx("span",{className:"font-bold text-foreground",children:"$10.00"})]}),a.jsx(ee,{variant:"outline",size:"sm",children:"Configure Alert"})]})]})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(de,{children:"Transaction History"}),a.jsxs(ee,{variant:"ghost",size:"sm",children:[a.jsx(Tr,{className:"mr-2 h-4 w-4"})," Export"]})]})}),a.jsx(ae,{children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Date"}),a.jsx(ie,{children:"Type"}),a.jsx(ie,{children:"Amount"}),a.jsx(ie,{children:"Balance"}),a.jsx(ie,{children:"Status"})]})}),a.jsx(zt,{children:wMe.map(e=>a.jsxs(Ke,{children:[a.jsx(se,{children:e.date}),a.jsx(se,{children:e.type}),a.jsx(se,{className:e.amount.startsWith("+")?"text-green-600 font-medium":"",children:e.amount}),a.jsx(se,{children:e.balance}),a.jsx(se,{children:a.jsx(ke,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:e.status})})]},e.id))})]})})]})]})})}function SMe(){const[e,t]=b.useState("week"),[n,r]=b.useState(""),[s,i]=b.useState("engagement"),[l,u]=b.useState("desc"),{data:d,isLoading:f,error:p}=Ve({queryKey:["/api/reports/user-engagement",e],queryFn:async()=>{const y=await xn(`/api/reports/user-engagement?period=${e}`);if(!y.ok)throw new Error("Failed to fetch user engagement");return y.json()}}),m=(d?.users||[]).filter(y=>y.name.toLowerCase().includes(n.toLowerCase())||y.phone.includes(n)).sort((y,j)=>{const _=y[s],C=j[s];return l==="desc"?C-_:_-C}),g=y=>y>=90?"text-green-600":y>=75?"text-lime-600":y>=60?"text-yellow-600":y>=45?"text-orange-600":"text-red-600",v=y=>y>=90?a.jsx(ke,{className:"bg-green-500",children:"Excellent"}):y>=75?a.jsx(ke,{className:"bg-lime-500",children:"Good"}):y>=60?a.jsx(ke,{className:"bg-yellow-500",children:"Average"}):y>=45?a.jsx(ke,{className:"bg-orange-500",children:"Low"}):a.jsx(ke,{variant:"destructive",children:"Very Low"}),w=y=>y===0?a.jsx(Ij,{className:"h-5 w-5 text-yellow-500"}):y===1?a.jsx(Ij,{className:"h-5 w-5 text-gray-400"}):y===2?a.jsx(Ij,{className:"h-5 w-5 text-amber-700"}):a.jsx("span",{className:"w-5 text-center text-muted-foreground",children:y+1});return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(HC,{className:"h-8 w-8 text-yellow-500"}),"User Engagement Report"]}),a.jsx("p",{className:"text-muted-foreground",children:"See which users engage most with your messages."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"today",children:"Today"}),a.jsx(xe,{value:"yesterday",children:"Yesterday"}),a.jsx(xe,{value:"week",children:"Last 7 Days"}),a.jsx(xe,{value:"month",children:"Last 30 Days"})]})]}),a.jsxs(ee,{variant:"outline",children:[a.jsx(Tr,{className:"mr-2 h-4 w-4"}),"Export"]})]})]}),f?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):p?a.jsx(te,{children:a.jsx(ae,{className:"pt-6",children:a.jsx("p",{className:"text-center text-muted-foreground",children:"Failed to load engagement data"})})}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid gap-4 md:grid-cols-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4 text-muted-foreground"}),"Total Users"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold",children:d?.summary.totalUsers||0}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Active recipients"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(Ka,{className:"h-4 w-4 text-blue-600"}),"Avg Read Rate"]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[d?.summary.avgReadRate||0,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4 text-purple-600"}),"Avg Reply Rate"]})}),a.jsxs(ae,{children:[a.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[d?.summary.avgReplyRate||0,"%"]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all users"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium flex items-center gap-2",children:[a.jsx(dc,{className:"h-4 w-4 text-green-600"}),"Total Replies"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:d?.summary.totalReplies||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["From ",d?.summary.totalMessages||0," messages"]})]})]})]}),a.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[a.jsxs(te,{className:"md:col-span-2",children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(de,{children:"Top Engaged Users"}),a.jsx(He,{children:"Users ranked by engagement score"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"relative w-64",children:[a.jsx(Gr,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search users...",className:"pl-9",value:n,onChange:y=>r(y.target.value)})]}),a.jsxs(dt,{value:s,onValueChange:y=>i(y),children:[a.jsx(lt,{className:"w-[150px]",children:a.jsx(ft,{})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"engagement",children:"Engagement %"}),a.jsx(xe,{value:"readRate",children:"Read Rate %"}),a.jsx(xe,{value:"replyRate",children:"Reply Rate %"})]})]}),a.jsx(ee,{variant:"outline",size:"icon",onClick:()=>u(y=>y==="desc"?"asc":"desc"),children:l==="desc"?a.jsx(dQ,{className:"h-4 w-4"}):a.jsx(xQ,{className:"h-4 w-4"})})]})]})}),a.jsx(ae,{children:m.length>0?a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{className:"w-12",children:"Rank"}),a.jsx(ie,{children:"User"}),a.jsx(ie,{className:"text-right",children:"Messages"}),a.jsx(ie,{className:"text-right",children:"Read %"}),a.jsx(ie,{className:"text-right",children:"Reply %"}),a.jsx(ie,{className:"text-right",children:"Engagement"})]})}),a.jsx(zt,{children:m.slice(0,10).map((y,j)=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:a.jsx("div",{className:"flex items-center justify-center",children:w(j)})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Xr,{className:"h-8 w-8",children:a.jsx(Qr,{className:"text-xs bg-primary/10 text-primary",children:y.name.split(" ").map(_=>_[0]).join("").slice(0,2).toUpperCase()})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:y.name}),a.jsx("div",{className:"text-xs text-muted-foreground",children:y.phone})]})]})}),a.jsxs(se,{className:"text-right",children:[a.jsx("div",{className:"text-sm",children:y.messagesReceived}),a.jsxs("div",{className:"text-xs text-muted-foreground",children:[y.replies," replies"]})]}),a.jsx(se,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(Sa,{value:y.readRate,className:"w-16 h-2"}),a.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[y.readRate,"%"]})]})}),a.jsx(se,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsx(Sa,{value:y.replyRate,className:"w-16 h-2"}),a.jsxs("span",{className:"text-sm font-medium text-purple-600",children:[y.replyRate,"%"]})]})}),a.jsx(se,{className:"text-right",children:a.jsxs("div",{className:"flex items-center justify-end gap-2",children:[a.jsxs("span",{className:`text-lg font-bold ${g(y.engagement)}`,children:[y.engagement,"%"]}),v(y.engagement)]})})]},y.id))})]}):a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No engagement data found for this period."})]})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Engagement Distribution"}),a.jsx(He,{children:"How users are distributed across engagement levels"})]}),a.jsx(ae,{children:d?.distribution&&d.distribution.length>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:d.distribution,layout:"vertical",children:[a.jsx(Bs,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,stroke:"hsl(var(--border))"}),a.jsx(zr,{type:"number",stroke:"hsl(var(--muted-foreground))",fontSize:12,tickLine:!1,axisLine:!1}),a.jsx(Br,{type:"category",dataKey:"range",stroke:"hsl(var(--muted-foreground))",fontSize:11,tickLine:!1,axisLine:!1,width:70}),a.jsx(kn,{contentStyle:{backgroundColor:"hsl(var(--card))",borderColor:"hsl(var(--border))",borderRadius:"var(--radius)"},formatter:y=>[`${y} users`,"Count"]}),a.jsx(Bn,{dataKey:"count",radius:[0,4,4,0],children:d.distribution.map((y,j)=>a.jsx(Ti,{fill:y.color},`cell-${j}`))})]})})}),a.jsxs("div",{className:"mt-4 space-y-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:"Legend"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500"}),a.jsx("span",{children:"Excellent (90%+)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-lime-500"}),a.jsx("span",{children:"Good (80-89%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),a.jsx("span",{children:"Average (70-79%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-orange-500"}),a.jsx("span",{children:"Low (60-69%)"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-red-500"}),a.jsx("span",{children:"Very Low (<60%)"})]})]})]})]}):a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:a.jsx("p",{children:"No distribution data available."})})})]})]})]})]})})}function AMe(){const[e,t]=b.useState(""),[n,r]=b.useState(null),{data:s=[],isLoading:i,refetch:l}=Ve({queryKey:["/api/broadcast/logs"],queryFn:async()=>{const v=await fetch("/api/broadcast/logs?limit=1000");if(!v.ok)throw new Error("Failed to fetch broadcast logs");return v.json()},refetchInterval:6e4,staleTime:3e4}),u=Object.values(s.reduce((v,w)=>{const y=w.campaignName;return v[y]||(v[y]={campaignName:w.campaignName,totalContacts:0,sent:0,delivered:0,failed:0,pending:0,replied:0,replyRate:0,deliveryRate:0,lastSent:w.timestamp,logs:[]}),v[y].totalContacts++,v[y].logs.push(w),w.status==="sent"&&v[y].sent++,w.status==="delivered"&&v[y].delivered++,w.status==="failed"&&v[y].failed++,w.status==="pending"&&v[y].pending++,w.replied&&v[y].replied++,new Date(w.timestamp)>new Date(v[y].lastSent)&&(v[y].lastSent=w.timestamp),v},{})).map(v=>({...v,replyRate:v.totalContacts>0?Math.round(v.replied/v.totalContacts*100):0,deliveryRate:v.totalContacts>0?Math.round((v.sent+v.delivered)/v.totalContacts*100):0})).sort((v,w)=>new Date(w.lastSent).getTime()-new Date(v.lastSent).getTime()),d=u.filter(v=>e===""||v.campaignName.toLowerCase().includes(e.toLowerCase())),f={totalCampaigns:u.length,totalMessages:s.length,totalSent:s.filter(v=>v.status==="sent").length,totalDelivered:s.filter(v=>v.status==="delivered").length,totalFailed:s.filter(v=>v.status==="failed").length,totalReplied:s.filter(v=>v.replied).length},p=v=>{switch(v){case"sent":return a.jsxs(ke,{variant:"default",className:"bg-blue-500",children:[a.jsx(Zf,{className:"h-3 w-3 mr-1"}),"Sent"]});case"delivered":return a.jsxs(ke,{variant:"default",className:"bg-green-500",children:[a.jsx(Zf,{className:"h-3 w-3 mr-1"}),"Delivered"]});case"failed":return a.jsxs(ke,{variant:"destructive",children:[a.jsx(Tu,{className:"h-3 w-3 mr-1"}),"Failed"]});case"pending":return a.jsxs(ke,{variant:"secondary",children:[a.jsx(Kt,{className:"h-3 w-3 mr-1"}),"Pending"]});default:return a.jsx(ke,{variant:"outline",children:v})}},m=v=>{const y=[["Timestamp","Contact Name","Phone","Type","Template","Status","Replied","Replied At","Message ID","Error"].join(","),...v.logs.map(N=>[Tn(new Date(N.timestamp),"yyyy-MM-dd HH:mm:ss"),`"${N.contactName}"`,N.contactPhone,N.messageType,N.templateName||"",N.status,N.replied?"Yes":"No",N.repliedAt?Tn(new Date(N.repliedAt),"yyyy-MM-dd HH:mm:ss"):"",N.messageId||"",`"${N.error||""}"`].join(","))].join(`
`),j=new Blob([y],{type:"text/csv"}),_=URL.createObjectURL(j),C=document.createElement("a");C.href=_,C.download=`${v.campaignName.replace(/[^a-z0-9]/gi,"_")}-${Tn(new Date,"yyyyMMdd-HHmmss")}.csv`,C.click(),URL.revokeObjectURL(_)},g=()=>{const w=[["Campaign","Timestamp","Contact Name","Phone","Type","Template","Status","Replied","Replied At","Message ID","Error"].join(","),...s.map(C=>[`"${C.campaignName}"`,Tn(new Date(C.timestamp),"yyyy-MM-dd HH:mm:ss"),`"${C.contactName}"`,C.contactPhone,C.messageType,C.templateName||"",C.status,C.replied?"Yes":"No",C.repliedAt?Tn(new Date(C.repliedAt),"yyyy-MM-dd HH:mm:ss"):"",C.messageId||"",`"${C.error||""}"`].join(","))].join(`
`),y=new Blob([w],{type:"text/csv"}),j=URL.createObjectURL(y),_=document.createElement("a");_.href=j,_.download=`all-broadcasts-${Tn(new Date,"yyyyMMdd-HHmmss")}.csv`,_.click(),URL.revokeObjectURL(j)};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Broadcast Reports"}),a.jsx("p",{className:"text-muted-foreground",children:"Campaign-wise analysis of your broadcast messages."})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ee,{variant:"outline",onClick:()=>l(),children:[a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Refresh"]}),a.jsxs(ee,{variant:"outline",onClick:g,children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export All"]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-6",children:[a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Campaigns"}),a.jsx(dc,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:f.totalCampaigns})})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Total Messages"}),a.jsx(an,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:f.totalMessages})})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Read"}),a.jsx(Zf,{className:"h-4 w-4 text-blue-500"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:f.totalSent})})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Delivered"}),a.jsx(Zf,{className:"h-4 w-4 text-green-500"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:f.totalDelivered})})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Replied"}),a.jsx(Ya,{className:"h-4 w-4 text-purple-500"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:f.totalReplied})})]}),a.jsxs(te,{children:[a.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(de,{className:"text-sm font-medium",children:"Failed"}),a.jsx(Tu,{className:"h-4 w-4 text-red-500"})]}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-red-600",children:f.totalFailed})})]})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(Gr,{className:"h-5 w-5"}),"Search Campaigns"]})}),a.jsx(ae,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by campaign name...",value:e,onChange:v=>t(v.target.value),className:"pl-10"})]})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{children:["Campaigns (",d.length,")"]}),a.jsx(He,{children:"Click on a campaign to view detailed message logs"})]}),a.jsx(ae,{children:i?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Or,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):d.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(an,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No campaigns found."}),a.jsx("p",{className:"text-sm",children:"Send your first broadcast to see campaigns here."})]}):a.jsx("div",{className:"space-y-4",children:d.map(v=>a.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-4 bg-muted/30 hover:bg-muted/50 cursor-pointer flex items-center justify-between",onClick:()=>r(n===v.campaignName?null:v.campaignName),children:[a.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[n===v.campaignName?a.jsx(qy,{className:"h-5 w-5 text-muted-foreground"}):a.jsx(IC,{className:"h-5 w-5 text-muted-foreground"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-lg",children:v.campaignName}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Last sent: ",Tn(new Date(v.lastSent),"MMM d, yyyy HH:mm")]})]})]}),a.jsxs("div",{className:"flex items-center gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Contacts"}),a.jsxs("div",{className:"text-xl font-bold flex items-center gap-1",children:[a.jsx(zn,{className:"h-4 w-4"}),v.totalContacts]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Delivered"}),a.jsxs("div",{className:"text-xl font-bold text-green-600",children:[v.deliveryRate,"%"]})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Replied"}),a.jsxs("div",{className:"text-xl font-bold text-purple-600 flex items-center gap-1",children:[a.jsx(Ya,{className:"h-4 w-4"}),v.replied," (",v.replyRate,"%)"]})]}),a.jsx(ee,{variant:"outline",size:"sm",onClick:w=>{w.stopPropagation(),m(v)},children:a.jsx(Tr,{className:"h-4 w-4"})})]})]}),n===v.campaignName&&a.jsxs("div",{className:"p-4 border-t",children:[a.jsxs("div",{className:"grid grid-cols-5 gap-4 mb-4 p-3 bg-muted/20 rounded-lg",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Read"}),a.jsx("div",{className:"text-lg font-bold text-blue-600",children:v.sent})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Delivered"}),a.jsx("div",{className:"text-lg font-bold text-green-600",children:v.delivered})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Failed"}),a.jsx("div",{className:"text-lg font-bold text-red-600",children:v.failed})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending"}),a.jsx("div",{className:"text-lg font-bold text-gray-600",children:v.pending})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Replied"}),a.jsx("div",{className:"text-lg font-bold text-purple-600",children:v.replied})]})]}),a.jsx("div",{className:"border rounded-lg overflow-hidden",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-muted/50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Contact"}),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Phone"}),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Status"}),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Replied"}),a.jsx("th",{className:"px-4 py-2 text-left text-sm font-medium",children:"Timestamp"})]})}),a.jsx("tbody",{className:"divide-y",children:v.logs.map(w=>a.jsxs("tr",{className:"hover:bg-muted/20",children:[a.jsx("td",{className:"px-4 py-2 text-sm font-medium",children:w.contactName}),a.jsx("td",{className:"px-4 py-2 text-sm text-muted-foreground",children:w.contactPhone}),a.jsx("td",{className:"px-4 py-2",children:p(w.status)}),a.jsx("td",{className:"px-4 py-2",children:w.replied?a.jsxs("div",{children:[a.jsxs(ke,{variant:"default",className:"bg-purple-500",children:[a.jsx(Ya,{className:"h-3 w-3 mr-1"}),"Yes"]}),w.repliedAt&&a.jsx("div",{className:"text-xs text-muted-foreground mt-1",children:Tn(new Date(w.repliedAt),"MMM d, HH:mm")})]}):a.jsx(ke,{variant:"outline",className:"text-muted-foreground",children:"No"})}),a.jsx("td",{className:"px-4 py-2 text-sm text-muted-foreground",children:Tn(new Date(w.timestamp),"MMM d, HH:mm")})]},w.id))})]})})})]})]},v.campaignName))})})]})]})})}function CMe(){const[e,t]=b.useState(""),[n,r]=b.useState(!1),[s,i]=b.useState(null),l=er(),{data:u,isLoading:d}=Ve({queryKey:["/api/reports/blocked-contacts"],queryFn:async()=>{const w=await xn("/api/reports/blocked-contacts");if(!w.ok)throw new Error("Failed to fetch blocked contacts");return w.json()}}),f=et({mutationFn:async w=>{const y=await xn("/api/contacts/unblock",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:w})});if(!y.ok)throw new Error("Failed to unblock contact");return y.json()},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/reports/blocked-contacts"]}),l.invalidateQueries({queryKey:["/api/contacts/blocked"]}),r(!1),i(null),fe.success("Contact unblocked successfully")},onError:()=>{fe.error("Failed to unblock contact")}}),p=u?.contacts||[],m=u?.summary||{totalBlocked:0,blockedThisMonth:0,blockedThisWeek:0,blockedToday:0,withReason:0,topReasons:[]},g=p.filter(w=>{const y=e.toLowerCase();return w.phone.toLowerCase().includes(y)||w.name.toLowerCase().includes(y)||w.reason?.toLowerCase().includes(y)}),v=w=>w.startsWith("+")?w:`+${w}`;return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in slide-in-from-bottom-4 duration-500",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[a.jsx(Oo,{className:"h-8 w-8 text-red-500"}),"Blocked Contacts Report"]}),a.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage contacts you've blocked from sending messages"})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-5",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Oo,{className:"h-4 w-4"}),"Total Blocked"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.totalBlocked})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Ci,{className:"h-4 w-4"}),"This Month"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:m.blockedThisMonth})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(dc,{className:"h-4 w-4"}),"This Week"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:m.blockedThisWeek})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Ci,{className:"h-4 w-4"}),"Today"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:m.blockedToday})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(an,{className:"h-4 w-4"}),"With Reason"]})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:m.withReason})})]})]}),m.topReasons.length>0&&a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{children:"Top Block Reasons"})}),a.jsx(ae,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:m.topReasons.map((w,y)=>a.jsxs(ke,{variant:"outline",className:"text-sm py-1 px-3",children:[w.reason," (",w.count,")"]},y))})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Blocked Contacts List"}),a.jsx(He,{children:"View and manage all blocked contacts. Unblock contacts to resume receiving their messages."})]}),a.jsxs(ae,{children:[a.jsx("div",{className:"flex items-center gap-4 mb-4",children:a.jsxs("div",{className:"relative flex-1 max-w-sm",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by phone, name, or reason...",value:e,onChange:w=>t(w.target.value),className:"pl-9"})]})}),d?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):g.length===0?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-muted-foreground",children:[a.jsx(Oo,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"No blocked contacts"}),a.jsx("p",{className:"text-sm",children:e?"No contacts match your search":"You haven't blocked any contacts yet"})]}):a.jsx("div",{className:"border rounded-lg",children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Contact"}),a.jsx(ie,{children:"Phone"}),a.jsx(ie,{children:"Reason"}),a.jsx(ie,{children:"Blocked Date"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{className:"text-right",children:"Actions"})]})}),a.jsx(zt,{children:g.map(w=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:w.name||"Unknown"}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(uc,{className:"h-4 w-4 text-muted-foreground"}),v(w.phone)]})}),a.jsx(se,{className:"max-w-[200px]",children:w.reason?a.jsx("span",{className:"text-sm text-muted-foreground truncate block",children:w.reason}):a.jsx("span",{className:"text-sm text-muted-foreground italic",children:"No reason provided"})}),a.jsx(se,{children:w.blockedAt?Tn(new Date(w.blockedAt),"MMM d, yyyy h:mm a"):"Unknown"}),a.jsx(se,{children:a.jsxs(ke,{variant:"destructive",className:"bg-orange-100 text-orange-800 border-orange-200",children:[a.jsx(Oo,{className:"h-3 w-3 mr-1"}),"Blocked"]})}),a.jsx(se,{className:"text-right",children:a.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>{i(w),r(!0)},children:[a.jsx(VC,{className:"h-4 w-4 mr-1"}),"Unblock"]})})]},w.id))})]})})]})]}),a.jsx(cd,{open:n,onOpenChange:r,children:a.jsxs(ec,{children:[a.jsxs(tc,{children:[a.jsx(rc,{children:"Unblock Contact"}),a.jsxs(ac,{children:["Are you sure you want to unblock ",s?.name||s?.phone,"? They will be able to send messages again and may receive AI responses."]})]}),a.jsxs(nc,{children:[a.jsx(ic,{children:"Cancel"}),a.jsxs(sc,{onClick:()=>s&&f.mutate(s.phone),disabled:f.isPending,children:[f.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):null,"Unblock"]})]})]})})]})})}var _Me=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EMe=_Me.reduce((e,t)=>{const n=Cm(`Primitive.${t}`),r=b.forwardRef((s,i)=>{const{asChild:l,...u}=s,d=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(d,{...u,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),OMe="Separator",d6="horizontal",TMe=["horizontal","vertical"],TK=b.forwardRef((e,t)=>{const{decorative:n,orientation:r=d6,...s}=e,i=MMe(r)?r:d6,u=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return a.jsx(EMe.div,{"data-orientation":i,...u,...s,ref:t})});TK.displayName=OMe;function MMe(e){return TMe.includes(e)}var MK=TK;const kK=b.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},s)=>a.jsx(MK,{ref:s,decorative:n,orientation:t,className:Fe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));kK.displayName=MK.displayName;const Dy={highly_interested:"#22c55e",interested:"#84cc16",neutral:"#f59e0b",not_interested:"#ef4444",pending:"#94a3b8"},PK={highly_interested:"Highly Interested",interested:"Interested",neutral:"Neutral",not_interested:"Not Interested",pending:"Pending Analysis"},kMe=e=>{switch(e){case"highly_interested":return a.jsx(HC,{className:"h-4 w-4 text-green-500"});case"interested":return a.jsx(NA,{className:"h-4 w-4 text-lime-500"});case"neutral":return a.jsx(pq,{className:"h-4 w-4 text-amber-500"});case"not_interested":return a.jsx(wA,{className:"h-4 w-4 text-red-500"});default:return a.jsx(Kt,{className:"h-4 w-4 text-slate-400"})}},f6=e=>{const t=Dy[e]||Dy.pending;return a.jsxs(ke,{className:"flex items-center gap-1",style:{backgroundColor:t,color:"white"},children:[kMe(e),PK[e]||"Unknown"]})};function PMe(){const[e,t]=b.useState("all"),[n,r]=b.useState(""),[s,i]=b.useState(null),{toast:l}=Uo(),u=er(),{data:d,isLoading:f}=Ve({queryKey:["/api/contact-analytics/reports",e],queryFn:async()=>{const C=new URLSearchParams;e!=="all"&&C.set("interestLevel",e),C.set("limit","100");const N=await fetch(`/api/contact-analytics/reports?${C}`);if(!N.ok)throw new Error("Failed to fetch reports");return N.json()}}),{data:p,isLoading:m}=Ve({queryKey:["/api/contact-analytics/summary"],queryFn:async()=>{const C=await fetch("/api/contact-analytics/summary");if(!C.ok)throw new Error("Failed to fetch summary");return C.json()}}),g=et({mutationFn:async()=>{const C=await fetch("/api/contact-analytics/analyze-all",{method:"POST",headers:{"Content-Type":"application/json"}});if(!C.ok)throw new Error("Failed to analyze contacts");return C.json()},onSuccess:C=>{l({title:"Analysis Complete",description:`Analyzed ${C.analyzed} contacts`}),u.invalidateQueries({queryKey:["/api/contact-analytics"]})},onError:C=>{l({title:"Analysis Failed",description:C.message,variant:"destructive"})}}),v=d?.reports?.filter(C=>{if(!n)return!0;const N=n.toLowerCase();return C.phone.includes(N)||C.contactName.toLowerCase().includes(N)})||[],w=p?.byInterestLevel?.map(C=>({name:PK[C.level]||C.level,value:C.count,color:Dy[C.level]||Dy.pending}))||[],y=p?.topAgents?.map(C=>({name:C.agentName,contacts:C.contactsHandled}))||[],j=C=>{if(C<60)return`${C}m`;const N=Math.floor(C/60),S=C%60;return`${N}h ${S}m`},_=C=>{if(!C)return"N/A";const N=new Date(C);return N.toLocaleDateString()+" "+N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})};return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Contact Analytics"}),a.jsx("p",{className:"text-muted-foreground",children:"AI-powered analysis of contact interest levels and conversation insights"})]}),a.jsxs(ee,{onClick:()=>g.mutate(),disabled:g.isPending,children:[g.isPending?a.jsx(Be,{className:"h-4 w-4 animate-spin mr-2"}):a.jsx(Or,{className:"h-4 w-4 mr-2"}),"Analyze All Contacts"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Total Contacts"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold",children:p?.total||0})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Average Interest Score"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-2xl font-bold",children:p?.averageScore||0}),a.jsx(Sa,{value:p?.averageScore||0,className:"w-20"})]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Interested Leads"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:(p?.byInterestLevel?.find(C=>C.level==="interested")?.count||0)+(p?.byInterestLevel?.find(C=>C.level==="highly_interested")?.count||0)})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm font-medium text-muted-foreground",children:"Not Interested"})}),a.jsx(ae,{children:a.jsx("div",{className:"text-2xl font-bold text-red-500",children:p?.byInterestLevel?.find(C=>C.level==="not_interested")?.count||0})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{children:"Interest Level Distribution"})}),a.jsx(ae,{children:a.jsx("div",{className:"h-[250px]",children:a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(vy,{children:[a.jsx(Za,{data:w,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:w.map((C,N)=>a.jsx(Ti,{fill:C.color},`cell-${N}`))}),a.jsx(kn,{}),a.jsx(qr,{})]})})})})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsx(de,{children:"Top AI Agents by Contacts"})}),a.jsx(ae,{children:a.jsx("div",{className:"h-[250px]",children:y.length>0?a.jsx(oa,{width:"100%",height:"100%",children:a.jsxs(yc,{data:y,layout:"vertical",children:[a.jsx(zr,{type:"number"}),a.jsx(Br,{dataKey:"name",type:"category",width:120}),a.jsx(kn,{}),a.jsx(Bn,{dataKey:"contacts",fill:"#8b5cf6",radius:4})]})}):a.jsx("div",{className:"h-full flex items-center justify-center text-muted-foreground",children:"No agent data available"})})})]})]}),a.jsxs(te,{children:[a.jsx(ue,{children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-between",children:[a.jsxs("div",{children:[a.jsx(de,{children:"Contact Reports"}),a.jsx(He,{children:"Click on a contact to view detailed analysis"})]}),a.jsxs("div",{className:"flex gap-4",children:[a.jsxs("div",{className:"relative w-64",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(De,{placeholder:"Search by name or phone...",value:n,onChange:C=>r(C.target.value),className:"pl-10"})]}),a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsx(lt,{className:"w-48",children:a.jsx(ft,{placeholder:"Filter by interest"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Contacts"}),a.jsx(xe,{value:"highly_interested",children:"Highly Interested"}),a.jsx(xe,{value:"interested",children:"Interested"}),a.jsx(xe,{value:"neutral",children:"Neutral"}),a.jsx(xe,{value:"not_interested",children:"Not Interested"}),a.jsx(xe,{value:"pending",children:"Pending Analysis"})]})]})]})]})}),a.jsx(ae,{children:f?a.jsx("div",{className:"flex justify-center py-8",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):v.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No contact reports found"}),a.jsx("p",{className:"text-sm mt-2",children:'Click "Analyze All Contacts" to generate reports'})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Contact"}),a.jsx(ie,{children:"Interest Level"}),a.jsx(ie,{children:"Score"}),a.jsx(ie,{children:"Messages"}),a.jsx(ie,{children:"AI Agents"}),a.jsx(ie,{children:"Duration"}),a.jsx(ie,{children:"Last Contact"}),a.jsx(ie,{})]})}),a.jsx(zt,{children:v.map(C=>a.jsxs(Ke,{className:"cursor-pointer hover:bg-muted/50",onClick:()=>i(C),children:[a.jsx(se,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.contactName}),a.jsx("div",{className:"text-sm text-muted-foreground",children:C.phone})]})}),a.jsx(se,{children:f6(C.interestLevel)}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"font-medium",children:C.interestScore}),a.jsx(Sa,{value:C.interestScore,className:"w-16 h-2"})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(bA,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{children:C.totalMessages}),a.jsxs("span",{className:"text-muted-foreground text-xs",children:["(",C.inboundMessages," in / ",C.outboundMessages," out)"]})]})}),a.jsx(se,{children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(kt,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{children:C.aiAgentInteractions?.length||0})]})}),a.jsx(se,{children:j(C.conversationDuration)}),a.jsx(se,{className:"text-muted-foreground text-sm",children:_(C.lastContactTime)}),a.jsx(se,{children:a.jsx(ee,{variant:"ghost",size:"sm",children:a.jsx(Ka,{className:"h-4 w-4"})})})]},C.id))})]})})]}),a.jsx(sn,{open:!!s,onOpenChange:()=>i(null),children:a.jsxs(Qt,{className:"max-w-3xl max-h-[90vh]",children:[a.jsxs(Zt,{children:[a.jsxs(Jt,{className:"flex items-center gap-3",children:[a.jsx("span",{children:s?.contactName||"Unknown"}),s&&f6(s.interestLevel)]}),a.jsx(ca,{children:s?.phone})]}),s&&a.jsx(ws,{className:"max-h-[70vh]",children:a.jsxs("div",{className:"space-y-6 pr-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"Interest Score"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"text-3xl font-bold",children:s.interestScore}),a.jsx(Sa,{value:s.interestScore,className:"flex-1"})]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"Conversation Duration"})}),a.jsx(ae,{children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kt,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-2xl font-bold",children:j(s.conversationDuration)})]})})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"AI Analysis Reason"})}),a.jsx(ae,{children:a.jsx("p",{className:"text-muted-foreground",children:s.interestReason})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.positiveSignals?.length>0&&a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm flex items-center gap-2",children:[a.jsx(cr,{className:"h-4 w-4 text-green-500"}),"Positive Signals"]})}),a.jsx(ae,{children:a.jsx("ul",{className:"space-y-1",children:s.positiveSignals.map((C,N)=>a.jsxs("li",{className:"text-sm text-green-600",children:["+ ",C]},N))})})]}),s.negativeSignals?.length>0&&a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm flex items-center gap-2",children:[a.jsx(bh,{className:"h-4 w-4 text-red-500"}),"Negative Signals"]})}),a.jsx(ae,{children:a.jsx("ul",{className:"space-y-1",children:s.negativeSignals.map((C,N)=>a.jsxs("li",{className:"text-sm text-red-600",children:["- ",C]},N))})})]})]}),s.keyTopics?.length>0&&a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"Key Topics Discussed"})}),a.jsx(ae,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:s.keyTopics.map((C,N)=>a.jsx(ke,{variant:"secondary",children:C},N))})})]}),s.objections?.length>0&&a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"Objections Raised"})}),a.jsx(ae,{children:a.jsx("ul",{className:"space-y-1",children:s.objections.map((C,N)=>a.jsx("li",{className:"text-sm text-amber-600",children:C},N))})})]}),a.jsx(kK,{}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm flex items-center gap-2",children:[a.jsx(kt,{className:"h-4 w-4 text-purple-500"}),"AI Agent Interactions"]})}),a.jsx(ae,{children:s.aiAgentInteractions?.length>0?a.jsx("div",{className:"space-y-3",children:s.aiAgentInteractions.map((C,N)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted rounded-lg",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.agentName}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[C.messagesCount," messages | Duration: ",j(C.durationMinutes)]})]}),a.jsxs("div",{className:"text-right text-sm text-muted-foreground",children:[a.jsxs("div",{children:["First: ",_(C.firstInteraction)]}),a.jsxs("div",{children:["Last: ",_(C.lastInteraction)]})]})]},N))}):a.jsx("p",{className:"text-muted-foreground text-sm",children:"No AI agent interactions recorded"})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"Message Statistics"})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:s.totalMessages}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.inboundMessages}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Inbound"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.outboundMessages}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Outbound"})]})]})})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsx(de,{className:"text-sm",children:"Contact Timeline"})}),a.jsx(ae,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"First Contact:"}),a.jsx("div",{children:_(s.firstContactTime)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Last Contact:"}),a.jsx("div",{children:_(s.lastContactTime)})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-muted-foreground",children:"Last Analyzed:"}),a.jsx("div",{children:s.lastAnalyzedAt?_(s.lastAnalyzedAt):"Never"})]})]})})]})]})})]})})]})})}const h6={LayoutDashboard:a.jsx(ox,{className:"h-4 w-4"}),Clock:a.jsx(Kt,{className:"h-4 w-4"}),MessageSquare:a.jsx(an,{className:"h-4 w-4"}),Users:a.jsx(zn,{className:"h-4 w-4"}),Radio:a.jsx(zZ,{className:"h-4 w-4"}),FileText:a.jsx(vr,{className:"h-4 w-4"}),Bot:a.jsx(kt,{className:"h-4 w-4"}),UserPlus:a.jsx(Fl,{className:"h-4 w-4"}),Facebook:a.jsx(wm,{className:"h-4 w-4"}),Zap:a.jsx(lh,{className:"h-4 w-4"}),GitBranch:a.jsx(fq,{className:"h-4 w-4"}),BarChart3:a.jsx(bm,{className:"h-4 w-4"}),Ban:a.jsx(Oo,{className:"h-4 w-4"}),TrendingUp:a.jsx(dc,{className:"h-4 w-4"}),Settings:a.jsx(jA,{className:"h-4 w-4"}),UserCog:a.jsx(Uy,{className:"h-4 w-4"})},m6={super_admin:"bg-red-100 text-red-800 border-red-200",sub_admin:"bg-purple-100 text-purple-800 border-purple-200",manager:"bg-blue-100 text-blue-800 border-blue-200",user:"bg-gray-100 text-gray-800 border-gray-200"};function RMe(){const[e,t]=b.useState(!1),[n,r]=b.useState(!1),[s,i]=b.useState(!1),[l,u]=b.useState(!1),[d,f]=b.useState(null),[p,m]=b.useState(null),[g,v]=b.useState(!1),[w,y]=b.useState({email:"",name:"",role:"user",pageAccess:["dashboard"]}),j=er(),{data:_=[],isLoading:C}=Ve({queryKey:["/api/users"],queryFn:async()=>{const D=await fetch("/api/users",{headers:Mn()});if(!D.ok)throw new Error("Failed to fetch users");return D.json()}}),{data:N=[]}=Ve({queryKey:["/api/users/pages"],queryFn:async()=>{const D=await fetch("/api/users/pages",{headers:Mn()});if(!D.ok)throw new Error("Failed to fetch pages");return D.json()}}),{data:S=[]}=Ve({queryKey:["/api/users/roles"],queryFn:async()=>{const D=await fetch("/api/users/roles",{headers:Mn()});if(!D.ok)throw new Error("Failed to fetch roles");return D.json()}}),O=et({mutationFn:async D=>{const k=await fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json",...Mn()},body:JSON.stringify(D)});if(!k.ok){const I=await k.json();throw new Error(I.error||"Failed to create user")}return k.json()},onSuccess:D=>{j.invalidateQueries({queryKey:["/api/users"]}),m(D.credentials),t(!1),u(!0),$(),D.emailSent?fe.success("User created successfully. Credentials have been emailed."):fe.success("User created successfully. Email could not be sent - share credentials manually.")},onError:D=>{fe.error(D.message)}}),M=et({mutationFn:async D=>{const k=await fetch(`/api/users/${D.id}`,{method:"PUT",headers:{"Content-Type":"application/json",...Mn()},body:JSON.stringify(D)});if(!k.ok){const I=await k.json();throw new Error(I.error||"Failed to update user")}return k.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/users"]}),r(!1),f(null),$(),fe.success("User updated successfully")},onError:D=>{fe.error(D.message)}}),T=et({mutationFn:async D=>{const k=await fetch(`/api/users/${D}`,{method:"DELETE",headers:Mn()});if(!k.ok)throw new Error("Failed to delete user");return k.json()},onSuccess:()=>{j.invalidateQueries({queryKey:["/api/users"]}),i(!1),f(null),fe.success("User deleted successfully")},onError:()=>{fe.error("Failed to delete user")}}),P=et({mutationFn:async D=>{const k=await fetch(`/api/users/${D}/reset-password`,{method:"POST",headers:Mn()});if(!k.ok)throw new Error("Failed to reset password");return k.json()},onSuccess:D=>{m(D),u(!0),D.emailSent?fe.success("Password reset successfully. New credentials have been emailed."):fe.success("Password reset successfully. Email could not be sent - share credentials manually.")},onError:()=>{fe.error("Failed to reset password")}}),$=()=>{y({email:"",name:"",role:"user",pageAccess:["dashboard"]})},K=D=>{f(D),y({email:D.email,name:D.name,role:D.role,pageAccess:D.pageAccess}),r(!0)},q=D=>{y(k=>({...k,pageAccess:k.pageAccess.includes(D)?k.pageAccess.filter(I=>I!==D):[...k.pageAccess,D]}))},H=()=>{w.pageAccess.length===N.length?y(D=>({...D,pageAccess:["dashboard"]})):y(D=>({...D,pageAccess:N.map(k=>k.id)}))},B=()=>{p&&(navigator.clipboard.writeText(`Username: ${p.username}
Password: ${p.password}`),v(!0),setTimeout(()=>v(!1),2e3),fe.success("Credentials copied to clipboard"))},L=D=>new Date(D).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"});return a.jsx(pt,{children:a.jsxs("div",{className:"space-y-6 animate-in fade-in duration-500",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[a.jsx(Uy,{className:"h-7 w-7 text-primary"}),"User Management"]}),a.jsx("p",{className:"text-muted-foreground",children:"Create and manage users, assign roles and page access permissions"})]}),a.jsxs(sn,{open:e,onOpenChange:t,children:[a.jsx(Ja,{asChild:!0,children:a.jsxs(ee,{onClick:()=>{$(),t(!0)},children:[a.jsx(Fl,{className:"mr-2 h-4 w-4"}),"Create User"]})}),a.jsxs(Qt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Create New User"}),a.jsx(ca,{children:"Add a new user to the system. They will receive login credentials after creation."})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"name",children:"Full Name"}),a.jsx(De,{id:"name",placeholder:"John Doe",value:w.name,onChange:D=>y(k=>({...k,name:D.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"email",children:"Email Address"}),a.jsx(De,{id:"email",type:"email",placeholder:"john@example.com",value:w.email,onChange:D=>y(k=>({...k,email:D.target.value}))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Role"}),a.jsxs(dt,{value:w.role,onValueChange:D=>y(k=>({...k,role:D})),children:[a.jsx(lt,{children:a.jsx(ft,{placeholder:"Select a role"})}),a.jsx(ct,{children:S.filter(D=>D.id!=="super_admin").map(D=>a.jsx(xe,{value:D.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bl,{className:"h-4 w-4"}),D.name]})},D.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(we,{children:"Page Access"}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:H,children:w.pageAccess.length===N.length?"Deselect All":"Select All"})]}),a.jsx(te,{children:a.jsx(ws,{className:"h-[200px]",children:a.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:N.map(D=>a.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border cursor-pointer transition-colors ${w.pageAccess.includes(D.id)?"bg-primary/10 border-primary":"hover:bg-muted"}`,onClick:()=>q(D.id),children:[a.jsx(Zr,{checked:w.pageAccess.includes(D.id),onCheckedChange:()=>q(D.id)}),a.jsxs("div",{className:"flex items-center gap-2",children:[h6[D.icon]||a.jsx(ox,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:D.name})]})]},D.id))})})}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[w.pageAccess.length," page(s) selected"]})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),a.jsxs(ee,{onClick:()=>O.mutate(w),disabled:!w.name||!w.email||O.isPending,children:[O.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})]})]})]})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsxs(de,{className:"flex items-center gap-2",children:[a.jsx(zn,{className:"h-5 w-5"}),"System Users"]}),a.jsxs(He,{children:[_.length," user",_.length!==1?"s":""," in the system"]})]}),a.jsx(ae,{children:C?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):_.length===0?a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(zn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No users created yet"}),a.jsx("p",{className:"text-sm",children:"Create your first user to get started"})]}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"User"}),a.jsx(ie,{children:"Username"}),a.jsx(ie,{children:"Role"}),a.jsx(ie,{children:"Pages"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Created"}),a.jsx(ie,{className:"w-[50px]"})]})}),a.jsx(zt,{children:_.map(D=>a.jsxs(Ke,{children:[a.jsx(se,{children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:D.name}),a.jsx("p",{className:"text-sm text-muted-foreground",children:D.email})]})}),a.jsx(se,{children:a.jsx("code",{className:"text-sm bg-muted px-2 py-1 rounded",children:D.username})}),a.jsx(se,{children:a.jsx(ke,{variant:"outline",className:m6[D.role]||m6.user,children:S.find(k=>k.id===D.role)?.name||D.role})}),a.jsx(se,{children:a.jsxs(ke,{variant:"secondary",children:[D.pageAccess.length," pages"]})}),a.jsx(se,{children:a.jsx(ke,{variant:D.isActive?"default":"destructive",children:D.isActive?"Active":"Inactive"})}),a.jsx(se,{className:"text-muted-foreground text-sm",children:L(D.createdAt)}),a.jsx(se,{children:a.jsxs(Vo,{children:[a.jsx(Ko,{asChild:!0,children:a.jsx(ee,{variant:"ghost",size:"icon",children:a.jsx(zy,{className:"h-4 w-4"})})}),a.jsxs(Ii,{align:"end",children:[a.jsxs(Rn,{onClick:()=>K(D),children:[a.jsx(_i,{className:"mr-2 h-4 w-4"}),"Edit User"]}),a.jsxs(Rn,{onClick:()=>P.mutate(D.id),children:[a.jsx(ix,{className:"mr-2 h-4 w-4"}),"Reset Password"]}),a.jsxs(Rn,{className:"text-destructive",onClick:()=>{f(D),i(!0)},children:[a.jsx(Ea,{className:"mr-2 h-4 w-4"}),"Delete User"]})]})]})})]},D.id))})]})})]}),a.jsx(sn,{open:n,onOpenChange:r,children:a.jsxs(Qt,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs(Zt,{children:[a.jsx(Jt,{children:"Edit User"}),a.jsx(ca,{children:"Update user details and permissions"})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 py-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"edit-name",children:"Full Name"}),a.jsx(De,{id:"edit-name",value:w.name,onChange:D=>y(k=>({...k,name:D.target.value}))})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{htmlFor:"edit-email",children:"Email Address"}),a.jsx(De,{id:"edit-email",type:"email",value:w.email,onChange:D=>y(k=>({...k,email:D.target.value}))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{children:"Role"}),a.jsxs(dt,{value:w.role,onValueChange:D=>y(k=>({...k,role:D})),children:[a.jsx(lt,{children:a.jsx(ft,{})}),a.jsx(ct,{children:S.filter(D=>D.id!=="super_admin").map(D=>a.jsx(xe,{value:D.id,children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Bl,{className:"h-4 w-4"}),D.name]})},D.id))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(we,{children:"Page Access"}),a.jsx(ee,{variant:"ghost",size:"sm",onClick:H,children:w.pageAccess.length===N.length?"Deselect All":"Select All"})]}),a.jsx(te,{children:a.jsx(ws,{className:"h-[200px]",children:a.jsx("div",{className:"p-4 grid grid-cols-2 gap-3",children:N.map(D=>a.jsxs("div",{className:`flex items-center gap-3 p-2 rounded-lg border cursor-pointer transition-colors ${w.pageAccess.includes(D.id)?"bg-primary/10 border-primary":"hover:bg-muted"}`,onClick:()=>q(D.id),children:[a.jsx(Zr,{checked:w.pageAccess.includes(D.id),onCheckedChange:()=>q(D.id)}),a.jsxs("div",{className:"flex items-center gap-2",children:[h6[D.icon]||a.jsx(ox,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:D.name})]})]},D.id))})})})]})]}),a.jsxs(dn,{children:[a.jsx(ee,{variant:"outline",onClick:()=>r(!1),children:"Cancel"}),a.jsxs(ee,{onClick:()=>d&&M.mutate({id:d.id,...w}),disabled:M.isPending,children:[M.isPending&&a.jsx(Be,{className:"mr-2 h-4 w-4 animate-spin"}),"Save Changes"]})]})]})}),a.jsx(sn,{open:l,onOpenChange:u,children:a.jsxs(Qt,{children:[a.jsxs(Zt,{children:[a.jsxs(Jt,{className:"flex items-center gap-2",children:[a.jsx(ix,{className:"h-5 w-5 text-primary"}),"User Credentials"]}),a.jsx(ca,{children:"Share these credentials with the user. The password cannot be viewed again."})]}),p&&a.jsxs("div",{className:"space-y-4 py-4",children:[a.jsx(te,{className:"bg-muted/50",children:a.jsxs(ae,{className:"pt-6 space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"text-muted-foreground",children:"Username"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("code",{className:"flex-1 bg-background p-3 rounded-lg font-mono text-lg",children:p.username})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(we,{className:"text-muted-foreground",children:"Password"}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx("code",{className:"flex-1 bg-background p-3 rounded-lg font-mono text-lg",children:p.password})})]})]})}),a.jsxs(ee,{className:"w-full",variant:"outline",onClick:B,children:[g?a.jsx(jm,{className:"mr-2 h-4 w-4"}):a.jsx(LC,{className:"mr-2 h-4 w-4"}),g?"Copied!":"Copy Credentials"]})]}),a.jsx(dn,{children:a.jsx(ee,{onClick:()=>{u(!1),m(null)},children:"Done"})})]})}),a.jsx(cd,{open:s,onOpenChange:i,children:a.jsxs(ec,{children:[a.jsxs(tc,{children:[a.jsx(rc,{children:"Delete User"}),a.jsxs(ac,{children:["Are you sure you want to delete ",d?.name,"? This action cannot be undone."]})]}),a.jsxs(nc,{children:[a.jsx(ic,{children:"Cancel"}),a.jsx(sc,{className:"bg-destructive hover:bg-destructive/90",onClick:()=>d&&T.mutate(d.id),children:"Delete User"})]})]})})]})})}function DMe(){const[e,t]=b.useState("7"),[n,r]=b.useState("all"),[s,i]=b.useState("all"),[l,u]=b.useState("all"),{data:d,isLoading:f,refetch:p}=Ve({queryKey:["/api/lead-management/reports/summary",e],queryFn:async()=>{const S=Ry(new Date,parseInt(e)),O=await fetch(`/api/lead-management/reports/summary?startDate=${S.toISOString()}`,{headers:Mn()});if(!O.ok)throw new Error("Failed to fetch summary");return O.json()}}),{data:m,isLoading:g,refetch:v}=Ve({queryKey:["/api/lead-management/reports/assignments",e,n,s,l],queryFn:async()=>{const S=Ry(new Date,parseInt(e)),O=new URLSearchParams({startDate:S.toISOString()});n!=="all"&&O.append("userId",n),s!=="all"&&O.append("priority",s),l!=="all"&&O.append("status",l);const M=await fetch(`/api/lead-management/reports/assignments?${O}`,{headers:Mn()});if(!M.ok)throw new Error("Failed to fetch assignments");return M.json()}}),{data:w}=Ve({queryKey:["/api/users"],queryFn:async()=>{const S=await fetch("/api/users",{headers:Mn()});return S.ok?S.json():[]}}),y=()=>{p(),v()},j=()=>{if(!m)return;const S=["Contact Name","Phone","Assigned To","Assigned By","Priority","Status","Created At"],O=m.map(K=>[K.contactName,K.phone,K.assignedToUserName,K.assignedByUserName,K.priority,K.status,Tn(new Date(K.createdAt),"yyyy-MM-dd HH:mm")]),M=[S.join(","),...O.map(K=>K.join(","))].join(`
`),T=new Blob([M],{type:"text/csv"}),P=URL.createObjectURL(T),$=document.createElement("a");$.href=P,$.download=`lead-assignments-${Tn(new Date,"yyyy-MM-dd")}.csv`,$.click()},_=S=>{const O={urgent:"bg-red-100 text-red-700 border-red-200",high:"bg-orange-100 text-orange-700 border-orange-200",medium:"bg-yellow-100 text-yellow-700 border-yellow-200",low:"bg-green-100 text-green-700 border-green-200"};return a.jsx(ke,{variant:"outline",className:O[S]||"",children:S})},C=S=>{const O={assigned:"bg-blue-100 text-blue-700 border-blue-200",in_progress:"bg-yellow-100 text-yellow-700 border-yellow-200",completed:"bg-green-100 text-green-700 border-green-200",transferred:"bg-purple-100 text-purple-700 border-purple-200"},M={assigned:"Active",in_progress:"In Progress",completed:"Completed",transferred:"Transferred"};return a.jsx(ke,{variant:"outline",className:O[S]||"",children:M[S]||S.replace("_"," ")})},N=S=>S<60?`${Math.round(S)} min`:S<1440?`${Math.round(S/60)} hrs`:`${Math.round(S/1440)} days`;return a.jsx(pt,{children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Lead Assignment Reports"}),a.jsx("p",{className:"text-muted-foreground",children:"Track lead distribution and team performance"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsxs(lt,{className:"w-40",children:[a.jsx(Ci,{className:"h-4 w-4 mr-2"}),a.jsx(ft,{})]}),a.jsxs(ct,{children:[a.jsx(xe,{value:"1",children:"Today"}),a.jsx(xe,{value:"7",children:"Last 7 days"}),a.jsx(xe,{value:"30",children:"Last 30 days"}),a.jsx(xe,{value:"90",children:"Last 90 days"})]})]}),a.jsx(ee,{variant:"outline",size:"icon",onClick:y,children:a.jsx(Or,{className:"h-4 w-4"})}),a.jsxs(ee,{variant:"outline",onClick:j,children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),f?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):d?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(zn,{className:"h-4 w-4"}),"Total Assignments"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:d.totalAssignments}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In selected period"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(VC,{className:"h-4 w-4"}),"Active Assignments"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:d.activeAssignments}),a.jsx(Sa,{value:d.activeAssignments/Math.max(d.totalAssignments,1)*100,className:"mt-2 h-2"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(dc,{className:"h-4 w-4"}),"Completed"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold text-green-600",children:d.completedAssignments}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:d.totalAssignments>0?`${Math.round(d.completedAssignments/d.totalAssignments*100)}% completion rate`:"No data"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Kt,{className:"h-4 w-4"}),"Avg Response Time"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:N(d.averageResponseTime||0)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"First contact after assignment"})]})]})]}),a.jsxs(kr,{defaultValue:"by-user",children:[a.jsxs(br,{children:[a.jsx(mt,{value:"by-user",children:"By Team Member"}),a.jsx(mt,{value:"by-priority",children:"By Priority"}),a.jsx(mt,{value:"all-assignments",children:"All Assignments"})]}),a.jsx(bt,{value:"by-user",className:"mt-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Team Member Performance"}),a.jsx(He,{children:"Lead distribution and response metrics per team member"})]}),a.jsx(ae,{children:d.byUser.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No assignments found in selected period"}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Team Member"}),a.jsx(ie,{children:"Role"}),a.jsx(ie,{className:"text-center",children:"Total"}),a.jsx(ie,{className:"text-center",children:"Active"}),a.jsx(ie,{className:"text-center",children:"In Progress"}),a.jsx(ie,{className:"text-center",children:"Completed"}),a.jsx(ie,{className:"text-center",children:"Avg Response"}),a.jsx(ie,{children:"Last Activity"})]})}),a.jsx(zt,{children:d.byUser.map(S=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:S.userName}),a.jsx(se,{children:a.jsx(ke,{variant:"secondary",children:S.userRole})}),a.jsx(se,{className:"text-center",children:S.totalAssigned}),a.jsx(se,{className:"text-center",children:a.jsx(ke,{variant:"outline",className:"bg-blue-50 text-blue-700",children:S.active})}),a.jsx(se,{className:"text-center",children:a.jsx(ke,{variant:"outline",className:"bg-yellow-50 text-yellow-700",children:S.inProgress})}),a.jsx(se,{className:"text-center",children:a.jsx(ke,{variant:"outline",className:"bg-green-50 text-green-700",children:S.completed})}),a.jsx(se,{className:"text-center",children:N(S.avgResponseTime||0)}),a.jsx(se,{className:"text-muted-foreground text-sm",children:S.lastActivityAt?Tn(new Date(S.lastActivityAt),"MMM d, HH:mm"):"N/A"})]},S.userId))})]})})]})}),a.jsx(bt,{value:"by-priority",className:"mt-4",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Priority Distribution"}),a.jsx(He,{children:"Assignments by priority level"})]}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-4",children:["urgent","high","medium","low"].map(S=>{const M=d.byPriority.find(P=>P.priority===S)?.count||0,T=d.totalAssignments>0?M/d.totalAssignments*100:0;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[_(S),a.jsxs("span",{className:"text-sm font-medium",children:[M," (",Math.round(T),"%)"]})]}),a.jsx(Sa,{value:T,className:"h-2"})]},S)})})})]}),a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Status Distribution"}),a.jsx(He,{children:"Assignments by current status"})]}),a.jsx(ae,{children:a.jsx("div",{className:"space-y-4",children:["assigned","in_progress","completed","transferred"].map(S=>{const M=d.byStatus.find(P=>P.status===S)?.count||0,T=d.totalAssignments>0?M/d.totalAssignments*100:0;return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[C(S),a.jsxs("span",{className:"text-sm font-medium",children:[M," (",Math.round(T),"%)"]})]}),a.jsx(Sa,{value:T,className:"h-2"})]},S)})})})]})]})}),a.jsx(bt,{value:"all-assignments",className:"mt-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"All Assignments"}),a.jsx(He,{children:"Detailed list of all lead assignments"})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(qC,{className:"h-4 w-4 text-muted-foreground"}),a.jsx(we,{className:"text-sm",children:"Filters:"})]}),a.jsxs(dt,{value:n,onValueChange:r,children:[a.jsx(lt,{className:"w-40",children:a.jsx(ft,{placeholder:"All Users"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Users"}),w?.map(S=>a.jsx(xe,{value:S.id,children:S.name},S.id))]})]}),a.jsxs(dt,{value:s,onValueChange:i,children:[a.jsx(lt,{className:"w-32",children:a.jsx(ft,{placeholder:"Priority"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Priority"}),a.jsx(xe,{value:"urgent",children:"Urgent"}),a.jsx(xe,{value:"high",children:"High"}),a.jsx(xe,{value:"medium",children:"Medium"}),a.jsx(xe,{value:"low",children:"Low"})]})]}),a.jsxs(dt,{value:l,onValueChange:u,children:[a.jsx(lt,{className:"w-32",children:a.jsx(ft,{placeholder:"Status"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Status"}),a.jsx(xe,{value:"assigned",children:"Active"}),a.jsx(xe,{value:"in_progress",children:"In Progress"}),a.jsx(xe,{value:"completed",children:"Completed"}),a.jsx(xe,{value:"transferred",children:"Transferred"})]})]})]}),g?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):!m||m.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No assignments found matching filters"}):a.jsx(ws,{className:"h-[400px]",children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Contact"}),a.jsx(ie,{children:"Phone"}),a.jsx(ie,{children:"Assigned To"}),a.jsx(ie,{children:"Assigned By"}),a.jsx(ie,{children:"Priority"}),a.jsx(ie,{children:"Status"}),a.jsx(ie,{children:"Created"})]})}),a.jsx(zt,{children:m.map(S=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:S.contactName}),a.jsx(se,{className:"text-muted-foreground",children:S.phone}),a.jsx(se,{children:S.assignedToUserName}),a.jsx(se,{className:"text-muted-foreground",children:S.assignedByUserName}),a.jsx(se,{children:_(S.priority)}),a.jsx(se,{children:C(S.status)}),a.jsx(se,{className:"text-muted-foreground text-sm",children:Tn(new Date(S.createdAt),"MMM d, HH:mm")})]},S._id))})]})})]})]})})]})]}):a.jsx(te,{children:a.jsx(ae,{className:"py-8",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Pl,{className:"h-8 w-8 mx-auto mb-2"}),a.jsx("p",{children:"Failed to load report data. Please try again."})]})})})]})})}function IMe(){const[e,t]=b.useState("7"),[n,r]=b.useState("all"),[s,i]=b.useState("all"),{data:l,isLoading:u,refetch:d}=Ve({queryKey:["/api/lead-management/reports/activity-stats",e],queryFn:async()=>{const C=Ry(new Date,parseInt(e)),N=await fetch(`/api/lead-management/reports/activity-stats?startDate=${C.toISOString()}`,{headers:Mn()});if(!N.ok)throw new Error("Failed to fetch activity stats");return N.json()}}),{data:f,isLoading:p,refetch:m}=Ve({queryKey:["/api/lead-management/reports/activity-logs",e,n,s],queryFn:async()=>{const C=Ry(new Date,parseInt(e)),N=new URLSearchParams({startDate:C.toISOString(),limit:"200"});n!=="all"&&N.append("userId",n),s!=="all"&&N.append("action",s);const S=await fetch(`/api/lead-management/reports/activity-logs?${N}`,{headers:Mn()});if(!S.ok)throw new Error("Failed to fetch activity logs");return S.json()}}),{data:g}=Ve({queryKey:["/api/users"],queryFn:async()=>{const C=await fetch("/api/users",{headers:Mn()});return C.ok?C.json():[]}}),v=()=>{d(),m()},w=()=>{if(!f)return;const C=["User","Role","Action","Entity Type","Details","Timestamp"],N=f.map(P=>[P.userName,P.userRole,P.action,P.entityType,JSON.stringify(P.details),Tn(new Date(P.createdAt),"yyyy-MM-dd HH:mm:ss")]),S=[C.join(","),...N.map(P=>P.map($=>`"${$}"`).join(","))].join(`
`),O=new Blob([S],{type:"text/csv"}),M=URL.createObjectURL(O),T=document.createElement("a");T.href=M,T.download=`user-activity-${Tn(new Date,"yyyy-MM-dd")}.csv`,T.click()},y=C=>{switch(C){case"create":case"assign":return a.jsx(Mr,{className:"h-4 w-4 text-green-600"});case"update":case"reassign":return a.jsx(_i,{className:"h-4 w-4 text-blue-600"});case"delete":case"unassign":return a.jsx(Ea,{className:"h-4 w-4 text-red-600"});case"view":return a.jsx(Ka,{className:"h-4 w-4 text-gray-600"});default:return a.jsx(Co,{className:"h-4 w-4 text-gray-600"})}},j=C=>{const N={create:"bg-green-100 text-green-700 border-green-200",assign:"bg-green-100 text-green-700 border-green-200",update:"bg-blue-100 text-blue-700 border-blue-200",reassign:"bg-blue-100 text-blue-700 border-blue-200",delete:"bg-red-100 text-red-700 border-red-200",unassign:"bg-red-100 text-red-700 border-red-200",view:"bg-gray-100 text-gray-700 border-gray-200",bulk_assign:"bg-purple-100 text-purple-700 border-purple-200"};return a.jsx(ke,{variant:"outline",className:N[C]||"bg-gray-100 text-gray-700",children:a.jsxs("span",{className:"flex items-center gap-1",children:[y(C),C.replace("_"," ")]})})},_=C=>{const N=Object.keys(C);return N.length===0?"-":N.slice(0,3).map(S=>{const O=C[S],M=typeof O=="string"?O:JSON.stringify(O);return`${S}: ${M.slice(0,30)}${M.length>30?"...":""}`}).join(", ")};return a.jsx(pt,{children:a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold",children:"User Activity Reports"}),a.jsx("p",{className:"text-muted-foreground",children:"Track team member actions and system activity"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(dt,{value:e,onValueChange:t,children:[a.jsxs(lt,{className:"w-40",children:[a.jsx(Ci,{className:"h-4 w-4 mr-2"}),a.jsx(ft,{})]}),a.jsxs(ct,{children:[a.jsx(xe,{value:"1",children:"Today"}),a.jsx(xe,{value:"7",children:"Last 7 days"}),a.jsx(xe,{value:"30",children:"Last 30 days"}),a.jsx(xe,{value:"90",children:"Last 90 days"})]})]}),a.jsx(ee,{variant:"outline",size:"icon",onClick:v,children:a.jsx(Or,{className:"h-4 w-4"})}),a.jsxs(ee,{variant:"outline",onClick:w,children:[a.jsx(Tr,{className:"h-4 w-4 mr-2"}),"Export CSV"]})]})]}),u?a.jsx("div",{className:"flex items-center justify-center py-12",children:a.jsx(Be,{className:"h-8 w-8 animate-spin text-primary"})}):l?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Co,{className:"h-4 w-4"}),"Total Activities"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:l.totalActivities}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"In selected period"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(VC,{className:"h-4 w-4"}),"Active Users"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:l.uniqueUsers}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Team members with activity"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(cZ,{className:"h-4 w-4"}),"Assignment Actions"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:l.byAction.filter(C=>C.action==="assign"||C.action==="bulk_assign").reduce((C,N)=>C+N.count,0)}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Lead assignments made"})]})]}),a.jsxs(te,{children:[a.jsx(ue,{className:"pb-2",children:a.jsxs(de,{className:"text-sm font-medium text-muted-foreground flex items-center gap-2",children:[a.jsx(Kt,{className:"h-4 w-4"}),"Avg Daily Actions"]})}),a.jsxs(ae,{children:[a.jsx("div",{className:"text-3xl font-bold",children:Math.round(l.totalActivities/parseInt(e))}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per day average"})]})]})]}),a.jsxs(kr,{defaultValue:"by-user",children:[a.jsxs(br,{children:[a.jsx(mt,{value:"by-user",children:"By Team Member"}),a.jsx(mt,{value:"all-activities",children:"Activity Log"})]}),a.jsx(bt,{value:"by-user",className:"mt-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Team Member Activity Summary"}),a.jsx(He,{children:"Actions performed by each team member"})]}),a.jsx(ae,{children:l.byUser.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activity found in selected period"}):a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"Team Member"}),a.jsx(ie,{children:"Role"}),a.jsx(ie,{className:"text-center",children:"Total Actions"}),a.jsx(ie,{children:"Action Breakdown"}),a.jsx(ie,{children:"Last Activity"})]})}),a.jsx(zt,{children:l.byUser.map(C=>a.jsxs(Ke,{children:[a.jsx(se,{className:"font-medium",children:C.userName}),a.jsx(se,{children:a.jsx(ke,{variant:"secondary",children:C.userRole})}),a.jsx(se,{className:"text-center",children:a.jsx(ke,{variant:"outline",children:C.totalActions})}),a.jsx(se,{children:a.jsx("div",{className:"flex flex-wrap gap-1",children:C.actionBreakdown.slice(0,4).map(N=>a.jsxs(ke,{variant:"outline",className:"text-xs",children:[N.action,": ",N.count]},N.action))})}),a.jsx(se,{className:"text-muted-foreground text-sm",children:C.lastActivityAt?Tn(new Date(C.lastActivityAt),"MMM d, HH:mm"):"N/A"})]},C.userId))})]})})]})}),a.jsx(bt,{value:"all-activities",className:"mt-4",children:a.jsxs(te,{children:[a.jsxs(ue,{children:[a.jsx(de,{children:"Activity Log"}),a.jsx(He,{children:"Detailed log of all user activities"})]}),a.jsxs(ae,{children:[a.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[a.jsxs(dt,{value:n,onValueChange:r,children:[a.jsx(lt,{className:"w-40",children:a.jsx(ft,{placeholder:"All Users"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Users"}),g?.map(C=>a.jsx(xe,{value:C.id,children:C.name},C.id))]})]}),a.jsxs(dt,{value:s,onValueChange:i,children:[a.jsx(lt,{className:"w-36",children:a.jsx(ft,{placeholder:"All Actions"})}),a.jsxs(ct,{children:[a.jsx(xe,{value:"all",children:"All Actions"}),a.jsx(xe,{value:"assign",children:"Assign"}),a.jsx(xe,{value:"bulk_assign",children:"Bulk Assign"}),a.jsx(xe,{value:"unassign",children:"Unassign"}),a.jsx(xe,{value:"reassign",children:"Reassign"}),a.jsx(xe,{value:"update",children:"Update"}),a.jsx(xe,{value:"view",children:"View"})]})]})]}),p?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx(Be,{className:"h-6 w-6 animate-spin text-primary"})}):!f||f.length===0?a.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No activities found matching filters"}):a.jsx(ws,{className:"h-[400px]",children:a.jsxs($t,{children:[a.jsx(qt,{children:a.jsxs(Ke,{children:[a.jsx(ie,{children:"User"}),a.jsx(ie,{children:"Action"}),a.jsx(ie,{children:"Entity Type"}),a.jsx(ie,{children:"Details"}),a.jsx(ie,{children:"Timestamp"})]})}),a.jsx(zt,{children:f.map(C=>a.jsxs(Ke,{children:[a.jsx(se,{children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:C.userName}),a.jsx("div",{className:"text-xs text-muted-foreground",children:C.userRole})]})}),a.jsx(se,{children:j(C.action)}),a.jsx(se,{className:"text-muted-foreground",children:C.entityType}),a.jsx(se,{className:"text-sm text-muted-foreground max-w-[200px] truncate",children:_(C.details)}),a.jsx(se,{className:"text-muted-foreground text-sm whitespace-nowrap",children:Tn(new Date(C.createdAt),"MMM d, HH:mm:ss")})]},C._id))})]})})]})]})})]})]}):a.jsx(te,{children:a.jsx(ae,{className:"py-8",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Co,{className:"h-8 w-8 mx-auto mb-2"}),a.jsx("p",{children:"Failed to load activity data. Please try again."})]})})})]})})}function gt({component:e}){const{isAuthenticated:t}=Am();return t?a.jsx(e,{}):a.jsx(_6,{to:"/login"})}function LMe(){const{isAuthenticated:e}=Am();return a.jsxs(hG,{children:[a.jsx(ht,{path:"/login",children:e?a.jsx(_6,{to:"/"}):a.jsx($ne,{})}),a.jsx(ht,{path:"/",children:()=>a.jsx(gt,{component:F1e})}),a.jsx(ht,{path:"/inbox/window",children:()=>a.jsx(gt,{component:ANe})}),a.jsx(ht,{path:"/inbox/leads",children:()=>a.jsx(gt,{component:CNe})}),a.jsx(ht,{path:"/inbox",children:()=>a.jsx(gt,{component:wNe})}),a.jsx(ht,{path:"/campaigns",children:()=>a.jsx(gt,{component:ONe})}),a.jsx(ht,{path:"/campaigns/broadcast",children:()=>a.jsx(gt,{component:OOe})}),a.jsx(ht,{path:"/campaigns/selected-contacts",children:()=>a.jsx(gt,{component:TOe})}),a.jsx(ht,{path:"/campaigns/schedule",children:()=>a.jsx(gt,{component:MOe})}),a.jsx(ht,{path:"/campaigns/single",children:()=>a.jsx(gt,{component:kOe})}),a.jsx(ht,{path:"/campaigns/report",children:()=>a.jsx(gt,{component:$Te})}),a.jsx(ht,{path:"/automation",children:()=>a.jsx(gt,{component:dOe})}),a.jsx(ht,{path:"/automation/leads",children:()=>a.jsx(gt,{component:qTe})}),a.jsx(ht,{path:"/automation/keywords",children:()=>a.jsx(gt,{component:zTe})}),a.jsx(ht,{path:"/automation/follow-up",children:()=>a.jsx(gt,{component:BTe})}),a.jsx(ht,{path:"/automation/drip",children:()=>a.jsx(gt,{component:FTe})}),a.jsx(ht,{path:"/automation/new-leads",children:()=>a.jsx(gt,{component:UTe})}),a.jsx(ht,{path:"/apps/connect",children:()=>a.jsx(gt,{component:HTe})}),a.jsx(ht,{path:"/templates",children:()=>a.jsx(gt,{component:EOe})}),a.jsx(ht,{path:"/templates/add",children:()=>a.jsx(gt,{component:VTe})}),a.jsx(ht,{path:"/templates/status",children:()=>a.jsx(gt,{component:KTe})}),a.jsx(ht,{path:"/templates/manage",children:()=>a.jsx(gt,{component:WTe})}),a.jsx(ht,{path:"/ai",children:()=>a.jsx(gt,{component:lA})}),a.jsx(ht,{path:"/ai/new",children:()=>a.jsx(gt,{component:fMe})}),a.jsx(ht,{path:"/ai/manage",children:()=>a.jsx(gt,{component:lA})}),a.jsx(ht,{path:"/ai/agents",children:()=>a.jsx(gt,{component:lA})}),a.jsx(ht,{path:"/ai/map",children:()=>a.jsx(gt,{component:hMe})}),a.jsx(ht,{path:"/ai/prefilled",children:()=>a.jsx(gt,{component:pMe})}),a.jsx(ht,{path:"/ai/reports",children:()=>a.jsx(gt,{component:mMe})}),a.jsx(ht,{path:"/facebook/forms",children:()=>a.jsx(gt,{component:gMe})}),a.jsx(ht,{path:"/facebook/leads",children:()=>a.jsx(gt,{component:xMe})}),a.jsx(ht,{path:"/reports",children:()=>a.jsx(gt,{component:u6})}),a.jsx(ht,{path:"/reports/delivery",children:()=>a.jsx(gt,{component:u6})}),a.jsx(ht,{path:"/reports/campaigns",children:()=>a.jsx(gt,{component:yMe})}),a.jsx(ht,{path:"/reports/replies",children:()=>a.jsx(gt,{component:vMe})}),a.jsx(ht,{path:"/reports/agents",children:()=>a.jsx(gt,{component:bMe})}),a.jsx(ht,{path:"/reports/spending",children:()=>a.jsx(gt,{component:jMe})}),a.jsx(ht,{path:"/reports/credits",children:()=>a.jsx(gt,{component:NMe})}),a.jsx(ht,{path:"/reports/user-engagement",children:()=>a.jsx(gt,{component:SMe})}),a.jsx(ht,{path:"/reports/broadcast",children:()=>a.jsx(gt,{component:AMe})}),a.jsx(ht,{path:"/reports/blocked",children:()=>a.jsx(gt,{component:CMe})}),a.jsx(ht,{path:"/reports/contacts",children:()=>a.jsx(gt,{component:PMe})}),a.jsx(ht,{path:"/reports/lead-assignments",children:()=>a.jsx(gt,{component:DMe})}),a.jsx(ht,{path:"/reports/user-activity",children:()=>a.jsx(gt,{component:IMe})}),a.jsx(ht,{path:"/contacts",children:()=>a.jsx(gt,{component:fOe})}),a.jsx(ht,{path:"/settings",children:()=>a.jsx(gt,{component:yOe})}),a.jsx(ht,{path:"/settings/team",children:()=>a.jsx(gt,{component:vOe})}),a.jsx(ht,{path:"/settings/permissions",children:()=>a.jsx(gt,{component:bOe})}),a.jsx(ht,{path:"/settings/whatsapp",children:()=>a.jsx(gt,{component:jOe})}),a.jsx(ht,{path:"/settings/profile",children:()=>a.jsx(gt,{component:NOe})}),a.jsx(ht,{path:"/settings/api",children:()=>a.jsx(gt,{component:AOe})}),a.jsx(ht,{path:"/settings/billing",children:()=>a.jsx(gt,{component:COe})}),a.jsx(ht,{path:"/user-management",children:()=>a.jsx(gt,{component:RMe})}),a.jsx(ht,{component:ane})]})}function $Me(){return a.jsx(LG,{client:JG,children:a.jsx(rne,{children:a.jsxs(tne,{children:[a.jsx(mee,{}),a.jsx(LMe,{})]})})})}YY.createRoot(document.getElementById("root")).render(a.jsx($Me,{}));
